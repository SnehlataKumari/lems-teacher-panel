<app-header></app-header> 
<div class="pcoded-main-container">
    <app-sidebar></app-sidebar>
<div class="mdk-header-layout__content page-content ">
    <div class="pt-32pt">
        <div class="container page__container d-flex flex-column flex-md-row align-items-center text-center text-sm-left">
            <div class="flex d-flex flex-column flex-sm-row align-items-center mb-24pt mb-md-0">
                <div class="mb-24pt mb-sm-0 mr-sm-24pt">
                    <h3 class="mb-0">Profile</h3>
                    <ol class="breadcrumb p-0 m-0">
                        <li class="breadcrumb-item"><a>Dashboard</a></li>
                        <li class="breadcrumb-item active">
                            profile
                        </li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <div class="page-section">
        <div class="container page__container">
            <div class="row" *ngIf="authService.teacher">
                <div class="col-lg-4">
                    <div class="card">
                        <div class="card-body">
                            <div class="text-center mt-3">

                              <a *ngIf="!(authService.$user | async)?.profileImage" _ngcontent-mfc-c156="" data-toggle="dropdown" data-caret="false"
                                class="nav-link d-flex align-items-center dropdown-toggle"><span _ngcontent-mfc-c156=""
                                  class="avatar avatar-lg mr-8pt2"><span _ngcontent-mfc-c156="" class="avatar-title rounded-circle bg-secondary"><i
                                      _ngcontent-mfc-c156="" class="material-icons">account_box</i></span></span></a>
                              <img *ngIf="(authService.$user | async)?.profileImage" [src]="authService.$user.value.profileImage"
                                class="result avatar-lg rounded-circle">
                                
                                <h6 class="mt-2 mb-0">{{authService.user.firstName}} {{authService.user.lastName}}</h6>
                            </div>

                            <!-- profile  -->
                            <div class="mt-3 pt-2 border-top">
                                <h5 class="mb-3 font-size-15">About Me</h5>
                                <p class="text-muted mb-4">{{(authService.$teacher | async)?.aboutMe}}</p>
                            </div>
                            <div class="mt-3 pt-2 border-top">
                                <h5 class="mb-3 font-size-15">Contact Information</h5>
                                <div class="table-responsive">
                                    <table class="table table-borderless mb-0 text-muted">
                                        <tbody>
                                            <tr>
                                                <th scope="row">Email</th>
                                                <td>{{authService.user.email}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">Mobile No.</th>
                                                <td>{{authService.user.phone}}</td>
                                            </tr>
                                            <tr>
                                                <th scope="row">Address</th>
                                                <td>{{authService.teacher.location}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="mt-3 pt-2 border-top">
                                <h5 class="mb-2 font-size-15">Qualification</h5>
                                <!-- <label class="badge badge-primary mr-2 font-size-14">Btech</label>
                                <label class="badge badge-primary mr-2 font-size-14">Mtech</label> -->
                                <label class="badge badge-primary mr-2 font-size-14">{{authService.teacher.highestQualification}}</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-8">
                    <div class="card">
                        <div class="card-body">
                            <ul class="nav nav-pills navtab-bg nav-justified" id="pills-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="pills-activity-tab" data-toggle="pill"
                                        href="#pills-activity" role="tab" aria-controls="pills-activity"
                                        aria-selected="true">
                                        Edit Profile
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="pills-messages-tab" data-toggle="pill"
                                        href="#pills-messages" role="tab" aria-controls="pills-messages"
                                        aria-selected="false">
                                        Change Password
                                    </a>
                                </li>
                            </ul>

                            <div class="tab-content" id="pills-tabContent">
                                <div class="tab-pane fade show active" id="pills-activity" role="tabpanel"
                                    aria-labelledby="pills-activity-tab">
                                      <form (ngSubmit)="onSubmit()" [formGroup]="editTeacherProfileForm">
                                        <div class="row mt-5">
                                          <ng-container formGroupName="user">
                                          <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="form-label mb-3">Profile Picture</label>
                                                <div class="logoImg">
                                                    <label class="profile-img d-flex">
                                                      <a *ngIf="!(authService.$user | async)?.profileImage" _ngcontent-mfc-c156="" data-toggle="dropdown" data-caret="false"
                                                        class="nav-link d-flex align-items-center dropdown-toggle"><span _ngcontent-mfc-c156=""
                                                          class="avatar avatar-lg mr-8pt2"><span _ngcontent-mfc-c156="" class="avatar-title rounded-circle bg-secondary"><i
                                                              _ngcontent-mfc-c156="" class="material-icons">account_box</i></span></span></a>
                                                      <img *ngIf="(authService.$user | async)?.profileImage" [src]="authService.$user.value.profileImage" class="result avatar-lg rounded-circle" >
                                                      <input id="logo-file" type="file" class="ml-4  mt-2 form-control fileInput hide">
                                                      <div class="fileInput btn btn-large"></div>

                                                      

                                                    </label>
                                                  </div>
                                            </div>
                                          
                                            <div class="form-group">
                                                <label class="form-label">First Name</label>
                                                <input type="text" formControlName="firstName" class="form-control"  placeholder="">
                                            </div>
                                            <show-errors [control]="editTeacherProfileForm.get('user.firstName')"></show-errors>
                                            <div class="form-group">
                                              <label class="form-label">Last Name</label>
                                              <input type="text" formControlName="lastName" class="form-control" placeholder="">
                                            </div>
                                            <show-errors [control]="editTeacherProfileForm.get('user.lastName')"></show-errors>
                                            </div>
                                          <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="form-label">Email Address</label>
                                                <input type="text" class="form-control" disabled formControlName="email" placeholder="">
                                            </div>
                                          </div>
                                          <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="form-label">Mobile No</label>
                                                <input type="number" class="form-control" formControlName="phone" placeholder="">
                                                <show-errors [control]="editTeacherProfileForm.get('user.phone')"></show-errors>
                                                <small *ngIf="editTeacherProfileForm.get('user.phone').hasError('pattern') && editTeacherProfileForm.get('user.phone').touched"
                                                  id="passwordHelpBlock" class="form-text text-danger">
                                                  Phone number must be 10 digits
                                                </small>
                                            </div>
                                          </div>    
                                          </ng-container>
                                          <ng-container formGroupName="teacher">
                                            <div class="col-md-12">
                                              <div class="form-group">
                                                <label class="form-label">About Me</label>
                                                <textarea formControlName="aboutMe" class="form-control" rows="3"></textarea>
                                              </div>
                                            </div>
                                            <div class="col-md-12">
                                              <div class="form-group">
                                                <label class="form-label">Address</label>
                                                <textarea formControlName="location" class="form-control" rows="3"></textarea>
                                              </div>
                                            </div>
                                          <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="form-label">Qualification</label>
                                                <textarea formControlName="highestQualification" class="form-control" rows="3"></textarea>
                                            </div>
                                          </div>
                                         
                                          <div class="col-md-12">
                                            <div class="form-group">
                                                <label class="form-label">Extra Field</label>
                                                 <input type="text" formControlName="extraField" class="form-control">
                                            </div>
                                          </div>
                                          </ng-container>
                                          <div class="col-md-12">
                                            <div class="form-group">
                                                <button class="btn btn-primary">Save</button>
                                            </div>
                                          </div>
                                        </div>                                      
                                      </form>
                                </div>
                                <!-- messages -->
                                
                                <div class="tab-pane" id="pills-messages" role="tabpanel"
                                aria-labelledby="pills-messages-tab">
                                <div class="row">
                                  <div class="col-md-12">
                                    <form (ngSubmit)="onChangeTeacherPassword()" [formGroup]="changeTeacherPasswordForm">
                                      <app-custom-password label="Old Password" formControlName="oldPassword">
                                      </app-custom-password>
                                    <app-custom-password label="New Password" formControlName="newPassword">
                                    </app-custom-password>
                                  <app-custom-password label="Confirm Password" formControlName="confirmPassword">
                                  </app-custom-password>
                                    <div>
                                      <div class="form-group">
                                          <button [disabled]="changeTeacherPasswordForm.invalid" class="btn btn-primary">Save</button>
                                      </div>
                                    </div>
                                    </form>
                                  </div>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                   
                    <!-- end card -->
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<app-footer></app-footer> 

<div id="delete-modal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-sm">
      <div class="modal-body text-center">
        <div class="row">
          <div class="col-md-12">
            <span class="text-danger fs-34 material-icons mr-2 icon-image-preview  mb-2">delete_outline</span>
           
            <h6>Are you sure want to delete?</h6>
          </div>
        </div>
        <hr />
        <div class="row m-t-15">
          <div class="col-sm-12">
            <button type="button" class="btn btn-sm btn-success mr-1" data-target="#delete-sccess-modal" data-toggle="modal" data-dismiss="modal">Delete</button>
            <button type="button" class="btn btn-sm btn-danger ml-1" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>