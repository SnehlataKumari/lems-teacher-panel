function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray2(e,t):void 0}}function _arrayLikeToArray2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+9CB":function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],i=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},o=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={isLikelyAacData:function(e){var t=function e(t,n){return t.length-n<10||t[n]!=="I".charCodeAt(0)||t[n+1]!=="D".charCodeAt(0)||t[n+2]!=="3".charCodeAt(0)?n:e(t,n+=i(t,n))}(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:i,parseAdtsSize:function(e,t){return 6144&e[t+3]|e[t+4]<<3|(224&e[t+5])>>5},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,r;t=10,64&e[5]&&(t+=4,t+=o(e.subarray(10,14)));do{if((n=o(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){r=e.subarray(t+10,t+n+10);for(var i=0;i<r.byteLength;i++)if(0===r[i]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(e,t,n){var r,i="";for(r=0;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i}(r,0,i))){var a=r.subarray(i+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return(s*=4)+(3&a[7])}break}}t+=10,t+=n}while(t<e.byteLength);return null}}},"+X0y":function(e,t){var n={"":!0,up:!0};function r(e){return"number"==typeof e&&e>=0&&e<=100}e.exports=function(){var e=100,t=3,i=0,o=100,a=0,s=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return c},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):c=t}}})}},"+wdc":function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,l=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}},p=Date.now();t.unstable_now=function(){return Date.now()-p},r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(l,0))},i=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var v=!1,b=null,A=-1,x=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var _=new MessageChannel,S=_.port2;_.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();w=e+x;try{b(!0,e)?S.postMessage(null):(v=!1,b=null)}catch(n){throw S.postMessage(null),n}}else v=!1},r=function(e){b=e,v||(v=!0,S.postMessage(null))},i=function(e,n){A=f((function(){e(t.unstable_now())}),n)},o=function(){m(A),A=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function P(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>E(a,n))void 0!==c&&0>E(c,a)?(e[r]=c,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==c&&0>E(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],O=[],M=1,N=null,I=3,D=!1,R=!1,j=!1;function B(e){for(var t=P(O);null!==t;){if(null===t.callback)C(O);else{if(!(t.startTime<=e))break;C(O),t.sortIndex=t.expirationTime,T(k,t)}t=P(O)}}function F(e){if(j=!1,B(e),!R)if(null!==P(k))R=!0,r(L);else{var t=P(O);null!==t&&i(F,t.startTime-e)}}function L(e,n){R=!1,j&&(j=!1,o()),D=!0;var r=I;try{for(B(n),N=P(k);null!==N&&(!(N.expirationTime>n)||e&&!a());){var s=N.callback;if(null!==s){N.callback=null,I=N.priorityLevel;var c=s(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof c?N.callback=c:N===P(k)&&C(k),B(n)}else C(k);N=P(k)}if(null!==N)var u=!0;else{var l=P(O);null!==l&&i(F,l.startTime-n),u=!1}return u}finally{N=null,I=r,D=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||D||(R=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return P(k)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?s+c:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),c=s;return e={id:M++,callback:n,priorityLevel:e,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(e.sortIndex=c,T(O,e),null===P(k)&&e===P(O)&&(j?o():j=!0,i(F,c-s))):(e.sortIndex=a,T(k,e),R||D||(R=!0,r(L))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();B(e);var n=P(k);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<N.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},"0CxO":function(e,t,n){var r=n("7zRj"),i=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function o(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function a(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(){this.values=i(null)}function c(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);2===a.length&&t(a[0],a[1])}}function u(e,t,n){var r=e;function i(){var t=a(e);if(null===t)throw new o(o.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function u(){e=e.replace(/^\s+/,"")}if(u(),t.startTime=i(),u(),"--\x3e"!==e.substr(0,3))throw new o(o.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.substr(3),u(),t.endTime=i(),u(),function(e,t){var r=new s;c(e,(function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","center","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(i){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(i){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(i){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}(o.prototype=i(Error.prototype)).constructor=o,o.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=r.createElement("textarea"),p={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},d={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},h={v:"title",lang:"lang"},f={rt:"ruby"};function m(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return t=t.substr((e=n[1]?n[1]:n[2]).length),e}function r(e,t){return!f[t.localName]||f[t.localName]===e.localName}function i(t,n){var r=p[t];if(!r)return null;var i=e.document.createElement(r),o=h[t];return o&&n&&(i[o]=n.trim()),i}for(var o,s,c=e.document.createElement("div"),u=c,m=[];null!==(o=n());)if("<"!==o[0])u.appendChild(e.document.createTextNode((l.innerHTML=o,s=l.textContent,l.textContent="",s)));else{if("/"===o[1]){m.length&&m[m.length-1]===o.substr(2).replace(">","")&&(m.pop(),u=u.parentNode);continue}var g,y=a(o.substr(1,o.length-2));if(y){g=e.document.createProcessingInstruction("timestamp",y),u.appendChild(g);continue}var v=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!v)continue;if(!(g=i(v[1],v[3])))continue;if(!r(u,g))continue;if(v[2]){var b=v[2].split(".");b.forEach((function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;d.hasOwnProperty(n)&&(g.style[t?"background-color":"color"]=d[n])})),g.className=b.join(" ")}m.push(v[1]),u.appendChild(g),u=g}return c}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function y(e){for(var t=0;t<g.length;t++){var n=g[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function v(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function r(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function i(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var o=n.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):n}return"ruby"===t.tagName?i(e):t.childNodes?(r(e,t),i(e)):void 0}for(r(t,e);n=i(t);)for(var o=0;o<n.length;o++)if(y(n.charCodeAt(o)))return"rtl";return"ltr"}function b(){}function A(e,t,n){b.call(this),this.cue=t,this.cueDiv=m(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:v(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":i=t.position-t.size}this.applyStyles(""===t.vertical?{left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}:{top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function x(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight}function w(e,t,n,r){var i=new x(t),o=t.cue,a=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var c;switch(o.vertical){case"":s=["+y","-y"],c="height";break;case"rl":s=["+x","-x"],c="width";break;case"lr":s=["-x","+x"],c="width"}var u=i.lineHeight,l=u*Math.round(a),p=n[c]+u,d=s[0];Math.abs(l)>p&&(l=l<0?-1:1,l*=Math.ceil(p/u)*u),a<0&&(l+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(d,l)}else{var h=i.lineHeight/n.height*100;switch(o.lineAlign){case"center":a-=h/2;break;case"end":a-=h}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new x(t)}var f=function(e,t){for(var i,o=new x(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var c=e.intersectPercentage(n);a>c&&(i=new x(e),a=c),e=new x(o)}return i||o}(i,s);t.move(f.toCSSCompatValues(n))}function _(){}b.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},b.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(A.prototype=i(b.prototype)).constructor=A,x.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},x.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},x.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},x.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},x.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},x.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},x.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},x.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},_.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},_.convertCueToDOMTree=function(e,t){return e&&t?m(e,t):null},_.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=x.getSimpleBoxPosition(r),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,c=0;c<t.length;c++)n=new A(e,s=t[c],a),r.appendChild(n.div),w(0,n,o,i),s.displayState=n.div,i.push(x.getSimpleBoxPosition(n))}()}else for(var s=0;s<t.length;s++)r.appendChild(t[s].displayState)},(_.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof o))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t,n=this;function r(){for(var e=n.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),r}e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;var l=(i=r()).match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0])throw new o(o.Errors.BadSignature);n.state="HEADER"}for(var p=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(p?p=!1:i=r(),n.state){case"HEADER":/:/.test(i)?(t=i).match(/X-TIMESTAMP-MAP/)?c(t,(function(e,t){switch(e){case"X-TIMESTAMP-MAP":!function(e){var t=new s;c(e,(function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",a(n))}}),/[^\d]:/,/,/),n.ontimestampmap&&n.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}(t)}}),/=/):c(t,(function(e,t){switch(e){case"Region":!function(e){var t=new s;if(c(e,(function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var i=new s;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,n,["up"])}}),/=/,/\s/),t.has("id")){var r=new(n.vttjs.VTTRegion||n.window.VTTRegion);r.width=t.get("width",100),r.lines=t.get("lines",3),r.regionAnchorX=t.get("regionanchorX",0),r.regionAnchorY=t.get("regionanchorY",100),r.viewportAnchorX=t.get("viewportanchorX",0),r.viewportAnchorY=t.get("viewportanchorY",100),r.scroll=t.get("scroll",""),n.onregion&&n.onregion(r),n.regionList.push({id:t.get("id"),region:r})}}(t)}}),/:/):i||(n.state="ID");continue;case"NOTE":i||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){n.state="NOTE";break}if(!i)continue;n.cue=new(n.vttjs.VTTCue||n.window.VTTCue)(0,0,"");try{n.cue.align="center"}catch(h){n.cue.align="middle"}if(n.state="CUE",-1===i.indexOf("--\x3e")){n.cue.id=i;continue}case"CUE":try{u(i,n.cue,n.regionList)}catch(h){n.reportOrThrowError(h),n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var d=-1!==i.indexOf("--\x3e");if(!i||d&&(p=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=i.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":i||(n.state="ID");continue}}}catch(h){n.reportOrThrowError(h),"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new o(o.Errors.BadSignature)}catch(e){this.reportOrThrowError(e)}return this.onflush&&this.onflush(),this}},e.exports=_},"0Tbm":function(e,t,n){var r,i,o,a,s;r=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,i=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,e.exports=s={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var o=s.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):t;var a=s.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var c=i.exec(a.path);a.netLoc=c[1],a.path=c[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(u.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var l=a.path,p=l.substring(0,l.lastIndexOf("/")+1)+o.path;u.path=s.normalizePath(p)}else u.path=a.path,o.params||(u.params=a.params,o.query||(u.query=a.query));return null===u.path&&(u.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(u)},parseURL:function(e){var t=r.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}}},"19KI":function(e,t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e.exports=n},"1h1e":function(e,t){var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function o(){}function a(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function s(e,t,n,r,i,o){for(var a,s=++t,c=0;;){var u=e.charAt(s);switch(u){case"=":if(1===c)a=e.slice(t,s),c=3;else{if(2!==c)throw new Error("attribute equal must after attrName");c=3}break;case"'":case'"':if(3===c||1===c){if(1===c&&(o.warning('attribute value must after "="'),a=e.slice(t,s)),!((s=e.indexOf(u,t=s+1))>0))throw new Error("attribute value no end '"+u+"' match");l=e.slice(t,s).replace(/&#?\w+;/g,i),n.add(a,l,t-1),c=5}else{if(4!=c)throw new Error('attribute value must after "="');l=e.slice(t,s).replace(/&#?\w+;/g,i),n.add(a,l,t),o.warning('attribute "'+a+'" missed start quot('+u+")!!"),t=s+1,c=5}break;case"/":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:c=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==c&&n.setTagName(e.slice(t,s)),s;case">":switch(c){case 0:n.setTagName(e.slice(t,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(l=e.slice(t,s)).slice(-1)&&(n.closed=!0,l=l.slice(0,-1));case 2:2===c&&(l=a),4==c?(o.warning('attribute "'+l+'" missed quot(")!!'),n.add(a,l.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===r[""]&&l.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),n.add(l,l,t));break;case 3:throw new Error("attribute value missed!!")}return s;case"\x80":u=" ";default:if(u<=" ")switch(c){case 0:n.setTagName(e.slice(t,s)),c=6;break;case 1:a=e.slice(t,s),c=2;break;case 4:var l=e.slice(t,s).replace(/&#?\w+;/g,i);o.warning('attribute "'+l+'" missed quot(")!!'),n.add(a,l,t);case 5:c=6}else switch(c){case 2:"http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n.add(a,a,t),t=s,c=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:c=1,t=s;break;case 3:c=4,t=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function c(e,t,n){for(var r=e.tagName,i=null,o=e.length;o--;){var a=e[o],s=a.qName,c=a.value;if((h=s.indexOf(":"))>0)var u=a.prefix=s.slice(0,h),l=s.slice(h+1),d="xmlns"===u&&l;else l=s,u=null,d="xmlns"===s&&"";a.localName=l,!1!==d&&(null==i&&(i={},p(n,n={})),n[d]=i[d]=c,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,c))}for(o=e.length;o--;)(u=(a=e[o]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=n[u||""]));var h;(h=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,h),l=e.localName=r.slice(h+1)):(u=null,l=e.localName=r);var f=e.uri=n[u||""];if(t.startElement(f,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,!0;if(t.endElement(f,l,r),i)for(u in i)t.endPrefixMapping(u)}function u(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),o)}return t+1}function l(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function p(e,t){for(var n in e)t[n]=e[n]}function d(e,t,n,r){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var o=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],c=a>3&&/^public$/i.test(o[2][0])&&o[3][0],u=a>4&&o[4][0],l=o[a-1];return n.startDTD(s,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),n.endDTD(),l.index+l[0].length}}return-1}function h(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function f(e){}function m(e,t){return e.__proto__=t,e}o.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t={}),function(e,t,n,r,i){function o(e){var t,r=e.slice(1,-1);return r in n?n[r]:"#"===r.charAt(0)?(t=parseInt(r.substr(1).replace("x","0x")))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):String.fromCharCode(t):(i.error("entity not found:"+e),e)}function p(t){if(t>w){var n=e.substring(w,t).replace(/&#?\w+;/g,o);b&&m(w),r.characters(n,0,t-w),w=t}}function m(t,n){for(;t>=y&&(n=v.exec(e));)y=(g=n.index)+n[0].length,b.lineNumber++;b.columnNumber=t-g+1}for(var g=0,y=0,v=/.*(?:\r\n?|\n)|.*$/g,b=r.locator,A=[{currentNSMap:t}],x={},w=0;;){try{var _=e.indexOf("<",w);if(_<0){if(!e.substr(w).match(/^\s*$/)){var S=r.doc,T=S.createTextNode(e.substr(w));S.appendChild(T),r.currentElement=T}return}switch(_>w&&p(_),e.charAt(_+1)){case"/":var P=e.indexOf(">",_+3),C=e.substring(_+2,P),E=A.pop();P<0?(C=e.substring(_+2).replace(/[\s<].*/,""),i.error("end tag name: "+C+" is not complete:"+E.tagName),P=_+1+C.length):C.match(/\s</)&&(C=C.replace(/[\s<].*/,""),i.error("end tag name: "+C+" maybe not complete"),P=_+1+C.length);var k=E.localNSMap,O=E.tagName==C;if(O||E.tagName&&E.tagName.toLowerCase()==C.toLowerCase()){if(r.endElement(E.uri,E.localName,C),k)for(var M in k)r.endPrefixMapping(M);O||i.fatalError("end tag name: "+C+" is not match the current start tagName:"+E.tagName)}else A.push(E);P++;break;case"?":b&&m(_),P=h(e,_,r);break;case"!":b&&m(_),P=d(e,_,r,i);break;default:b&&m(_);var N=new f,I=A[A.length-1].currentNSMap,D=(P=s(e,_,N,I,o,i),N.length);if(!N.closed&&l(e,P,N.tagName,x)&&(N.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),b&&D){for(var R=a(b,{}),j=0;j<D;j++){var B=N[j];m(B.offset),B.locator=a(b,{})}r.locator=R,c(N,r,I)&&A.push(N),r.locator=b}else c(N,r,I)&&A.push(N);"http://www.w3.org/1999/xhtml"!==N.uri||N.closed?P++:P=u(e,P,N.tagName,o,r)}}catch(F){i.error("element parse error: "+F),P=-1}P>w?w=P:p(Math.max(_,w)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},f.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},m({},m.prototype)instanceof m||(m=function(e,t){function n(){}for(t in n.prototype=t,n=new n,e)n[t]=e[t];return n}),t.XMLReader=o},"1h5C":function(e,t,n){var r;!function(n){"use strict";var i={s:1,n:0,d:1};function o(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function n(){}return n.prototype=Error.prototype,t.prototype=new n,t}var a=d.DivisionByZero=o("DivisionByZero"),s=d.InvalidParameter=o("InvalidParameter");function c(e,t){return isNaN(e=parseInt(e,10))&&u(),e*t}function u(){throw new s}var l=function(e,t){var n,r=0,o=1,s=1,l=0,p=0,d=0,h=1,f=1,m=0,g=1,y=1,v=1,b=1e7;if(null==e);else if(void 0!==t)s=(r=e)*(o=t);else switch(typeof e){case"object":"d"in e&&"n"in e?(r=e.n,o=e.d,"s"in e&&(r*=e.s)):0 in e?(r=e[0],1 in e&&(o=e[1])):u(),s=r*o;break;case"number":if(e<0&&(s=e,e=-e),e%1==0)r=e;else if(e>0){for(e>=1&&(e/=f=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)));g<=b&&v<=b;){if(e===(n=(m+y)/(g+v))){g+v<=b?(r=m+y,o=g+v):v>g?(r=y,o=v):(r=m,o=g);break}e>n?(m+=y,g+=v):(y+=m,v+=g),g>b?(r=y,o=v):(r=m,o=g)}r*=f}else(isNaN(e)||isNaN(t))&&(o=r=NaN);break;case"string":if(null===(g=e.match(/\d+|./g))&&u(),"-"===g[m]?(s=-1,m++):"+"===g[m]&&m++,g.length===m+1?p=c(g[m++],s):"."===g[m+1]||"."===g[m]?("."!==g[m]&&(l=c(g[m++],s)),(1+ ++m===g.length||"("===g[m+1]&&")"===g[m+3]||"'"===g[m+1]&&"'"===g[m+3])&&(p=c(g[m],s),h=Math.pow(10,g[m].length),m++),("("===g[m]&&")"===g[m+2]||"'"===g[m]&&"'"===g[m+2])&&(d=c(g[m+1],s),f=Math.pow(10,g[m+1].length)-1,m+=3)):"/"===g[m+1]||":"===g[m+1]?(p=c(g[m],s),h=c(g[m+2],1),m+=3):"/"===g[m+3]&&" "===g[m+1]&&(l=c(g[m],s),p=c(g[m+2],s),h=c(g[m+4],1),m+=5),g.length<=m){s=r=d+(o=h*f)*l+f*p;break}default:u()}if(0===o)throw new a;i.s=s<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(o)};function p(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function d(e,t){if(!(this instanceof d))return new d(e,t);l(e,t),e=d.REDUCE?p(i.d,i.n):1,this.s=i.s,this.n=i.n/e,this.d=i.d/e}d.REDUCE=1,d.prototype={s:1,n:0,d:1,abs:function(){return new d(this.n,this.d)},neg:function(){return new d(-this.s*this.n,this.d)},add:function(e,t){return l(e,t),new d(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(e,t){return l(e,t),new d(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(e,t){return l(e,t),new d(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(e,t){return l(e,t),new d(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return new d(this)},mod:function(e,t){return isNaN(this.n)||isNaN(this.d)?new d(NaN):void 0===e?new d(this.s*this.n%this.d,1):(l(e,t),0===i.n&&0===this.d&&d(0,0),new d(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d))},gcd:function(e,t){return l(e,t),new d(p(i.n,this.n)*p(i.d,this.d),i.d*this.d)},lcm:function(e,t){return l(e,t),0===i.n&&0===this.n?new d:new d(i.n*this.n,p(i.n,this.n)*p(i.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):new d(Math.round(e*this.s*this.n/this.d),e)},inverse:function(){return new d(this.s*this.d,this.n)},pow:function(e){return e<0?new d(Math.pow(this.s*this.d,-e),Math.pow(this.n,-e)):new d(Math.pow(this.s*this.n,e),Math.pow(this.d,e))},equals:function(e,t){return l(e,t),this.s*this.n*i.d==i.s*i.n*this.d},compare:function(e,t){l(e,t);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;var t=this.abs().toContinued();function n(e){return 1===e.length?new d(e[0]):n(e.slice(1)).inverse().add(e[0])}e=e||.001;for(var r=0;r<t.length;r++){var i=n(t.slice(0,r+1));if(i.sub(this.abs()).abs().valueOf()<e)return i.mul(this.s)}return this},divisible:function(e,t){return l(e,t),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(e){var t,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(e&&(t=Math.floor(r/i))>0&&(n+=t,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var e,t=this.n,n=this.d,r=[];if(isNaN(this.n)||isNaN(this.d))return r;do{r.push(Math.floor(t/n)),e=t%n,t=n,n=e}while(1!==t);return r},toString:function(e){var t,n=this.n,r=this.d;if(isNaN(n)||isNaN(r))return"NaN";d.REDUCE||(n/=t=p(n,r),r/=t),e=e||15;var i=function(e,t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var n=10%t,r=1;1!==n;r++)if(n=10*n%t,r>2e3)return 0;return r}(0,r),o=function(e,t,n){for(var r=1,i=function(e,t,n){for(var r=1;t>0;e=e*e%n,t>>=1)1&t&&(r=r*e%n);return r}(10,n,t),o=0;o<300;o++){if(r===i)return o;r=10*r%t,i=10*i%t}return 0}(0,r,i),a=-1===this.s?"-":"";if(a+=n/r|0,n%=r,(n*=10)&&(a+="."),i){for(var s=o;s--;)a+=n/r|0,n%=r,n*=10;for(a+="(",s=i;s--;)a+=n/r|0,n%=r,n*=10;a+=")"}else for(s=e;n&&s--;)a+=n/r|0,n%=r,n*=10;return a}},void 0===(r=(function(){return d}).apply(t,[]))||(e.exports=r)}()},"29xw":function(e,t,n){var r=n("f+Ey").toUnsigned;e.exports=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:r(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=r(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t}},"2As9":function(e,t,n){!function(){"use strict";var t=Math.abs,r=Math.cos,i=Math.sin,o=Math.acos,a=Math.atan2,s=Math.sqrt,c=Math.pow,u=function(e){return e<0?-c(-e,1/3):c(e,1/3)},l=Math.PI,p=2*l,d=l/2,h=Number.MAX_SAFE_INTEGER||9007199254740991,f=Number.MIN_SAFE_INTEGER||-9007199254740991,m={x:0,y:0,z:0},g={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,t){var n=t(e),r=n.x*n.x+n.y*n.y;return void 0!==n.z&&(r+=n.z*n.z),s(r)},compute:function(e,t,n){if(0===e)return t[0];var r=t.length-1;if(1===e)return t[r];var i=t,o=1-e;if(0===r)return t[0];if(1===r)return d={x:o*i[0].x+e*i[1].x,y:o*i[0].y+e*i[1].y},n&&(d.z=o*i[0].z+e*i[1].z),d;if(r<4){var a,s,c,u=o*o,l=e*e,p=0;2===r?(i=[i[0],i[1],i[2],m],a=u,s=o*e*2,c=l):3===r&&(a=u*o,s=u*e*3,c=o*l*3,p=e*l);var d={x:a*i[0].x+s*i[1].x+c*i[2].x+p*i[3].x,y:a*i[0].y+s*i[1].y+c*i[2].y+p*i[3].y};return n&&(d.z=a*i[0].z+s*i[1].z+c*i[2].z+p*i[3].z),d}for(var h=JSON.parse(JSON.stringify(t));h.length>1;){for(var f=0;f<h.length-1;f++)h[f]={x:h[f].x+(h[f+1].x-h[f].x)*e,y:h[f].y+(h[f+1].y-h[f].y)*e},void 0!==h[f].z&&(h[f]=h[f].z+(h[f+1].z-h[f].z)*e);h.splice(h.length-1,1)}return h[0]},computeWithRatios:function(e,t,n,r){var i,o=1-e,a=n[0],s=n[1],c=n[2],u=n[3];return a*=o,s*=e,2===t.length?{x:(a*t[0].x+s*t[1].x)/(i=a+s),y:(a*t[0].y+s*t[1].y)/i,z:!!r&&(a*t[0].z+s*t[1].z)/i}:(a*=o,s*=2*o,c*=e*e,3===t.length?{x:(a*t[0].x+s*t[1].x+c*t[2].x)/(i=a+s+c),y:(a*t[0].y+s*t[1].y+c*t[2].y)/i,z:!!r&&(a*t[0].z+s*t[1].z+c*t[2].z)/i}:(a*=o,s*=1.5*o,c*=3*o,u*=e*e*e,4===t.length?{x:(a*t[0].x+s*t[1].x+c*t[2].x+u*t[3].x)/(i=a+s+c+u),y:(a*t[0].y+s*t[1].y+c*t[2].y+u*t[3].y)/i,z:!!r&&(a*t[0].z+s*t[1].z+c*t[2].z+u*t[3].z)/i}:void 0))},derive:function(e,t){for(var n=[],r=e,i=r.length,o=i-1;i>1;i--,o--){for(var a,s=[],c=0;c<o;c++)a={x:o*(r[c+1].x-r[c].x),y:o*(r[c+1].y-r[c].y)},t&&(a.z=o*(r[c+1].z-r[c].z)),s.push(a);n.push(s),r=s}return n},between:function(e,t,n){return t<=e&&e<=n||g.approximately(e,t)||g.approximately(e,n)},approximately:function(e,n,r){return t(e-n)<=(r||1e-6)},length:function(e){var t,n=0,r=g.Tvalues.length;for(t=0;t<r;t++)n+=g.Cvalues[t]*g.arcfn(.5*g.Tvalues[t]+.5,e);return.5*n},map:function(e,t,n,r,i){return r+(e-t)/(n-t)*(i-r)},lerp:function(e,t,n){var r={x:t.x+e*(n.x-t.x),y:t.y+e*(n.y-t.y)};return t.z&&n.z&&(r.z=t.z+e*(n.z-t.z)),r},pointToString:function(e){var t=e.x+"/"+e.y;return void 0!==e.z&&(t+="/"+e.z),t},pointsToString:function(e){return"["+e.map(g.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-e.x,s=n.y-e.y;return a(r*s-i*o,r*o+i*s)},round:function(e,t){var n=""+e,r=n.indexOf(".");return parseFloat(n.substring(0,r+1+t))},dist:function(e,t){var n=e.x-t.x,r=e.y-t.y;return s(n*n+r*r)},closest:function(e,t){var n,r,i=c(2,63);return e.forEach((function(e,o){(r=g.dist(t,e))<i&&(i=r,n=o)})),{mdist:i,mpos:n}},abcratio:function(e,n){if(2!==n&&3!==n)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var r=c(e,n)+c(1-e,n);return t((r-1)/r)},projectionratio:function(e,t){if(2!==t&&3!==t)return!1;if(void 0===e)e=.5;else if(0===e||1===e)return e;var n=c(1-e,t);return n/(c(e,t)+n)},lli8:function(e,t,n,r,i,o,a,s){var c=(e-n)*(o-s)-(t-r)*(i-a);return 0!=c&&{x:((e*r-t*n)*(i-a)-(e-n)*(i*s-o*a))/c,y:((e*r-t*n)*(o-s)-(t-r)*(i*s-o*a))/c}},lli4:function(e,t,n,r){return g.lli8(e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y)},lli:function(e,t){return g.lli4(e,e.c,t,t.c)},makeline:function(e,t){var r=n("LRa+"),i=e.x,o=e.y,a=t.x,s=t.y,c=(a-i)/3,u=(s-o)/3;return new r(i,o,i+c,o+u,i+2*c,o+2*u,a,s)},findbbox:function(e){var t=h,n=h,r=f,i=f;return e.forEach((function(e){var o=e.bbox();t>o.x.min&&(t=o.x.min),n>o.y.min&&(n=o.y.min),r<o.x.max&&(r=o.x.max),i<o.y.max&&(i=o.y.max)})),{x:{min:t,mid:(t+r)/2,max:r,size:r-t},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,t,n,r,i){if(!g.bboxoverlap(t,r))return[];var o=[],a=[n.startcap,n.forward,n.back,n.endcap];return[e.startcap,e.forward,e.back,e.endcap].forEach((function(t){t.virtual||a.forEach((function(r){if(!r.virtual){var a=t.intersects(r,i);a.length>0&&(a.c1=t,a.c2=r,a.s1=e,a.s2=n,o.push(a))}}))})),o},makeshape:function(e,t,n){var r=e.points.length,i=g.makeline(t.points[t.points.length-1],e.points[0]),o=g.makeline(e.points[r-1],t.points[0]),a={startcap:i,forward:e,back:t,endcap:o,bbox:g.findbbox([i,e,t,o])},s=g;return a.intersections=function(e){return s.shapeintersections(a,a.bbox,e,e.bbox,n)},a},getminmax:function(e,t,n){if(!n)return{min:0,max:0};var r,i=h,o=f;-1===n.indexOf(0)&&(n=[0].concat(n)),-1===n.indexOf(1)&&n.push(1);for(var a=0,s=n.length;a<s;a++)(r=e.get(n[a]))[t]<i&&(i=r[t]),r[t]>o&&(o=r[t]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,t){var n=t.p1.x,o=t.p1.y,s=-a(t.p2.y-o,t.p2.x-n);return e.map((function(e){return{x:(e.x-n)*r(s)-(e.y-o)*i(s),y:(e.x-n)*i(s)+(e.y-o)*r(s)}}))},roots:function(e,t){var n=e.length-1,i=g.align(e,t=t||{p1:{x:0,y:0},p2:{x:1,y:0}}),a=function(e){return 0<=e&&e<=1};if(2===n){if(0!==(d=(y=i[0].y)-2*(v=i[1].y)+(b=i[2].y))){var c=-s(v*v-y*b),l=-y+v;return[-(c+l)/d,-(-c+l)/d].filter(a)}return v!==b&&0===d?[(2*v-b)/(2*v-2*b)].filter(a):[]}var d,h=i[0].y,f=i[1].y,m=i[2].y,y=3*h-6*f+3*m,v=-3*h+3*f,b=h;if(g.approximately(d=3*f-h-3*m+i[3].y,0)){if(g.approximately(y,0))return g.approximately(v,0)?[]:[-b/v].filter(a);var A=2*y;return[((x=s(v*v-4*y*b))-v)/A,(-v-x)/A].filter(a)}var x,w,_=(i=(3*(v/=d)-(y/=d)*y)/3)/3,S=(x=(2*y*y*y-9*y*v+27*(b/=d))/27)/2,T=S*S+_*_*_;if(T<0){var P=-i/3,C=s(P*P*P),E=-x/(2*C),k=o(E<-1?-1:E>1?1:E),O=2*u(C);return[O*r(k/3)-y/3,O*r((k+p)/3)-y/3,O*r((k+2*p)/3)-y/3].filter(a)}if(0===T)return[2*(w=S<0?u(-S):-u(S))-y/3,-w-y/3].filter(a);var M=s(T);return[(w=u(-S+M))-u(S+M)-y/3].filter(a)},droots:function(e){if(3===e.length){var t=e[2],n=(o=e[0])-2*(a=e[1])+t;if(0!==n){var r=-s(a*a-o*t),i=-o+a;return[-(r+i)/n,-(-r+i)/n]}return a!==t&&0===n?[(2*a-t)/(2*(a-t))]:[]}var o,a;if(2===e.length)return(o=e[0])!==(a=e[1])?[o/(o-a)]:[]},curvature:function(e,n,r,i){var o,a,u,l,p,d,h=g.derive(n),f=h[1],m=g.compute(e,h[0]),y=g.compute(e,f),v=m.x*m.x+m.y*m.y;if(r?(o=s(c(m.y*y.z-y.y*m.z,2)+c(m.z*y.x-y.z*m.x,2)+c(m.x*y.y-y.x*m.y,2)),a=c(v+m.z*m.z,1.5)):(o=m.x*y.y-m.y*y.x,a=c(v,1.5)),0===o||0===a)return{k:0,r:0};if(p=o/a,d=a/o,!i){var b=g.curvature(e-.001,n,r,!0).k,A=g.curvature(e+.001,n,r,!0).k;l=(A-p+(p-b))/2,u=(t(A-p)+t(p-b))/2}return{k:p,r:d,dk:l,adk:u}},inflections:function(e){if(e.length<4)return[];var t=g.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=t[2].x*t[1].y,r=t[3].x*t[1].y,i=t[1].x*t[2].y,o=18*(-3*n+2*r+3*i-t[3].x*t[2].y),a=18*(3*n-r-3*i),s=18*(i-n);if(g.approximately(o,0)){if(!g.approximately(a,0)){var c=-s/a;if(0<=c&&c<=1)return[c]}return[]}var u,l=Math.sqrt(a*a-4*o*s);return g.approximately(u=2*o,0)?[]:[(l-a)/u,-(a+l)/u].filter((function(e){return 0<=e&&e<=1}))},bboxoverlap:function(e,n){var r,i,o,a=["x","y"],s=a.length;for(r=0;r<s;r++)if(o=(e[i=a[r]].size+n[i].size)/2,t(e[i].mid-n[i].mid)>=o)return!1;return!0},expandbox:function(e,t){t.x.min<e.x.min&&(e.x.min=t.x.min),t.y.min<e.y.min&&(e.y.min=t.y.min),t.z&&t.z.min<e.z.min&&(e.z.min=t.z.min),t.x.max>e.x.max&&(e.x.max=t.x.max),t.y.max>e.y.max&&(e.y.max=t.y.max),t.z&&t.z.max>e.z.max&&(e.z.max=t.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,t,n){var r=e.bbox(),i=t.bbox(),o=1e5,a=n||.5;if(r.x.size+r.y.size<a&&i.x.size+i.y.size<a)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(t._t1+t._t2)/2|0)/o];var s=e.split(.5),c=t.split(.5),u=[{left:s.left,right:c.left},{left:s.left,right:c.right},{left:s.right,right:c.right},{left:s.right,right:c.left}];u=u.filter((function(e){return g.bboxoverlap(e.left.bbox(),e.right.bbox())}));var l=[];return 0===u.length?l:(u.forEach((function(e){l=l.concat(g.pairiteration(e.left,e.right,a))})),l=l.filter((function(e,t){return l.indexOf(e)===t})))},getccenter:function(e,t,n){var o,s=t.x-e.x,c=t.y-e.y,u=n.x-t.x,l=n.y-t.y,h=s*r(d)-c*i(d),f=s*i(d)+c*r(d),m=u*r(d)-l*i(d),y=u*i(d)+l*r(d),v=(e.x+t.x)/2,b=(e.y+t.y)/2,A=(t.x+n.x)/2,x=(t.y+n.y)/2,w=g.lli8(v,b,v+h,b+f,A,x,A+m,x+y),_=g.dist(w,e),S=a(e.y-w.y,e.x-w.x),T=a(t.y-w.y,t.x-w.x),P=a(n.y-w.y,n.x-w.x);return S<P?((S>T||T>P)&&(S+=p),S>P&&(o=P,P=S,S=o)):P<T&&T<S?(o=P,P=S,S=o):P+=p,w.s=S,w.e=P,w.r=_,w},numberSort:function(e,t){return e-t}};e.exports=g}()},"2CXu":function(e,t){var n={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z"},r=Object.keys(n).join("|"),i=new RegExp(r,"g"),o=new RegExp(r,""),a=function(e){return e.replace(i,(function(e){return n[e]}))};e.exports=a,e.exports.has=function(e){return!!e.match(o)},e.exports.remove=a},"2jtn":function(e,t,n){"use strict";n.r(t),n.d(t,"LiveClassesModule",(function(){return rt}));var r=n("ofXK"),i=n("vrAG"),o=n("7rcH"),a=n("r3oX"),s=n("tyNb"),c=n("mrSG");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=n("2CXu"),p=n.n(l),d={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};f.rankings=d;var h=function(e,t){return String(e.rankedItem).localeCompare(t.rankedItem)};function f(e,t,n){void 0===n&&(n={});var r=n.keys,i=n.threshold,o=void 0===i?d.MATCHES:i,a=n.baseSort,s=void 0===a?h:a;return e.reduce((function(e,i,a){var s=function(e,t,n,r){return t?function(e,t){return t.reduce((function(t,n){var r=function(e,t){var n;return"object"==typeof t&&(t=t.key),null!=(n="function"==typeof t?t(e):-1!==t.indexOf(".")?t.split(".").reduce((function(e,t){return e?e[t]:null}),e):e[t])?[].concat(n):null}(e,n);return r&&r.forEach((function(e){t.push({itemValue:e,attributes:y(n)})})),t}),[])}(e,t).reduce((function(e,t,i){var o=e.rank,a=e.rankedItem,s=e.keyIndex,c=e.keyThreshold,u=t.itemValue,l=t.attributes,p=m(u,n,r),h=a,f=l.minRanking,g=l.maxRanking;return p<f&&p>=d.MATCHES?p=f:p>g&&(p=g),p>o&&(o=p,s=i,c=l.threshold,h=u),{rankedItem:h,rank:o,keyIndex:s,keyThreshold:c}}),{rank:d.NO_MATCH,keyIndex:-1,keyThreshold:r.threshold}):{rankedItem:e,rank:m(e,n,r),keyIndex:-1,keyThreshold:r.threshold}}(i,r,t,n),c=s.rank,u=s.keyThreshold;return c>=(void 0===u?o:u)&&e.push({rankedItem:s.rankedItem,item:i,rank:c,index:a,keyIndex:s.keyIndex}),e}),[]).sort((function(e,t){return function(e,t,n){var r=e.rank,i=e.keyIndex,o=t.rank,a=t.keyIndex;return r===o?i===a?n(e,t):i<a?-1:1:r>o?-1:1}(e,t,s)})).map((function(e){return e.item}))}function m(e,t,n){return e=g(e,n),(t=g(t,n)).length>e.length?d.NO_MATCH:e===t?d.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase())===(t=t.toLowerCase())?d.EQUAL:0===e.indexOf(t)?d.STARTS_WITH:-1!==e.indexOf(" "+t)?d.WORD_STARTS_WITH:-1!==e.indexOf(t)?d.CONTAINS:1===t.length?d.NO_MATCH:-1!==(r=e,i="",r.split(" ").forEach((function(e){e.split("-").forEach((function(e){i+=e.substr(0,1)}))})),i).indexOf(t)?d.ACRONYM:function(e,t){var n=0,r=0;function i(e,t,r){for(var i=r;i<t.length;i++)if(t[i]===e)return n+=1,i+1;return-1}var o=i(t[0],e,0);if(o<0)return d.NO_MATCH;r=o;for(var a=1;a<t.length;a++)if(!((r=i(t[a],e,r))>-1))return d.NO_MATCH;return d.MATCHES+n/t.length*(1/(r-o))}(e,t);var r,i}function g(e,t){return e=""+e,t.keepDiacritics||(e=p()(e)),e}function y(e){return"string"==typeof e&&(e={key:e}),u({maxRanking:1/0,minRanking:-1/0},e)}var v,b=n("fXoL"),A=n("2Vo4"),x=n("H+bZ"),w=n("3LUQ"),_=((v=function(){function e(t,n,r){_classCallCheck2(this,e),this.router=t,this.api=n,this.alertService=r,this.$teacher=new A.a(null),this.$user=new A.a(null);var i=localStorage.getItem("access_token"),o=localStorage.getItem("user");o&&(this.user=JSON.parse(o),this.$user.next(this.user)),this.token=i}return _createClass2(e,[{key:"addLiveClass",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.post("/live-class",e).toPromise().catch((function(e){throw e}));case 2:return n=t.sent,t.abrupt("return",(this.alertService.success("Live Class Added Successfully"),n));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getAllLiveClasses",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("/live-class/get-teachers-live-class").toPromise();case 2:return t=e.sent.data,e.abrupt("return",(console.log(t),this.todaysLiveClasses=t.groupedClasses.TODAY,this.upcomingLiveClasses=t.groupedClasses.FUTURE,this.completedLiveClasses=t.groupedClasses.PAST,t));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"validateStreamCode",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.post("/live-class/validate-stream-code",{streamCode:e}).toPromise();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"fetchLiveClassById",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="/live-class/".concat(e),t.next=3,this.api.get(n).toPromise();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||v)(b.Yb(s.b),b.Yb(x.a),b.Yb(w.a))},v.\u0275prov=b.Kb({token:v,factory:v.\u0275fac,providedIn:"root"}),v),S=n("GnUH"),T=n("wGgj"),P=n("M9IT"),C=n("thbV"),E=["app-classes",""];function k(e,t){if(1&e&&(b.Ub(0,"button",15),b.Kc(1,"Go Live"),b.Tb()),2&e){var n=b.gc();b.qc("routerLink","/live-class/",n.liveClass._id,"/live-stream")}}function O(e,t){if(1&e&&(b.Ub(0,"button",16),b.Kc(1,"View Details"),b.Tb()),2&e){var n=b.gc();b.qc("routerLink","/live-class/",n.liveClass._id,"/view-live-class-details")}}function M(e,t){1&e&&(b.Ub(0,"p",12),b.Kc(1,"Approved"),b.Tb())}function N(e,t){1&e&&(b.Ub(0,"p",12),b.Kc(1,"Rejected"),b.Tb())}function I(e,t){1&e&&(b.Ub(0,"p",12),b.Kc(1,"Pending...."),b.Tb())}function D(e,t){if(1&e&&(b.Ub(0,"div",7),b.Ub(1,"div",8),b.Ub(2,"div",9),b.Ub(3,"h5",10),b.Kc(4," Reason for rejection "),b.Tb(),b.Ub(5,"p",12),b.Kc(6),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e){var n=b.gc();b.Cb(6),b.Lc(n.liveClass.rejectionReason)}}var R,j=((R=function(){function e(){_classCallCheck2(this,e),this.hideActions=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||R)},R.\u0275cmp=b.Ib({type:R,selectors:[["","app-classes",""]],inputs:{liveClass:"liveClass",hideActions:"hideActions"},attrs:E,decls:54,vars:14,consts:[[1,"card","card-group-row__card"],[1,"card-header","d-flex"],[1,"flex","d-flex","align-items-center"],[1,"h5","mb-0","text-green-theme","mr-3"],["class","btn btn-sm btn-primary btn-sm mr-3",3,"routerLink",4,"ngIf"],["class","btn btn-sm btn-success btn-sm mr-3",3,"routerLink",4,"ngIf"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"flex","ml-4pt"],[1,"d-flex","flex-column"],[1,"mb-1"],[1,"material-icons","text-green-theme","fs-25","icon-image-preview"],[1,"mb-0","fw-500"],["class","mb-0 fw-500",4,"ngIf"],["class","list-group-item",4,"ngIf"],[1,"btn","btn-sm","btn-primary","btn-sm","mr-3",3,"routerLink"],[1,"btn","btn-sm","btn-success","btn-sm","mr-3",3,"routerLink"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ub(1,"div",1),b.Ub(2,"div",2),b.Ub(3,"div",3),b.Kc(4),b.hc(5,"date"),b.Tb(),b.Tb(),b.Ic(6,k,2,1,"button",4),b.Ic(7,O,2,1,"button",5),b.Tb(),b.Ub(8,"div",6),b.Ub(9,"div",7),b.Ub(10,"div",8),b.Ub(11,"div",9),b.Ub(12,"h5",10),b.Ub(13,"span",11),b.Kc(14,"menu_book"),b.Tb(),b.Kc(15," Session Name"),b.Tb(),b.Ub(16,"p",12),b.Kc(17),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(18,"div",7),b.Ub(19,"div",8),b.Ub(20,"div",9),b.Ub(21,"h5",10),b.Ub(22,"span",11),b.Kc(23,"flip_camera_android"),b.Tb(),b.Kc(24," Student No."),b.Tb(),b.Ub(25,"p",12),b.Kc(26),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(27,"div",7),b.Ub(28,"div",8),b.Ub(29,"div",9),b.Ub(30,"h5",10),b.Ub(31,"span",11),b.Kc(32,"watch"),b.Tb(),b.Kc(33,"Time"),b.Tb(),b.Ub(34,"p",12),b.Kc(35),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(36,"div",7),b.Ub(37,"div",8),b.Ub(38,"div",9),b.Ub(39,"h5",10),b.Ub(40,"span",11),b.Kc(41,"person_pin"),b.Tb(),b.Kc(42," Demo Students "),b.Tb(),b.Ub(43,"p",12),b.Kc(44),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(45,"div",7),b.Ub(46,"div",8),b.Ub(47,"div",9),b.Ub(48,"h5",10),b.Kc(49," Status"),b.Tb(),b.Ic(50,M,2,0,"p",13),b.Ic(51,N,2,0,"p",13),b.Ic(52,I,2,0,"p",13),b.Tb(),b.Tb(),b.Tb(),b.Ic(53,D,7,1,"div",14),b.Tb(),b.Tb()),2&e&&(b.Cb(4),b.Mc("",b.ic(5,12,t.liveClass.date)," "),b.Cb(2),b.oc("ngIf",!t.hideActions),b.Cb(1),b.oc("ngIf",!t.hideActions),b.Cb(10),b.Lc(t.liveClass.title),b.Cb(9),b.Lc(t.liveClass.allowedNoOfStudents),b.Cb(9),b.Nc("",t.liveClass.classStartTime," - ",t.liveClass.classEndTime,""),b.Cb(9),b.Lc(t.liveClass.allowedNoOfDemoStudents),b.Cb(6),b.oc("ngIf",t.liveClass.hasAcceptedRequest),b.Cb(1),b.oc("ngIf",0==t.liveClass.hasAcceptedRequest),b.Cb(1),b.oc("ngIf",null==t.liveClass.hasAcceptedRequest),b.Cb(1),b.oc("ngIf",0==t.liveClass.hasAcceptedRequest&&t.liveClass.rejectionReason))},directives:[r.l,s.c],pipes:[r.e],styles:[""]}),R);function B(e,t){1&e&&b.Pb(0,"div",36),2&e&&b.oc("liveClass",t.$implicit)}var F,L=function(){return[5,10,25,100]},U=((F=function(){function e(t){_classCallCheck2(this,e),this.liveClassService=t,this.pageSize=10,this.keysToFilterOn=["title","allowedWatchCount","time"]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getLiveClass()}},{key:"applyFilter",value:function(e){this.filteredClasses=f(this.todaysliveClasses,e.target.value,{keys:this.keysToFilterOn}),this.length=this.filteredClasses.length}},{key:"setViewList",value:function(e){this.viewList=this.filteredClasses.slice(e*this.pageSize,(e+1)*this.pageSize)}},{key:"getLiveClass",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.liveClassService.getAllLiveClasses();case 2:return this.allLiveClasses=e.sent,e.next=5,this.liveClassService.todaysLiveClasses;case 5:this.todaysliveClasses=e.sent,console.log(this.liveClassService.todaysLiveClasses),this.todaysliveClasses&&(this.filteredClasses=this.todaysliveClasses,this.length=this.filteredClasses.length,this.setViewList(0));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"changedPagination",value:function(e){var t=e.pageIndex;this.pageSize=e.pageSize,this.setViewList(t)}}]),e}()).\u0275fac=function(e){return new(e||F)(b.Ob(_))},F.\u0275cmp=b.Ib({type:F,selectors:[["app-live-classes"]],decls:55,vars:5,consts:[[1,"pcoded-main-container"],[1,"mdk-header-layout__content","page-content"],[1,"pt-32pt"],[1,"container","page__container","d-flex","flex-column","flex-md-row","align-items-center","text-center","text-sm-left"],[1,"flex","d-flex","flex-column","flex-sm-row","align-items-center","mb-24pt","mb-md-0"],[1,"mb-24pt","mb-sm-0","mr-sm-24pt"],[1,"mb-0"],[1,"page-section"],[1,"container","page__container"],[1,"row"],[1,"col-sm-12","col-12","col-md-12","col-lg-12"],[1,"row","m-b-40"],[1,"col-md-3"],[1,"offset-md-4","col-md-5"],[1,"float-right","margin-sm-4"],["routerLink","/live-class/add-live-claas",1,"btn","btn-primary","btn-sm","mr-3"],[1,"uil-plus-circle"],[1,"page-separator"],[1,"page-separator__text"],[1,"col-sm-4","col-12","col-md-4","col-mg-4","card-group-row__col"],[1,"card","stack","stack--1","card-group-row__card","bg-active-color"],[1,"card-body","d-flex","flex-column"],[1,"text-center"],[1,"card-title","fw-600"],[1,"col-sm-4","col-12","col-md-4","col-mg-4","card-group-row__col","pointer"],["routerLink","/live-class/upcoming-classes",1,"card-body","d-flex","flex-column"],["routerLink","/live-class/complate-classes",1,"card-body","d-flex","flex-column"],[1,"offset-md-5","col-md-4"],[1,"d-flex"],["type","text","placeholder","search",1,"form-control",3,"keyup"],[1,"row","mt-4"],["app-classes","","class","col-lg-4 card-group-row__col",3,"liveClass",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"mb-32pt"],[1,"float-right"],[3,"length","pageSize","pageSizeOptions","page"],["app-classes","",1,"col-lg-4","card-group-row__col",3,"liveClass"]],template:function(e,t){1&e&&(b.Pb(0,"app-header"),b.Ub(1,"div",0),b.Pb(2,"app-sidebar"),b.Ub(3,"div",1),b.Ub(4,"div",2),b.Ub(5,"div",3),b.Ub(6,"div",4),b.Ub(7,"div",5),b.Ub(8,"h3",6),b.Kc(9,"My Sessions"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(10,"div",7),b.Ub(11,"div",8),b.Ub(12,"div",9),b.Ub(13,"div",10),b.Ub(14,"div",11),b.Pb(15,"div",12),b.Ub(16,"div",13),b.Ub(17,"div",14),b.Ub(18,"button",15),b.Pb(19,"i",16),b.Kc(20," Add Live Classes"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(21,"div",17),b.Ub(22,"div",18),b.Kc(23,"All Sessions"),b.Tb(),b.Tb(),b.Ub(24,"div",9),b.Ub(25,"div",19),b.Ub(26,"div",20),b.Ub(27,"div",21),b.Ub(28,"div",22),b.Ub(29,"div",23),b.Kc(30,"Current"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(31,"div",24),b.Ub(32,"div",20),b.Ub(33,"div",25),b.Ub(34,"div",22),b.Ub(35,"div",23),b.Kc(36,"Upcoming"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(37,"div",24),b.Ub(38,"div",20),b.Ub(39,"div",26),b.Ub(40,"div",22),b.Ub(41,"div",23),b.Kc(42,"Completed"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(43,"div",9),b.Pb(44,"div",12),b.Ub(45,"div",27),b.Ub(46,"div",28),b.Ub(47,"input",29),b.cc("keyup",(function(e){return t.applyFilter(e)})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(48,"div",30),b.Ic(49,B,1,1,"div",31),b.Ub(50,"div",32),b.Ub(51,"div",33),b.Ub(52,"div",34),b.Ub(53,"mat-paginator",35),b.cc("page",(function(e){return t.changedPagination(e)})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Pb(54,"app-footer")),2&e&&(b.Cb(49),b.oc("ngForOf",t.filteredClasses),b.Cb(4),b.oc("length",t.length)("pageSize",10)("pageSizeOptions",b.rc(4,L)))},directives:[S.a,T.a,s.c,r.k,P.a,C.a,j],styles:[""]}),F),z=n("tk/3"),V=n("3Pt+"),W=n("DgPi"),H=n("yjpJ");function G(e,t){1&e&&(b.Ub(0,"div",50),b.Ub(1,"button",51),b.Kc(2,"Send Request / Schedule Stream "),b.Tb(),b.Tb())}function q(e,t){1&e&&(b.Ub(0,"div",50),b.Ub(1,"button",52),b.Ub(2,"div",53),b.Ub(3,"span",54),b.Kc(4,"Loading..."),b.Tb(),b.Tb(),b.Kc(5," Submitting... "),b.Tb(),b.Tb())}var X,K=((X=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.fb=t,this.liveClassService=n,this.uploadService=r,this.alertService=i,this.isSubmitting=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.addLiveClassForm=this.fb.group({title:["",V.z.required],streamCode:["",V.z.required,this.validateStreamCode.bind(this)],description:["",V.z.required],testId:["",V.z.required],classStartTime:["",V.z.required],date:["",[V.z.required,this.validateDate.bind(this)]],classEndTime:["",V.z.required],approxStreamTime:["",[V.z.required]],allowedNoOfStudents:["",V.z.required],allowedNoOfDemoStudents:["",V.z.required],selectedGroup:["",V.z.required]})}},{key:"singleFiles",value:function(e){var t=e.target.files;if(this.single=t[0],t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=new FileReader;o.onload=function(t){$(e.target).closest(".img").find(".imagefile").attr("src",t.target.result).show()},o.readAsDataURL(i)}}catch(a){r.e(a)}finally{r.f()}}}},{key:"validateDate",value:function(e){return null}},{key:"onAddLiveClass",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.addLiveClassForm.invalid){e.next=2;break}return e.abrupt("return",(this.addLiveClassForm.markAllAsTouched(),void this.addLiveClassForm.updateValueAndValidity()));case 2:this.isSubmitting=!0,t=this.addLiveClassForm.value,t=JSON.parse(JSON.stringify(t)),this.single?(this.uploadService.upload(this.single).subscribe((function(e){return Object(c.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.type!==z.c.UploadProgress){n.next=4;break}this.progress=Math.round(100*e.loaded/e.total),n.next=9;break;case 4:if(!(e instanceof z.f)){n.next=9;break}return r=Object.assign({posterDocumentId:e.body._id},t),n.next=8,this.createLiveClass(r);case 8:this.isSubmitting=!1;case 9:case"end":return n.stop()}}),n,this)})))}),(function(e){n.progress=0,n.message="Could not upload the file!",n.single=void 0})),this.single=void 0):this.createLiveClass(t);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"createLiveClass",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.liveClassService.addLiveClass(e).catch((function(e){n.alertService.error(e.message),n.isSubmitting=!1})));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"validateStreamCode",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.liveClassService.validateStreamCode(e.value);case 2:if(!t.sent){t.next=6;break}t.t0=null,t.next=7;break;case 6:t.t0={streamCodeNotUnique:"Stream Code is dublicate"};case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||X)(b.Ob(V.f),b.Ob(_),b.Ob(W.a),b.Ob(w.a))},X.\u0275cmp=b.Ib({type:X,selectors:[["app-add-live-classes"]],decls:154,vars:14,consts:[[1,"pcoded-main-container"],[1,"mdk-header-layout__content","page-content"],[1,"pt-32pt"],[1,"container","page__container","d-flex","flex-column","flex-md-row","align-items-center","text-center","text-sm-left"],[1,"flex","d-flex","flex-column","flex-sm-row","align-items-center","mb-24pt","mb-md-0"],[1,"mb-24pt","mb-sm-0","mr-sm-24pt"],[1,"mb-0"],[1,"page-section"],[1,"container","page__container"],[1,"row"],[1,"col-sm-12","col-12","col-md-12","col-lg-12"],[3,"formGroup","ngSubmit"],[1,"card"],[1,"card-body"],[1,"col-md-6"],[1,"form-group"],[1,"text-danger"],["type","text","formControlName","title",1,"form-control"],[3,"control"],["type","text","formControlName","streamCode",1,"form-control"],[1,"col-md-12"],["rows","7","formControlName","description",1,"form-control"],["formControlName","testId",1,"form-control"],["type","time","formControlName","classStartTime",1,"form-control"],["type","date","formControlName","date",1,"form-control"],["type","time","formControlName","classEndTime",1,"form-control"],["type","number","formControlName","approxStreamTime",1,"form-control"],["type","number","formControlName","allowedNoOfStudents",1,"form-control"],["type","number","formControlName","allowedNoOfDemoStudents",1,"form-control"],["formControlName","selectedGroup",1,"form-control"],[1,"w-100"],[1,"img-box","w-auto"],[1,"img","mb-2"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"custom-file"],["type","file","id","inputGroupFile02",1,"custom-file-input",3,"change"],["for","inputGroupFile02",1,"custom-file-label"],["src","assets/images/young1.png","width","250px","height","90px",1,"imagefile"],[1,"col-md-6","mx-auto"],["class","mt-3 text-center form-group",4,"ngIf"],["id","delete-modal","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-sm"],[1,"modal-body","text-center"],[1,"text-danger","fs-34","material-icons","mr-2","icon-image-preview","mb-2"],[1,"row","m-t-15"],[1,"col-sm-12"],["type","button","data-target","#delete-sccess-modal","data-toggle","modal","data-dismiss","modal",1,"btn","btn-sm","btn-success","mr-1"],["type","button","data-dismiss","modal",1,"btn","btn-sm","btn-danger","ml-1"],[1,"mt-3","text-center","form-group"],[1,"btn","btn-primary"],["type","button",1,"btn","btn-primary"],["role","status",1,"spinner-border","text-light","mr-3"],[1,"sr-only"]],template:function(e,t){1&e&&(b.Pb(0,"app-header"),b.Ub(1,"div",0),b.Pb(2,"app-sidebar"),b.Ub(3,"div",1),b.Ub(4,"div",2),b.Ub(5,"div",3),b.Ub(6,"div",4),b.Ub(7,"div",5),b.Ub(8,"h3",6),b.Kc(9,"Add Live Classes / Schedule Live Class"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(10,"div",7),b.Ub(11,"div",8),b.Ub(12,"div",9),b.Ub(13,"div",10),b.Ub(14,"form",11),b.cc("ngSubmit",(function(){return t.onAddLiveClass()})),b.Ub(15,"div",12),b.Ub(16,"div",13),b.Ub(17,"div",9),b.Ub(18,"div",14),b.Ub(19,"div",15),b.Ub(20,"label"),b.Ub(21,"span",16),b.Kc(22,"*"),b.Tb(),b.Kc(23,"Title"),b.Tb(),b.Pb(24,"input",17),b.Pb(25,"show-errors",18),b.Tb(),b.Tb(),b.Ub(26,"div",14),b.Ub(27,"div",15),b.Ub(28,"label"),b.Ub(29,"span",16),b.Kc(30,"*"),b.Tb(),b.Kc(31,"Stream Code"),b.Tb(),b.Pb(32,"input",19),b.Pb(33,"show-errors",18),b.Tb(),b.Tb(),b.Ub(34,"div",20),b.Ub(35,"div",15),b.Ub(36,"label"),b.Ub(37,"span",16),b.Kc(38,"*"),b.Tb(),b.Kc(39,"Brief Description"),b.Tb(),b.Pb(40,"textarea",21),b.Pb(41,"show-errors",18),b.Tb(),b.Tb(),b.Ub(42,"div",14),b.Ub(43,"div",15),b.Ub(44,"label"),b.Ub(45,"span",16),b.Kc(46,"*"),b.Tb(),b.Kc(47,"Assign Test"),b.Tb(),b.Ub(48,"select",22),b.Ub(49,"option"),b.Kc(50,"Select Quiz Test"),b.Tb(),b.Ub(51,"option"),b.Kc(52,"Select Quiz Test"),b.Tb(),b.Ub(53,"option"),b.Kc(54,"Select Quiz Test"),b.Tb(),b.Tb(),b.Pb(55,"show-errors",18),b.Tb(),b.Tb(),b.Ub(56,"div",14),b.Ub(57,"div",15),b.Ub(58,"label"),b.Ub(59,"span",16),b.Kc(60,"*"),b.Tb(),b.Kc(61,"Class Start Time"),b.Tb(),b.Pb(62,"input",23),b.Pb(63,"show-errors",18),b.Tb(),b.Tb(),b.Ub(64,"div",14),b.Ub(65,"div",15),b.Ub(66,"label"),b.Ub(67,"span",16),b.Kc(68,"*"),b.Tb(),b.Kc(69,"Date"),b.Tb(),b.Pb(70,"input",24),b.Pb(71,"show-errors",18),b.Tb(),b.Tb(),b.Ub(72,"div",14),b.Ub(73,"div",15),b.Ub(74,"label"),b.Ub(75,"span",16),b.Kc(76,"*"),b.Tb(),b.Kc(77,"Class End Time"),b.Tb(),b.Pb(78,"input",25),b.Pb(79,"show-errors",18),b.Tb(),b.Tb(),b.Ub(80,"div",14),b.Ub(81,"div",15),b.Ub(82,"label"),b.Ub(83,"span",16),b.Kc(84,"*"),b.Tb(),b.Kc(85,"Approx Stream Time"),b.Tb(),b.Pb(86,"input",26),b.Pb(87,"show-errors",18),b.Tb(),b.Tb(),b.Ub(88,"div",14),b.Ub(89,"div",15),b.Ub(90,"label"),b.Ub(91,"span",16),b.Kc(92,"*"),b.Tb(),b.Kc(93,"Number of Students"),b.Tb(),b.Pb(94,"input",27),b.Pb(95,"show-errors",18),b.Tb(),b.Tb(),b.Ub(96,"div",14),b.Ub(97,"div",15),b.Ub(98,"label"),b.Ub(99,"span",16),b.Kc(100,"*"),b.Tb(),b.Kc(101,"Number of Demo Student"),b.Tb(),b.Pb(102,"input",28),b.Pb(103,"show-errors",18),b.Tb(),b.Tb(),b.Ub(104,"div",14),b.Ub(105,"div",15),b.Ub(106,"label"),b.Ub(107,"span",16),b.Kc(108," *"),b.Tb(),b.Kc(109,"Select Group"),b.Tb(),b.Ub(110,"select",29),b.Ub(111,"option"),b.Kc(112,"choose"),b.Tb(),b.Ub(113,"option"),b.Kc(114,"choose"),b.Tb(),b.Ub(115,"option"),b.Kc(116,"choose"),b.Tb(),b.Tb(),b.Pb(117,"show-errors",18),b.Tb(),b.Tb(),b.Ub(118,"div",14),b.Ub(119,"div",15),b.Ub(120,"label",30),b.Kc(121,"Upload Poster"),b.Tb(),b.Ub(122,"div",31),b.Ub(123,"div",32),b.Ub(124,"div",33),b.Ub(125,"div",34),b.Ub(126,"span",35),b.Kc(127,"Upload"),b.Tb(),b.Tb(),b.Ub(128,"div",36),b.Ub(129,"input",37),b.cc("change",(function(e){return t.singleFiles(e)})),b.Tb(),b.Ub(130,"label",38),b.Kc(131,"Choose file"),b.Tb(),b.Tb(),b.Tb(),b.Pb(132,"img",39),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(133,"div",9),b.Ub(134,"div",40),b.Ic(135,G,3,0,"div",41),b.Ic(136,q,6,0,"div",41),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Pb(137,"app-footer"),b.Ub(138,"div",42),b.Ub(139,"div",43),b.Ub(140,"div",44),b.Ub(141,"div",9),b.Ub(142,"div",20),b.Ub(143,"span",45),b.Kc(144,"delete_outline"),b.Tb(),b.Ub(145,"h6"),b.Kc(146,"Are you sure want to delete?"),b.Tb(),b.Tb(),b.Tb(),b.Pb(147,"hr"),b.Ub(148,"div",46),b.Ub(149,"div",47),b.Ub(150,"button",48),b.Kc(151,"Delete"),b.Tb(),b.Ub(152,"button",49),b.Kc(153,"Cancel"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e&&(b.Cb(14),b.oc("formGroup",t.addLiveClassForm),b.Cb(11),b.oc("control",t.addLiveClassForm.get("title")),b.Cb(8),b.oc("control",t.addLiveClassForm.get("streamCode")),b.Cb(8),b.oc("control",t.addLiveClassForm.get("description")),b.Cb(14),b.oc("control",t.addLiveClassForm.get("testId")),b.Cb(8),b.oc("control",t.addLiveClassForm.get("classStartTime")),b.Cb(8),b.oc("control",t.addLiveClassForm.get("date")),b.Cb(8),b.oc("control",t.addLiveClassForm.get("classEndTime")),b.Cb(8),b.oc("control",t.addLiveClassForm.get("approxStreamTime")),b.Cb(8),b.oc("control",t.addLiveClassForm.get("allowedNoOfStudents")),b.Cb(8),b.oc("control",t.addLiveClassForm.get("allowedNoOfDemoStudents")),b.Cb(14),b.oc("control",t.addLiveClassForm.get("selectGroup")),b.Cb(18),b.oc("ngIf",!t.isSubmitting),b.Cb(1),b.oc("ngIf",t.isSubmitting))},directives:[S.a,T.a,V.B,V.r,V.j,V.d,V.q,V.i,H.a,V.y,V.u,V.A,V.v,r.l,C.a],styles:[""]}),X);function Y(e,t){1&e&&b.Pb(0,"div",30),2&e&&b.oc("liveClass",t.$implicit)}var Z,Q=function(){return[5,10,25,100]},J=((Z=function(){function e(t){_classCallCheck2(this,e),this.liveClassService=t,this.pageSize=10,this.keysToFilterOn=["title","allowedWatchCount","time"]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getLiveClass()}},{key:"applyFilter",value:function(e){this.filteredClasses=f(this.upcomingLiveClasses,e.target.value,{keys:this.keysToFilterOn}),this.length=this.filteredClasses.length,this.setViewList(0)}},{key:"setViewList",value:function(e){this.viewList=this.filteredClasses.slice(e*this.pageSize,(e+1)*this.pageSize)}},{key:"getLiveClass",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.liveClassService.getAllLiveClasses();case 2:this.upcomingLiveClasses=this.liveClassService.upcomingLiveClasses,this.upcomingLiveClasses&&(this.filteredClasses=this.upcomingLiveClasses,this.length=this.filteredClasses.length,this.setViewList(0));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"changedPagination",value:function(e){var t=e.pageIndex;this.pageSize=e.pageSize,this.setViewList(t)}}]),e}()).\u0275fac=function(e){return new(e||Z)(b.Ob(_))},Z.\u0275cmp=b.Ib({type:Z,selectors:[["app-upcoming-classes"]],decls:44,vars:5,consts:[[1,"pcoded-main-container"],[1,"mdk-header-layout__content","page-content"],[1,"pt-32pt"],[1,"container","page__container","d-flex","flex-column","flex-md-row","align-items-center","text-center","text-sm-left"],[1,"flex","d-flex","flex-column","flex-sm-row","align-items-center","mb-24pt","mb-md-0"],[1,"mb-24pt","mb-sm-0","mr-sm-24pt"],[1,"mb-0"],["routerLink","/live-class/live-claas"],[1,"page-section"],[1,"container","page__container"],[1,"row"],[1,"col-sm-12","col-12","col-md-12","col-lg-12"],[1,"col-md-3"],[1,"offset-md-5","col-md-4"],[1,"d-flex"],["type","text","placeholder","search",1,"form-control",3,"keyup"],[1,"row","mt-4"],["app-classes","","class","col-lg-4 card-group-row__col",3,"liveClass",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"mb-32pt"],[1,"float-right"],[3,"length","pageSize","pageSizeOptions","page"],["id","delete-modal","role","dialog",1,"modal","fade"],[1,"modal-dialog","modal-sm"],[1,"modal-body","text-center"],[1,"text-danger","fs-34","material-icons","mr-2","icon-image-preview","mb-2"],[1,"row","m-t-15"],[1,"col-sm-12"],["type","button","data-target","#delete-sccess-modal","data-toggle","modal","data-dismiss","modal",1,"btn","btn-sm","btn-success","mr-1"],["type","button","data-dismiss","modal",1,"btn","btn-sm","btn-danger","ml-1"],["app-classes","",1,"col-lg-4","card-group-row__col",3,"liveClass"]],template:function(e,t){1&e&&(b.Pb(0,"app-header"),b.Ub(1,"div",0),b.Pb(2,"app-sidebar"),b.Ub(3,"div",1),b.Ub(4,"div",2),b.Ub(5,"div",3),b.Ub(6,"div",4),b.Ub(7,"div",5),b.Ub(8,"h3",6),b.Kc(9,"Upcoming Session > "),b.Ub(10,"a",7),b.Kc(11,"Back"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(12,"div",8),b.Ub(13,"div",9),b.Ub(14,"div",10),b.Ub(15,"div",11),b.Ub(16,"div",10),b.Pb(17,"div",12),b.Ub(18,"div",13),b.Ub(19,"div",14),b.Ub(20,"input",15),b.cc("keyup",(function(e){return t.applyFilter(e)})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(21,"div",16),b.Ic(22,Y,1,1,"div",17),b.Ub(23,"div",18),b.Ub(24,"div",19),b.Ub(25,"div",20),b.Ub(26,"mat-paginator",21),b.cc("page",(function(e){return t.changedPagination(e)})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Pb(27,"app-footer"),b.Ub(28,"div",22),b.Ub(29,"div",23),b.Ub(30,"div",24),b.Ub(31,"div",10),b.Ub(32,"div",18),b.Ub(33,"span",25),b.Kc(34,"delete_outline"),b.Tb(),b.Ub(35,"h6"),b.Kc(36,"Are you sure want to delete?"),b.Tb(),b.Tb(),b.Tb(),b.Pb(37,"hr"),b.Ub(38,"div",26),b.Ub(39,"div",27),b.Ub(40,"button",28),b.Kc(41,"Delete"),b.Tb(),b.Ub(42,"button",29),b.Kc(43,"Cancel"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e&&(b.Cb(22),b.oc("ngForOf",t.viewList),b.Cb(4),b.oc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",b.rc(4,Q)))},directives:[S.a,T.a,s.e,r.k,P.a,C.a,j],styles:[""]}),Z);function ee(e,t){1&e&&b.Pb(0,"div",22),2&e&&b.oc("liveClass",t.$implicit)}var te,ne=function(){return[5,10,25,100]},re=((te=function(){function e(t){_classCallCheck2(this,e),this.liveClassService=t,this.pageSize=10,this.keysToFilterOn=["title","allowedWatchCount","time"]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.getLiveClass()}},{key:"applyFilter",value:function(e){this.filteredClasses=f(this.completedLiveClasses,e.target.value,{keys:this.keysToFilterOn}),this.filteredClasses&&(this.length=this.filteredClasses.length,this.setViewList(0))}},{key:"setViewList",value:function(e){this.viewList=this.filteredClasses.slice(e*this.pageSize,(e+1)*this.pageSize)}},{key:"getLiveClass",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.liveClassService.getAllLiveClasses();case 2:this.completedLiveClasses=this.liveClassService.completedLiveClasses,this.completedLiveClasses&&(this.filteredClasses=this.completedLiveClasses,this.length=this.filteredClasses.length,this.setViewList(0));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"changedPagination",value:function(e){var t=e.pageIndex;this.pageSize=e.pageSize,this.setViewList(t)}}]),e}()).\u0275fac=function(e){return new(e||te)(b.Ob(_))},te.\u0275cmp=b.Ib({type:te,selectors:[["app-complate-classes"]],decls:28,vars:5,consts:[[1,"pcoded-main-container"],[1,"mdk-header-layout__content","page-content"],[1,"pt-32pt"],[1,"container","page__container","d-flex","flex-column","flex-md-row","align-items-center","text-center","text-sm-left"],[1,"flex","d-flex","flex-column","flex-sm-row","align-items-center","mb-24pt","mb-md-0"],[1,"mb-24pt","mb-sm-0","mr-sm-24pt"],[1,"mb-0"],["routerLink","/live-class/live-claas"],[1,"page-section"],[1,"container","page__container"],[1,"row"],[1,"col-sm-12","col-12","col-md-12","col-lg-12"],[1,"col-md-3"],[1,"offset-md-5","col-md-4"],[1,"d-flex"],["type","text","placeholder","search",1,"form-control",3,"keyup"],[1,"row","mt-4"],["app-classes","","class","col-lg-4 card-group-row__col",3,"liveClass",4,"ngFor","ngForOf"],[1,"col-md-12"],[1,"mb-32pt"],[1,"float-right"],[3,"length","pageSize","pageSizeOptions","page"],["app-classes","",1,"col-lg-4","card-group-row__col",3,"liveClass"]],template:function(e,t){1&e&&(b.Pb(0,"app-header"),b.Ub(1,"div",0),b.Pb(2,"app-sidebar"),b.Ub(3,"div",1),b.Ub(4,"div",2),b.Ub(5,"div",3),b.Ub(6,"div",4),b.Ub(7,"div",5),b.Ub(8,"h3",6),b.Kc(9,"Completed Session > "),b.Ub(10,"a",7),b.Kc(11,"Back"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(12,"div",8),b.Ub(13,"div",9),b.Ub(14,"div",10),b.Ub(15,"div",11),b.Ub(16,"div",10),b.Pb(17,"div",12),b.Ub(18,"div",13),b.Ub(19,"div",14),b.Ub(20,"input",15),b.cc("keyup",(function(e){return t.applyFilter(e)})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(21,"div",16),b.Ic(22,ee,1,1,"div",17),b.Ub(23,"div",18),b.Ub(24,"div",19),b.Ub(25,"div",20),b.Ub(26,"mat-paginator",21),b.cc("page",(function(e){return t.changedPagination(e)})),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Pb(27,"app-footer")),2&e&&(b.Cb(22),b.oc("ngForOf",t.viewList),b.Cb(4),b.oc("length",t.length)("pageSize",t.pageSize)("pageSizeOptions",b.rc(4,ne)))},directives:[S.a,T.a,s.e,r.k,P.a,C.a,j],styles:[""]}),te),ie=n("+0xr");function oe(e,t){1&e&&(b.Ub(0,"th",34),b.Ub(1,"div",35),b.Pb(2,"input",36),b.Ub(3,"label",37),b.Kc(4,"Sr. No."),b.Tb(),b.Tb(),b.Tb())}function ae(e,t){if(1&e&&(b.Ub(0,"td",38),b.Ub(1,"div",35),b.Pb(2,"input",36),b.Ub(3,"label",37),b.Kc(4),b.Tb(),b.Tb(),b.Tb()),2&e){var n=t.$implicit;b.Cb(4),b.Mc("",n.id,".")}}function se(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"Student Name"),b.Tb())}function ce(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.uid," ")}}function ue(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"Phone No."),b.Tb())}function le(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.username," ")}}function pe(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"Time "),b.Tb())}function de(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.time," ")}}function he(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"date "),b.Tb())}function fe(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.date," ")}}function me(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"Subject "),b.Tb())}function ge(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.subject," ")}}function ye(e,t){1&e&&b.Pb(0,"tr",39)}function ve(e,t){1&e&&b.Pb(0,"tr",40)}function be(e,t){1&e&&(b.Ub(0,"th",34),b.Ub(1,"div",35),b.Pb(2,"input",36),b.Ub(3,"label",37),b.Kc(4,"Sr. No."),b.Tb(),b.Tb(),b.Tb())}function Ae(e,t){if(1&e&&(b.Ub(0,"td",38),b.Ub(1,"div",35),b.Pb(2,"input",36),b.Ub(3,"label",37),b.Kc(4),b.Tb(),b.Tb(),b.Tb()),2&e){var n=t.$implicit;b.Cb(4),b.Mc("",n.id,".")}}function xe(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"Student Name"),b.Tb())}function we(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.uid," ")}}function _e(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"Phone No."),b.Tb())}function Se(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.username," ")}}function Te(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"Time "),b.Tb())}function Pe(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.time," ")}}function Ce(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"date "),b.Tb())}function Ee(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.date," ")}}function ke(e,t){1&e&&(b.Ub(0,"th",34),b.Kc(1,"Subject "),b.Tb())}function Oe(e,t){if(1&e&&(b.Ub(0,"td",38),b.Kc(1),b.Tb()),2&e){var n=t.$implicit;b.Cb(1),b.Mc(" ",n.subject," ")}}function Me(e,t){1&e&&b.Pb(0,"tr",39)}function Ne(e,t){1&e&&b.Pb(0,"tr",40)}var Ie=function(){return[10,20,50]};function De(e,t){if(1&e&&(b.Ub(0,"div",2),b.Ub(1,"div",3),b.Ub(2,"div",4),b.Ub(3,"div",5),b.Ub(4,"div",6),b.Ub(5,"h3",7),b.Kc(6,"Student details"),b.Tb(),b.Ub(7,"ol",8),b.Ub(8,"li",9),b.Ub(9,"a"),b.Kc(10,"My Sessions"),b.Tb(),b.Tb(),b.Ub(11,"li",10),b.Kc(12," Student details "),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Ub(13,"div",11),b.Ub(14,"div",12),b.Ub(15,"div",13),b.Pb(16,"div",14),b.Ub(17,"div",15),b.Ub(18,"div",16),b.Ub(19,"div",17),b.Ub(20,"h4"),b.Kc(21,"Demo Student"),b.Tb(),b.Ub(22,"div",18),b.Ub(23,"div",19),b.Kc(24," /"),b.Pb(25,"input",20),b.Tb(),b.Tb(),b.Ub(26,"div",21),b.Ub(27,"table",22),b.Sb(28,23),b.Ic(29,oe,5,0,"th",24),b.Ic(30,ae,5,1,"td",25),b.Rb(),b.Sb(31,26),b.Ic(32,se,2,0,"th",24),b.Ic(33,ce,2,1,"td",25),b.Rb(),b.Sb(34,27),b.Ic(35,ue,2,0,"th",24),b.Ic(36,le,2,1,"td",25),b.Rb(),b.Sb(37,28),b.Ic(38,pe,2,0,"th",24),b.Ic(39,de,2,1,"td",25),b.Rb(),b.Sb(40,29),b.Ic(41,he,2,0,"th",24),b.Ic(42,fe,2,1,"td",25),b.Rb(),b.Sb(43,30),b.Ic(44,me,2,0,"th",24),b.Ic(45,ge,2,1,"td",25),b.Rb(),b.Ic(46,ye,1,0,"tr",31),b.Ic(47,ve,1,0,"tr",32),b.Tb(),b.Pb(48,"mat-paginator",33),b.Tb(),b.Tb(),b.Tb(),b.Ub(49,"div",16),b.Ub(50,"div",17),b.Ub(51,"h4"),b.Kc(52,"Enrolled student"),b.Tb(),b.Ub(53,"div",18),b.Ub(54,"div",19),b.Pb(55,"input",20),b.Tb(),b.Tb(),b.Ub(56,"div",21),b.Ub(57,"table",22),b.Sb(58,23),b.Ic(59,be,5,0,"th",24),b.Ic(60,Ae,5,1,"td",25),b.Rb(),b.Sb(61,26),b.Ic(62,xe,2,0,"th",24),b.Ic(63,we,2,1,"td",25),b.Rb(),b.Sb(64,27),b.Ic(65,_e,2,0,"th",24),b.Ic(66,Se,2,1,"td",25),b.Rb(),b.Sb(67,28),b.Ic(68,Te,2,0,"th",24),b.Ic(69,Pe,2,1,"td",25),b.Rb(),b.Sb(70,29),b.Ic(71,Ce,2,0,"th",24),b.Ic(72,Ee,2,1,"td",25),b.Rb(),b.Sb(73,30),b.Ic(74,ke,2,0,"th",24),b.Ic(75,Oe,2,1,"td",25),b.Rb(),b.Ic(76,Me,1,0,"tr",31),b.Ic(77,Ne,1,0,"tr",32),b.Tb(),b.Pb(78,"mat-paginator",33),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e){var n=b.gc();b.Cb(16),b.oc("liveClass",n.currentLiveClass)("hideActions",!0),b.Cb(11),b.oc("dataSource",n.dataSource),b.Cb(19),b.oc("matHeaderRowDef",n.displayedColumns),b.Cb(1),b.oc("matRowDefColumns",n.displayedColumns),b.Cb(1),b.oc("pageSizeOptions",b.rc(10,Ie)),b.Cb(9),b.oc("dataSource",n.dataSource),b.Cb(19),b.oc("matHeaderRowDef",n.displayedColumns),b.Cb(1),b.oc("matRowDefColumns",n.displayedColumns),b.Cb(1),b.oc("pageSizeOptions",b.rc(11,Ie))}}var Re,je=((Re=function(){function e(t,n){_classCallCheck2(this,e),this.activatedRoute=t,this.liveClassService=n,this.displayedColumns=["id","uid","username","time","date","subject"],this.dataSource=new ie.k(Be)}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.dataSource.paginator=this.paginator,this.activatedRoute.paramMap.subscribe((function(t){e.liveClassId=t.get("liveClassId"),e.liveClassId&&e.getCurrentLiveClass(e.liveClassId)}))}},{key:"getCurrentLiveClass",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.liveClassService.fetchLiveClassById(e);case 2:return this.currentLiveClass=t.sent.data,t.abrupt("return",this.currentLiveClass);case 4:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Re)(b.Ob(s.a),b.Ob(_))},Re.\u0275cmp=b.Ib({type:Re,selectors:[["app-view-live-class-details"]],viewQuery:function(e,t){var n;1&e&&b.Gc(P.a,!0),2&e&&b.vc(n=b.dc())&&(t.paginator=n.first)},decls:5,vars:1,consts:[[1,"pcoded-main-container"],["class","mdk-header-layout__content page-content ",4,"ngIf"],[1,"mdk-header-layout__content","page-content"],[1,"pt-32pt"],[1,"container","page__container","d-flex","flex-column","flex-md-row","align-items-center","text-center","text-sm-left"],[1,"flex","d-flex","flex-column","flex-sm-row","align-items-center","mb-24pt","mb-md-0"],[1,"mb-24pt","mb-sm-0","mr-sm-24pt"],[1,"mb-0"],[1,"breadcrumb","p-0","m-0"],[1,"breadcrumb-item"],[1,"breadcrumb-item","active"],[1,"page-section"],[1,"container","page__container"],[1,"row"],["app-classes","",1,"col-lg-4","card-group-row__col",3,"liveClass","hideActions"],[1,"col-sm-12","col-12","col-md-12","col-lg-12"],[1,"card"],[1,"card-body"],[1,"row","mt-3","m-b-30"],[1,"offset-md-10","col-md-2"],["type","text","placeholder","Search",1,"form-control"],[1,"mt-4","mat-elevation-z8","table-responsive","table","table-striped","table-bordered","m-0","dataTable","no-footer"],["mat-table","",1,"table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","uid"],["matColumnDef","username"],["matColumnDef","time"],["matColumnDef","date"],["matColumnDef","subject"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customCheck1",1,"custom-control-input"],["for","customCheck1",1,"custom-control-label"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(b.Pb(0,"app-header"),b.Ub(1,"div",0),b.Pb(2,"app-sidebar"),b.Ic(3,De,79,12,"div",1),b.Tb(),b.Pb(4,"app-footer")),2&e&&(b.Cb(3),b.oc("ngIf",t.currentLiveClass))},directives:[S.a,T.a,r.l,C.a,j,ie.j,ie.c,ie.e,ie.b,ie.g,ie.i,P.a,ie.d,ie.a,ie.f,ie.h],styles:[""]}),Re),Be=[{id:"1",uid:"data",username:"data",time:"data",date:"data",subject:"data"},{id:"1",uid:"data",username:"data",time:"data",date:"data",subject:"data"},{id:"1",uid:"data",username:"data",time:"data",date:"data",subject:"data"}],Fe=n("AitN");function Le(e,t){if(1&e&&(b.Ub(0,"span"),b.Kc(1),b.Tb()),2&e){var n=b.gc().$implicit;b.Cb(1),b.Lc(n.name)}}function Ue(e,t){if(1&e&&b.Pb(0,"img",6),2&e){var n=b.gc().$implicit;b.oc("src","assets/images/icon/"+n.iconName,b.Dc)}}function ze(e,t){if(1&e){var n=b.Vb();b.Ub(0,"button",3),b.cc("click",(function(){b.Ac(n);var e=t.$implicit;return b.gc().setTool(e.name)})),b.Ic(1,Le,2,1,"span",4),b.Ic(2,Ue,1,1,"img",5),b.Tb()}if(2&e){var r=t.$implicit;b.pc("title",r.name),b.oc("title",r.description),b.Cb(1),b.oc("ngIf",!r.iconName),b.Cb(1),b.oc("ngIf",r.iconName)}}var Ve,We="NETLESSSDK_YWs9OHlvdnh2cjBsTVNxN0V2YSZub25jZT0xNjAzMjg0NjczNTg5MDAmcm9sZT0wJnNpZz04MDY5MWQ5YzJjOGM3ZDVlNDM0NTljYjIxYzViNDdmZmUzZDA1MjgwNzIyMWQyMDI1Mjg4YWJlNDY4NDhiMTll",He=new Fe.WhiteWebSdk({appIdentifier:"Wl-y8BOYEeuGij00necleg/fgsqEjRBCOnHSg"}),Ge=[{name:"selector",description:"Selection tool",iconName:"selector.svg"},{name:"pencil",description:"Pencil",iconName:"pencil.svg"},{name:"rectangle",description:"Rectangle drawing tool",iconName:"rectangle.svg"},{name:"ellipse",description:"Circle and ellipse drawing tools",iconName:"ellipse.svg"},{name:"eraser",description:"Eraser, used to erase handwriting drawn by other teaching aids",iconName:"eraser.svg"},{name:"text",description:"Text tool",iconName:"text.svg"},{name:"straight",description:"Straight line drawing tool",iconName:"straight.svg"},{name:"arrow",description:"Arrow drawing tool",iconName:"arrow.svg"},{name:"laserPointer",description:"Laser Pointer Tool",iconName:"laserPointer.svg"},{name:"hand",description:"Hand tool",iconName:"hand.svg"}],qe=((Ve=function(){function e(){_classCallCheck2(this,e),this.teachingAids=Ge}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"createWhiteBoardRoom",value:function(){var e=this;window.fetch("https://shunt-api.netless.link/v5/rooms",{method:"POST",headers:{"content-type":"application/json",token:We}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.requestJoinWhiteBoardRoom(t.uuid)})).catch((function(e){console.error(e)}))}},{key:"requestJoinWhiteBoardRoom",value:function(e){var t=this,n="https://shunt-api.netless.link/v5/tokens/rooms/"+e,r={method:"POST",headers:{"content-type":"application/json",token:We},body:JSON.stringify({lifespan:0,role:"admin"})};window.fetch(n,r).then((function(e){return e.json()})).then((function(n){t.joinRoomWhiteBoard(e,n)})).catch((function(e){console.error(e)}))}},{key:"joinRoomWhiteBoard",value:function(e,t){var n=this;He.joinRoom({uuid:e,roomToken:t}).then((function(e){e.bindHtmlElement(document.getElementById("whiteboard")),n.whiteBoardRoom=e})).catch((function(e){console.error(e)}))}},{key:"disconnectRoom",value:function(){this.whiteBoardRoom&&this.whiteBoardRoom.disconnect().catch((function(e){}))}},{key:"setTool",value:function(e){this.whiteBoardRoom.setMemberState({currentApplianceName:e})}}]),e}()).\u0275fac=function(e){return new(e||Ve)},Ve.\u0275cmp=b.Ib({type:Ve,selectors:[["app-netless-whiteboard"]],decls:3,vars:1,consts:[["id","whiteboard",2,"width","100%","height","90vh","border","1px solid black"],[1,"tools"],["class","btn","data-toggle","tooltip",3,"title","click",4,"ngFor","ngForOf"],["data-toggle","tooltip",1,"btn",3,"title","click"],[4,"ngIf"],[3,"src",4,"ngIf"],[3,"src"]],template:function(e,t){1&e&&(b.Pb(0,"div",0),b.Ub(1,"div",1),b.Ic(2,ze,3,4,"button",2),b.Tb()),2&e&&(b.Cb(2),b.oc("ngForOf",t.teachingAids))},directives:[r.k,r.l],styles:["#whiteboard[_ngcontent-%COMP%]{width:100%;border:1px solid #000;margin-top:10px;margin-left:10px}#whiteboard[_ngcontent-%COMP%], .tools[_ngcontent-%COMP%]{background-color:#fff;height:90vh}.tools[_ngcontent-%COMP%]{display:inline-grid;position:fixed;top:10px;border-left:1px solid #000;border-bottom:1px solid #000;border-top:1px solid #000;left:10px}.tools[_ngcontent-%COMP%], .tools[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}"]}),Ve),Xe=["whiteBoad"];function Ke(e,t){1&e&&b.Pb(0,"img",12)}var Ye={client:null,joined:!1,published:!1,localStream:null,remoteStreams:[],params:{}};function Ze(e){$("#remote_video_panel_"+e)[0]&&$("#remote_video_panel_"+e).remove()}var Qe,Je,$e,et=[{path:"live-claas",component:U},{path:"add-live-claas",component:K},{path:"upcoming-classes",component:J},{path:"complate-classes",component:re},{path:":liveClassId/view-live-class-details",component:je},{path:":liveClassId/live-stream",component:(Qe=function(){function e(t,n){_classCallCheck2(this,e),this.activatedRoute=t,this.liveClassService=n,this.role="host",this.canBroadcastClass=!1,this.broadcastClass=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.activatedRoute.paramMap.subscribe((function(t){e.liveClassId=t.get("liveClassId"),e.geLiveClass()}))}},{key:"geLiveClass",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.liveClassService.fetchLiveClassById(this.liveClassId);case 2:this.liveClass=e.sent.data,console.log(this.liveClass),this.canBroadcastClass=!0;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"initializeAgoraClient",value:function(){Ye.client=AgoraRTC.createClient({mode:"live",codec:"h264"});var e={appID:this.liveClass.agoraLiveClassConfig.appID,channel:this.liveClass.agoraLiveClassConfig.channelName,uid:this.liveClass.agoraLiveClassConfig.uid,token:this.liveClass.agoraLiveClassConfig.tokenA};Ye.client.on("stream-added",(function(e){var t=e.stream,n=t.getId();n!==Ye.params.uid&&Ye.client.subscribe(t,(function(e){console.log("stream subscribe failed",e)})),console.log("stream-added remote-uid: ",n)})),Ye.client.on("stream-subscribed",(function(e){var t=e.stream,n=t.getId();!function(e,t){$("#"+e)[0]||($("<div/>",{id:"remote_video_panel_"+e,class:"video-view"}).appendTo("#video"),$("<div/>",{id:"remote_video_"+e,class:"video-placeholder"}).appendTo("#remote_video_panel_"+e),$("<div/>",{id:"remote_video_info_"+e,class:"video-profile hide"}).appendTo("#remote_video_panel_"+e),$("<div/>",{id:"video_autoplay_"+e,class:"autoplay-fallback hide"}).appendTo("#remote_video_panel_"+e))}(n),t.play("remote_video_"+n),console.log("stream-subscribed remote-uid: ",n)})),Ye.client.on("stream-removed",(function(e){var t=e.stream,n=t.getId();t.stop("remote_video_"+n),Ze(n),console.log("stream-removed remote-uid: ",n)})),Ye.client.init(e.appID,(function(){console.log("init success");var t=e.token?e.token:null;console.log(t),Ye.client.join(t,e.channel,e.uid?+e.uid:null,(function(t){console.log("join channel: "+e.channel+" success, uid: "+t),Ye.params.uid=t,Ye.localStream=AgoraRTC.createStream({streamID:Ye.params.uid,audio:!0,video:!0,screen:!1}),Ye.localStream.init((function(){console.log("init local stream success"),Ye.localStream.play("local_stream"),Ye.client.publish(Ye.localStream,(function(e){console.log("publish failed"),console.error(e)}))}),(function(e){console.error("init local stream failed ",e)}))}),(function(e){console.error("client join failed",e)}))}),(function(e){console.log("Live stream Error => "),console.error(e)})),Ye.client.setClientRole(this.role)}},{key:"leaveChannel",value:function(){this.broadcastClass=!1,this.canBroadcastClass=!0,Ye.client.leave((function(){for(Ye.localStream.stop(),Ye.localStream.close();Ye.remoteStreams.length>0;){var e=Ye.remoteStreams.shift(),t=e.getId();e.stop(),Ze(t)}console.log("client leaves channel success")}),(function(e){console.log("channel leave failed"),console.error(e)})),this.whiteboard.disconnectRoom()}},{key:"startChannel",value:function(){this.broadcastClass=!0,this.canBroadcastClass=!1,this.initializeAgoraClient(),this.whiteboard.createWhiteBoardRoom()}}]),e}(),Qe.\u0275fac=function(e){return new(e||Qe)(b.Ob(s.a),b.Ob(_))},Qe.\u0275cmp=b.Ib({type:Qe,selectors:[["app-live-class-broadcast"]],viewQuery:function(e,t){var n;1&e&&b.Pc(Xe,!0),2&e&&b.vc(n=b.dc())&&(t.whiteboard=n.first)},decls:15,vars:2,consts:[[1,"row","live-class-wrapper"],[1,"col-md-10"],["whiteBoad",""],[1,"col-md-2"],["id","video",1,"video-grid"],[1,"video-view"],["id","local_stream",1,"video-placeholder"],["id","defaultImage","src","\\assets\\images\\icon\\user_placeholder_header.svg",4,"ngIf"],["id","local_video_info",1,"video-profile","hide"],["id","video_autoplay_local",1,"autoplay-fallback","hide"],[1,"btn","btn-success",3,"disabled","click"],[1,"btn","btn-danger",3,"click"],["id","defaultImage","src","\\assets\\images\\icon\\user_placeholder_header.svg"]],template:function(e,t){1&e&&(b.Ub(0,"div",0),b.Ub(1,"div",1),b.Pb(2,"app-netless-whiteboard",null,2),b.Tb(),b.Ub(4,"div",3),b.Ub(5,"div",4),b.Ub(6,"div",5),b.Ub(7,"div",6),b.Ic(8,Ke,1,0,"img",7),b.Tb(),b.Pb(9,"div",8),b.Pb(10,"div",9),b.Ub(11,"button",10),b.cc("click",(function(){return t.startChannel()})),b.Kc(12,"Start class"),b.Tb(),b.Ub(13,"button",11),b.cc("click",(function(){return t.leaveChannel()})),b.Kc(14,"Leave class"),b.Tb(),b.Tb(),b.Tb(),b.Tb(),b.Tb()),2&e&&(b.Cb(8),b.oc("ngIf",!t.broadcastClass),b.Cb(3),b.oc("disabled",!t.canBroadcastClass))},directives:[qe,r.l],styles:[".live-class-wrapper[_ngcontent-%COMP%]{background-color:grey;height:100%}#local_stream[_ngcontent-%COMP%]{border:1px solid #000;height:300px;margin-top:10px}#defaultImage[_ngcontent-%COMP%]{width:-webkit-fill-available}.row[_ngcontent-%COMP%]{bottom:0;position:fixed;display:fixed;width:100%;height:auto;top:0;flex-wrap:wrap;margin-right:-12px;margin-left:-12px}"]}),Qe)},{path:"white-board",component:qe}],tt=((Je=function e(){_classCallCheck2(this,e)}).\u0275mod=b.Mb({type:Je}),Je.\u0275inj=b.Lb({factory:function(e){return new(e||Je)},imports:[[s.f.forChild(et)],s.f]}),Je),nt=n("PCNd"),rt=(($e=function e(){_classCallCheck2(this,e)}).\u0275mod=b.Mb({type:$e}),$e.\u0275inj=b.Lb({factory:function(e){return new(e||$e)},imports:[[r.c,tt,i.a,o.a,a.b,nt.SharedModule]]}),$e)},"2vnA":function(e,t,n){"use strict";n.r(t),n.d(t,"$mobx",(function(){return Jn})),n.d(t,"FlowCancellationError",(function(){return It})),n.d(t,"IDerivationState",(function(){return ce})),n.d(t,"ObservableMap",(function(){return Mn})),n.d(t,"ObservableSet",(function(){return Rn})),n.d(t,"Reaction",(function(){return Qe})),n.d(t,"_allowStateChanges",(function(){return ke})),n.d(t,"_allowStateChangesInsideComputed",(function(){return Ne})),n.d(t,"_allowStateReadsEnd",(function(){return xe})),n.d(t,"_allowStateReadsStart",(function(){return Ae})),n.d(t,"_endAction",(function(){return Ee})),n.d(t,"_getAdministration",(function(){return qn})),n.d(t,"_getGlobalState",(function(){return Ve})),n.d(t,"_interceptReads",(function(){return Bt})),n.d(t,"_isComputingDerivation",(function(){return he})),n.d(t,"_resetGlobalState",(function(){return We})),n.d(t,"_startAction",(function(){return Ce})),n.d(t,"action",(function(){return ht})),n.d(t,"autorun",(function(){return yt})),n.d(t,"comparer",(function(){return I})),n.d(t,"computed",(function(){return se})),n.d(t,"configure",(function(){return St})),n.d(t,"createAtom",(function(){return M})),n.d(t,"decorate",(function(){return Tt})),n.d(t,"entries",(function(){return Xt})),n.d(t,"extendObservable",(function(){return Ct})),n.d(t,"extendShallowObservable",(function(){return Pt})),n.d(t,"flow",(function(){return Rt})),n.d(t,"get",(function(){return Qt})),n.d(t,"getAtom",(function(){return Gn})),n.d(t,"getDebugName",(function(){return Xn})),n.d(t,"getDependencyTree",(function(){return Et})),n.d(t,"getObserverTree",(function(){return Ot})),n.d(t,"has",(function(){return Zt})),n.d(t,"intercept",(function(){return Ft})),n.d(t,"isAction",(function(){return mt})),n.d(t,"isArrayLike",(function(){return y})),n.d(t,"isBoxedObservable",(function(){return De})),n.d(t,"isComputed",(function(){return Ut})),n.d(t,"isComputedProp",(function(){return zt})),n.d(t,"isFlowCancellationError",(function(){return Dt})),n.d(t,"isObservable",(function(){return Wt})),n.d(t,"isObservableArray",(function(){return kn})),n.d(t,"isObservableMap",(function(){return In})),n.d(t,"isObservableObject",(function(){return Hn})),n.d(t,"isObservableProp",(function(){return Ht})),n.d(t,"isObservableSet",(function(){return jn})),n.d(t,"keys",(function(){return Gt})),n.d(t,"observable",(function(){return re})),n.d(t,"observe",(function(){return Jt})),n.d(t,"onBecomeObserved",(function(){return xt})),n.d(t,"onBecomeUnobserved",(function(){return wt})),n.d(t,"onReactionError",(function(){return Je})),n.d(t,"reaction",(function(){return At})),n.d(t,"remove",(function(){return Yt})),n.d(t,"runInAction",(function(){return ft})),n.d(t,"set",(function(){return Kt})),n.d(t,"spy",(function(){return ut})),n.d(t,"toJS",(function(){return tn})),n.d(t,"trace",(function(){return nn})),n.d(t,"transaction",(function(){return on})),n.d(t,"untracked",(function(){return ye})),n.d(t,"values",(function(){return qt})),n.d(t,"when",(function(){return an}));var r=[];Object.freeze(r);var i={};Object.freeze(i);var o={};function a(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:o}function s(){return++ze.mobxGuid}function c(e){throw u(!1,e),"X"}function u(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function l(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var p=function(){};function d(e){return null!==e&&"object"==typeof e}function h(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function f(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function m(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function g(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return d(e)&&!0===e[n]}}function y(e){return Array.isArray(e)||kn(e)}function v(e){return void 0!==a().Map&&e instanceof a().Map}function b(e){return e instanceof Set}function A(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function x(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function w(e){return null===e?null:"object"==typeof e?""+e:e}function _(e,t){for(var n=e.next();!n.done;)t(n.value),n=e.next()}function S(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function T(e,t){m(e,S(),t)}function P(e){return e[S()]=E,e}function C(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function E(){return this}var k=function(){function e(e){void 0===e&&(e="Atom@"+s()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ce.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return Ye(this)},e.prototype.reportChanged=function(){Xe(),function(e){if(e.lowestObserverState!==ce.STALE){e.lowestObserverState=ce.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ce.UP_TO_DATE&&(r.isTracing!==ue.NONE&&Ze(r,e),r.onBecomeStale()),r.dependenciesState=ce.STALE}}}(this),Ke()},e.prototype.toString=function(){return this.name},e}(),O=g("Atom",k);function M(e,t,n){void 0===t&&(t=p),void 0===n&&(n=p);var r=new k(e);return xt(r,t),wt(r,n),r}function N(e,t){return e===t}var I={identity:N,structural:function(e,t){return Yn(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||N(e,t)},shallow:function(e,t){return Yn(e,t,1)}},D=function(e,t){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function R(e,t){function n(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var j=function(){return(j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function B(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function F(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(B(arguments[t]));return e}var L={},U={};function z(e,t){var n=t?L:U;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return V(this),this[e]},set:function(t){V(this),this[e]=t}})}function V(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in f(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function W(e,t){return function(){var n,i=function(r,i,o,a){return!0===a?(t(r,i,o,r,n),null):(Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")||f(r,"__mobxDecorators",j({},r.__mobxDecorators)),r.__mobxDecorators[i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},z(i,e))};return H(arguments)?(n=r,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function H(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]||4===e.length&&!0===e[3]}function G(e,t,n){return Wt(e)?e:Array.isArray(e)?re.array(e,{name:n}):h(e)?re.object(e,void 0,{name:n}):v(e)?re.map(e,{name:n}):b(e)?re.set(e,{name:n}):e}function q(e){return e}function X(e){u(e);var t=W(!0,(function(t,n,r,i,o){Ln(t,n,r?r.initializer?r.initializer.call(t):r.value:void 0,e)})),n=("undefined"!=typeof process&&process,t);return n.enhancer=e,n}var K={deep:!0,name:void 0,defaultDecorator:void 0},Y={deep:!1,name:void 0,defaultDecorator:void 0};function Z(e){return null==e?K:"string"==typeof e?{name:e,deep:!0}:e}function Q(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?q:G}Object.freeze(K),Object.freeze(Y);var J=X(G),$=X((function(e,t,n){return null==e||Hn(e)||kn(e)||In(e)||jn(e)?e:Array.isArray(e)?re.array(e,{name:n,deep:!1}):h(e)?re.object(e,void 0,{name:n,deep:!1}):v(e)?re.map(e,{name:n,deep:!1}):b(e)?re.set(e,{name:n,deep:!1}):c(!1)})),ee=X(q),te=X((function(e,t,n){return Yn(e,t)?t:e})),ne={box:function(e,t){arguments.length>2&&ie("box");var n=Z(t);return new Ie(e,Q(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&ie("shallowBox"),re.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&ie("array");var n=Z(t);return new _n(e,Q(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&ie("shallowArray"),re.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&ie("map");var n=Z(t);return new Mn(e,Q(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&ie("shallowMap"),re.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&ie("set");var n=Z(t);return new Rn(e,Q(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&ie("object");var r=Z(n);return Ct({},e,t,r)},shallowObject:function(e,t){return"string"==typeof arguments[1]&&ie("shallowObject"),re.object(e,{},{name:t,deep:!1})},ref:ee,shallow:$,deep:J,struct:te},re=function e(t,n,r){if("string"==typeof arguments[1])return J.apply(null,arguments);if(Wt(t))return t;var i=h(t)?e.object(t,n,r):Array.isArray(t)?e.array(t,n):v(t)?e.map(t,n):b(t)?e.set(t,n):t;if(i!==t)return i;c(!1)};function ie(e){c("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(ne).forEach((function(e){return re[e]=ne[e]}));var oe=W(!1,(function(e,t,n,r,i){var o,a,s,c;o=e,a=t,s=j({get:n.get,set:n.set},i[0]||{}),c=Fn(o),s.name=c.name+"."+a,s.context=o,c.values[a]=new Re(s),Object.defineProperty(o,a,function(e){return zn[e]||(zn[e]={configurable:ze.computedConfigurable,enumerable:!1,get:function(){return Vn(this).read(this,e)},set:function(t){Vn(this).write(this,e,t)}})}(a))})),ae=oe({equals:I.structural}),se=function(e,t,n){if("string"==typeof t)return oe.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return oe.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new Re(r)};se.struct=ae;var ce=function(e){return e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE",e}({}),ue=function(e){return e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK",e}({}),le=function(e){this.cause=e};function pe(e){return e instanceof le}function de(e){switch(e.dependenciesState){case ce.UP_TO_DATE:return!1;case ce.NOT_TRACKING:case ce.STALE:return!0;case ce.POSSIBLY_STALE:for(var t=Ae(!0),n=ve(),r=e.observing,i=r.length,o=0;o<i;o++){var a=r[o];if(je(a)){if(ze.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return be(n),xe(t),!0}if(e.dependenciesState===ce.STALE)return be(n),xe(t),!0}}return we(e),be(n),xe(t),!1}}function he(){return null!==ze.trackingDerivation}function fe(e){var t=e.observers.length>0;ze.computationDepth>0&&t&&c(!1),ze.allowStateChanges||!t&&"strict"!==ze.enforceActions||c(!1)}function me(e,t,n){var r=Ae(!0);we(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++ze.runId;var i,o=ze.trackingDerivation;if(ze.trackingDerivation=e,!0===ze.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(a){i=new le(a)}return ze.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=ce.UP_TO_DATE,i=0,o=e.unboundDepsCount,a=0;a<o;a++)0===(s=n[a]).diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState);for(n.length=i,e.newObserving=null,o=t.length;o--;)0===(s=t[o]).diffValue&&Ge(s,e),s.diffValue=0;for(;i--;){var s;1===(s=n[i]).diffValue&&(s.diffValue=0,He(s,e))}r!==ce.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),xe(r),i}function ge(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Ge(t[n],e);e.dependenciesState=ce.NOT_TRACKING}function ye(e){var t=ve(),n=e();return be(t),n}function ve(){var e=ze.trackingDerivation;return ze.trackingDerivation=null,e}function be(e){ze.trackingDerivation=e}function Ae(e){var t=ze.allowStateReads;return ze.allowStateReads=e,t}function xe(e){ze.allowStateReads=e}function we(e){if(e.dependenciesState!==ce.UP_TO_DATE){e.dependenciesState=ce.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=ce.UP_TO_DATE}}var _e=0,Se=1;function Te(e,t){var n=function(){return Pe(e,t,this,arguments)};return n.isMobxAction=!0,n}function Pe(e,t,n,r){var i=Ce(e,n,r);try{return t.apply(n,r)}catch(o){throw i.error=o,o}finally{Ee(i)}}function Ce(e,t,n){var r=it()&&!!e,i=0;if(r){i=Date.now();var o=n&&n.length||0,a=new Array(o);if(o>0)for(var s=0;s<o;s++)a[s]=n[s];at({type:"action",name:e,object:t,arguments:a})}var c=ve();Xe();var u={prevDerivation:c,prevAllowStateChanges:Oe(!0),prevAllowStateReads:Ae(!0),notifySpy:r,startTime:i,actionId:Se++,parentActionId:_e};return _e=u.actionId,u}function Ee(e){_e!==e.actionId&&c("invalid action stack. did you forget to finish an action?"),_e=e.parentActionId,void 0!==e.error&&(ze.suppressReactionErrors=!0),Me(e.prevAllowStateChanges),xe(e.prevAllowStateReads),Ke(),be(e.prevDerivation),e.notifySpy&&ct({time:Date.now()-e.startTime}),ze.suppressReactionErrors=!1}function ke(e,t){var n,r=Oe(e);try{n=t()}finally{Me(r)}return n}function Oe(e){var t=ze.allowStateChanges;return ze.allowStateChanges=e,t}function Me(e){ze.allowStateChanges=e}function Ne(e){var t,n=ze.computationDepth;ze.computationDepth=0;try{t=e()}finally{ze.computationDepth=n}return t}Object.getOwnPropertyDescriptor((function(){}),"name");var Ie=function(e){function t(t,n,r,i,o){void 0===r&&(r="ObservableValue@"+s()),void 0===i&&(i=!0),void 0===o&&(o=I.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=o,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),i&&it()&&ot({type:"create",name:a.name,newValue:""+a.value}),a}return R(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==ze.UNCHANGED){var n=it();n&&at({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&ct()}},t.prototype.prepareNewValue=function(e){if(fe(this),un(this)){var t=pn(this,{object:this,type:"update",newValue:e});if(!t)return ze.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?ze.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),dn(this)&&fn(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return ln(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),hn(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return w(this.get())},t}(k);Ie.prototype[x()]=Ie.prototype.valueOf;var De=g("ObservableValue",Ie),Re=function(){function e(e){this.dependenciesState=ce.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ce.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+s(),this.value=new le(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ue.NONE,u(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+s(),e.set&&(this.setter=Te(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?I.structural:I.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState===ce.UP_TO_DATE){e.lowestObserverState=ce.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ce.UP_TO_DATE&&(r.dependenciesState=ce.POSSIBLY_STALE,r.isTracing!==ue.NONE&&Ze(r,e),r.onBecomeStale())}}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&c("Cycle detected in computation "+this.name+": "+this.derivation),0!==ze.inBatch||0!==this.observers.length||this.keepAlive?(Ye(this),de(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==ce.STALE){e.lowestObserverState=ce.STALE;for(var t=e.observers,n=t.length;n--;){var r=t[n];r.dependenciesState===ce.POSSIBLY_STALE?r.dependenciesState=ce.STALE:r.dependenciesState===ce.UP_TO_DATE&&(e.lowestObserverState=ce.UP_TO_DATE)}}}(this)):de(this)&&(this.warnAboutUntrackedRead(),Xe(),this.value=this.computeValue(!1),Ke());var e=this.value;if(pe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(pe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){u(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else u(!1,!1)},e.prototype.trackAndCompute=function(){it()&&ot({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===ce.NOT_TRACKING,n=this.computeValue(!0),r=t||pe(e)||pe(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,ze.computationDepth++,e)t=me(this,this.derivation,this.scope);else if(!0===ze.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new le(n)}return ze.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(ge(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return yt((function(){var o=n.get();if(!r||t){var a=ve();e({type:"update",object:n,newValue:o,oldValue:i}),be(a)}r=!1,i=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return w(this.get())},e}();Re.prototype[x()]=Re.prototype.valueOf;var je=g("ComputedValue",Re),Be=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Fe=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Le=!0,Ue=!1,ze=function(){var e=a();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Le=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Fe).version&&(Le=!1),Le?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Fe):(setTimeout((function(){Ue||c("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Fe)}();function Ve(){return ze}function We(){var e=new Fe;for(var t in e)-1===Be.indexOf(t)&&(ze[t]=e[t]);ze.allowStateChanges=!ze.enforceActions}function He(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Ge(e,t){if(1===e.observers.length)e.observers.length=0,qe(e);else{var n=e.observers,r=e.observersIndexes,i=n.pop();if(i!==t){var o=r[t.__mapid]||0;o?r[i.__mapid]=o:delete r[i.__mapid],n[o]=i}delete r[t.__mapid]}}function qe(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,ze.pendingUnobservations.push(e))}function Xe(){ze.inBatch++}function Ke(){if(0==--ze.inBatch){et();for(var e=ze.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Re&&n.suspend())}ze.pendingUnobservations=[]}}function Ye(e){var t=ze.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&ze.inBatch>0&&qe(e),!1)}function Ze(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===ue.BREAK){var n=[];!function e(t,n,r){n.length>=1e3?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)})))}(Et(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Re?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var Qe=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+s()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=ce.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+s(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ue.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ze.pendingReactions.push(this),et())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Xe(),this._isScheduled=!1,de(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&it()&&ot({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Ke()}},e.prototype.track=function(e){Xe();var t,n=it();n&&(t=Date.now(),at({name:this.name,type:"reaction"})),this._isRunning=!0;var r=me(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ge(this),pe(r)&&this.reportExceptionInDerivation(r.cause),n&&ct({time:Date.now()-t}),Ke()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(ze.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ze.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),it()&&ot({type:"error",name:this.name,message:n,error:""+e}),ze.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Xe(),ge(this),Ke()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),nn(this,e)},e}();function Je(e){return ze.globalReactionErrorHandlers.push(e),function(){var t=ze.globalReactionErrorHandlers.indexOf(e);t>=0&&ze.globalReactionErrorHandlers.splice(t,1)}}var $e=function(e){return e()};function et(){ze.inBatch>0||ze.isRunningReactions||$e(tt)}function tt(){ze.isRunningReactions=!0;for(var e=ze.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}ze.isRunningReactions=!1}var nt=g("Reaction",Qe);function rt(e){var t=$e;$e=function(n){return e((function(){return t(n)}))}}function it(){return!!ze.spyListeners.length}function ot(e){if(ze.spyListeners.length)for(var t=ze.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function at(e){ot(j(j({},e),{spyReportStart:!0}))}var st={spyReportEnd:!0};function ct(e){ot(e?j(j({},e),{spyReportEnd:!0}):st)}function ut(e){return ze.spyListeners.push(e),l((function(){ze.spyListeners=ze.spyListeners.filter((function(t){return t!==e}))}))}function lt(){c(!1)}function pt(e){return function(t,n,r){if(r){if(r.value)return{value:Te(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Te(e,i.call(this))}}}return dt(e).apply(this,arguments)}}function dt(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){f(this,n,ht(e,t))}})}}var ht=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?Te(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?Te(e,t):1===arguments.length&&"string"==typeof e?pt(e):!0!==r?pt(t).apply(null,arguments):void(e[t]=Te(e.name||t,n.value))};function ft(e,t){return Pe("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function mt(e){return"function"==typeof e&&!0===e.isMobxAction}function gt(e,t,n){f(e,t,Te(t,n.bind(e)))}function yt(e,t){void 0===t&&(t=i);var n,r=t&&t.name||e.name||"Autorun@"+s();if(t.scheduler||t.delay){var o=bt(t),a=!1;n=new Qe(r,(function(){a||(a=!0,o((function(){a=!1,n.isDisposed||n.track(c)})))}),t.onError,t.requiresObservable)}else n=new Qe(r,(function(){this.track(c)}),t.onError,t.requiresObservable);function c(){e(n)}return n.schedule(),n.getDisposer()}ht.bound=function(e,t,n,r){return!0===r?(gt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return gt(this,t,n.value||n.initializer.call(this)),this[t]},set:lt}:{enumerable:!1,configurable:!0,set:function(e){gt(this,t,e)},get:function(){}}};var vt=function(e){return e()};function bt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:vt}function At(e,t,n){void 0===n&&(n=i),"boolean"==typeof n&&(n={fireImmediately:n});var r,o,a,c=n.name||"Reaction@"+s(),u=ht(c,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),l=!n.scheduler&&!n.delay,p=bt(n),d=!0,h=!1,f=n.compareStructural?I.structural:n.equals||I.default,m=new Qe(c,(function(){d||l?g():h||(h=!0,p(g))}),n.onError,n.requiresObservable);function g(){if(h=!1,!m.isDisposed){var t=!1;m.track((function(){var n=e(m);t=d||!f(a,n),a=n})),d&&n.fireImmediately&&u(a,m),d||!0!==t||u(a,m),d&&(d=!1)}}return m.schedule(),m.getDisposer()}function xt(e,t,n){return _t("onBecomeObserved",e,t,n)}function wt(e,t,n){return _t("onBecomeUnobserved",e,t,n)}function _t(e,t,n,r){var i="function"==typeof r?Gn(t,n):Gn(t),o="function"==typeof r?r:n,a=i[e];return"function"!=typeof a?c(!1):(i[e]=function(){a.call(this),o.call(this)},function(){i[e]=a})}function St(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.computedConfigurable,i=e.disableErrorBoundaries,o=e.arrayBuffer,s=e.reactionScheduler,u=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((ze.pendingReactions.length||ze.inBatch||ze.isRunningReactions)&&c("isolateGlobalState should be called before MobX is running any reactions"),Ue=!0,Le&&(0==--a().__mobxInstanceCount&&(a().__mobxGlobals=void 0),ze=new Fe)),void 0!==t){var p=void 0;switch(t){case!0:case"observed":p=!0;break;case!1:case"never":p=!1;break;case"strict":case"always":p="strict";break;default:c("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}ze.enforceActions=p,ze.allowStateChanges=!0!==p&&"strict"!==p}void 0!==n&&(ze.computedRequiresReaction=!!n),void 0!==u&&(ze.reactionRequiresObservable=!!u),void 0!==l&&(ze.observableRequiresReaction=!!l,ze.allowStateReads=!ze.observableRequiresReaction),void 0!==r&&(ze.computedConfigurable=!!r),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),ze.disableErrorBoundaries=!!i),"number"==typeof o&&Cn(o),s&&rt(s)}function Tt(e,t){var n="function"==typeof e?e.prototype:e,r=function(e){var r=t[e];Array.isArray(r)||(r=[r]);var i=Object.getOwnPropertyDescriptor(n,e),o=r.reduce((function(t,r){return r(n,e,t)}),i);o&&Object.defineProperty(n,e,o)};for(var i in t)r(i);return e}function Pt(e,t,n){return Ct(e,t,n,Y)}function Ct(e,t,n,r){var i=(r=Z(r)).defaultDecorator||(!1===r.deep?ee:J);V(e),Fn(e,r.name,i.enhancer),Xe();try{for(var o=Object.getOwnPropertyNames(t),a=0,s=o.length;a<s;a++){var c=o[a],u=Object.getOwnPropertyDescriptor(t,c),l=(n&&c in n?n[c]:u.get?oe:i)(e,c,u,!0);l&&Object.defineProperty(e,c,l)}}finally{Ke()}return e}function Et(e,t){return kt(Gn(e,t))}function kt(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(kt)),r}function Ot(e,t){return Mt(Gn(e,t))}function Mt(e){var t={name:e.name};return function(e){return e.observers&&e.observers.length>0}(e)&&(t.observers=function(e){return e.observers}(e).map(Mt)),t}var Nt=0;function It(){this.message="FLOW_CANCELLED"}function Dt(e){return e instanceof It}function Rt(e){1!==arguments.length&&c("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=this,i=arguments,o=++Nt,a=ht(t+" - runid: "+o+" - init",e).apply(r,i),s=void 0,c=new Promise((function(e,r){var i=0;function c(e){var n;s=void 0;try{n=ht(t+" - runid: "+o+" - yield "+i++,a.next).call(a,e)}catch(c){return r(c)}l(n)}function u(e){var n;s=void 0;try{n=ht(t+" - runid: "+o+" - yield "+i++,a.throw).call(a,e)}catch(c){return r(c)}l(n)}function l(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(s=Promise.resolve(t.value)).then(c,u);t.then(l,r)}n=r,c(void 0)}));return c.cancel=ht(t+" - runid: "+o+" - cancel",(function(){try{s&&jt(s);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(p,p),jt(t),n(new It)}catch(r){n(r)}})),c}}function jt(e){"function"==typeof e.cancel&&e.cancel()}function Bt(e,t,n){var r;if(In(e)||kn(e)||De(e))r=qn(e);else{if(!Hn(e))return c(!1);if("string"!=typeof t)return c(!1);r=qn(e,t)}return void 0!==r.dehancer?c(!1):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}function Ft(e,t,n){return"function"==typeof n?function(e,t,n){return qn(e,t).intercept(n)}(e,t,n):function(e,t){return qn(e).intercept(t)}(e,t)}function Lt(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Hn(e))return!1;if(!e.$mobx.values[t])return!1;var n=Gn(e,t);return je(n)}return je(e)}function Ut(e){return arguments.length>1?c(!1):Lt(e)}function zt(e,t){return"string"!=typeof t?c(!1):Lt(e,t)}function Vt(e,t){if(null==e)return!1;if(void 0!==t){if(Hn(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return Hn(e)||!!e.$mobx||O(e)||nt(e)||je(e)}function Wt(e){return 1!==arguments.length&&c(!1),Vt(e)}function Ht(e,t){return"string"!=typeof t?c(!1):Vt(e,t)}function Gt(e){return Hn(e)?e.$mobx.getKeys():In(e)||jn(e)?A(e.keys()):kn(e)?e.map((function(e,t){return t})):c(!1)}function qt(e){return Hn(e)?Gt(e).map((function(t){return e[t]})):In(e)?Gt(e).map((function(t){return e.get(t)})):jn(e)?A(e.values()):kn(e)?e.slice():c(!1)}function Xt(e){return Hn(e)?Gt(e).map((function(t){return[t,e[t]]})):In(e)?Gt(e).map((function(t){return[t,e.get(t)]})):jn(e)?A(e.entries()):kn(e)?e.map((function(e,t){return[t,e]})):c(!1)}function Kt(e,t,n){if(2!==arguments.length||jn(e))if(Hn(e)){var r=e.$mobx,i=r.values[t];i?r.write(e,t,n):Ln(e,t,n,r.defaultEnhancer)}else if(In(e))e.set(t,n);else if(jn(e))e.add(t);else{if(!kn(e))return c(!1);"number"!=typeof t&&(t=parseInt(t,10)),u(t>=0,"Not a valid index: '"+t+"'"),Xe(),t>=e.length&&(e.length=t+1),e[t]=n,Ke()}else{Xe();var o=t;try{for(var a in o)Kt(e,a,o[a])}finally{Ke()}}}function Yt(e,t){if(Hn(e))e.$mobx.remove(t);else if(In(e))e.delete(t);else if(jn(e))e.delete(t);else{if(!kn(e))return c(!1);"number"!=typeof t&&(t=parseInt(t,10)),u(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}}function Zt(e,t){if(Hn(e)){var n=qn(e);return n.getKeys(),!!n.values[t]}return In(e)||jn(e)?e.has(t):kn(e)?t>=0&&t<e.length:c(!1)}function Qt(e,t){if(Zt(e,t))return Hn(e)?e[t]:In(e)?e.get(t):kn(e)?e[t]:c(!1)}function Jt(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return qn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return qn(e).observe(t,n)}(e,t,n)}It.prototype=Object.create(Error.prototype);var $t={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function en(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function tn(e,t){var n;return"boolean"==typeof t&&(t={detectCycles:t}),t||(t=$t),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),function e(t,n,r){if(!n.recurseEverything&&!Wt(t))return t;if("object"!=typeof t)return t;if(null===t)return null;if(t instanceof Date)return t;if(De(t))return e(t.get(),n,r);if(Wt(t)&&Gt(t),!0===n.detectCycles&&null!==t&&r.has(t))return r.get(t);if(kn(t)||Array.isArray(t)){var i=en(r,t,[],n),o=t.map((function(t){return e(t,n,r)}));i.length=o.length;for(var a=0,s=o.length;a<s;a++)i[a]=o[a];return i}if(jn(t)||Object.getPrototypeOf(t)===Set.prototype){if(!1===n.exportMapsAsObjects){var c=en(r,t,new Set,n);return t.forEach((function(t){c.add(e(t,n,r))})),c}var u=en(r,t,[],n);return t.forEach((function(t){u.push(e(t,n,r))})),u}if(In(t)||Object.getPrototypeOf(t)===Map.prototype){if(!1===n.exportMapsAsObjects){var l=en(r,t,new Map,n);return t.forEach((function(t,i){l.set(i,e(t,n,r))})),l}var p=en(r,t,{},n);return t.forEach((function(t,i){p[i]=e(t,n,r)})),p}var d=en(r,t,{},n);for(var h in t)d[h]=e(t[h],n,r);return d}(e,t,n)}function nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=rn(e);if(!r)return c(!1);r.isTracing===ue.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?ue.BREAK:ue.LOG}function rn(e){switch(e.length){case 0:return ze.trackingDerivation;case 1:return Gn(e[0]);case 2:return Gn(e[0],e[1])}}function on(e,t){void 0===t&&(t=void 0),Xe();try{return e.apply(t)}finally{Ke()}}function an(e,t,n){return 1===arguments.length||t&&"object"==typeof t?cn(e,t):sn(e,t,n||{})}function sn(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout((function(){if(!o.$mobx.isDisposed){o();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}}),n.timeout)),n.name=n.name||"When@"+s();var i=Te(n.name+"-effect",t),o=yt((function(t){e()&&(t.dispose(),r&&clearTimeout(r),i())}),n);return o}function cn(e,t){var n,r=new Promise((function(r,i){var o=sn(e,r,j(j({},t),{onError:i}));n=function(){o(),i("WHEN_CANCELLED")}}));return r.cancel=n,r}function un(e){return void 0!==e.interceptors&&e.interceptors.length>0}function ln(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),l((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function pn(e,t){var n=ve();try{var r=e.interceptors;if(r)for(var i=0,o=r.length;i<o&&(u(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{be(n)}}function dn(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function hn(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),l((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function fn(e,t){var n=ve(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);be(n)}}var mn,gn,yn,vn,bn=(mn=!1,gn={},Object.defineProperty(gn,"0",{set:function(){mn=!0}}),Object.create(gn)[0]=1,!1===mn),An=0,xn=function(){};yn=xn,vn=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(yn.prototype,vn):void 0!==yn.prototype.__proto__?yn.prototype.__proto__=vn:yn.prototype=vn,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(xn.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var wn=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new k(e||"ObservableArray@"+s()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return ln(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),hn(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>An&&Cn(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var i=this;fe(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=r),un(this)){var a=pn(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!a)return r;t=a.removedCount,n=a.added}var s=(n=0===n.length?n:n.map((function(e){return i.enhancer(e,void 0)}))).length-t;this.updateArrayLength(o,s);var c=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,c),this.dehanceValues(c)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,F([e,t],n));var i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&it(),i=dn(this),o=i||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&at(j(j({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&fn(this,o),r&&ct()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&it(),i=dn(this),o=i||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&at(j(j({},o),{name:this.atom.name})),this.atom.reportChanged(),i&&fn(this,o),r&&ct()},e}(),_n=function(e){function t(t,n,r,i){void 0===r&&(r="ObservableArray@"+s()),void 0===i&&(i=!1);var o=e.call(this)||this,a=new wn(r,n,o,i);if(m(o,"$mobx",a),t&&t.length){var c=Oe(!0);o.spliceWithArray(0,0,t),Me(c)}return bn&&Object.defineProperty(a.array,"0",Sn),o}return R(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return kn(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0);var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var r=this.peek(),i=r.length,o=n;o<i;o++)if(e.call(t,r[o],o,this))return o;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var r,i=this.$mobx.values;r=e<t?F(i.slice(0,e),i.slice(e+1,t+1),[i[e]],i.slice(t+1)):F(i.slice(0,t),[i[e]],i.slice(t,e),i.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){fe(n.atom);var i=r[e];if(un(n)){var o=pn(n,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(xn);T(_n.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return P({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(_n.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),f(_n.prototype,C(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];u("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),f(_n.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){u("function"==typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),f(_n.prototype,e,(function(t,n){var r=this,i=this.$mobx;return i.atom.reportObserved(),i.dehanceValues(i.values)[e]((function(e,i){return t.call(n,e,i,r)}),n)}))})),["reduce","reduceRight"].forEach((function(e){f(_n.prototype,e,(function(){var t=this,n=this.$mobx;n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(e,i,o){return i=n.dehanceValue(i),r(e,i,o,t)},n.values[e].apply(n.values,arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)f(e,t[n],e[t[n]])}(_n.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Sn=Tn(0);function Tn(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function Pn(e){Object.defineProperty(_n.prototype,""+e,Tn(e))}function Cn(e){for(var t=An;t<e;t++)Pn(t);An=e}Cn(1e3);var En=g("ObservableArrayAdministration",wn);function kn(e){return d(e)&&En(e.$mobx)}var On={},Mn=function(){function e(e,t,n){if(void 0===t&&(t=G),void 0===n&&(n="ObservableMap@"+s()),this.enhancer=t,this.name=n,this.$mobx=On,this._keysAtom=M(this.name+".keys()"),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!ze.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new Ie(this._has(e),q,this.name+"."+Nn(e)+"?",!1);this._hasMap.set(e,r),wt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(un(this)){var r=pn(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(fe(this._keysAtom),un(this)&&!(i=pn(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=it(),r=dn(this),i=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&at(j(j({},i),{name:this.name,key:e})),on((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&fn(this,i),n&&ct(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==ze.UNCHANGED){var r=it(),i=dn(this),o=i||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&at(j(j({},o),{name:this.name,key:e})),n.setNewValue(t),i&&fn(this,o),r&&ct()}},e.prototype._addValue=function(e,t){var n=this;fe(this._keysAtom),on((function(){var r=new Ie(t,n.enhancer,n.name+"."+Nn(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=it(),i=dn(this),o=i||r?{type:"add",object:this,name:e,newValue:t}:null;r&&at(j(j({},o),{name:this.name,key:e})),i&&fn(this,o),r&&ct()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return P({next:function(){var n=t.next(),r=n.done;return{done:r,value:r?void 0:e.get(n.value)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return P({next:function(){var n=t.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,e.get(i)]}}})},e.prototype.forEach=function(e,t){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(r,i){return e.call(t,n.get(i),i,n)}))},e.prototype.merge=function(e){var t=this;return In(e)&&(e=e.toJS()),on((function(){var n=Oe(!0);try{h(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=B(e,2);return t.set(n[0],n[1])})):v(e)?e.constructor!==Map?c("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!=e&&c("Cannot initialize map from "+e)}finally{Me(n)}})),this},e.prototype.clear=function(){var e=this;on((function(){ye((function(){e._data.forEach((function(t,n){return e.delete(n)}))}))}))},e.prototype.replace=function(e){var t=this;return on((function(){var n=function(e){if(v(e)||In(e))return e;if(Array.isArray(e))return new Map(e);if(h(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return c("Cannot convert to map from '"+e+"'")}(e),r=new Map,i=!1;if(_(t._data.keys(),(function(e){if(!n.has(e))if(t.delete(e))i=!0;else{var o=t._data.get(e);r.set(e,o)}})),_(n.entries(),(function(e){var n=B(e,2),o=n[0],a=n[1],s=t._data.has(o);if(t.set(o,a),t._data.has(o)){var c=t._data.get(o);r.set(o,c),s||(i=!0)}})),!i)if(t._data.size!==r.size)t._keysAtom.reportChanged();else for(var o=t._data.keys(),a=r.keys(),s=o.next(),u=a.next();!s.done;){if(s.value!==u.value){t._keysAtom.reportChanged();break}s=o.next(),u=a.next()}t._data=r})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(n,r){return t["symbol"==typeof r?r:Nn(r)]=e.get(r)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+A(this.keys()).map((function(t){return Nn(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return hn(this,e)},e.prototype.intercept=function(e){return ln(this,e)},e}();function Nn(e){return e&&e.toString?e.toString():new String(e).toString()}T(Mn.prototype,(function(){return this.entries()})),m(Mn.prototype,C(),"Map");var In=g("ObservableMap",Mn),Dn={},Rn=function(){function e(e,t,n){if(void 0===t&&(t=G),void 0===n&&(n="ObservableSet@"+s()),this.name=n,this.$mobx=Dn,this._data=new Set,this._atom=M(this.name),"function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;on((function(){ye((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._atom.reportObserved(),this._data.forEach((function(r){e.call(t,r,r,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(fe(this._atom),un(this)&&!(i=pn(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){on((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=it(),r=dn(this),i=r||n?{type:"add",object:this,newValue:e}:null;r&&fn(this,i)}return this},e.prototype.delete=function(e){var t=this;if(un(this)&&!(i=pn(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=it(),r=dn(this),i=r||n?{type:"delete",object:this,oldValue:e}:null;return on((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&fn(this,i),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=A(this.keys()),n=A(this.values());return P({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=A(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),P({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return jn(e)&&(e=e.toJS()),on((function(){var n=Oe(!0);try{Array.isArray(e)||b(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&c("Cannot initialize set from "+e)}finally{Me(n)}})),this},e.prototype.observe=function(e,t){return hn(this,e)},e.prototype.intercept=function(e){return ln(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+A(this.keys()).join(", ")+" ]"},e}();T(Rn.prototype,(function(){return this.values()})),m(Rn.prototype,C(),"Set");var jn=g("ObservableSet",Rn),Bn=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;r!==e&&this.illegalAccess(e,t);var i=this.values[t];if(i instanceof Re)i.set(n);else{if(un(this)){if(!(s=pn(this,{type:"update",object:r,name:t,newValue:n})))return;n=s.newValue}if((n=i.prepareNewValue(n))!==ze.UNCHANGED){var o=dn(this),a=it(),s=o||a?{type:"update",object:r,oldValue:i.value,name:t,newValue:n}:null;a&&at(j(j({},s),{name:this.name,key:t})),i.setNewValue(n),o&&fn(this,s),a&&ct()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(un(this)&&!(o=pn(this,{object:t,name:e,type:"remove"})))return;try{Xe();var n=dn(this),r=it(),i=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=n||r?{type:"remove",object:t,oldValue:i,name:e}:null;r&&at(j(j({},o),{name:this.name,key:e})),n&&fn(this,o),r&&ct()}finally{Ke()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return hn(this,e)},e.prototype.intercept=function(e){return ln(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new _n(Object.keys(this.values).filter((function(t){return e.values[t]instanceof Ie})),q,"keys("+this.name+")",!0)),this.keys.slice()},e}();function Fn(e,t,n){void 0===t&&(t=""),void 0===n&&(n=G);var r=e.$mobx;return r||(h(e)||(t=(e.constructor.name||"ObservableObject")+"@"+s()),t||(t="ObservableObject@"+s()),m(e,"$mobx",r=new Bn(e,t,n)),r)}function Ln(e,t,n,r){var i=Fn(e);if(un(i)){var o=pn(i,{object:e,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}n=(i.values[t]=new Ie(n,r,i.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return Un[e]||(Un[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),i.keys&&i.keys.push(t),function(e,t,n,r){var i=dn(e),o=it(),a=i||o?{type:"add",object:t,name:n,newValue:r}:null;o&&at(j(j({},a),{name:e.name,key:n})),i&&fn(e,a),o&&ct()}(i,e,t,n)}var Un=Object.create(null),zn=Object.create(null);function Vn(e){return e.$mobx||(V(e),e.$mobx)}var Wn=g("ObservableObjectAdministration",Bn);function Hn(e){return!!d(e)&&(V(e),Wn(e.$mobx))}function Gn(e,t){if("object"==typeof e&&null!==e){if(kn(e))return void 0!==t&&c(!1),e.$mobx.atom;if(jn(e))return e.$mobx;if(In(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||c(!1),r)}var r;if(V(e),Hn(e))return t?((r=e.$mobx.values[t])||c(!1),r):c(!1);if(O(e)||je(e)||nt(e))return e}else if("function"==typeof e&&nt(e.$mobx))return e.$mobx;return c(!1)}function qn(e,t){return e||c("Expecting some object"),void 0!==t?qn(Gn(e,t)):O(e)||je(e)||nt(e)||In(e)||jn(e)?e:(V(e),e.$mobx?e.$mobx:void c(!1))}function Xn(e,t){return(void 0!==t?Gn(e,t):Hn(e)||In(e)||jn(e)?qn(e):Gn(e)).name}var Kn=Object.prototype.toString;function Yn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,i,o){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;t=Zn(t),n=Zn(n);var s=Kn.call(t);if(s!==Kn.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var c="[object Array]"===s;if(!c){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,l=n.constructor;if(u!==l&&!("function"==typeof u&&u instanceof u&&"function"==typeof l&&l instanceof l)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),o=o||[];for(var p=(i=i||[]).length;p--;)if(i[p]===t)return o[p]===n;if(i.push(t),o.push(n),c){if((p=t.length)!==n.length)return!1;for(;p--;)if(!e(t[p],n[p],r-1,i,o))return!1}else{var d=Object.keys(t),h=void 0;if(p=d.length,Object.keys(n).length!==p)return!1;for(;p--;)if(!Qn(n,h=d[p])||!e(t[h],n[h],r-1,i,o))return!1}return i.pop(),o.pop(),!0}(e,t,n)}function Zn(e){return kn(e)?e.peek():v(e)||In(e)||b(e)||jn(e)?A(e.entries()):e}function Qn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Jn="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ut,extras:{getDebugName:Xn},$mobx:Jn})},"3D7k":function(e,t,n){"use strict";var r=n("rnXk"),i=n("JW/Y").handleRollover,o={};o.ts=n("Qj6V"),o.aac=n("+9CB");var a=n("NsZL").ONE_SECOND_IN_TS,s=function(e,t,n){for(var r,i,a,s,c=0,u=188,l=!1;u<=e.byteLength;)if(71!==e[c]||71!==e[u]&&u!==e.byteLength)c++,u++;else{switch(r=e.subarray(c,u),o.ts.parseType(r,t.pid)){case"pes":i=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;c+=188,u+=188}for(c=(u=e.byteLength)-188,l=!1;c>=0;)if(71!==e[c]||71!==e[u]&&u!==e.byteLength)c--,u--;else{switch(r=e.subarray(c,u),o.ts.parseType(r,t.pid)){case"pes":i=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"audio"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="audio",n.audio.push(s),l=!0)}if(l)break;c-=188,u-=188}},c=function(e,t,n){for(var r,i,a,s,c,u,l,p=0,d=188,h=!1,f={data:[],size:0};d<e.byteLength;)if(71!==e[p]||71!==e[d])p++,d++;else{switch(r=e.subarray(p,d),o.ts.parseType(r,t.pid)){case"pes":if(i=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===i&&(a&&!h&&(s=o.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0),!n.firstKeyFrame)){if(a&&0!==f.size){for(c=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),c.set(l,u),u+=l.byteLength;if(o.ts.videoPacketContainsKeyFrame(c)){var m=o.ts.parsePesTime(c);m?(n.firstKeyFrame=m,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(r),f.size+=r.byteLength}}if(h&&n.firstKeyFrame)break;p+=188,d+=188}for(p=(d=e.byteLength)-188,h=!1;p>=0;)if(71!==e[p]||71!==e[d])p--,d--;else{switch(r=e.subarray(p,d),o.ts.parseType(r,t.pid)){case"pes":i=o.ts.parsePesType(r,t.table),a=o.ts.parsePayloadUnitStartIndicator(r),"video"===i&&a&&(s=o.ts.parsePesTime(r))&&(s.type="video",n.video.push(s),h=!0)}if(h)break;p-=188,d-=188}};e.exports={inspect:function(e,t){var n;return(n=o.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,r=0,i=null,s=null,c=0,u=0;e.length-u>=3;){switch(o.aac.parseType(e,u)){case"timed-metadata":if(e.length-u<10){n=!0;break}if((c=o.aac.parseId3TagSize(e,u))>e.length){n=!0;break}null===s&&(t=e.subarray(u,u+c),s=o.aac.parseAacTimestamp(t)),u+=c;break;case"audio":if(e.length-u<7){n=!0;break}if((c=o.aac.parseAdtsSize(e,u))>e.length){n=!0;break}null===i&&(t=e.subarray(u,u+c),i=o.aac.parseSampleRate(t)),r++,u+=c;break;default:u++}if(n)return null}if(null===i||null===s)return null;var l=a/i;return{audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*r*l,pts:s+1024*r*l}]}}(e):function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,r=0,i=188;i<e.byteLength;)if(71!==e[r]||71!==e[i])r++,i++;else{switch(n=e.subarray(r,i),o.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=o.ts.parsePat(n));break;case"pmt":t.table||(t.table=o.ts.parsePmt(n))}if(t.pid&&t.table)return;r+=188,i+=188}}(e,t),t.table)if(t.table.hasOwnProperty(i))switch(t.table[i]){case r.H264_STREAM_TYPE:n.video=[],c(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],s(e,t,n),0===n.audio.length&&delete n.audio}return n}(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;void 0===n&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=i(e.dts,n),e.pts=i(e.pts,n),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a}))}if(e.video&&e.video.length){var r=t;if(void 0===r&&(r=e.video[0].dts),e.video.forEach((function(e){e.dts=i(e.dts,r),e.pts=i(e.pts,r),e.dtsTime=e.dts/a,e.ptsTime=e.pts/a})),e.firstKeyFrame){var o=e.firstKeyFrame;o.dts=i(o.dts,r),o.pts=i(o.pts,r),o.dtsTime=o.dts/a,o.ptsTime=o.dts/a}}}(n,t),n):null},parseAudioPes_:s}},"3j5D":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){"undefined"!=typeof window&&(r.hasSupport="ontouchstart"in window,r.browserSupportsApi=Boolean(window.TouchEvent))}};r.update(),t.default=r},"3zPy":function(e,t){function n(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return a[e];var n,o=String(e);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(e,t){if(e&&"object"==typeof e){var n=e.which||e.keyCode||e.charCode;if(null==n)return!1;if("string"==typeof t){var o;if(o=r[t.toLowerCase()])return o===n;if(o=i[t.toLowerCase()])return o===n}else if("number"==typeof t)return t===n;return!1}};var r=(t=e.exports=n).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=t.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var a=t.names=t.title={};for(o in r)a[r[o]]=o;for(var s in i)r[s]=i[s]},4:function(e,t){},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"6XX6":function(e,t){e.exports=function e(t,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,u=/^0/,l=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},p=l(t).replace(a,"")||"",d=l(n).replace(a,"")||"",h=p.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=d.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(p.match(c),16)||1!==h.length&&p.match(s)&&Date.parse(p),g=parseInt(d.match(c),16)||m&&d.match(s)&&Date.parse(d)||null;if(g){if(m<g)return-1;if(m>g)return 1}for(var y=0,v=Math.max(h.length,f.length);y<v;y++){if(r=!(h[y]||"").match(u)&&parseFloat(h[y])||h[y]||0,i=!(f[y]||"").match(u)&&parseFloat(f[y])||f[y]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!=typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},"6yFf":function(e,t,n){(function(e){!function(t){"use strict";var n,r="function"==typeof(n=t.atob)?n:"function"==typeof Buffer?function(e){return new Buffer(e,"base64").toString("binary")}:"object"==typeof t.base64js?function(e){var n=t.base64js.b64ToByteArray(e);return Array.prototype.map.call(n,(function(e){return String.fromCharCode(e)})).join("")}:function(){throw new Error("You're probably in an old browser or an iOS webworker. It might help to include beatgammit's base64-js.")};t.atob=r,e&&e.exports&&(e.exports=r)}(window)}).call(this,n("YuTi")(e))},"7W2i":function(e,t,n){var r=n("SksO");e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},"7a9l":function(e,t,n){var r;!function(n){"use strict";var i=function(e){return.5*(Math.exp(e)+Math.exp(-e))},o=function(e){return.5*(Math.exp(e)-Math.exp(-e))},a=function(){throw SyntaxError("Invalid Param")};function s(e,t){var n=Math.abs(e),r=Math.abs(t);return 0===e?Math.log(r):0===t?Math.log(n):n<3e3&&r<3e3?.5*Math.log(e*e+t*t):Math.log(e/Math.cos(Math.atan2(t,e)))}function c(e,t){if(!(this instanceof c))return new c(e,t);var n=function(e,t){var n={re:0,im:0};if(null==e)n.re=n.im=0;else if(void 0!==t)n.re=e,n.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)n.re=e.re,n.im=e.im;else if("abs"in e&&"arg"in e){if(!Number.isFinite(e.abs)&&Number.isFinite(e.arg))return c.INFINITY;n.re=e.abs*Math.cos(e.arg),n.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!Number.isFinite(e.r)&&Number.isFinite(e.phi))return c.INFINITY;n.re=e.r*Math.cos(e.phi),n.im=e.r*Math.sin(e.phi)}else 2===e.length?(n.re=e[0],n.im=e[1]):a();break;case"string":n.im=n.re=0;var r=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===r&&a();for(var s=0;s<r.length;s++){var u=r[s];" "===u||"\t"===u||"\n"===u||("+"===u?i++:"-"===u?o++:"i"===u||"I"===u?(i+o===0&&a()," "===r[s+1]||isNaN(r[s+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+r[s+1]),s++),i=o=0):((i+o===0||isNaN(u))&&a(),"i"===r[s+1]||"I"===r[s+1]?(n.im+=parseFloat((o%2?"-":"")+u),s++):n.re+=parseFloat((o%2?"-":"")+u),i=o=0))}i+o>0&&a();break;case"number":n.im=0,n.re=e;break;default:a()}return isNaN(n.re)||isNaN(n.im),n}(e,t);this.re=n.re,this.im=n.im}c.prototype={re:0,im:0,sign:function(){var e=this.abs();return new c(this.re/e,this.im/e)},add:function(e,t){var n=new c(e,t);return this.isInfinite()&&n.isInfinite()?c.NAN:this.isInfinite()||n.isInfinite()?c.INFINITY:new c(this.re+n.re,this.im+n.im)},sub:function(e,t){var n=new c(e,t);return this.isInfinite()&&n.isInfinite()?c.NAN:this.isInfinite()||n.isInfinite()?c.INFINITY:new c(this.re-n.re,this.im-n.im)},mul:function(e,t){var n=new c(e,t);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?c.NAN:this.isInfinite()||n.isInfinite()?c.INFINITY:0===n.im&&0===this.im?new c(this.re*n.re,0):new c(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(e,t){var n=new c(e,t);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return c.NAN;if(this.isInfinite()||n.isZero())return c.INFINITY;if(this.isZero()||n.isInfinite())return c.ZERO;e=this.re,t=this.im;var r,i,o=n.re,a=n.im;return 0===a?new c(e/o,t/o):Math.abs(o)<Math.abs(a)?new c((e*(i=o/a)+t)/(r=o*i+a),(t*i-e)/r):new c((e+t*(i=a/o))/(r=a*i+o),(t-e*i)/r)},pow:function(e,t){var n=new c(e,t);if(e=this.re,t=this.im,n.isZero())return c.ONE;if(0===n.im){if(0===t&&e>=0)return new c(Math.pow(e,n.re),0);if(0===e)switch((n.re%4+4)%4){case 0:return new c(Math.pow(t,n.re),0);case 1:return new c(0,Math.pow(t,n.re));case 2:return new c(-Math.pow(t,n.re),0);case 3:return new c(0,-Math.pow(t,n.re))}}if(0===e&&0===t&&n.re>0&&n.im>=0)return c.ZERO;var r=Math.atan2(t,e),i=s(e,t);return e=Math.exp(n.re*i-n.im*r),t=n.im*i+n.re*r,new c(e*Math.cos(t),e*Math.sin(t))},sqrt:function(){var e,t,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new c(Math.sqrt(n),0);e=.5*Math.sqrt(2*(i+n))}else e=Math.abs(r)/Math.sqrt(2*(i-n));return t=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new c(e,r<0?-t:t)},exp:function(){var e=Math.exp(this.re);return new c(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){var e=this.re,t=this.im;return new c(Math.expm1(e)*Math.cos(t)+function(e){var t=Math.PI/4;if(e<-t||e>t)return Math.cos(e)-1;var n=e*e;return n*(n*(1/24+n*(-1/720+n*(1/40320+n*(-1/3628800+n*(1/4790014600+n*(-1/87178291200+n*(1/20922789888e3)))))))-.5)}(t),Math.exp(e)*Math.sin(t))},log:function(){var e=this.re,t=this.im;return new c(s(e,t),Math.atan2(t,e))},abs:function(){return e=this.re,t=this.im,n=Math.abs(e),r=Math.abs(t),n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=e/t):r=t/e,n*Math.sqrt(1+r*r));var e,t,n,r},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var e=this.re,t=this.im;return new c(Math.sin(e)*i(t),Math.cos(e)*o(t))},cos:function(){var e=this.re,t=this.im;return new c(Math.cos(e)*i(t),-Math.sin(e)*o(t))},tan:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)+i(t);return new c(Math.sin(e)/n,o(t)/n)},cot:function(){var e=2*this.re,t=2*this.im,n=Math.cos(e)-i(t);return new c(-Math.sin(e)/n,o(t)/n)},sec:function(){var e=this.re,t=this.im,n=.5*i(2*t)+.5*Math.cos(2*e);return new c(Math.cos(e)*i(t)/n,Math.sin(e)*o(t)/n)},csc:function(){var e=this.re,t=this.im,n=.5*i(2*t)-.5*Math.cos(2*e);return new c(Math.sin(e)*i(t)/n,-Math.cos(e)*o(t)/n)},asin:function(){var e=this.re,t=this.im,n=new c(t*t-e*e+1,-2*e*t).sqrt(),r=new c(n.re-t,n.im+e).log();return new c(r.im,-r.re)},acos:function(){var e=this.re,t=this.im,n=new c(t*t-e*e+1,-2*e*t).sqrt(),r=new c(n.re-t,n.im+e).log();return new c(Math.PI/2-r.im,r.re)},atan:function(){var e=this.re,t=this.im;if(0===e){if(1===t)return new c(0,1/0);if(-1===t)return new c(0,-1/0)}var n=e*e+(1-t)*(1-t),r=new c((1-t*t-e*e)/n,-2*e/n).log();return new c(-.5*r.im,.5*r.re)},acot:function(){var e=this.re,t=this.im;if(0===t)return new c(Math.atan2(1,e),0);var n=e*e+t*t;return 0!==n?new c(e/n,-t/n).atan():new c(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new c(0,1/0);var n=e*e+t*t;return 0!==n?new c(e/n,-t/n).acos():new c(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new c(Math.PI/2,1/0);var n=e*e+t*t;return 0!==n?new c(e/n,-t/n).asin():new c(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){var e=this.re,t=this.im;return new c(o(e)*Math.cos(t),i(e)*Math.sin(t))},cosh:function(){var e=this.re,t=this.im;return new c(i(e)*Math.cos(t),o(e)*Math.sin(t))},tanh:function(){var e=2*this.re,t=2*this.im,n=i(e)+Math.cos(t);return new c(o(e)/n,Math.sin(t)/n)},coth:function(){var e=2*this.re,t=2*this.im,n=i(e)-Math.cos(t);return new c(o(e)/n,-Math.sin(t)/n)},csch:function(){var e=this.re,t=this.im,n=Math.cos(2*t)-i(2*e);return new c(-2*o(e)*Math.cos(t)/n,2*i(e)*Math.sin(t)/n)},sech:function(){var e=this.re,t=this.im,n=Math.cos(2*t)+i(2*e);return new c(2*i(e)*Math.cos(t)/n,-2*o(e)*Math.sin(t)/n)},asinh:function(){var e=this.im;this.im=-this.re,this.re=e;var t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){var e=this.acos();if(e.im<=0){var t=e.re;e.re=-e.im,e.im=t}else t=e.im,e.im=-e.re,e.re=t;return e},atanh:function(){var e=this.re,t=this.im,n=e>1&&0===t,r=1-e,i=1+e,o=r*r+t*t,a=0!==o?new c((i*r-t*t)/o,(t*r+i*t)/o):new c(-1!==e?e/0:0,0!==t?t/0:0),u=a.re;return a.re=s(a.re,a.im)/2,a.im=Math.atan2(a.im,u)/2,n&&(a.im=-a.im),a},acoth:function(){var e=this.re,t=this.im;if(0===e&&0===t)return new c(0,Math.PI/2);var n=e*e+t*t;return 0!==n?new c(e/n,-t/n).atanh():new c(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){var e=this.re,t=this.im;if(0===t)return new c(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);var n=e*e+t*t;return 0!==n?new c(e/n,-t/n).asinh():new c(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){var e=this.re,t=this.im;if(this.isZero())return c.INFINITY;var n=e*e+t*t;return 0!==n?new c(e/n,-t/n).acosh():new c(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var e=this.re,t=this.im,n=e*e+t*t;return new c(e/n,-t/n)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new c(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new c(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new c(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){var n=new c(e,t);return Math.abs(n.re-this.re)<=c.EPSILON&&Math.abs(n.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var e=this.re,t=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(n+=e),0!==t&&(0!==e?n+=t<0?" - ":" + ":t<0&&(n+="-"),1!==(t=Math.abs(t))&&(n+=t),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isNaN(this.re)||isNaN(this.im)})),isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return isFinite(this.re)&&isFinite(this.im)})),isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-16,void 0===(r=(function(){return c}).apply(t,[]))||(e.exports=r)}()},"7zRj":function(e,t,n){var r,i="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},o=n(4);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=r},"8OJ3":function(e,t,n){"use strict";n.r(t);var r=n("vgmO"),i=n.n(r),o=n("7zRj"),a=n.n(o),s=n("pVnL"),c=n.n(s),u=n("PJYZ"),l=n.n(u),p=(n("a1gu"),n("Nsbk"),n("VbXa")),d=n.n(p),h=n("jBAH"),f=n.n(h),m=n("3zPy"),g=n.n(m),y=n("BF8C"),v=n.n(y),b=n("K4wu"),A=n.n(b),x=n("sXyB"),w=n.n(x),_=n("7W2i"),S=n.n(_),T=n("X8+f"),P=n.n(T),C=n("lb+f"),E=n.n(C),k=n("d2VH"),O=n.n(k),M=function(e){function t(){var t;return(t=e.call(this)||this).buffer="",t}return d()(t,e),t.prototype.push=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(E.a),N=function(e){for(var t,n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},i=n.length;i--;)""!==n[i]&&((t=/([^=]*)=(.*)/.exec(n[i]).slice(1))[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),r[t[0]]=t[1]);return r},I=function(e){function t(){var t;return(t=e.call(this)||this).customParsers=[],t.tagMappers=[],t}d()(t,e);var n=t.prototype;return n.push=function(e){var t,n,r=this;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((function(t,n){var r=n(e);return r===e?t:t.concat([r])}),[e]).forEach((function(e){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void r.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void r.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void r.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void r.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var o=N(t[1]);if(o.URI&&(n.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],c=a[1];n.byterange={},s&&(n.byterange.length=parseInt(s,10)),c&&(n.byterange.offset=parseInt(c,10))}}r.trigger("data",n)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=N(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),l={};u[0]&&(l.width=parseInt(u[0],10)),u[1]&&(l.height=parseInt(u[1],10)),n.attributes.RESOLUTION=l}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}r.trigger("data",n)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=N(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void r.trigger("data",n);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=N(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void r.trigger("data",n);if(t=/^#EXT-X-START:?(.*)$/.exec(e))return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=N(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return(n={type:"tag",tagType:"cue-out-cont"}).data=t[1]?t[1]:"",void r.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return(n={type:"tag",tagType:"cue-out"}).data=t[1]?t[1]:"",void r.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return(n={type:"tag",tagType:"cue-in"}).data=t[1]?t[1]:"",void r.trigger("data",n);r.trigger("data",{type:"tag",data:e.slice(4)})}}}else r.trigger("data",{type:"comment",text:e.slice(1)})})):this.trigger("data",{type:"uri",uri:e}))},n.addParser=function(e){var t=this,n=e.expression,r=e.customType,i=e.dataParser,o=e.segment;"function"!=typeof i&&(i=function(e){return e}),this.customParsers.push((function(e){if(n.exec(e))return t.trigger("data",{type:"custom",data:i(e),customType:r,segment:o}),!0}))},n.addTagMapper=function(e){var t=e.expression,n=e.map;this.tagMappers.push((function(e){return t.test(e)?n(e):e}))},t}(E.a),D=function(e){function t(){var t;(t=e.call(this)||this).lineStream=new M,t.parseStream=new I,t.lineStream.pipe(t.parseStream);var n,r,i=l()(t),o=[],a={},s=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p=0;t.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0;return t.parseStream.on("data",(function(e){var t,l;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(e.offset=d)),"offset"in e&&(a.byterange=t,t.offset=e.offset),d=t.offset+t.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:O()(e.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,p=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){n={},e.uri&&(n.uri=e.uri),e.byterange&&(n.byterange=e.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes?(a.attributes||(a.attributes={}),c()(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME){var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],(l={default:/yes/i.test(e.attributes.DEFAULT)}).autoselect=!!l.default||/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(l.language=e.attributes.LANGUAGE),e.attributes.URI&&(l.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(l.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(l.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(l.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=l}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){p+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject},targetduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):this.manifest.targetDuration=e.duration},totalduration:function(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):this.manifest.totalDuration=e.duration},start:function(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=e.data},"cue-out-cont":function(){a.cueOutCont=e.data},"cue-in":function(){a.cueIn=e.data}}[e.tagType]||s).call(i)},uri:function(){a.uri=e.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),r&&(a.key=r),a.timeline=p,n&&(a.map=n),a={}},comment:function(){},custom:function(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(i)})),t}d()(t,e);var n=t.prototype;return n.push=function(e){this.lineStream.push(e)},n.end=function(){this.lineStream.push("\n")},n.addParser=function(e){this.parseStream.addParser(e)},n.addTagMapper=function(e){this.parseStream.addTagMapper(e)},t}(E.a),R=n("sr3F"),j=n("Mjzu"),B=n.n(j),F=n("prUH"),L=n.n(F),U=n("KdhP"),z=function(e){return!!e&&"object"==typeof e},V=function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce((function(t,n){return Object.keys(n).forEach((function(r){t[r]=Array.isArray(t[r])&&Array.isArray(n[r])?t[r].concat(n[r]):z(t[r])&&z(n[r])?e(t[r],n[r]):n[r]})),t}),{})},W=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},H=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},G=function(e){var t=e.baseUrl,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,o=e.range,a=void 0===o?"":o,s=e.indexRange,c=void 0===s?"":s,u={uri:i,resolvedUri:B()(n||"",i)};if(a||c){var l=(a||c).split("-"),p=parseInt(l[0],10),d=parseInt(l[1],10);u.byterange={length:d-p+1,offset:p}}return u},q={static:function(e){var t=e.timescale;return{start:0,end:Math.ceil(e.sourceDuration/(e.duration/(void 0===t?1:t)))}},dynamic:function(e){var t=e.timescale,n=void 0===t?1:t,r=e.duration,i=e.start,o=e.minimumUpdatePeriod,a=e.timeShiftBufferDepth,s=void 0===a?1/0:a,c=(e.NOW+e.clientOffset)/1e3,u=e.availabilityStartTime+(void 0===i?0:i),l=Math.ceil((c+(void 0===o?0:o)-u)*n/r),p=Math.floor((c-u-s)*n/r),d=Math.floor((c-u)*n/r);return{start:Math.max(0,p),end:Math.min(l,d)}}},X=function(e){var t=e.type,n=void 0===t?"static":t,r=e.duration,i=e.timescale,o=void 0===i?1:i,a=e.sourceDuration,s=q[n](e),c=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}(s.start,s.end).map(function(e){return function(t,n){var r=e.duration,i=e.timescale,o=e.startNumber;return{number:(void 0===o?1:o)+t,duration:r/(void 0===i?1:i),timeline:e.periodIndex,time:n*r}}}(e));if("static"===n){var u=c.length-1;c[u].duration=a-r/o*u}return c},K=function(e){var t=e.baseUrl,n=e.initialization,r=void 0===n?{}:n,i=e.sourceDuration,o=e.indexRange,a=void 0===o?"":o,s=e.duration;if(!t)throw new Error("NO_BASE_URL");var c=G({baseUrl:t,source:r.sourceURL,range:r.range}),u=G({baseUrl:t,source:t,indexRange:a});if(u.map=c,s){var l=X(e);l.length&&(u.duration=l[0].duration,u.timeline=l[0].timeline)}else i&&(u.duration=i,u.timeline=0);return u.number=0,[u]},Y=function(e,t,n){for(var r=e.sidx.map?e.sidx.map:null,i=e.sidx.duration,o=e.timeline||0,a=e.sidx.byterange,s=a.offset+a.length,c=t.timescale,u=t.references.filter((function(e){return 1!==e.referenceType})),l=[],p=s+t.firstOffset,d=0;d<u.length;d++){var h=t.references[d],f=h.referencedSize,m=K({baseUrl:n,timescale:c,timeline:o,periodIndex:o,duration:h.subsegmentDuration,sourceDuration:i,indexRange:p+"-"+(p+f-1)})[0];r&&(m.map=r),l.push(m),p+=f}return e.segments=l,e},Z=function(e){var t;return(t=e.reduce((function(e,t){var n,r=t.attributes.id+(t.attributes.lang||"");return e[r]?(t.segments[0]&&(t.segments[0].discontinuity=!0),(n=e[r].segments).push.apply(n,t.segments),t.attributes.contentProtection&&(e[r].attributes.contentProtection=t.attributes.contentProtection)):e[r]=t,e}),{}),Object.keys(t).map((function(e){return t[e]}))).map((function(e){return e.discontinuityStarts=e.segments.reduce((function(e,t,n){return t.discontinuity&&e.push(n),e}),[]),e}))},Q=function(e,t){if(void 0===t&&(t={}),!Object.keys(t).length)return e;for(var n in e){var r=e[n];if(r.sidx){var i=r.sidx.uri+"-"+(a=r.sidx.byterange).offset+"-"+(a.offset+a.length-1),o=t[i]&&t[i].sidx;r.sidx&&o&&Y(r,o,r.sidx.resolvedUri)}}var a;return e},J=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,o={attributes:(t={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),i&&(o.sidx=i),o},$=function(e){var t,n=e.attributes,r=e.segments,i=e.sidx,o={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===(n.type||"static"),timeline:n.periodIndex,resolvedUri:"",targetDuration:n.duration,segments:r,mediaSequence:r.length?r[0].number:1};return n.contentProtection&&(o.contentProtection=n.contentProtection),i&&(o.sidx=i),o},ee=function(e,t,n){var r=e.timescale,i=e.start,o=e.minimumUpdatePeriod;return Math.ceil((((e.NOW+e.clientOffset)/1e3+(void 0===o?0:o)-(e.availabilityStartTime+(void 0===i?0:i)))*(void 0===r?1:r)-t)/n)},te=function(e,t){for(var n=e.type,r=void 0===n?"static":n,i=e.minimumUpdatePeriod,o=void 0===i?0:i,a=e.media,s=void 0===a?"":a,c=e.sourceDuration,u=e.timescale,l=void 0===u?1:u,p=e.startNumber,d=void 0===p?1:p,h=e.periodIndex,f=[],m=-1,g=0;g<t.length;g++){var y=t[g],v=y.d,b=y.r||0,A=y.t||0;m<0&&(m=A),A&&A>m&&(m=A);var x=void 0;if(b<0){var w=g+1;x=w===t.length?"dynamic"===r&&o>0&&s.indexOf("$Number$")>0?ee(e,m,v):(c*l-m)/v:(t[w].t-m)/v}else x=b+1;for(var _=d+f.length+x,S=d+f.length;S<_;)f.push({number:S,duration:v/l,time:m,timeline:h}),m+=v,S++}return f},ne=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,re=function(e,t){return e.replace(ne,function(e){return function(t,n,r,i){if("$$"===t)return"$";if(void 0===e[n])return t;var o=""+e[n];return"RepresentationID"===n?o:(i=r?parseInt(i,10):1,o.length>=i?o:""+new Array(i-o.length+1).join("0")+o)}}(t))},ie=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},r=e.initialization,i=void 0===r?{sourceURL:"",range:""}:r,o=G({baseUrl:e.baseUrl,source:re(i.sourceURL,n),range:i.range});return function(e,t){return e.duration||t?e.duration?X(e):te(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodIndex}]}(e,t).map((function(t){n.Number=t.number,n.Time=t.time;var r=re(e.media||"",n);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:B()(e.baseUrl||"",r),map:o,number:t.number}}))},oe=function(e,t){var n=e.duration,r=e.segmentUrls,i=void 0===r?[]:r;if(!n&&!t||n&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");var o,a=i.map((function(t){return function(e,t){var n=e.baseUrl,r=e.initialization,i=void 0===r?{}:r,o=G({baseUrl:n,source:i.sourceURL,range:i.range}),a=G({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=o,a}(e,t)}));return n&&(o=X(e)),t&&(o=te(e,t)),o.map((function(e,t){if(a[t]){var n=a[t];return n.timeline=e.timeline,n.duration=e.duration,n.number=e.number,n}})).filter((function(e){return e}))},ae=function(e){var t,n,r=e.attributes,i=e.segmentInfo;i.template?(n=ie,t=V(r,i.template)):i.base?(n=K,t=V(r,i.base)):i.list&&(n=oe,t=V(r,i.list));var o={attributes:r};if(!n)return o;var a=n(t,i.timeline);if(t.duration){var s=t.timescale;t.duration=t.duration/(void 0===s?1:s)}else t.duration=a.length?a.reduce((function(e,t){return Math.max(e,Math.ceil(t.duration))}),0):0;return o.attributes=t,o.segments=a,i.base&&t.indexRange&&(o.sidx=a[0],o.segments=[]),o},se=function(e,t){return H(e.childNodes).filter((function(e){return e.tagName===t}))},ce=function(e){return e.textContent.trim()},ue=function(e){var t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;var n=t.slice(1),r=n[1],i=n[2],o=n[3],a=n[4],s=n[5];return 31536e3*parseFloat(n[0]||0)+2592e3*parseFloat(r||0)+86400*parseFloat(i||0)+3600*parseFloat(o||0)+60*parseFloat(a||0)+parseFloat(s||0)},le={mediaPresentationDuration:function(e){return ue(e)},availabilityStartTime:function(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:function(e){return ue(e)},suggestedPresentationDelay:function(e){return ue(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return ue(e)},start:function(e){return ue(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?ue(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},pe=function(e){return e&&e.attributes?H(e.attributes).reduce((function(e,t){return e[t.name]=(le[t.name]||le.DEFAULT)(t.value),e}),{}):{}},de={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},he=function(e,t){return t.length?W(e.map((function(e){return t.map((function(t){return B()(e,ce(t))}))}))):e},fe=function(e){var t=se(e,"SegmentTemplate")[0],n=se(e,"SegmentList")[0],r=n&&se(n,"SegmentURL").map((function(e){return V({tag:"SegmentURL"},pe(e))})),i=se(e,"SegmentBase")[0],o=n||t,a=o&&se(o,"SegmentTimeline")[0],s=n||i||t,c=s&&se(s,"Initialization")[0],u=t&&pe(t);u&&c?u.initialization=c&&pe(c):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var l={template:u,timeline:a&&se(a,"S").map((function(e){return pe(e)})),list:n&&V(pe(n),{segmentUrls:r,initialization:pe(c)}),base:i&&V(pe(i),{initialization:pe(c)})};return Object.keys(l).forEach((function(e){l[e]||delete l[e]})),l},me=function(e,t){return function(n,r){var o=he(t,se(n,"BaseURL")),a=pe(n),s=parseInt(a.id,10),c=i.a.isNaN(s)?r:s,u=V(e,{periodIndex:c}),l=se(n,"AdaptationSet"),p=fe(n);return W(l.map(function(e,t,n){return function(r){var i=pe(r),o=he(t,se(r,"BaseURL")),a=se(r,"Role")[0],s={role:pe(a)},c=V(e,i,s),u=se(r,"ContentProtection").reduce((function(e,t){var n=pe(t),r=de[n.schemeIdUri];if(r){e[r]={attributes:n};var i=se(t,"cenc:pssh")[0];if(i){var o=ce(i),a=o&&L()(o);e[r].pssh=a}}return e}),{});Object.keys(u).length&&(c=V(c,{contentProtection:u}));var l=fe(r),p=se(r,"Representation"),d=V(n,l);return W(p.map(function(e,t,n){return function(r){var i=se(r,"BaseURL"),o=he(t,i),a=V(e,pe(r)),s=fe(r);return o.map((function(e){return{segmentInfo:V(n,s),attributes:V(a,{baseUrl:e})}}))}}(c,o,d)))}}(u,o,p)))}},ge=function(e){if(""===e)throw new Error("DASH_EMPTY_MANIFEST");var t=(new U.DOMParser).parseFromString(e,"application/xml"),n=t&&"MPD"===t.documentElement.tagName?t.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return n},ye=function(e,t){void 0===t&&(t={});var n=function(e,t){void 0===t&&(t={});var n=t,r=n.manifestUri,i=void 0===r?"":r,o=n.NOW,a=void 0===o?Date.now():o,s=n.clientOffset,c=void 0===s?0:s,u=se(e,"Period");if(!u.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var l=se(e,"Location"),p=pe(e),d=he([i],se(e,"BaseURL"));return p.sourceDuration=p.mediaPresentationDuration||0,p.NOW=a,p.clientOffset=c,l.length&&(p.locations=l.map(ce)),{locations:p.locations,representationInfo:W(u.map(me(p,d)))}}(ge(e),t);return function(e,t,n){var r;if(void 0===n&&(n={}),!e.length)return{};var i=e[0].attributes,o=i.sourceDuration,a=i.type,s=void 0===a?"static":a,c=i.suggestedPresentationDelay,u=i.minimumUpdatePeriod,l=Z(e.filter((function(e){var t=e.attributes;return"video/mp4"===t.mimeType||"video"===t.contentType}))).map($),p=Z(e.filter((function(e){var t=e.attributes;return"audio/mp4"===t.mimeType||"audio"===t.contentType}))),d=e.filter((function(e){var t=e.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType})),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:o,playlists:Q(l,n)};return u>=0&&(h.minimumUpdatePeriod=1e3*u),t&&(h.locations=t),"dynamic"===s&&(h.suggestedPresentationDelay=c),p.length&&(h.mediaGroups.AUDIO.audio=function(e,t){var n;void 0===t&&(t={});var r=e.reduce((function(e,r){var i=r.attributes.role&&r.attributes.role.value||"",o=r.attributes.lang||"",a="main";return o&&(a=r.attributes.lang+(i?" ("+i+")":"")),e[a]&&e[a].playlists[0].attributes.BANDWIDTH>r.attributes.bandwidth||(e[a]={language:o,autoselect:!0,default:"main"===i,playlists:Q([J(r)],t),uri:""},void 0===n&&"main"===i&&((n=r).default=!0)),e}),{});return n||(r[Object.keys(r)[0]].default=!0),r}(p,n)),d.length&&(h.mediaGroups.SUBTITLES.subs=function(e,t){return void 0===t&&(t={}),e.reduce((function(e,n){var r,i,o,a,s=n.attributes.lang||"text";return e[s]||(e[s]={language:s,default:!1,autoselect:!1,playlists:Q([(r=n,o=r.attributes,a=r.segments,void 0===a&&(a=[{uri:o.baseUrl,timeline:o.periodIndex,resolvedUri:o.baseUrl||"",duration:o.sourceDuration,number:0}],o.duration=o.sourceDuration),{attributes:(i={NAME:o.id,BANDWIDTH:o.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===(o.type||"static"),timeline:o.periodIndex,resolvedUri:o.baseUrl||"",targetDuration:o.duration,segments:a,mediaSequence:a.length?a[0].number:1})],t),uri:""}),e}),{})}(d,n)),h}(n.representationInfo.map(ae),n.locations,t.sidxMapping)},ve=n("gcCN"),be=n.n(ve),Ae=n("dkxo"),xe=n("r+ot"),we=n("3D7k"),_e=n.n(we),Se=n("NsZL"),Te=n("KAYj"),Pe=n.n(Te),Ce=n("KN4Y"),Ee=[],ke=function e(t){var n,r="info",o=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n("log",r,t)};return n=function(e,t){return function(n,r,o){var a=t.levels[r],s=new RegExp("^("+a+")$");if("log"!==n&&o.unshift(n.toUpperCase()+":"),o.unshift(e+":"),Ee){Ee.push([].concat(o));var c=Ee.length-1e3;Ee.splice(0,c>0?c:0)}if(i.a.console){var u=i.a.console[n];u||"debug"!==n||(u=i.a.console.info||i.a.console.log),u&&a&&s.test(n)&&u[Array.isArray(o)?"apply":"call"](i.a.console,o)}}}(t,o),o.createLogger=function(n){return e(t+": "+n)},o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},o.level=function(e){if("string"==typeof e){if(!o.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');r=e}return r},(o.history=function(){return Ee?[].concat(Ee):[]}).filter=function(e){return(Ee||[]).filter((function(t){return new RegExp(".*"+e+".*").test(t[0])}))},o.history.clear=function(){Ee&&(Ee.length=0)},o.history.disable=function(){null!==Ee&&(Ee.length=0,Ee=null)},o.history.enable=function(){null===Ee&&(Ee=[])},o.error=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("error",r,t)},o.warn=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("warn",r,t)},o.debug=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n("debug",r,t)},o}("VIDEOJS"),Oe=ke.createLogger,Me=Object.prototype.toString,Ne=function(e){return Re(e)?Object.keys(e):[]};function Ie(e,t){Ne(e).forEach((function(n){return t(e[n],n)}))}function De(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?c.a.apply(void 0,[e].concat(n)):(n.forEach((function(t){t&&Ie(t,(function(t,n){e[n]=t}))})),e)}function Re(e){return!!e&&"object"==typeof e}function je(e){return Re(e)&&"[object Object]"===Me.call(e)&&e.constructor===Object}function Be(e,t){if(!e||!t)return"";if("function"==typeof i.a.getComputedStyle){var n=i.a.getComputedStyle(e);return n?n.getPropertyValue(t)||n[t]:""}return""}function Fe(e){return"string"==typeof e&&Boolean(e.trim())}function Le(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Ue(){return a.a===i.a.document}function ze(e){return Re(e)&&1===e.nodeType}function Ve(){try{return i.a.parent!==i.a.self}catch(e){return!0}}function We(e){return function(t,n){if(!Fe(t))return a.a[e](null);Fe(n)&&(n=a.a.querySelector(n));var r=ze(n)?n:a.a;return r[e]&&r[e](t)}}function He(e,t,n,r){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===n&&(n={});var i=a.a.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(ke.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+e+" to "+n+"."),i.setAttribute(e,n)):"textContent"===e?Ge(i,n):i[e]!==n&&(i[e]=n)})),Object.getOwnPropertyNames(n).forEach((function(e){i.setAttribute(e,n[e])})),r&&lt(i,r),i}function Ge(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function qe(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Xe(e,t){return Le(t),e.classList?e.classList.contains(t):(n=t,new RegExp("(^|\\s)"+n+"($|\\s)")).test(e.className);var n}function Ke(e,t){return e.classList?e.classList.add(t):Xe(e,t)||(e.className=(e.className+" "+t).trim()),e}function Ye(e,t){return e.classList?e.classList.remove(t):(Le(t),e.className=e.className.split(/\s+/).filter((function(e){return e!==t})).join(" ")),e}function Ze(e,t,n){var r=Xe(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?Ke(e,t):Ye(e,t),e}function Qe(e,t){Object.getOwnPropertyNames(t).forEach((function(n){var r=t[n];null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)}))}function Je(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function $e(e,t){return e.getAttribute(t)}function et(e,t,n){e.setAttribute(t,n)}function tt(e,t){e.removeAttribute(t)}function nt(){a.a.body.focus(),a.a.onselectstart=function(){return!1}}function rt(){a.a.onselectstart=function(){return!0}}function it(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach((function(e){void 0!==t[e]&&(n[e]=t[e])})),n.height||(n.height=parseFloat(Be(e,"height"))),n.width||(n.width=parseFloat(Be(e,"width"))),n}}function ot(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};var t=e.offsetWidth,n=e.offsetHeight,r=0,i=0;do{r+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent}while(e);return{left:r,top:i,width:t,height:n}}function at(e,t){var n={},r=ot(t.target),i=ot(e),o=i.width,a=t.offsetY-(i.top-r.top),s=t.offsetX-(i.left-r.left);return t.changedTouches&&(s=t.changedTouches[0].pageX-i.left,a=t.changedTouches[0].pageY+i.top),n.y=1-Math.max(0,Math.min(1,a/i.height)),n.x=Math.max(0,Math.min(1,s/o)),n}function st(e){return Re(e)&&3===e.nodeType}function ct(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function ut(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((function(e){return"function"==typeof e&&(e=e()),ze(e)||st(e)?e:"string"==typeof e&&/\S/.test(e)?a.a.createTextNode(e):void 0})).filter((function(e){return e}))}function lt(e,t){return ut(t).forEach((function(t){return e.appendChild(t)})),e}function pt(e,t){return lt(ct(e),t)}function dt(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}var ht,ft=We("querySelector"),mt=We("querySelectorAll"),gt=Object.freeze({__proto__:null,isReal:Ue,isEl:ze,isInFrame:Ve,createEl:He,textContent:Ge,prependTo:qe,hasClass:Xe,addClass:Ke,removeClass:Ye,toggleClass:Ze,setAttributes:Qe,getAttributes:Je,getAttribute:$e,setAttribute:et,removeAttribute:tt,blockTextSelection:nt,unblockTextSelection:rt,getBoundingClientRect:it,findPosition:ot,getPointerPosition:at,isTextNode:st,emptyEl:ct,normalizeContent:ut,appendContent:lt,insertContent:pt,isSingleLeftClick:dt,$:ft,$$:mt}),yt=!1,vt=function(){if(Ue()&&!1!==ht.options.autoSetup){var e=Array.prototype.slice.call(a.a.getElementsByTagName("video")),t=Array.prototype.slice.call(a.a.getElementsByTagName("audio")),n=Array.prototype.slice.call(a.a.getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(var i=0,o=r.length;i<o;i++){var s=r[i];if(!s||!s.getAttribute){bt(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&ht(s)}else yt||bt(1)}};function bt(e,t){t&&(ht=t),i.a.setTimeout(vt,e)}function At(){yt=!0,i.a.removeEventListener("load",At)}Ue()&&("complete"===a.a.readyState?At():i.a.addEventListener("load",At));var xt,wt=function(e){var t=a.a.createElement("style");return t.className=e,t},_t=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},St=3;function Tt(){return St++}i.a.WeakMap||(xt=function(){function e(){this.vdata="vdata"+Math.floor(i.a.performance&&i.a.performance.now()||Date.now()),this.data={}}var t=e.prototype;return t.set=function(e,t){var n=e[this.vdata]||Tt();return e[this.vdata]||(e[this.vdata]=n),this.data[n]=t,this},t.get=function(e){var t=e[this.vdata];if(t)return this.data[t];ke("We have no data for this element",e)},t.has=function(e){return e[this.vdata]in this.data},t.delete=function(e){var t=e[this.vdata];t&&(delete this.data[t],delete e[this.vdata])},e}());var Pt,Ct=i.a.WeakMap?new WeakMap:new xt;function Et(e,t){if(Ct.has(e)){var n=Ct.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Ct.delete(e)}}function kt(e,t,n,r){n.forEach((function(n){e(t,n,r)}))}function Ot(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||i.a.event;for(var o in e={},r)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&r.preventDefault||(e[o]=r[o]));if(e.target||(e.target=e.srcElement||a.a),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!=e.clientX){var s=a.a.documentElement,c=a.a.body;e.pageX=e.clientX+(s&&s.scrollLeft||c&&c.scrollLeft||0)-(s&&s.clientLeft||c&&c.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||c&&c.scrollTop||0)-(s&&s.clientTop||c&&c.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var Mt=["touchstart","touchmove"];function Nt(e,t,n){if(Array.isArray(t))return kt(Nt,e,t,n);Ct.has(e)||Ct.set(e,{});var r=Ct.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=Tt()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=Ot(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(c){ke.error(c)}}}),1===r.handlers[t].length)if(e.addEventListener){var o=!1;(function(){if("boolean"!=typeof Pt){Pt=!1;try{var e=Object.defineProperty({},"passive",{get:function(){Pt=!0}});i.a.addEventListener("test",null,e),i.a.removeEventListener("test",null,e)}catch(t){}}return Pt})()&&Mt.indexOf(t)>-1&&(o={passive:!0}),e.addEventListener(t,r.dispatcher,o)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function It(e,t,n){if(Ct.has(e)){var r=Ct.get(e);if(r.handlers){if(Array.isArray(t))return kt(It,e,t,n);var i=function(e,t){r.handlers[t]=[],Et(e,t)};if(void 0!==t){var o=r.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);Et(e,t)}else i(e,t)}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s)}}}function Dt(e,t,n){var r=Ct.has(e)?Ct.get(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Ot(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)Dt.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){Ct.has(t.target)||Ct.set(t.target,{});var o=Ct.get(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function Rt(e,t,n){if(Array.isArray(t))return kt(Rt,e,t,n);var r=function r(){It(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Tt(),Nt(e,t,r)}function jt(e,t,n){var r=function r(){It(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Tt(),Nt(e,t,r)}var Bt,Ft=Object.freeze({__proto__:null,fixEvent:Ot,on:Nt,off:It,trigger:Dt,one:Rt,any:jt}),Lt=function(e,t,n){t.guid||(t.guid=Tt());var r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},Ut=function(e,t){var n=i.a.performance.now();return function(){var r=i.a.performance.now();r-n>=t&&(e.apply(void 0,arguments),n=r)}},zt=function(){};zt.prototype.allowedEvents_={},zt.prototype.addEventListener=zt.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Nt(this,e,t),this.addEventListener=n},zt.prototype.removeEventListener=zt.prototype.off=function(e,t){It(this,e,t)},zt.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Rt(this,e,t),this.addEventListener=n},zt.prototype.any=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},jt(this,e,t),this.addEventListener=n},zt.prototype.dispatchEvent=zt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=Ot(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Dt(this,e)},zt.prototype.queueTrigger=function(e){var t=this;Bt||(Bt=new Map);var n=e.type||e,r=Bt.get(this);r||(r=new Map,Bt.set(this,r));var o=r.get(n);r.delete(n),i.a.clearTimeout(o);var a=i.a.setTimeout((function(){0===r.size&&(r=null,Bt.delete(t)),t.trigger(e)}),0);r.set(n,a)};var Vt=function(e){return e instanceof zt||!!e.eventBusEl_&&["on","one","off","trigger"].every((function(t){return"function"==typeof e[t]}))},Wt=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Ht=function(e){if(!e.nodeName&&!Vt(e))throw new Error("Invalid target; must be a DOM node or evented object.")},Gt=function(e){if(!Wt(e))throw new Error("Invalid event type; must be a non-empty string or array.")},qt=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},Xt=function(e,t){var n,r,i,o=t.length<3||t[0]===e||t[0]===e.eventBusEl_;return o?(n=e.eventBusEl_,t.length>=3&&t.shift(),r=t[0],i=t[1]):(n=t[0],r=t[1],i=t[2]),Ht(n),Gt(r),qt(i),{isTargetingSelf:o,target:n,type:r,listener:i=Lt(e,i)}},Kt=function(e,t,n,r){Ht(e),e.nodeName?Ft[t](e,n,r):e[t](n,r)},Yt={on:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(Kt(a,"on",s,c),!o){var u=function(){return e.off(a,s,c)};u.guid=c.guid;var l=function(){return e.off("dispose",u)};l.guid=c.guid,Kt(this,"on","dispose",u),Kt(a,"on","dispose",l)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(o)Kt(a,"one",s,c);else{var u=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];c.apply(null,r)};u.guid=c.guid,Kt(a,"one",s,u)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Xt(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,c=i.listener;if(o)Kt(a,"any",s,c);else{var u=function t(){e.off(a,s,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];c.apply(null,r)};u.guid=c.guid,Kt(a,"any",s,u)}},off:function(e,t,n){if(!e||Wt(e))It(this.eventBusEl_,e,t);else{var r=e,i=t;Ht(r),Gt(i),qt(n),n=Lt(this,n),this.off("dispose",n),r.nodeName?(It(r,i,n),It(r,"dispose",n)):Vt(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){return Dt(this.eventBusEl_,e,t)}};function Zt(e,t){void 0===t&&(t={});var n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=He("span",{className:"vjs-event-bus"});return De(e,Yt),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(e){e()})),e.on("dispose",(function(){e.off(),i.a.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Qt={state:{},setState:function(e){var t,n=this;return"function"==typeof e&&(e=e()),Ie(e,(function(e,r){n.state[r]!==e&&((t=t||{})[r]={from:n.state[r],to:e}),n.state[r]=e})),t&&Vt(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function Jt(e,t){return De(e,Qt),e.state=De({},e.state,t),"function"==typeof e.handleStateChanged&&Vt(e)&&e.on("statechanged",e.handleStateChanged),e}var $t=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toLowerCase()}))},en=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))};function tn(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Ie(t,(function(t,n){je(t)?(je(e[n])||(e[n]={}),e[n]=tn(e[n],t)):e[n]=t}))})),e}var nn=i.a.Map?i.a.Map:function(){function e(){this.map_={}}var t=e.prototype;return t.has=function(e){return e in this.map_},t.delete=function(e){var t=this.has(e);return delete this.map_[e],t},t.set=function(e,t){return this.set_[e]=t,this},t.forEach=function(e,t){for(var n in this.map_)e.call(t,this.map_[n],n,this)},e}(),rn=i.a.Set?i.a.Set:function(){function e(){this.set_={}}var t=e.prototype;return t.has=function(e){return e in this.set_},t.delete=function(e){var t=this.has(e);return delete this.set_[e],t},t.add=function(e){return this.set_[e]=1,this},t.forEach=function(e,t){for(var n in this.set_)e.call(t,n,n,this)},e}(),on=function(){function e(e,t,n){if(this.player_=!e&&this.play?e=this:e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=tn({},this.options_),t=this.options_=tn(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Tt()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),!1!==t.evented&&Zt(this,{eventBusKey:this.el_?"el_":null}),Jt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new rn,this.setIntervalIds_=new rn,this.rafIds_=new rn,this.namedRafs_=new nn,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}var t=e.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Ct.has(this.el_)&&Ct.delete(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(e){return e?(this.options_=tn(this.options_,e),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(e,t,n){return He(e,t,n)},t.localize=function(e,t,n){void 0===n&&(n=e);var r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],c=n;return o&&o[e]?c=o[e]:s&&s[e]&&(c=s[e]),t&&(c=c.replace(/\{(\d+)\}/g,(function(e,n){var r=t[n-1],i=r;return void 0===r&&(i=e),i}))),c},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(e){return this.childIndex_[e]},t.getChild=function(e){if(e)return this.childNameIndex_[e]},t.getDescendant=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t=t.reduce((function(e,t){return e.concat(t)}),[]);for(var r=this,i=0;i<t.length;i++)if(!(r=r.getChild(t[i]))||!r.getChild)return;return r},t.addChild=function(t,n,r){var i,o;if(void 0===n&&(n={}),void 0===r&&(r=this.children_.length),"string"==typeof t){o=en(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&en(i.name()))&&(this.childNameIndex_[o]=i,this.childNameIndex_[$t(o)]=i),"function"==typeof i.el&&i.el()){var c=null;this.children_[r+1]&&(this.children_[r+1].el_?c=this.children_[r+1].el_:ze(this.children_[r+1])&&(c=this.children_[r+1])),this.contentEl().insertBefore(i.el(),c)}return i},t.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[en(e.name())]=null,this.childNameIndex_[$t(e.name())]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},t.initChildren=function(){var t=this,n=this.options_.children;if(n){var r,i=this.options_,o=e.getComponent("Tech");(r=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter((function(e){return!r.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((function(e){var r,i;return"string"==typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}})).filter((function(t){var n=e.getComponent(t.opts.componentClass||en(t.name));return n&&!o.isTech(n)})).forEach((function(e){var n=e.name,r=e.opts;if(void 0!==i[n]&&(r=i[n]),!1!==r){!0===r&&(r={}),r.playerOptions=t.options_.playerOptions;var o=t.addChild(n,r);o&&(t[n]=o)}}))}},t.buildCSSClass=function(){return""},t.ready=function(e,t){if(void 0===t&&(t=!1),e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},t.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)},t.$=function(e,t){return ft(e,t||this.contentEl())},t.$$=function(e,t){return mt(e,t||this.contentEl())},t.hasClass=function(e){return Xe(this.el_,e)},t.addClass=function(e){Ke(this.el_,e)},t.removeClass=function(e){Ye(this.el_,e)},t.toggleClass=function(e,t){Ze(this.el_,e,t)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(e){return $e(this.el_,e)},t.setAttribute=function(e,t){et(this.el_,e,t)},t.removeAttribute=function(e){tt(this.el_,e)},t.width=function(e,t){return this.dimension("width",e,t)},t.height=function(e,t){return this.dimension("height",e,t)},t.dimensions=function(e,t){this.width(e,!0),this.height(t)},t.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),this.el_.style[e]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+en(e)],10)},t.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Be(this.el_,e),0===(t=parseFloat(t))||isNaN(t)){var n="offset"+en(e);t=this.el_[n]}return t},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(e){this.player_&&(e.stopPropagation(),this.player_.handleKeyDown(e))},t.handleKeyPress=function(e){this.handleKeyDown(e)},t.emitTapEvents=function(){var e,t=0,n=null;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t=i.a.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var r=t.touches[0].pageX-n.pageX,i=t.touches[0].pageY-n.pageY;Math.sqrt(r*r+i*i)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){n=null,!0===e&&i.a.performance.now()-t<200&&(r.preventDefault(),this.trigger("tap"))}))},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,t=Lt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var n=function(n){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.setTimeout=function(e,t){var n,r=this;return e=Lt(this,e),this.clearTimersOnDispose_(),n=i.a.setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),e()}),t),this.setTimeoutIds_.add(n),n},t.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),i.a.clearTimeout(e)),e},t.setInterval=function(e,t){e=Lt(this,e),this.clearTimersOnDispose_();var n=i.a.setInterval(e,t);return this.setIntervalIds_.add(n),n},t.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),i.a.clearInterval(e)),e},t.requestAnimationFrame=function(e){var t,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=Lt(this,e),t=i.a.requestAnimationFrame((function(){n.rafIds_.has(t)&&n.rafIds_.delete(t),e()})),this.rafIds_.add(t),t):this.setTimeout(e,1e3/60)},t.requestNamedAnimationFrame=function(e,t){var n=this;if(!this.namedRafs_.has(e)){this.clearTimersOnDispose_(),t=Lt(this,t);var r=this.requestAnimationFrame((function(){t(),n.namedRafs_.has(e)&&n.namedRafs_.delete(e)}));return this.namedRafs_.set(e,r),e}},t.cancelNamedAnimationFrame=function(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))},t.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),i.a.cancelAnimationFrame(e)),e):this.clearTimeout(e)},t.clearTimersOnDispose_=function(){var e=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var n=t[1];e[t[0]].forEach((function(t,r){return e[n](r)}))})),e.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r=e.getComponent("Tech"),i=r&&r.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(i||!o)throw new Error('Illegal component, "'+t+'"; '+(i?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");t=en(t),e.components_||(e.components_={});var a=e.getComponent("Player");if("Player"===t&&a&&a.players){var s=a.players,c=Object.keys(s);if(s&&c.length>0&&c.map((function(e){return s[e]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,e.components_[$t(t)]=n,n},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();on.prototype.supportsRaf_="function"==typeof i.a.requestAnimationFrame&&"function"==typeof i.a.cancelAnimationFrame,on.registerComponent("Component",on);var an,sn,cn,un=i.a.navigator&&i.a.navigator.userAgent||"",ln=/AppleWebKit\/([\d.]+)/i.exec(un),pn=ln?parseFloat(ln.pop()):null,dn=/iPod/i.test(un),hn=(an=un.match(/OS (\d+)_/i))&&an[1]?an[1]:null,fn=/Android/i.test(un),mn=function(){var e=un.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),gn=fn&&mn<5&&pn<537,yn=/Firefox/i.test(un),vn=/Edg/i.test(un),bn=!vn&&(/Chrome/i.test(un)||/CriOS/i.test(un)),An=function(){var e=un.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),xn=(!(cn=(sn=/MSIE\s(\d+)\.\d/.exec(un))&&parseFloat(sn[1]))&&/Trident\/7.0/i.test(un)&&/rv:11.0/.test(un)&&(cn=11),cn),wn=/Safari/i.test(un)&&!bn&&!fn&&!vn,_n=/Windows/i.test(un),Sn=Ue()&&("ontouchstart"in i.a||i.a.navigator.maxTouchPoints||i.a.DocumentTouch&&i.a.document instanceof i.a.DocumentTouch),Tn=/iPad/i.test(un)||wn&&Sn&&!/iPhone/i.test(un),Pn=/iPhone/i.test(un)&&!Tn,Cn=Pn||Tn||dn,En=(wn||Cn)&&!bn,kn=Object.freeze({__proto__:null,IS_IPOD:dn,IOS_VERSION:hn,IS_ANDROID:fn,ANDROID_VERSION:mn,IS_NATIVE_ANDROID:gn,IS_FIREFOX:yn,IS_EDGE:vn,IS_CHROME:bn,CHROME_VERSION:An,IE_VERSION:xn,IS_SAFARI:wn,IS_WINDOWS:_n,TOUCH_ENABLED:Sn,IS_IPAD:Tn,IS_IPHONE:Pn,IS_IOS:Cn,IS_ANY_SAFARI:En});function On(e,t,n,r){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}(e,r,n.length-1),n[r][t]}function Mn(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:On.bind(null,"start",0,e),end:On.bind(null,"end",1,e)}}function Nn(e,t){return Array.isArray(e)?Mn(e):void 0===e||void 0===t?Mn():Mn([[e,t]])}function In(e,t){var n,r,i=0;if(!t)return 0;e&&e.length||(e=Nn(0,0));for(var o=0;o<e.length;o++)n=e.start(o),(r=e.end(o))>t&&(r=t),i+=r-n;return i/t}for(var Dn,Rn={prefixed:!0},jn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Bn=jn[0],Fn=0;Fn<jn.length;Fn++)if(jn[Fn][1]in a.a){Dn=jn[Fn];break}if(Dn){for(var Ln=0;Ln<Dn.length;Ln++)Rn[Bn[Ln]]=Dn[Ln];Rn.prefixed=Dn[0]!==Bn[0]}function Un(e){if(e instanceof Un)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:Re(e)&&("number"==typeof e.code&&(this.code=e.code),De(this,e)),this.message||(this.message=Un.defaultMessages[this.code]||"")}Un.prototype.code=0,Un.prototype.message="",Un.prototype.status=null,Un.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Un.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var zn=0;zn<Un.errorTypes.length;zn++)Un[Un.errorTypes[zn]]=zn,Un.prototype[Un.errorTypes[zn]]=zn;function Vn(e){return null!=e&&"function"==typeof e.then}function Wn(e){Vn(e)&&e.then(null,(function(e){}))}var Hn=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,n,r){return e[n]&&(t[n]=e[n]),t}),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})},Gn=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=He("div",{className:"vjs-modal-dialog-content"},{role:"document"}),r.descEl_=He("p",{className:"vjs-modal-dialog-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),Ge(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}d()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},n.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},n.label=function(){return this.localize(this.options_.label||"Modal Window")},n.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},n.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},n.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},n.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},n.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},n.fill=function(){this.fillWith(this.content())},n.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),pt(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},n.empty=function(){this.trigger("beforemodalempty"),ct(this.contentEl()),this.trigger("modalempty")},n.content=function(e){return void 0!==e&&(this.content_=e),this.content_},n.conditionalFocus_=function(){var e=a.a.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())},n.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},n.handleKeyDown=function(e){if(e.stopPropagation(),g.a.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(g.a.isEventKey(e,"Tab")){for(var t,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),i=0;i<n.length;i++)if(r===n[i]){t=i;break}a.a.activeElement===this.el_&&(t=0),e.shiftKey&&0===t?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||t!==n.length-1||(n[0].focus(),e.preventDefault())}},n.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof i.a.HTMLAnchorElement||e instanceof i.a.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof i.a.HTMLInputElement||e instanceof i.a.HTMLSelectElement||e instanceof i.a.HTMLTextAreaElement||e instanceof i.a.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof i.a.HTMLIFrameElement||e instanceof i.a.HTMLObjectElement||e instanceof i.a.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},t}(on);Gn.prototype.options_={pauseOnOpen:!0,temporary:!0},on.registerComponent("ModalDialog",Gn);var qn=function(e){function t(t){var n;void 0===t&&(t=[]),(n=e.call(this)||this).tracks_=[],Object.defineProperty(l()(n),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<t.length;r++)n.addTrack(t[r]);return n}d()(t,e);var n=t.prototype;return n.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this}))},n.removeTrack=function(e){for(var t,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})},n.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(zt);for(var Xn in qn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},qn.prototype.allowedEvents_)qn.prototype["on"+Xn]=null;var Kn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Yn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].enabled){Kn(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,n}d()(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.enabled&&Kn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){n.changing_||(n.changing_=!0,Kn(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},t}(qn),Zn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Qn=function(e){function t(t){var n;void 0===t&&(t=[]);for(var r=t.length-1;r>=0;r--)if(t[r].selected){Zn(t,t[r]);break}return(n=e.call(this,t)||this).changing_=!1,Object.defineProperty(l()(n),"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}d()(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;t.selected&&Zn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){n.changing_||(n.changing_=!0,Zn(n,t),n.changing_=!1,n.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},t}(qn),Jn=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var n=t.prototype;return n.addTrack=function(t){var n=this;e.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return n.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return n.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},n.removeTrack=function(t){e.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(qn),$n=function(){function e(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}var t=e.prototype;return t.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},t.getTrackElementByTrack_=function(e){for(var t,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},t.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},e}(),er=function(){function e(t){e.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=e.prototype;return t.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},t.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),tr={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},nr={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},rr={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ir={disabled:"disabled",hidden:"hidden",showing:"showing"},or=function(e){function t(t){var n;void 0===t&&(t={}),n=e.call(this)||this;var r={id:t.id||"vjs_track_"+Tt(),kind:t.kind||"",label:t.label||"",language:t.language||""},i=function(e){Object.defineProperty(l()(n),e,{get:function(){return r[e]},set:function(){}})};for(var o in r)i(o);return n}return d()(t,e),t}(zt),ar=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=a.a.createElement("a");n.href=e;var r,o=""===n.host&&"file:"!==n.protocol;o&&((r=a.a.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),a.a.body.appendChild(r));for(var s={},c=0;c<t.length;c++)s[t[c]]=n[t[c]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=i.a.location.protocol),o&&a.a.body.removeChild(r),s},sr=function(e){if(!e.match(/^https?:\/\//)){var t=a.a.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},cr=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},ur=function(e,t){void 0===t&&(t=i.a.location);var n=ar(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},lr=Object.freeze({__proto__:null,parseUrl:ar,getAbsoluteURL:sr,getFileExtension:cr,isCrossOrigin:ur}),pr=function(e,t){var n=new i.a.WebVTT.Parser(i.a,i.a.vttjs,i.a.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(i.a.console&&i.a.console.groupCollapsed&&i.a.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach((function(e){return ke.error(e)})),i.a.console&&i.a.console.groupEnd&&i.a.console.groupEnd()),n.flush()},dr=function(e,t){var n={uri:e},r=ur(e);r&&(n.cors=r);var o="use-credentials"===t.tech_.crossOrigin();o&&(n.withCredentials=o),v()(n,Lt(this,(function(e,n,r){if(e)return ke.error(e,n);t.loaded_=!0,"function"!=typeof i.a.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(function(e){if("vttjserror"!==e.type)return pr(r,t);ke.error("vttjs failed to load, stopping trying to process "+t.src)})):pr(r,t)})))},hr=function(e){function t(t){var n;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=tn(t,{kind:rr[t.kind]||"subtitles",language:t.language||t.srclang||""}),i=ir[r.mode]||"disabled",o=r.default;"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden"),(n=e.call(this,r)||this).tech_=r.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var a=new er(n.cues_),s=new er(n.activeCues_),c=!1,u=Lt(l()(n),(function(){this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1)}));return"disabled"!==i&&n.tech_.ready((function(){n.tech_.on("timeupdate",u)}),!0),Object.defineProperties(l()(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return i},set:function(e){var t=this;ir[e]&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||dr(this.src,this),"disabled"!==i?this.tech_.ready((function(){t.tech_.on("timeupdate",u)}),!0):this.tech_.off("timeupdate",u),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];(i.startTime<=e&&i.endTime>=e||i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e)&&t.push(i)}if(c=!1,t.length!==this.activeCues_.length)c=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(c=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),r.src?(n.src=r.src,n.preload_||(n.loaded_=!0),(n.preload_||o||"subtitles"!==r.kind&&"captions"!==r.kind)&&dr(n.src,l()(n))):n.loaded_=!0,n}d()(t,e);var n=t.prototype;return n.addCue=function(e){var t=e;if(i.a.vttjs&&!(e instanceof i.a.vttjs.VTTCue)){for(var n in t=new i.a.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),o=0;o<r.length;o++)r[o]!==this&&r[o].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},n.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(or);hr.prototype.allowedEvents_={cuechange:"cuechange"};var fr=function(e){function t(t){var n;void 0===t&&(t={});var r=tn(t,{kind:nr[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(l()(n),"enabled",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),r.enabled&&(n.enabled=r.enabled),n.loaded_=!0,n}return d()(t,e),t}(or),mr=function(e){function t(t){var n;void 0===t&&(t={});var r=tn(t,{kind:tr[t.kind]||""});n=e.call(this,r)||this;var i=!1;return Object.defineProperty(l()(n),"selected",{get:function(){return i},set:function(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),r.selected&&(n.selected=r.selected),n}return d()(t,e),t}(or),gr=function(e){function t(t){var n,r;void 0===t&&(t={}),n=e.call(this)||this;var i=new hr(t);return n.kind=i.kind,n.src=i.src,n.srclang=i.language,n.label=i.label,n.default=i.default,Object.defineProperties(l()(n),{readyState:{get:function(){return r}},track:{get:function(){return i}}}),r=0,i.addEventListener("loadeddata",(function(){r=2,n.trigger({type:"load",target:l()(n)})})),n}return d()(t,e),t}(zt);gr.prototype.allowedEvents_={load:"load"},gr.NONE=0,gr.LOADING=1,gr.LOADED=2,gr.ERROR=3;var yr={audio:{ListClass:Yn,TrackClass:fr,capitalName:"Audio"},video:{ListClass:Qn,TrackClass:mr,capitalName:"Video"},text:{ListClass:Jn,TrackClass:hr,capitalName:"Text"}};Object.keys(yr).forEach((function(e){yr[e].getterName=e+"Tracks",yr[e].privateName=e+"Tracks_"}));var vr={remoteText:{ListClass:Jn,TrackClass:hr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:$n,TrackClass:gr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},br=c()({},yr,vr);vr.names=Object.keys(vr),yr.names=Object.keys(yr),br.names=[].concat(vr.names).concat(yr.names);var Ar=function(e){function t(t,n){var r;return void 0===t&&(t={}),void 0===n&&(n=function(){}),t.reportTouchActivity=!1,(r=e.call(this,null,t,n)||this).hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),br.names.forEach((function(e){var n=br[e];t&&t[n.getterName]&&(r[n.privateName]=t[n.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(r["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==t.preloadTextTracks,r.autoRemoteTextTracks_=new br.text.ListClass,r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}d()(t,e);var n=t.prototype;return n.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",(function(){return t.setTimeout((function(){return t.triggerSourceset(e)}),1)})),this.trigger({src:e,type:"sourceset"})},n.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Lt(this,(function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)},n.onDurationChange=function(e){this.duration_=this.duration()},n.buffered=function(){return Nn(0,0)},n.bufferedPercent=function(){return In(this.buffered(),this.duration_)},n.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},n.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.dispose=function(){this.clearTracks(yr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},n.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach((function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}}))},n.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;)this.removeRemoteTextTrack(e[t])},n.reset=function(){},n.crossOrigin=function(){},n.setCrossOrigin=function(){},n.error=function(e){return void 0!==e&&(this.error_=new Un(e),this.trigger("error")),this.error_},n.played=function(){return this.hasStarted_?Nn(0,0):Nn()},n.setScrubbing=function(){},n.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.initTrackListeners=function(){var e=this;yr.names.forEach((function(t){var n=function(){e.trigger(t+"trackchange")},r=e[yr[t].getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",(function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)}))}))},n.addWebVttScript_=function(){var e=this;if(!i.a.WebVTT)if(a.a.body.contains(this.el())){if(!this.options_["vtt.js"]&&je(A.a)&&Object.keys(A.a).length>0)return void this.trigger("vttjsloaded");var t=a.a.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){t.onload=null,t.onerror=null})),i.a.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},n.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",(function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++)t[e].removeEventListener("cuechange",o)}))},n.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,r,i){void 0===i&&(i={});var o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new br.text.TrackClass(i);return o.addTrack(a),a}(this,e,t,n)},n.createRemoteTextTrack=function(e){var t=tn(e,{tech:this});return new vr.remoteTextEl.TrackClass(t)},n.addRemoteTextTrack=function(e,t){var n=this;void 0===e&&(e={});var r=this.createRemoteTextTrack(e);return!0!==t&&!1!==t&&(ke.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==t&&this.ready((function(){return n.autoRemoteTextTracks_.addTrack(r.track)})),r},n.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},n.getVideoPlaybackQuality=function(){return{}},n.requestPictureInPicture=function(){var e=this.options_.Promise||i.a.Promise;if(e)return e.reject()},n.disablePictureInPicture=function(){return!0},n.setDisablePictureInPicture=function(){},n.setPoster=function(){},n.playsinline=function(){},n.setPlaysinline=function(){},n.overrideNativeAudioTracks=function(){},n.overrideNativeVideoTracks=function(){},n.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=en(e),t.techs_[e]=n,t.techs_[$t(e)]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return t.techs_&&t.techs_[e]?t.techs_[e]:(e=en(e),i.a&&i.a.videojs&&i.a.videojs[e]?(ke.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),i.a.videojs[e]):void 0)},t}(on);br.names.forEach((function(e){var t=br[e];Ar.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),Ar.prototype.featuresVolumeControl=!0,Ar.prototype.featuresMuteControl=!0,Ar.prototype.featuresFullscreenResize=!1,Ar.prototype.featuresPlaybackRate=!1,Ar.prototype.featuresProgressEvents=!1,Ar.prototype.featuresSourceset=!1,Ar.prototype.featuresTimeupdateEvents=!1,Ar.prototype.featuresNativeTextTracks=!1,Ar.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n,r=e.sourceHandlers||[],i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach((function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:ke.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},on.registerComponent("Tech",Ar),Ar.registerTech("Tech",Ar),Ar.defaultTechOrder_=[];var xr={},wr={},_r={};function Sr(e,t,n,r){void 0===r&&(r=null);var i="call"+en(n),o=e.reduce(Er(i),r),a=o===_r,s=a?null:t[n](o);return function(e,t,n,r){for(var i=e.length-1;i>=0;i--){var o=e[i];o[t]&&o[t](r,n)}}(e,n,s,a),s}var Tr={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},Pr={setCurrentTime:1,setMuted:1,setVolume:1},Cr={play:1,pause:1};function Er(e){return function(t,n){return t===_r?_r:n[e]?n[e](t):t}}var kr={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Or=function(e){void 0===e&&(e="");var t=cr(e);return kr[t.toLowerCase()]||""};function Mr(e){if(!e.type){var t=Or(e.src);t&&(e.type=t)}return e}var Nr=function(e){function t(t,n,r){var i,o=tn({createEl:!1},n);if(i=e.call(this,t,o,r)||this,n.playerOptions.sources&&0!==n.playerOptions.sources.length)t.src(n.playerOptions.sources);else for(var a=0,s=n.playerOptions.techOrder;a<s.length;a++){var c=en(s[a]),u=Ar.getTech(c);if(c||(u=on.getComponent(c)),u&&u.isSupported()){t.loadTech_(c);break}}return i}return d()(t,e),t}(on);on.registerComponent("MediaLoader",Nr);var Ir=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).emitTapEvents(),r.enable(),r}d()(t,e);var n=t.prototype;return n.createEl=function(t,n,r){void 0===t&&(t="div"),void 0===n&&(n={}),void 0===r&&(r={}),n=De({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&ke.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=De({role:"button"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},n.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},n.createControlTextEl=function(e){return this.controlTextEl_=He("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},n.controlText=function(e,t){if(void 0===t&&(t=this.el()),void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,Ge(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},n.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},n.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},n.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},n.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},n.handleKeyDown=function(t){g.a.isEventKey(t,"Space")||g.a.isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(on);on.registerComponent("ClickableComponent",Ir),on.registerComponent("PosterImage",function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update(),t.on("posterchange",Lt(l()(r),r.update)),r}d()(t,e);var n=t.prototype;return n.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},n.createEl=function(){return He("div",{className:"vjs-poster",tabIndex:-1})},n.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},n.setSrc=function(e){var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t},n.handleClick=function(e){if(this.player_.controls()){var t=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(xn||vn)&&t||this.player_.tech(!0).focus(),this.player_.paused()?Wn(this.player_.play()):this.player_.pause()}},t}(Ir));var Dr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Rr(e,t){var n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function jr(e,t,n){try{e.style[t]=n}catch(r){return}}on.registerComponent("TextTrackDisplay",function(e){function t(t,n,r){var o;o=e.call(this,t,n,r)||this;var a=Lt(l()(o),o.updateDisplay);return t.on("loadstart",Lt(l()(o),o.toggleDisplay)),t.on("texttrackchange",a),t.on("loadedmetadata",Lt(l()(o),o.preselectTrack)),t.ready(Lt(l()(o),(function(){if(t.tech_&&t.tech_.featuresNativeTextTracks)this.hide();else{t.on("fullscreenchange",a),t.on("playerresize",a),i.a.addEventListener("orientationchange",a),t.on("dispose",(function(){return i.a.removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),o}d()(t,e);var n=t.prototype;return n.preselectTrack=function(){for(var e,t,n,r={captions:1,subtitles:1},i=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<i.length;a++){var s=i[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in r?s.kind===o.kind?n=s:n||(n=s):o&&!o.enabled?(n=null,e=null,t=null):s.default&&("descriptions"!==s.kind||e?s.kind in r&&!t&&(t=s):e=s)}n?n.mode="showing":t?t.mode="showing":e&&(e.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof i.a.WebVTT&&i.a.WebVTT.processCues(i.a,[],this.el_)},n.updateDisplay=function(){var e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){for(var n=[],r=0;r<e.length;++r){var i=e[r];"showing"===i.mode&&n.push(i)}this.updateForTrack(n)}else{for(var o=null,a=null,s=e.length;s--;){var c=e[s];"showing"===c.mode&&("descriptions"===c.kind?o=c:a=c)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(e){for(var t=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;r--;){var o=n[r];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&jr(a.firstChild,"color",Rr(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&jr(a.firstChild,"backgroundColor",Rr(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?jr(a,"backgroundColor",Rr(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),t.fontPercent&&1!==t.fontPercent){var s=i.a.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Dr[t.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof i.a.WebVTT&&!e.every((function(e){return!e.activeCues}))){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],o=0;o<r.activeCues.length;++o)t.push(r.activeCues[o]);i.a.WebVTT.processCues(i.a,t,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],c=0;c<s.activeCues.length;++c){var u=s.activeCues[c].displayState;Ke(u,"vjs-text-track-cue"),Ke(u,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},t}(on)),on.registerComponent("LoadingSpinner",function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=He("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),i=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i},t}(on));var Br=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var n=t.prototype;return n.createEl=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),t=De({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=De({type:"button"},n);var r=on.prototype.createEl.call(this,"button",t,n);return this.createControlTextEl(r),r},n.addChild=function(e,t){return void 0===t&&(t={}),ke.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),on.prototype.addChild.call(this,e,t)},n.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},n.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},n.handleKeyDown=function(t){g.a.isEventKey(t,"Space")||g.a.isEventKey(t,"Enter")?t.stopPropagation():e.prototype.handleKeyDown.call(this,t)},t}(Ir);on.registerComponent("Button",Br);var Fr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-big-play-button"},n.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var n=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Wn(t),void(!this.player_.tech(!0)||(xn||vn)&&n||this.player_.tech(!0).focus())}var r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(i){var o=function(){return i.focus()};Vn(t)?t.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},n.handleKeyDown=function(t){this.mouseused_=!1,e.prototype.handleKeyDown.call(this,t)},n.handleMouseDown=function(e){this.mouseused_=!0},t}(Br);Fr.prototype.controlText_="Play Video",on.registerComponent("BigPlayButton",Fr),on.registerComponent("CloseButton",function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).controlText(n&&n.controlText||r.localize("Close")),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},n.handleKeyDown=function(t){g.a.isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):e.prototype.handleKeyDown.call(this,t)},t}(Br));var Lr=function(e){function t(t,n){var r;return void 0===n&&(n={}),r=e.call(this,t,n)||this,n.replay=void 0===n.replay||n.replay,r.on(t,"play",r.handlePlay),r.on(t,"pause",r.handlePause),n.replay&&r.on(t,"ended",r.handleEnded),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},n.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},n.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},n.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(Br);Lr.prototype.controlText_="Play",on.registerComponent("PlayToggle",Lr);var Ur=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),(i=i>0||a>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n<10?"0"+n:n)},zr=Ur;function Vr(e,t){return void 0===t&&(t=e),zr(e,t)}var Wr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["timeupdate","ended"],r.updateContent),r.updateTextNode_(),r}d()(t,e);var n=t.prototype;return n.createEl=function(){var t=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"\xa0</span>"});return this.contentEl_=He("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),n.appendChild(this.contentEl_),n},n.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},n.updateTextNode_=function(e){var t=this;void 0===e&&(e=0),e=Vr(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(t.contentEl_){var e=t.textNode_;t.textNode_=a.a.createTextNode(t.formattedTime_),t.textNode_&&(e?t.contentEl_.replaceChild(t.textNode_,e):t.contentEl_.appendChild(t.textNode_))}})))},n.updateContent=function(e){},t}(on);Wr.prototype.labelText_="Time",Wr.prototype.controlText_="Time",on.registerComponent("TimeDisplay",Wr);var Hr=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-current-time"},n.updateContent=function(e){var t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)},t}(Wr);Hr.prototype.labelText_="Current Time",Hr.prototype.controlText_="Current Time",on.registerComponent("CurrentTimeDisplay",Hr);var Gr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",r.updateContent),r.on(t,"loadstart",r.updateContent),r.on(t,"loadedmetadata",r.updateContent),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-duration"},n.updateContent=function(e){var t=this.player_.duration();this.updateTextNode_(t)},t}(Wr);Gr.prototype.labelText_="Duration",Gr.prototype.controlText_="Duration",on.registerComponent("DurationDisplay",Gr),on.registerComponent("TimeDivider",function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},t}(on));var qr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"durationchange",r.updateContent),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-remaining-time"},n.createEl=function(){var t=e.prototype.createEl.call(this);return t.insertBefore(He("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},n.updateContent=function(e){var t;"number"==typeof this.player_.duration()&&(t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t))},t}(Wr);qr.prototype.labelText_="Remaining Time",qr.prototype.controlText_="Remaining Time",on.registerComponent("RemainingTimeDisplay",qr),on.registerComponent("LiveDisplay",function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}d()(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=He("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"\xa0</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},n.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},n.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(on));var Xr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatus),r}d()(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=He("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},n.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},n.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},n.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,e.prototype.dispose.call(this)},t}(Br);Xr.prototype.controlText_="Seek to live, currently playing live",on.registerComponent("SeekToLive",Xr);var Kr=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},Yr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}d()(t,e);var n=t.prototype;return n.enabled=function(){return this.enabled_},n.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},n.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},n.createEl=function(t,n,r){return void 0===n&&(n={}),void 0===r&&(r={}),n.className=n.className+" vjs-slider",n=De({tabIndex:0},n),r=De({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},n.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||bn||e.preventDefault(),nt(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},n.handleMouseMove=function(e){},n.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;rt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},n.update=function(){var e=this;if(this.el_&&this.bar){var t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",(function(){var n=e.vertical()?"height":"width";e.bar.el().style[n]=(100*t).toFixed(2)+"%"}))),t}},n.getProgress=function(){return Number(Kr(this.getPercent(),0,1).toFixed(4))},n.calculateDistance=function(e){var t=at(this.el_,e);return this.vertical()?t.y:t.x},n.handleKeyDown=function(t){g.a.isEventKey(t,"Left")||g.a.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):g.a.isEventKey(t,"Right")||g.a.isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){e.stopPropagation(),e.preventDefault()},n.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},t}(on);on.registerComponent("Slider",Yr);var Zr=function(e,t){return Kr(e/t*100,0,100).toFixed(2)+"%"};on.registerComponent("LoadProgressBar",function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).partEls_=[],r.on(t,"progress",r.update),r}d()(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=He("span",{className:"vjs-control-text"}),r=He("span",{textContent:this.localize("Loaded")}),i=a.a.createTextNode(": ");return this.percentageEl_=He("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),t},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,e.prototype.dispose.call(this)},n.update=function(e){var t=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var e=t.player_.liveTracker,n=t.player_.buffered(),r=e&&e.isLive()?e.seekableEnd():t.player_.duration(),i=t.player_.bufferedEnd(),o=t.partEls_,a=Zr(i,r);t.percent_!==a&&(t.el_.style.width=a,Ge(t.percentageEl_,a),t.percent_=a);for(var s=0;s<n.length;s++){var c=n.start(s),u=n.end(s),l=o[s];l||(l=t.el_.appendChild(He()),o[s]=l),l.dataset.start===c&&l.dataset.end===u||(l.dataset.start=c,l.dataset.end=u,l.style.left=Zr(c,i),l.style.width=Zr(u-c,i))}for(var p=o.length;p>n.length;p--)t.el_.removeChild(o[p-1]);o.length=n.length}))},t}(on)),on.registerComponent("TimeTooltip",function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Ut(Lt(l()(r),r.update),30),r}d()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},n.update=function(e,t,n){var r=ot(this.el_),i=it(this.player_.el()),o=e.width*t;if(i&&r){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),c=r.width/2;a<c?c+=c-a:s<c&&(c=s),c<0?c=0:c>r.width&&(c=r.width),this.el_.style.right="-"+c+"px",this.write(n)}},n.write=function(e){Ge(this.el_,e)},n.updateTime=function(e,t,n,r){var i=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=i.player_.duration();if(i.player_.liveTracker&&i.player_.liveTracker.isLive()){var s=i.player_.liveTracker.liveWindow(),c=s-t*s;o=(c<1?"":"-")+Vr(c,s)}else o=Vr(n,a);i.update(e,t,o),r&&r()}))},t}(on));var Qr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Ut(Lt(l()(r),r.update),30),r}d()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},n.update=function(e,t){var n=this.getChild("timeTooltip");if(n){var r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,r)}},t}(on);Qr.prototype.options_={children:[]},Cn||fn||Qr.prototype.options_.children.push("timeTooltip"),on.registerComponent("PlayProgressBar",Qr);var Jr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).update=Ut(Lt(l()(r),r.update),30),r}d()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},n.update=function(e,t){var n=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,r,(function(){n.el_.style.left=e.width*t+"px"}))},t}(on);Jr.prototype.options_={children:["timeTooltip"]},on.registerComponent("MouseTimeDisplay",Jr);var $r=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setEventHandlers_(),r}d()(t,e);var n=t.prototype;return n.setEventHandlers_=function(){this.update_=Lt(this,this.update),this.update=Ut(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.on(a.a,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(e){a.a.hidden?this.disableInterval_(e):(this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},n.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(t){var n=this,r=e.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var e=n.player_.ended()?n.player_.duration():n.getCurrentTime_(),t=n.player_.liveTracker,i=n.player_.duration();t&&t.isLive()&&(i=n.player_.liveTracker.liveCurrentTime()),n.percent_!==r&&(n.el_.setAttribute("aria-valuenow",(100*r).toFixed(2)),n.percent_=r),n.currentTime_===e&&n.duration_===i||(n.el_.setAttribute("aria-valuetext",n.localize("progress bar timing: currentTime={1} duration={2}",[Vr(e,i),Vr(i,i)],"{1} of {2}")),n.currentTime_=e,n.duration_=i),n.bar&&n.bar.update(it(n.el()),n.getProgress())})),r},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var e,t=this.getCurrentTime_(),n=this.player_.liveTracker;return n&&n.isLive()?(e=(t-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(e=1)):e=t/this.player_.duration(),e},n.handleMouseDown=function(t){dt(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},n.handleMouseMove=function(e){if(dt(e)){var t,n=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(n>=.99)return void r.seekToLiveEdge();var i=r.seekableStart(),o=r.liveCurrentTime();if((t=i+n*r.liveWindow())>=o&&(t=o),t<=i&&(t=i+.1),t===1/0)return}else(t=n*this.player_.duration())===this.player_.duration()&&(t-=.1);this.player_.currentTime(t)}},n.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},n.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},n.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Wn(this.player_.play()):this.update_()},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(t){if(g.a.isEventKey(t,"Space")||g.a.isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(g.a.isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(0);else if(g.a.isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(g()(t))){t.preventDefault(),t.stopPropagation();var n=10*(g.a.codes[g()(t)]-g.a.codes[0])/100;this.player_.currentTime(this.player_.duration()*n)}else g.a.isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):g.a.isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):e.prototype.handleKeyDown.call(this,t)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in a.a&&"visibilityState"in a.a&&this.off(a.a,"visibilitychange",this.toggleVisibility_),e.prototype.dispose.call(this)},t}(Yr);$r.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Cn||fn||$r.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),on.registerComponent("SeekBar",$r);var ei=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handleMouseMove=Ut(Lt(l()(r),r.handleMouseMove),30),r.throttledHandleMouseSeek=Ut(Lt(l()(r),r.handleMouseSeek),30),r.enable(),r}d()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},n.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("playProgressBar"),r=t.getChild("mouseTimeDisplay");if(n||r){var i=t.el(),o=ot(i),a=at(i,e).x;a=Kr(a,0,1),r&&r.update(o,a),n&&n.update(o,t.getProgress())}}},n.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},n.enabled=function(){return this.enabled_},n.disable=function(){this.children().forEach((function(e){return e.disable&&e.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},n.enable=function(){this.children().forEach((function(e){return e.enable&&e.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},n.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(on);ei.prototype.options_={children:["seekBar"]},on.registerComponent("ProgressControl",ei);var ti=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,["enterpictureinpicture","leavepictureinpicture"],r.handlePictureInPictureChange),r.on(t,["disablepictureinpicturechanged","loadedmetadata"],r.handlePictureInPictureEnabledChange),r.disable(),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+e.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){a.a.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Br);ti.prototype.controlText_="Picture-in-Picture",on.registerComponent("PictureInPictureToggle",ti);var ni=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"fullscreenchange",r.handleFullscreenChange),!1===a.a[t.fsApi_.fullscreenEnabled]&&r.disable(),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Br);ni.prototype.controlText_="Fullscreen",on.registerComponent("FullscreenToggle",ni),on.registerComponent("VolumeLevel",function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(on));var ri=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on("slideractive",r.updateLastVolume_),r.on(t,"volumechange",r.updateARIAAttributes),t.ready((function(){return r.updateARIAAttributes()})),r}d()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},n.handleMouseDown=function(t){dt(t)&&e.prototype.handleMouseDown.call(this,t)},n.handleMouseMove=function(e){dt(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},n.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},n.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},n.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},n.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},n.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},n.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},n.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",(function(){0===e.player_.volume()&&e.player_.lastVolume_(t)}))},t}(Yr);ri.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},ri.prototype.playerEvent="volumechange",on.registerComponent("VolumeBar",ri);var ii=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||je(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),r=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(l()(r),t),r.throttledHandleMouseMove=Ut(Lt(l()(r),r.handleMouseMove),30),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}d()(t,e);var n=t.prototype;return n.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},n.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},n.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},n.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(on);ii.prototype.options_={children:["volumeBar"]},on.registerComponent("VolumeControl",ii);var oi=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(l()(r),t),r.on(t,["loadstart","volumechange"],r.update),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},n.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();0===t?(this.player_.volume(n<.1?.1:n),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},n.update=function(e){this.updateIcon_(),this.updateControlText_()},n.updateIcon_=function(){var e=this.player_.volume(),t=3;Cn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)Ye(this.el_,"vjs-vol-"+n);Ke(this.el_,"vjs-vol-"+t)},n.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(Br);oi.prototype.controlText_="Mute",on.registerComponent("MuteToggle",oi);var ai=function(e){function t(t,n){var r;return void 0===n&&(n={}),n.inline=void 0===n.inline||n.inline,(void 0===n.volumeControl||je(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(r=e.call(this,t,n)||this).on(t,["loadstart"],r.volumePanelState_),r.on(r.muteToggle,"keyup",r.handleKeyPress),r.on(r.volumeControl,"keyup",r.handleVolumeControlKeyUp),r.on("keydown",r.handleKeyPress),r.on("mouseover",r.handleMouseOver),r.on("mouseout",r.handleMouseOut),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}d()(t,e);var n=t.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},n.dispose=function(){this.handleMouseOut(),e.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(e){g.a.isEventKey(e,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(e){this.addClass("vjs-hover"),Nt(a.a,"keyup",Lt(this,this.handleKeyPress))},n.handleMouseOut=function(e){this.removeClass("vjs-hover"),It(a.a,"keyup",Lt(this,this.handleKeyPress))},n.handleKeyPress=function(e){g.a.isEventKey(e,"Esc")&&this.handleMouseOut()},t}(on);ai.prototype.options_={children:["muteToggle","volumeControl"]},on.registerComponent("VolumePanel",ai);var si=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyDown),r.boundHandleBlur_=Lt(l()(r),r.handleBlur),r.boundHandleTapClick_=Lt(l()(r),r.handleTapClick),r}d()(t,e);var n=t.prototype;return n.addEventListenerForItem=function(e){e instanceof on&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(e){e instanceof on&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),e.prototype.removeChild.call(this,t)},n.addItem=function(e){var t=this.addChild(e);t&&this.addEventListenerForItem(t)},n.createEl=function(){this.contentEl_=He(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Nt(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,e.prototype.dispose.call(this)},n.handleBlur=function(e){var t=e.relatedTarget||a.a.activeElement;if(!this.children().some((function(e){return e.el()===t}))){var n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var t=this.children();if(!Array.isArray(t))return;var n=t.filter((function(t){return t.el()===e.target}))[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(e){g.a.isEventKey(e,"Left")||g.a.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(g.a.isEventKey(e,"Right")||g.a.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},n.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},n.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},n.focus=function(e){void 0===e&&(e=0);var t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(on);on.registerComponent("Menu",si);var ci=function(e){function t(t,n){var r;void 0===n&&(n={}),(r=e.call(this,t,n)||this).menuButton_=new Br(t,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=Br.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),Nt(a.a,"keyup",Lt(l()(r),r.handleMenuKeyUp))})),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}d()(t,e);var n=t.prototype;return n.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var e=new si(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=He("li",{className:"vjs-menu-title",innerHTML:en(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var n=new on(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},n.createItems=function(){},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+Br.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+e.prototype.buildCSSClass.call(this)},n.controlText=function(e,t){return void 0===t&&(t=this.menuButton_.el()),this.menuButton_.controlText(e,t)},n.dispose=function(){this.handleMouseLeave(),e.prototype.dispose.call(this)},n.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(e){this.removeClass("vjs-hover"),It(a.a,"keyup",Lt(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(e){g.a.isEventKey(e,"Esc")||g.a.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),g.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(g.a.isEventKey(e,"Up")||g.a.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(e){(g.a.isEventKey(e,"Esc")||g.a.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},n.handleSubmenuKeyDown=function(e){(g.a.isEventKey(e,"Esc")||g.a.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),g.a.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Cn&&Ve())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(on);on.registerComponent("MenuButton",ci);var ui=function(e){function t(t,n){var r,i=n.tracks;if((r=e.call(this,t,n)||this).items.length<=1&&r.hide(),!i)return l()(r);var o=Lt(l()(r),r.update);return i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),r.player_.on("ready",o),r.player_.on("dispose",(function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o)})),r}return d()(t,e),t}(ci);on.registerComponent("TrackButton",ui);var li=["Tab","Esc","Up","Down","Right","Left"],pi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.el_.setAttribute("role",r.selectable?r.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),r}d()(t,e);var n=t.prototype;return n.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",De({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)},n.handleKeyDown=function(t){li.some((function(e){return g.a.isEventKey(t,e)}))||e.prototype.handleKeyDown.call(this,t)},n.handleClick=function(e){this.selected(!0)},n.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(Ir);on.registerComponent("MenuItem",pi);var di=function(e){function t(t,n){var r,o=n.track,s=t.textTracks();n.label=o.label||o.language||"Unknown",n.selected="showing"===o.mode,(r=e.call(this,t,n)||this).track=o,r.kinds=(n.kinds||[n.kind||r.track.kind]).filter(Boolean);var c,u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(l()(r),t)},p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleSelectedLanguageChange.apply(l()(r),t)};return t.on(["loadstart","texttrackchange"],u),s.addEventListener("change",u),s.addEventListener("selectedlanguagechange",p),r.on("dispose",(function(){t.off(["loadstart","texttrackchange"],u),s.removeEventListener("change",u),s.removeEventListener("selectedlanguagechange",p)})),void 0===s.onchange&&r.on(["tap","click"],(function(){if("object"!=typeof i.a.Event)try{c=new i.a.Event("change")}catch(e){}c||(c=a.a.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(c)})),r.handleTracksChange(),r}d()(t,e);var n=t.prototype;return n.handleClick=function(t){var n=this.track,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];-1!==this.kinds.indexOf(o.kind)&&(o===n?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},n.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},n.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},n.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(pi);on.registerComponent("TextTrackMenuItem",di);var hi=function(e){function t(t,n){return n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,e.call(this,t,n)||this}d()(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},n.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(di);on.registerComponent("OffTextTrackMenuItem",hi);var fi=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.textTracks(),e.call(this,t,n)||this}return d()(t,e),t.prototype.createItems=function(e,t){var n;void 0===e&&(e=[]),void 0===t&&(t=di),this.label_&&(n=this.label_+" off"),e.push(new hi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(ui);on.registerComponent("TextTrackButton",fi);var mi=function(e){function t(t,n){var r,i=n.track,o=n.cue,a=t.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=a&&a<o.endTime,(r=e.call(this,t,n)||this).track=i,r.cue=o,i.addEventListener("cuechange",Lt(l()(r),r.update)),r}d()(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},n.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(pi);on.registerComponent("ChaptersTrackMenuItem",mi);var gi=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},n.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},n.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},n.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},n.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(en(this.kind_))},n.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},n.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=new mi(this.player_,{track:this.track_,cue:t[n]});e.push(i)}return e},t}(fi);gi.prototype.kind_="chapters",gi.prototype.controlText_="Chapters",on.registerComponent("ChaptersButton",gi);var yi=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=t.textTracks(),a=Lt(l()(i),i.handleTracksChange);return o.addEventListener("change",a),i.on("dispose",(function(){o.removeEventListener("change",a)})),i}d()(t,e);var n=t.prototype;return n.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},n.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(fi);yi.prototype.kind_="descriptions",yi.prototype.controlText_="Descriptions",on.registerComponent("DescriptionsButton",yi);var vi=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(fi);vi.prototype.kind_="subtitles",vi.prototype.controlText_="Subtitles",on.registerComponent("SubtitlesButton",vi);var bi=function(e){function t(t,n){var r;return n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(r=e.call(this,t,n)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return d()(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(di);on.registerComponent("CaptionSettingsMenuItem",bi);var Ai=function(e){function t(t,n,r){return e.call(this,t,n,r)||this}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new bi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(fi);Ai.prototype.kind_="captions",Ai.prototype.controlText_="Captions",on.registerComponent("CaptionsButton",Ai);var xi=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),e.prototype.createEl.call(this,t,De({innerHTML:i+="</span>"},n),r)},t}(di);on.registerComponent("SubsCapsMenuItem",xi);var wi=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(en(r.label_)),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new bi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t,xi)},t}(fi);wi.prototype.kinds_=["captions","subtitles"],wi.prototype.controlText_="Subtitles",on.registerComponent("SubsCapsButton",wi);var _i=function(e){function t(t,n){var r,i=n.track,o=t.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,(r=e.call(this,t,n)||this).track=i,r.addClass("vjs-"+i.kind+"-menu-item");var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.handleTracksChange.apply(l()(r),t)};return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}d()(t,e);var n=t.prototype;return n.createEl=function(t,n,r){var i='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(i+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),e.prototype.createEl.call(this,t,De({innerHTML:i+="</span>"},n),r)},n.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},n.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(pi);on.registerComponent("AudioTrackMenuItem",_i);var Si=function(e){function t(t,n){return void 0===n&&(n={}),n.tracks=t.audioTracks(),e.call(this,t,n)||this}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},n.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++)e.push(new _i(this.player_,{track:t[n],selectable:!0,multiSelectable:!1}));return e},t}(ui);Si.prototype.controlText_="Audio Track",on.registerComponent("AudioTrackButton",Si);var Ti=function(e){function t(t,n){var r,i=n.rate,o=parseFloat(i,10);return n.label=i,n.selected=1===o,n.selectable=!0,n.multiSelectable=!1,(r=e.call(this,t,n)||this).label=i,r.rate=o,r.on(t,"ratechange",r.update),r}d()(t,e);var n=t.prototype;return n.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},n.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(pi);Ti.prototype.contentElType="button",on.registerComponent("PlaybackRateMenuItem",Ti);var Pi=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateVisibility(),r.updateLabel(),r.on(t,"loadstart",r.updateVisibility),r.on(t,"ratechange",r.updateLabel),r}d()(t,e);var n=t.prototype;return n.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=He("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},n.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},n.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},n.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},n.createMenu=function(){var e=new si(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new Ti(this.player(),{rate:t[n]+"x"}));return e},n.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},n.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},n.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},n.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},n.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},n.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(ci);Pi.prototype.controlText_="Playback Rate",on.registerComponent("PlaybackRateMenuButton",Pi);var Ci=function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(on);on.registerComponent("Spacer",Ci),on.registerComponent("CustomControlSpacer",function(e){function t(){return e.apply(this,arguments)||this}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},n.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="\xa0",t},t}(Ci));var Ei=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(on);Ei.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in a.a&&Ei.prototype.options_.children.splice(Ei.prototype.options_.children.length-1,0,"pictureInPictureToggle"),on.registerComponent("ControlBar",Ei);var ki=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).on(t,"error",r.open),r}d()(t,e);var n=t.prototype;return n.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},n.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(Gn);ki.prototype.options_=c()({},Gn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),on.registerComponent("ErrorDisplay",ki);var Oi=["#000","Black"],Mi=["#00F","Blue"],Ni=["#0FF","Cyan"],Ii=["#0F0","Green"],Di=["#F0F","Magenta"],Ri=["#F00","Red"],ji=["#FFF","White"],Bi=["#FF0","Yellow"],Fi=["1","Opaque"],Li=["0.5","Semi-Transparent"],Ui=["0","Transparent"],zi={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Oi,ji,Ri,Ii,Mi,Bi,Di,Ni]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Fi,Li,Ui]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ji,Oi,Ri,Ii,Mi,Bi,Di,Ni]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Fi,Li]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ui,Li,Fi]}};function Vi(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}zi.windowColor.options=zi.backgroundColor.options,on.registerComponent("TextTrackSettings",function(e){function t(t,n){var r;return n.temporary=!1,(r=e.call(this,t,n)||this).updateDisplay=Lt(l()(r),r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=He("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),Ie(zi,(function(e){r.on(r.$(e.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}d()(t,e);var n=t.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(e,t,n){var r=this;void 0===t&&(t=""),void 0===n&&(n="label");var i=zi[e],o=i.id.replace("%s",this.id_),a=[t,o].join(" ").trim();return["<"+n+' id="'+o+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(i.label),"</"+n+">",'<select aria-labelledby="'+a+'">'].concat(i.options.map((function(e){var t=o+"-"+e[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+a+" "+t+'">',r.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return He("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return He("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var e=this.localize("restore all settings to the default values");return He("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var e,t,n,r=this;return t=function(e,t,n){var i,o=Vi((i=r.$(t.selector)).options[i.options.selectedIndex].value,t.parser);return void 0!==o&&(e[n]=o),e},void 0===(n={})&&(n=0),Ne(e=zi).reduce((function(n,r){return t(n,e[r],r)}),n)},n.setValues=function(e){var t=this;Ie(zi,(function(n,r){!function(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(Vi(e.options[r].value,n)===t){e.selectedIndex=r;break}}(t.$(n.selector),e[r],n.parser)}))},n.setDefaults=function(){var e=this;Ie(zi,(function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n}))},n.restoreSettings=function(){var e;try{e=JSON.parse(i.a.localStorage.getItem("vjs-text-track-settings"))}catch(t){ke.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?i.a.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):i.a.localStorage.removeItem("vjs-text-track-settings")}catch(t){ke.warn(t)}}},n.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(Gn)),on.registerComponent("ResizeManager",function(e){function t(t,n){var r,o=n.ResizeObserver||i.a.ResizeObserver;null===n.ResizeObserver&&(o=!1);var a=tn({createEl:!o,reportTouchActivity:!1},n);return(r=e.call(this,t,a)||this).ResizeObserver=n.ResizeObserver||i.a.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,t,n,r){var o;void 0===r&&(r=i.a);var a=function(){var t=this,n=arguments,i=function(){o=null,i=null,e.apply(t,n)};r.clearTimeout(o),o=r.setTimeout(i,100)};return a.cancel=function(){r.clearTimeout(o),o=null},a}((function(){r.resizeHandler()}),0,0,l()(r)),o?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(t.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var e=r.debouncedHandler_,t=r.unloadListener_=function(){It(this,"resize",e),It(this,"unload",t),t=null};Nt(r.el_.contentWindow,"unload",t),Nt(r.el_.contentWindow,"resize",e)}},r.one("load",r.loadListener_)),r}d()(t,e);var n=t.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},t}(on));var Wi={trackingThreshold:30,liveTolerance:15};on.registerComponent("LiveTracker",function(e){function t(t,n){var r,i=tn(Wi,n,{createEl:!1});return(r=e.call(this,t,i)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),xn&&"hidden"in a.a&&"visibilityState"in a.a&&r.on(a.a,"visibilitychange",r.handleVisibilityChange),r}d()(t,e);var n=t.prototype;return n.handleVisibilityChange=function(){this.player_.duration()===1/0&&(a.a.hidden?this.stopTracking():this.startTracking())},n.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var t=Number(i.a.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;var r=this.liveCurrentTime(),o=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-o)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},n.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},n.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},n.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},n.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&e>2,this.skipNextSeeked_=!1,this.trackLive_()},n.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},n.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},n.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},n.seekableEnd=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0},n.seekableStart=function(){for(var e=this.player_.seekable(),t=[],n=e?e.length:0;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0},n.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?1/0:e-this.seekableStart()},n.isLive=function(){return this.isTracking()},n.atLiveEdge=function(){return!this.behindLiveEdge()},n.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},n.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},n.behindLiveEdge=function(){return this.behindLiveEdge_},n.isTracking=function(){return"number"==typeof this.trackingInterval_},n.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},n.dispose=function(){this.off(a.a,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},t}(on));var Hi,Gi=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],i="";if(!n.length)return!1;for(var o=0;o<n.length;o++){var a=n[o].src;a&&-1===r.indexOf(a)&&r.push(a)}return!!r.length&&(1===r.length&&(i=r[0]),e.triggerSourceset(i),!0)},qi=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=a.a.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=a.a.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",i.a.Element.prototype.appendChild.call(this,n),this.innerHTML}}),Xi=function(e,t){for(var n={},r=0;r<e.length&&!((n=Object.getOwnPropertyDescriptor(e[r],t))&&n.set&&n.get);r++);return n.enumerable=!0,n.configurable=!0,n},Ki=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=function(e){return Xi([e.el(),i.a.HTMLMediaElement.prototype,i.a.Element.prototype,qi],"innerHTML")}(e),o=function(n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=n.apply(t,i);return Gi(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(e){t[e]&&(n[e]=t[e],t[e]=o(n[e]))})),Object.defineProperty(t,"innerHTML",tn(r,{set:o(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach((function(e){t[e]=n[e]})),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},Yi=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?sr(i.a.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return i.a.Element.prototype.setAttribute.call(this,"src",e),e}}),Zi=function(e,t,n,r){void 0===r&&(r=!0);var i=function(n){return Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var e=n();return i(e),e}};return r&&(o.set=i),Object.defineProperty(e,t,o)},Qi=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=t.source,o=!1;if(i&&(r.el_.currentSrc!==i.src||t.tag&&3===t.tag.initNetworkState_)?r.setSource(i):r.handleLateInit_(r.el_),t.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){for(var a=r.el_.childNodes,s=a.length,c=[];s--;){var u=a[s];"track"===u.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),o||r.el_.hasAttribute("crossorigin")||!ur(u.src)||(o=!0)):c.push(u))}for(var l=0;l<c.length;l++)r.el_.removeChild(c[l])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&o&&ke.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(Sn||Pn||gn)&&!0===t.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}d()(t,e);var n=t.prototype;return n.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},n.setupSourcesetHandling_=function(){!function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=function(e){return Xi([e.el(),i.a.HTMLMediaElement.prototype,Yi],"src")}(e),r=t.setAttribute,o=t.load;Object.defineProperty(t,"src",tn(n,{set:function(r){var i=n.set.call(t,r);return e.triggerSourceset(t.src),i}})),t.setAttribute=function(n,i){var o=r.call(t,n,i);return/src/i.test(n)&&e.triggerSourceset(t.src),o},t.load=function(){var n=o.call(t);return Gi(e)||(e.triggerSourceset(""),Ki(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):Gi(e)||Ki(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=o,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}}(this)},n.restoreMetadataTracksInIOSNativePlayer_=function(){var e,t=this.textTracks(),n=function(){e=[];for(var n=0;n<t.length;n++){var r=t[n];"metadata"===r.kind&&e.push({track:r,storedMode:r.mode})}};n(),t.addEventListener("change",n),this.on("dispose",(function(){return t.removeEventListener("change",n)}));var r=function n(){for(var r=0;r<e.length;r++){var i=e[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}t.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",n),t.removeEventListener("change",r),t.addEventListener("change",r)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",n),t.addEventListener("change",n),t.removeEventListener("change",r)}))},n.overrideNative_=function(e,t){var n=this;if(t===this["featuresNative"+e+"Tracks"]){var r=e.toLowerCase();this[r+"TracksListeners_"]&&Object.keys(this[r+"TracksListeners_"]).forEach((function(e){n.el()[r+"Tracks"].removeEventListener(e,n[r+"TracksListeners_"][e])})),this["featuresNative"+e+"Tracks"]=!t,this[r+"TracksListeners_"]=null,this.proxyNativeTracksForType_(r)}},n.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},n.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},n.proxyNativeTracksForType_=function(e){var t=this,n=yr[e],r=this.el()[n.getterName],i=this[n.getterName]();if(this["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(n){var r={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(r),"text"===e&&t[vr.remoteText.getterName]().trigger(r)},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(e){var n=o[e];r.addEventListener(e,n),t.on("dispose",(function(t){return r.removeEventListener(e,n)}))})),this.on("loadstart",a),this.on("dispose",(function(e){return t.off("loadstart",a)}))}},n.proxyNativeTracks_=function(){var e=this;yr.names.forEach((function(t){e.proxyNativeTracksForType_(t)}))},n.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=a.a.createElement("video");var r=tn({},this.options_.tag&&Je(this.options_.tag));Sn&&!0===this.options_.nativeControlsForTouch||delete r.controls,Qe(e,De(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&et(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var i=["loop","muted","playsinline","autoplay"],o=0;o<i.length;o++){var s=i[o],c=this.options_[s];void 0!==c&&(c?et(e,s,s):tt(e,s),e[s]=c)}return e},n.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready((function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}))}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready((function(){i.forEach((function(e){this.trigger(e)}),this)}))}},n.setScrubbing=function(e){this.isScrubbing_=e},n.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&En?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){ke(t,"Video is not ready. (Video.js)")}},n.duration=function(){var e=this;return this.el_.duration===1/0&&fn&&bn&&0===this.el_.currentTime?(this.on("timeupdate",(function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))})),NaN):this.el_.duration||NaN},n.width=function(){return this.el_.offsetWidth},n.height=function(){return this.el_.offsetHeight},n.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",(function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)}))}},n.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=i.a.navigator&&i.a.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},n.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Wn(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},n.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},n.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},n.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},n.reset=function(){t.resetMediaElement(this.el_)},n.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},n.setControls=function(e){this.el_.controls=!!e},n.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},n.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=a.a.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},n.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},n.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},n.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),i.a.performance&&"function"==typeof i.a.performance.now?e.creationTime=i.a.performance.now():i.a.performance&&i.a.performance.timing&&"number"==typeof i.a.performance.timing.navigationStart&&(e.creationTime=i.a.Date.now()-i.a.performance.timing.navigationStart),e},t}(Ar);Zi(Qi,"TEST_VID",(function(){if(Ue()){var e=a.a.createElement("video"),t=a.a.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}})),Qi.isSupported=function(){try{Qi.TEST_VID.volume=.5}catch(e){return!1}return!(!Qi.TEST_VID||!Qi.TEST_VID.canPlayType)},Qi.canPlayType=function(e){return Qi.TEST_VID.canPlayType(e)},Qi.canPlaySource=function(e,t){return Qi.canPlayType(e.type)},Qi.canControlVolume=function(){try{var e=Qi.TEST_VID.volume;return Qi.TEST_VID.volume=e/2+.1,e!==Qi.TEST_VID.volume}catch(t){return!1}},Qi.canMuteVolume=function(){try{var e=Qi.TEST_VID.muted;return Qi.TEST_VID.muted=!e,Qi.TEST_VID.muted?et(Qi.TEST_VID,"muted","muted"):tt(Qi.TEST_VID,"muted"),e!==Qi.TEST_VID.muted}catch(t){return!1}},Qi.canControlPlaybackRate=function(){if(fn&&bn&&An<58)return!1;try{var e=Qi.TEST_VID.playbackRate;return Qi.TEST_VID.playbackRate=e/2+.1,e!==Qi.TEST_VID.playbackRate}catch(t){return!1}},Qi.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(a.a.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(a.a.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(a.a.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(a.a.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},Qi.supportsNativeTextTracks=function(){return En||Cn&&bn},Qi.supportsNativeVideoTracks=function(){return!(!Qi.TEST_VID||!Qi.TEST_VID.videoTracks)},Qi.supportsNativeAudioTracks=function(){return!(!Qi.TEST_VID||!Qi.TEST_VID.audioTracks)},Qi.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(e){var t=e[1];Zi(Qi.prototype,e[0],(function(){return Qi[t]()}),!0)})),Qi.prototype.movingMediaElementInDOM=!Cn,Qi.prototype.featuresFullscreenResize=!0,Qi.prototype.featuresProgressEvents=!0,Qi.prototype.featuresTimeupdateEvents=!0,Qi.patchCanPlayType=function(){mn>=4&&!yn&&!bn&&(Hi=Qi.TEST_VID&&Qi.TEST_VID.constructor.prototype.canPlayType,Qi.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e)?"maybe":Hi.call(this,e)})},Qi.unpatchCanPlayType=function(){var e=Qi.TEST_VID.constructor.prototype.canPlayType;return Hi&&(Qi.TEST_VID.constructor.prototype.canPlayType=Hi),e},Qi.patchCanPlayType(),Qi.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},Qi.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){Qi.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){Qi.prototype["set"+en(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){Qi.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){Qi.prototype["set"+en(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){Qi.prototype[e]=function(){return this.el_[e]()}})),Ar.withSourceHandlers(Qi),Qi.nativeSourceHandler={},Qi.nativeSourceHandler.canPlayType=function(e){try{return Qi.TEST_VID.canPlayType(e)}catch(t){return""}},Qi.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Qi.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=cr(e.src);return Qi.nativeSourceHandler.canPlayType("video/"+n)}return""},Qi.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Qi.nativeSourceHandler.dispose=function(){},Qi.registerSourceHandler(Qi.nativeSourceHandler),Ar.registerTech("Html5",Qi);var Ji=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],$i={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},eo=["tiny","xsmall","small","medium","large","xlarge","huge"],to={};eo.forEach((function(e){var t="x"===e.charAt(0)?"x-"+e.substring(1):e;to[e]="vjs-layout-"+t}));var no={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},ro=function(e){function t(n,r,i){var o;if(n.id=n.id||r.id||"vjs_video_"+Tt(),(r=De(t.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var s=n.closest("[lang]");s&&s.getAttribute&&(r.language=s.getAttribute("lang"))}else for(var c=n;c&&1===c.nodeType;){if(Je(c).hasOwnProperty("lang")){r.language=c.getAttribute("lang");break}c=c.parentNode}if((o=e.call(this,null,r,i)||this).boundDocumentFullscreenChange_=Lt(l()(o),o.documentFullscreenChange_),o.boundFullWindowOnEscKey_=Lt(l()(o),o.fullWindowOnEscKey),o.isFullscreen_=!1,o.log=Oe(o.id_),o.fsApi_=Rn,o.isPosterFromTech_=!1,o.queuedCallbacks_=[],o.isReady_=!1,o.hasStarted_=!1,o.userActive_=!1,o.debugEnabled_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=n,o.tagAttributes=n&&Je(n),o.language(o.options_.language),r.languages){var u={};Object.getOwnPropertyNames(r.languages).forEach((function(e){u[e.toLowerCase()]=r.languages[e]})),o.languages_=u}else o.languages_=t.prototype.options_.languages;o.resetCache_(),o.poster_=r.poster||"",o.controls_=!!r.controls,n.controls=!1,n.removeAttribute("controls"),o.changingSrc_=!1,o.playCallbacks_=[],o.playTerminatedQueue_=[],n.hasAttribute("autoplay")?o.autoplay(!0):o.autoplay(o.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(e){if("function"!=typeof o[e])throw new Error('plugin "'+e+'" does not exist')})),o.scrubbing_=!1,o.el_=o.createEl(),Zt(l()(o),{eventBusKey:"el_"}),o.fsApi_.requestFullscreen&&(Nt(a.a,o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_),o.on(o.fsApi_.fullscreenchange,o.boundDocumentFullscreenChange_)),o.fluid_&&o.on("playerreset",o.updateStyleEl_);var p=tn(o.options_);r.plugins&&Object.keys(r.plugins).forEach((function(e){o[e](r.plugins[e])})),r.debug&&o.debug(!0),o.options_.playerOptions=p,o.middleware_=[],o.initChildren(),o.isAudio("audio"===n.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),Sn&&o.addClass("vjs-touch-enabled"),Cn||o.addClass("vjs-workinghover"),t.players[o.id_]=l()(o);var d="7.10.1".split(".")[0];return o.addClass("vjs-v"+d),o.userActive(!0),o.reportUserActivity(),o.one("play",o.listenForUserActivity_),o.on("stageclick",o.handleStageClick_),o.on("keydown",o.handleKeyDown),o.breakpoints(o.options_.breakpoints),o.responsive(o.options_.responsive),o}d()(t,e);var n=t.prototype;return n.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),It(a.a,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),It(a.a,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),wr[this.id()]=null,br.names.forEach((function(e){var t=n[br[e].getterName]();t&&t.off&&t.off()})),e.prototype.dispose.call(this)},n.createEl=function(){var t,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o="video-js"===this.tag.tagName.toLowerCase();r?t=this.el_=n.parentNode:o||(t=this.el_=e.prototype.createEl.call(this,"div"));var s=Je(n);if(o){for(t=this.el_=n,n=this.tag=a.a.createElement("video");t.children.length;)n.appendChild(t.firstChild);Xe(t,"video-js")||Ke(t,"video-js"),t.appendChild(n),r=this.playerElIngest_=t,Object.keys(t).forEach((function(e){try{n[e]=t[e]}catch(r){}}))}if(n.setAttribute("tabindex","-1"),s.tabindex="-1",(xn||bn&&_n)&&(n.setAttribute("role","application"),s.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(e){o&&"class"===e||t.setAttribute(e,s[e]),o&&n.setAttribute(e,s[e])})),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=t.player=this,this.addClass("vjs-paused"),!0!==i.a.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=wt("vjs-styles-dimensions");var c=ft(".vjs-styles-defaults"),u=ft("head");u.insertBefore(this.styleEl_,c?c.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var l=n.getElementsByTagName("a"),p=0;p<l.length;p++){var d=l.item(p);Ke(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(t,n),qe(n,t),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=t,t},n.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):ke.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},n.width=function(e){return this.dimension("width",e)},n.height=function(e){return this.dimension("height",e)},n.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);isNaN(r)?ke.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,this.updateStyleEl_())},n.fluid=function(e){if(void 0===e)return!!this.fluid_;var t;this.fluid_=!!e,Vt(this)&&this.off("playerreset",this.updateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Vt(t=function(){this.on("playerreset",this.updateStyleEl_)})?(void 0)():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(void 0))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},n.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},n.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},n.updateStyleEl_=function(){if(!0!==i.a.VIDEOJS_NO_DYNAMIC_STYLE){var e,t,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),_t(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(a>=0&&(c.width=a),s>=0&&(c.height=s))}},n.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=en(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(Ar.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o={source:t,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};br.names.forEach((function(e){var t=br[e];o[t.getterName]=n[t.privateName]})),De(o,this.options_[r]),De(o,this.options_[i]),De(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a,s=Ar.getTech(e);if(!s)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new s(o),this.tech_.ready(Lt(this,this.handleTechReady_),!0),a=this.tech_,(this.textTracksJson_||[]).forEach((function(e){var t=a.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((function(e){return t.addCue(e)}))})),a.textTracks(),Ji.forEach((function(e){n.on(n.tech_,e,n["handleTech"+en(e)+"_"])})),Object.keys($i).forEach((function(e){n.on(n.tech_,e,(function(t){0===n.tech_.playbackRate()&&n.tech_.seeking()?n.queuedCallbacks_.push({callback:n["handleTech"+$i[e]+"_"].bind(n),event:t}):n["handleTech"+$i[e]+"_"](t)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||qe(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},n.unloadTech_=function(){var e,t,n,r=this;br.names.forEach((function(e){var t=br[e];r[t.privateName]=r[t.getterName]()})),this.textTracksJson_=(t=(e=this.tech_).$$("track"),n=Array.prototype.map.call(t,(function(e){return e.track})),Array.prototype.map.call(t,(function(e){var t=Hn(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===n.indexOf(e)})).map(Hn))),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},n.tech=function(e){return void 0===e&&ke.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},n.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},n.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},n.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},n.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},n.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n,r=function(){var e=t.muted();t.muted(!0);var n=function(){t.muted(e)};t.playTerminatedQueue_.push(n);var r=t.play();if(Vn(r))return r.catch(n)};if("any"===e&&!0!==this.muted()?Vn(n=this.play())&&(n=n.catch(r)):n="muted"===e&&!0!==this.muted()?r():this.play(),Vn(n))return n.then((function(){t.trigger({type:"autoplay-success",autoplay:e})})).catch((function(n){t.trigger({type:"autoplay-failure",autoplay:e})}))}},n.updateSourceCaches_=function(e){void 0===e&&(e="");var t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter((function(e){return e.src===t}));if(n.length)return n[0].type;for(var r=e.$$("source"),i=0;i<r.length;i++){var o=r[i];if(o.type&&o.src&&o.src===t)return o.type}return Or(t)}(this,t)),this.cache_.source=tn({},e,{src:t,type:n});for(var r=this.cache_.sources.filter((function(e){return e.src&&e.src===t})),i=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var c=Je(o[s]);i.push(c),c.src&&c.src===t&&a.push(c.src)}a.length&&!r.length?this.cache_.sources=i:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t},n.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_){var n=function(e){return t.updateSourceCaches_(e)},r=this.currentSource().src,i=e.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=function(){}),n(i),e.src||this.tech_.any(["sourceset","loadstart"],(function(e){if("sourceset"!==e.type){var n=t.techGet("currentSrc");t.lastSource_.tech=n,t.updateSourceCaches_(n)}}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},n.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},n.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},n.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(e){return e.callback(e.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},n.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var t=this.currentTime();this.on("timeupdate",(function n(){t!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",n))}))},n.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},n.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},n.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},n.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},n.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},n.handleTechFirstPlay_=function(){this.options_.starttime&&(ke.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},n.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},n.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},n.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},n.handleTechClick_=function(e){dt(e)&&this.controls_&&(this.paused()?Wn(this.play()):this.pause())},n.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(e.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},n.handleTechTap_=function(){this.userActive(!this.userActive())},n.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},n.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},n.handleTechTouchEnd_=function(e){e.preventDefault()},n.handleStageClick_=function(){this.reportUserActivity()},n.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},n.documentFullscreenChange_=function(e){var t=e.target.player;if(!t||t===this){var n=this.el(),r=a.a[this.fsApi_.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+this.fsApi_.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},n.handleTechFullscreenChange_=function(e,t){t&&(t.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(t.isFullscreen))},n.handleTechFullscreenError_=function(e,t){this.trigger("fullscreenerror",t)},n.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},n.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},n.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},n.handleTechError_=function(){var e=this.tech_.error();this.error(e)},n.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},n.getCache=function(){return this.cache_},n.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},n.techCall_=function(e,t){this.ready((function(){if(e in Pr)return function(e,t,n,r){return t[n](e.reduce(Er(n),r))}(this.middleware_,this.tech_,e,t);if(e in Cr)return Sr(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw ke(n),n}}),!0)},n.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Tr)return function(e,t,n){return e.reduceRight(Er(n),t[n]())}(this.middleware_,this.tech_,e);if(e in Cr)return Sr(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw ke("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw ke("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw ke(t),t}}},n.play=function(){var e=this,t=this.options_.Promise||i.a.Promise;return t?new t((function(t){e.play_(t)})):this.play_()},n.play_=function(e){var t=this;void 0===e&&(e=Wn),this.playCallbacks_.push(e);var n=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n)return this.waitToPlay_=function(e){t.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(n||!En&&!Cn||this.load());var r=this.techGet_("play");null===r?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)},n.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))},n.runPlayCallbacks_=function(e){var t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))},n.pause=function(){this.techCall_("pause")},n.paused=function(){return!1!==this.techGet_("paused")},n.played=function(){return this.techGet_("played")||Nn(0,0)},n.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},n.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},n.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},n.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},n.remainingTime=function(){return this.duration()-this.currentTime()},n.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},n.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=Nn(0,0)),e},n.bufferedPercent=function(){return In(this.buffered(),this.duration())},n.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},n.volume=function(e){var t;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},n.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},n.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},n.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},n.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},n.isFullscreen=function(e){if(void 0!==e){var t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},n.requestFullscreen=function(e){var t=this.options_.Promise||i.a.Promise;if(t){var n=this;return new t((function(t,r){function i(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){i(),t()}function a(e,t){i(),r(t)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);var s=n.requestFullscreenHelper_(e);if(s)return s.then(i,i),s}))}return this.requestFullscreenHelper_()},n.requestFullscreenHelper_=function(e){var t,n=this;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){var r=this.el_[this.fsApi_.requestFullscreen](t);return r&&r.then((function(){return n.isFullscreen(!0)}),(function(){return n.isFullscreen(!1)})),r}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},n.exitFullscreen=function(){var e=this.options_.Promise||i.a.Promise;if(e){var t=this;return new e((function(e,n){function r(){t.off("fullscreenerror",o),t.off("fullscreenchange",i)}function i(){r(),e()}function o(e,t){r(),n(t)}t.one("fullscreenchange",i),t.one("fullscreenerror",o);var a=t.exitFullscreenHelper_();if(a)return a.then(r,r),a}))}return this.exitFullscreenHelper_()},n.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var t=a.a[this.fsApi_.exitFullscreen]();return t&&t.then((function(){return e.isFullscreen(!1)})),t}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},n.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=a.a.documentElement.style.overflow,Nt(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow="hidden",Ke(a.a.body,"vjs-full-window"),this.trigger("enterFullWindow")},n.fullWindowOnEscKey=function(e){g.a.isEventKey(e,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},n.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,It(a.a,"keydown",this.boundFullWindowOnEscKey_),a.a.documentElement.style.overflow=this.docOrigOverflow,Ye(a.a.body,"vjs-full-window"),this.trigger("exitFullWindow")},n.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},n.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},n.requestPictureInPicture=function(){if("pictureInPictureEnabled"in a.a&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},n.exitPictureInPicture=function(){if("pictureInPictureEnabled"in a.a)return a.a.exitPictureInPicture()},n.handleKeyDown=function(e){var t,n,r=this.options_.userActions;r&&r.hotkeys&&(n=(t=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),t.isContentEditable||("input"===n?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(t.type):-1!==["textarea"].indexOf(n))||("function"==typeof r.hotkeys?r.hotkeys.call(this,e):this.handleHotkeys(e)))},n.handleHotkeys=function(e){var t=this.options_.userActions?this.options_.userActions.hotkeys:{},n=t.fullscreenKey,r=t.muteKey,i=void 0===r?function(e){return g.a.isEventKey(e,"m")}:r,o=t.playPauseKey,s=void 0===o?function(e){return g.a.isEventKey(e,"k")||g.a.isEventKey(e,"Space")}:o;if((void 0===n?function(e){return g.a.isEventKey(e,"f")}:n).call(this,e)){e.preventDefault(),e.stopPropagation();var c=on.getComponent("FullscreenToggle");!1!==a.a[this.fsApi_.fullscreenEnabled]&&c.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),on.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),on.getComponent("PlayToggle").prototype.handleClick.call(this,e))},n.canPlayType=function(e){for(var t,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=Ar.getTech(i);if(o||(o=on.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else ke.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},n.selectSource=function(e){var t,n=this,r=this.options_.techOrder.map((function(e){return[e,Ar.getTech(e)]})).filter((function(e){var t=e[0],n=e[1];return n?n.isSupported():(ke.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),i=function(e,t,n){var r;return e.some((function(e){return t.some((function(t){if(r=n(e,t))return!0}))})),r},o=function(e,t){var r=e[0];if(e[1].canPlaySource(t,n.options_[r.toLowerCase()]))return{source:t,tech:r}};return(this.options_.sourceOrder?i(e,r,(t=o,function(e,n){return t(n,e)})):i(r,e,o))||!1},n.src=function(e){var t=this;if(void 0===e)return this.cache_.src||"";var n,r,i,o=function e(t){if(Array.isArray(t)){var n=[];t.forEach((function(t){t=e(t),Array.isArray(t)?n=n.concat(t):Re(t)&&n.push(t)})),t=n}else t="string"==typeof t&&t.trim()?[Mr({src:t})]:Re(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[Mr(t)]:[];return t}(e);o.length?(this.changingSrc_=!0,this.cache_.sources=o,this.updateSourceCaches_(o[0]),r=o[0],i=function(e,n){var r;if(t.middleware_=n,t.cache_.sources=o,t.updateSourceCaches_(e),t.src_(e))return o.length>1?t.src(o.slice(1)):(t.changingSrc_=!1,t.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void t.triggerReady());r=t.tech_,n.forEach((function(e){return e.setTech&&e.setTech(r)}))},(n=this).setTimeout((function(){return function e(t,n,r,i,o,a){void 0===t&&(t={}),void 0===n&&(n=[]),void 0===o&&(o=[]),void 0===a&&(a=!1);var s=n[0],c=n.slice(1);if("string"==typeof s)e(t,xr[s],r,i,o,a);else if(s){var u=function(e,t){var n=wr[e.id()],r=null;if(null==n)return r=t(e),wr[e.id()]=[[t,r]],r;for(var i=0;i<n.length;i++){var o=n[i];o[0]===t&&(r=o[1])}return null===r&&(r=t(e),n.push([t,r])),r}(i,s);if(!u.setSource)return o.push(u),e(t,c,r,i,o,a);u.setSource(De({},t),(function(n,s){if(n)return e(t,c,r,i,o,a);o.push(u),e(s,t.type===s.type?c:xr[s.type],r,i,o,a)}))}else c.length?e(t,c,r,i,o,a):a?r(t,o):e(t,xr["*"],r,i,o,!0)}(r,xr[r.type],i,n)}),1)):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},n.src_=function(e){var t,n=this,r=this.selectSource([e]);return!r||(t=this.techName_,en(r.tech)!==en(t)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){n.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1))},n.load=function(){this.techCall_("load")},n.reset=function(){var e=this,t=this.options_.Promise||i.a.Promise;this.paused()||!t?this.doReset_():Wn(this.play().then((function(){return e.doReset_()})))},n.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Vt(this)&&this.trigger("playerreset")},n.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},n.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,t=e.durationDisplay,n=e.remainingTimeDisplay;t&&t.updateContent(),n&&n.updateContent()},n.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},n.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},n.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},n.currentSource=function(){return this.cache_.source||{}},n.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},n.currentType=function(){return this.currentSource()&&this.currentSource().type||""},n.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},n.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)},n.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},n.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},n.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},n.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},n.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},n.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},n.error=function(e){if(void 0===e)return this.error_||null;if(this.options_.suppressNotSupportedError&&e&&4===e.code){var t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Un(e),this.addClass("vjs-error"),ke.error("(CODE:"+this.error_.code+" "+Un.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},n.reportUserActivity=function(e){this.userActivity_=!0},n.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},n.listenForUserActivity_=function(){var e,t,n,r=Lt(this,this.reportUserActivity),i=function(t){r(),this.clearInterval(e)};this.on("mousedown",(function(){r(),this.clearInterval(e),e=this.setInterval(r,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())})),this.on("mouseup",i),this.on("mouseleave",i);var o,a=this.getChild("controlBar");!a||Cn||fn||(a.on("mouseenter",(function(e){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",r),this.on("keyup",r),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var e=this.options_.inactivityTimeout;e<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}}),250)},n.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},n.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},n.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},n.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},n.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},n.removeRemoteTextTrack=function(e){void 0===e&&(e={});var t=e.track;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)},n.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},n.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},n.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},n.language=function(e){if(void 0===e)return this.language_;this.language_=String(e).toLowerCase()},n.languages=function(){return tn(t.prototype.options_.languages,this.languages_)},n.toJSON=function(){var e=tn(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=tn(r)).player=void 0,e.tracks[n]=r}return e},n.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new Gn(this,t);return this.addChild(r),r.on("dispose",(function(){n.removeChild(r)})),r.open(),r},n.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),t=this.currentWidth(),n=0;n<eo.length;n++){var r=eo[n];if(t<=this.breakpoints_[r]){if(e===r)return;e&&this.removeClass(to[e]),this.addClass(to[r]),this.breakpoint_=r;break}}},n.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},n.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=De({},no,e),this.updateCurrentBreakpoint_()),De(this.breakpoints_)},n.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},n.currentBreakpoint=function(){return this.breakpoint_},n.currentBreakpointClass=function(){return to[this.breakpoint_]||""},n.loadMedia=function(e,t){var n=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=tn(e);var r=this.cache_.media,i=r.poster,o=r.src,a=r.textTracks;!r.artwork&&i&&(this.cache_.media.artwork=[{src:i,type:Or(i)}]),o&&this.src(o),i&&this.poster(i),Array.isArray(a)&&a.forEach((function(e){return n.addRemoteTextTrack(e,!1)})),this.ready(t)}},n.getMedia=function(){if(!this.cache_.media){var e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(e){return{kind:e.kind,label:e.label,language:e.language,src:e.src}}))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:Or(t.poster)}]),t}return tn(this.cache_.media)},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=Je(e),r=n["data-setup"];if(Xe(e,"vjs-fill")&&(n.fill=!0),Xe(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=f()(r||"{}"),o=i[0],a=i[1];o&&ke.error(o),De(n,a)}if(De(t,n),e.hasChildNodes())for(var s=e.childNodes,c=0,u=s.length;c<u;c++){var l=s[c],p=l.nodeName.toLowerCase();"source"===p?t.sources.push(Je(l)):"track"===p&&t.tracks.push(Je(l))}return t},n.flexNotSupported_=function(){var e=a.a.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},n.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},t}(on);br.names.forEach((function(e){var t=br[e];ro.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),ro.prototype.crossorigin=ro.prototype.crossOrigin,ro.players={};var io=i.a.navigator;ro.prototype.options_={techOrder:Ar.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:io&&(io.languages&&io.languages[0]||io.userLanguage||io.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){ro.prototype[e]=function(){return this.techGet_(e)}})),Ji.forEach((function(e){ro.prototype["handleTech"+en(e)+"_"]=function(){return this.trigger(e)}})),on.registerComponent("Player",ro);var oo={},ao=function(e){return oo.hasOwnProperty(e)},so=function(e){return ao(e)?oo[e]:void 0},co=function(e,t){e.activePlugins_=e.activePlugins_||{},e.activePlugins_[t]=!0},uo=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},lo=function(e,t){return t.prototype.name=e,function(){uo(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=w()(t,[this].concat(r));return this[e]=function(){return o},uo(this,o.getEventHash()),o}},po=function(){function e(t){if(this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),Zt(this),delete this.trigger,Jt(this,this.constructor.defaultState),co(t,this.name),this.dispose=Lt(this,this.dispose),t.on("dispose",this.dispose)}var t=e.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(e){return void 0===e&&(e={}),e.name=this.name,e.plugin=this.constructor,e.instance=this,e},t.trigger=function(e,t){return void 0===t&&(t={}),Dt(this.eventBusEl_,e,this.getEventHash(t))},t.handleStateChanged=function(e){},t.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t.activePlugins_[e]=!1,this.player=this.state=null,t[e]=lo(e,oo[e])},e.isBasic=function(t){var n="string"==typeof t?so(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(ao(t))ke.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(ro.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof n+".");return oo[t]=n,"plugin"!==t&&(ro.prototype[t]=e.isBasic(n)?function(e,t){var n=function(){uo(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return co(this,e),uo(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach((function(e){n[e]=t[e]})),n}(t,n):lo(t,n)),n},e.deregisterPlugin=function(e){if("plugin"===e)throw new Error("Cannot de-register base plugin.");ao(e)&&(delete oo[e],delete ro.prototype[e])},e.getPlugins=function(e){var t;return void 0===e&&(e=Object.keys(oo)),e.forEach((function(e){var n=so(e);n&&((t=t||{})[e]=n)})),t},e.getPluginVersion=function(e){var t=so(e);return t&&t.VERSION||""},e}();po.getPlugin=so,po.BASE_PLUGIN_NAME="plugin",po.registerPlugin("plugin",po),ro.prototype.usingPlugin=function(e){return!!this.activePlugins_&&!0===this.activePlugins_[e]},ro.prototype.hasPlugin=function(e){return!!ao(e)};var ho=function(e){return 0===e.indexOf("#")?e.slice(1):e};function fo(e,t,n){var r=fo.getPlayer(e);if(r)return t&&ke.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var i="string"==typeof e?ft("#"+ho(e)):e;if(!ze(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");i.ownerDocument.defaultView&&i.ownerDocument.body.contains(i)||ke.warn("The element supplied is not included in the DOM"),t=t||{},fo.hooks("beforesetup").forEach((function(e){var n=e(i,tn(t));Re(n)&&!Array.isArray(n)?t=tn(t,n):ke.error("please return an object in beforesetup hooks")}));var o=on.getComponent("Player");return r=new o(i,t,n),fo.hooks("setup").forEach((function(e){return e(r)})),r}if(fo.hooks_={},fo.hooks=function(e,t){return fo.hooks_[e]=fo.hooks_[e]||[],t&&(fo.hooks_[e]=fo.hooks_[e].concat(t)),fo.hooks_[e]},fo.hook=function(e,t){fo.hooks(e,t)},fo.hookOnce=function(e,t){fo.hooks(e,[].concat(t).map((function(t){return function n(){return fo.removeHook(e,n),t.apply(void 0,arguments)}})))},fo.removeHook=function(e,t){var n=fo.hooks(e).indexOf(t);return!(n<=-1||((fo.hooks_[e]=fo.hooks_[e].slice()).splice(n,1),0))},!0!==i.a.VIDEOJS_NO_DYNAMIC_STYLE&&Ue()){var mo=ft(".vjs-styles-defaults");if(!mo){mo=wt("vjs-styles-defaults");var go=ft("head");go&&go.insertBefore(mo,go.firstChild),_t(mo,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}bt(1,fo),fo.VERSION="7.10.1",fo.options=ro.prototype.options_,fo.getPlayers=function(){return ro.players},fo.getPlayer=function(e){var t,n=ro.players;if("string"==typeof e){var r=ho(e),i=n[r];if(i)return i;t=ft("#"+r)}else t=e;if(ze(t)){var o=t.player,a=t.playerId;if(o||n[a])return o||n[a]}},fo.getAllPlayers=function(){return Object.keys(ro.players).map((function(e){return ro.players[e]})).filter(Boolean)},fo.players=ro.players,fo.getComponent=on.getComponent,fo.registerComponent=function(e,t){Ar.isTech(t)&&ke.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),on.registerComponent.call(on,e,t)},fo.getTech=Ar.getTech,fo.registerTech=Ar.registerTech,fo.use=function(e,t){xr[e]=xr[e]||[],xr[e].push(t)},Object.defineProperty(fo,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(fo.middleware,"TERMINATOR",{value:_r,writeable:!1,enumerable:!0}),fo.browser=kn,fo.TOUCH_ENABLED=Sn,fo.extend=function(e,t){void 0===t&&(t={});var n=function(){e.apply(this,arguments)},r={};for(var i in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),S()(n,e),e&&(n.super_=e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},fo.mergeOptions=tn,fo.bind=Lt,fo.registerPlugin=po.registerPlugin,fo.deregisterPlugin=po.deregisterPlugin,fo.plugin=function(e,t){return ke.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),po.registerPlugin(e,t)},fo.getPlugins=po.getPlugins,fo.getPlugin=po.getPlugin,fo.getPluginVersion=po.getPluginVersion,fo.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),(fo.options.languages=tn(fo.options.languages,((n={})[e]=t,n)))[e]},fo.log=ke,fo.createLogger=Oe,fo.createTimeRange=fo.createTimeRanges=Nn,fo.formatTime=Vr,fo.setFormatTime=function(e){zr=e},fo.resetFormatTime=function(){zr=Ur},fo.parseUrl=ar,fo.isCrossOrigin=ur,fo.EventTarget=zt,fo.on=Nt,fo.one=Rt,fo.off=It,fo.trigger=Dt,fo.xhr=v.a,fo.TextTrack=hr,fo.AudioTrack=fr,fo.VideoTrack=mr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(e){fo[e]=function(){return ke.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),gt[e].apply(null,arguments)}})),fo.computedStyle=Be,fo.dom=gt,fo.url=lr,fo.defineLazyProperty=Zi;var yo,vo=P.a,bo=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},Ao=fo.log,xo=function(e,t){return e+"-"+t},wo=function(e){var t=e.manifestString,n=e.customTagParsers,r=void 0===n?[]:n,i=e.customTagMappers,o=void 0===i?[]:i,a=new D;return r.forEach((function(e){return a.addParser(e)})),o.forEach((function(e){return a.addTagMapper(e)})),a.push(t),a.end(),a.manifest},_o=function(e,t){["AUDIO","SUBTITLES"].forEach((function(n){for(var r in e.mediaGroups[n])for(var i in e.mediaGroups[n][r])t(e.mediaGroups[n][r][i],n,r,i)}))},So=function(e){var t=e.playlist,n=e.uri;t.id=e.id,n&&(t.uri=n),t.attributes=t.attributes||{}},To=function(e,t){e.uri=t;for(var n=0;n<e.playlists.length;n++)e.playlists[n].uri||(e.playlists[n].uri="placeholder-uri-"+n);_o(e,(function(t,n,r,i){if(t.playlists&&t.playlists.length&&!t.playlists[0].uri){var o="placeholder-uri-"+n+"-"+r+"-"+i,a=xo(0,o);t.playlists[0].uri=o,t.playlists[0].id=a,e.playlists[a]=t.playlists[0],e.playlists[o]=t.playlists[0]}})),function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];So({playlist:n,id:xo(t,n.uri)}),n.resolvedUri=vo(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||Ao.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(e),function(e){_o(e,(function(t){t.uri&&(t.resolvedUri=vo(e.uri,t.uri))}))}(e)},Po=fo.mergeOptions,Co=function(e,t){e.resolvedUri||(e.resolvedUri=vo(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=vo(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=vo(t,e.map.uri))},Eo=function(e,t){var n=Po(e,{}),r=n.playlists[t.id];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.endList===t.endList&&r.mediaSequence===t.mediaSequence)return null;var i=Po(r,t);r.segments&&(i.segments=function(e,t,n){var r=t.slice();n=n||0;for(var i=Math.min(e.length,t.length+n),o=n;o<i;o++)r[o-n]=Po(e[o],r[o-n]);return r}(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),i.segments.forEach((function(e){Co(e,i.resolvedUri)}));for(var o=0;o<n.playlists.length;o++)n.playlists[o].id===t.id&&(n.playlists[o]=i);return n.playlists[t.id]=i,n.playlists[t.uri]=i,n},ko=function(e,t){var n=e.segments[e.segments.length-1];return t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)},Oo=function(e){function t(t,n,r){var i;if(void 0===r&&(r={}),i=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");var o=r.withCredentials,a=void 0!==o&&o,s=r.handleManifestRedirects,c=void 0!==s&&s;i.src=t,i.vhs_=n,i.withCredentials=a,i.handleManifestRedirects=c;var u=n.options_;return i.customTagParsers=u&&u.customTagParsers||[],i.customTagMappers=u&&u.customTagMappers||[],i.state="HAVE_NOTHING",i.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.vhs_.xhr({uri:vo(i.master.uri,i.media().uri),withCredentials:i.withCredentials},(function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media(),"HAVE_METADATA"):void i.haveMetadata({playlistString:i.request.responseText,url:i.media().uri,id:i.media().id})})))})),i}d()(t,e);var n=t.prototype;return n.playlistRequestError=function(e,t,n){var r=t.uri,i=t.id;this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[i],status:e.status,message:"HLS playlist request error at URL: "+r+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},n.haveMetadata=function(e){var t=this,n=e.playlistString,r=e.playlistObject,o=e.url,a=e.id;this.request=null,this.state="HAVE_METADATA";var s=r||wo({manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers});So({playlist:s,uri:o,id:a});var c=Eo(this.master,s);this.targetDuration=s.targetDuration,c?(this.master=c,this.media_=this.master.playlists[a]):this.trigger("playlistunchanged"),this.media().endList||(i.a.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=i.a.setTimeout((function(){t.trigger("mediaupdatetimeout")}),ko(this.media(),!!c))),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),i.a.clearTimeout(this.mediaUpdateTimeout),i.a.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.media=function(e,t){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(i.a.clearTimeout(this.finalRenditionTimeout),t){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=i.a.setTimeout(this.media.bind(this,e,!1),r)}else{var o=this.state,a=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),this.trigger("HAVE_MASTER"===o?"loadedmetadata":"mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,r){if(n.request){if(e.resolvedUri=bo(n.handleManifestRedirects,e.resolvedUri,r),t)return n.playlistRequestError(n.request,e,o);n.haveMetadata({playlistString:r.responseText,url:e.uri,id:e.id}),n.trigger("HAVE_MASTER"===o?"loadedmetadata":"mediachange")}}))}}},n.pause=function(){this.stopRequest(),i.a.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var t=this;i.a.clearTimeout(this.mediaUpdateTimeout);var n=this.media();e?this.mediaUpdateTimeout=i.a.setTimeout((function(){return t.load()}),n?n.targetDuration/2*1e3:5e3):this.started?this.trigger(n&&!n.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},n.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=i.a.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=bo(e.handleManifestRedirects,e.src,n);var r=wo({manifestString:n.responseText,customTagParsers:e.customTagParsers,customTagMappers:e.customTagMappers});e.setupInitialPlaylist(r)}}))},n.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,To(this.master,this.srcUri()),e.playlists.forEach((function(e){e.segments&&e.segments.forEach((function(t){Co(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var t=this.srcUri()||i.a.location.href;this.master=function(e,t){var n=xo(0,t),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:i.a.location.href,resolvedUri:i.a.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[t]=r.playlists[0],r}(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(fo.EventTarget),Mo=function(e,t){var n,r=[];if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return fo.createTimeRanges(r)},No=function(e,t){return Mo(e,(function(e,n){return e-.1<=t&&n+.1>=t}))},Io=function(e,t){return Mo(e,(function(e){return e-1/30>=t}))},Do=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},Ro=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},jo=fo.createTimeRange,Bo=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var r=function(e,t){var n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if(void 0!==i.start)return{result:i.start,precise:!0};if(void 0!==i.end)return{result:i.end-i.duration,precise:!0}}for(;r--;){if(void 0!==(i=e.segments[r]).end)return{result:n+i.end,precise:!0};if(n+=i.duration,void 0!==i.start)return{result:n+i.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(r.precise)return r.result;var i=function(e,t){for(var n,r=0,i=t-e.mediaSequence;i<e.segments.length;i++){if(void 0!==(n=e.segments[i]).start)return{result:n.start-r,precise:!0};if(r+=n.duration,void 0!==n.end)return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}}(e,t);return i.precise?i.result:r.result+n},Fo=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return i.a.Infinity}return Bo(e,t,n)},Lo=function(e,t,n){var r=0;if(t>n){var i=[n,t];t=i[0],n=i[1]}if(t<0){for(var o=t;o<Math.min(0,n);o++)r+=e.targetDuration;t=0}for(var a=t;a<n;a++)r+=e.segments[a].duration;return r},Uo=function(e,t){if(!e.segments.length)return 0;var n=e.segments.length,r="number"==typeof t?t:(e.segments[n-1].duration||e.targetDuration)+2*e.targetDuration;if(0===r)return n;for(var i=0;n--&&!((i+=e.segments[n].duration)>=r););return Math.max(0,n)},zo=function(e,t,n,r){if(!e||!e.segments)return null;if(e.endList)return Fo(e);if(null===t)return null;t=t||0;var i=n?Uo(e,r):e.segments.length;return Bo(e,e.mediaSequence+i,t)},Vo=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},Wo=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Ho=function(e){var t=Vo(e);return!e.disabled&&!t},Go=function(e,t){return t.attributes&&t.attributes[e]},qo=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((function(e){return!!Ho(e)&&(e.attributes.BANDWIDTH||0)<n})).length},Xo={duration:Fo,seekable:function(e,t,n){var r=t||0,i=zo(e,t,!0,n);return null===i?jo():jo(r,i)},safeLiveIndex:Uo,getMediaInfoForTime:function(e,t,n,r){var i,o=e.segments.length,a=t-r;if(a<0){if(n>0)for(i=n-1;i>=0;i--)if((a+=e.segments[i].duration+1/30)>0)return{mediaIndex:i,startTime:r-Lo(e,n,i)};return{mediaIndex:0,startTime:t}}if(n<0){for(i=n;i<0;i++)if((a-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};n=0}for(i=n;i<o;i++)if((a-=e.segments[i].duration+1/30)<0)return{mediaIndex:i,startTime:r+Lo(e,n,i)};return{mediaIndex:o-1,startTime:t}},isEnabled:Ho,isDisabled:function(e){return e.disabled},isBlacklisted:Vo,isIncompatible:Wo,playlistEnd:zo,isAes:function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:Go,estimateSegmentRequestTime:function(e,t,n,r){return void 0===r&&(r=0),Go("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*r)/t:NaN},isLowestEnabledRendition:qo},Ko=fo.xhr,Yo=fo.mergeOptions,Zo=function(e,t,n,r){var i="arraybuffer"===e.responseType?e.response:e.responseText;!t&&i&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=i.byteLength||i.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(i||e.responseText)))),r(t,e)},Qo=function(){return function e(t,n){t=Yo({timeout:45e3},t);var r=e.beforeRequest||fo.Vhs.xhr.beforeRequest;if(r&&"function"==typeof r){var i=r(t);i&&(t=i)}var o=Ko(t,(function(e,t){return Zo(o,e,t,n)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=t.uri,o.requestTime=Date.now(),o}},Jo=function(e){var t,n={};return e.byterange&&(n.Range="bytes="+(t=e.byterange).offset+"-"+(t.offset+t.length-1)),n},$o=function(e,t){return e.start(t)+"-"+e.end(t)},ea=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},ta=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},na=function(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n]=ArrayBuffer.isView(r)?{bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:r})),t},ra=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},ia=function(e){return e.resolvedUri},oa=function(e){for(var t=Array.prototype.slice.call(e),n="",r=0;r<t.length/16;r++)n+=t.slice(16*r,16*r+16).map(ea).join("")+" "+t.slice(16*r,16*r+16).map(ta).join("")+"\n";return n},aa=Object.freeze({__proto__:null,createTransferableMessage:na,initSegmentId:ra,segmentKeyId:ia,hexDump:oa,tagDump:function(e){return oa(e.bytes)},textRanges:function(e){var t,n="";for(t=0;t<e.length;t++)n+=$o(e,t)+" ";return n}}),sa=function(e,t){if(4===e.readyState)return t()},ca=fo.mergeOptions,ua=function(e){var t=e.srcUrl,n=ye(e.masterXml,{manifestUri:t,clientOffset:e.clientOffset,sidxMapping:e.sidxMapping});return To(n,t),n},la=function(e,t){for(var n=!0,r=ca(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),i=0;i<t.playlists.length;i++){var o=Eo(r,t.playlists[i]);o&&(r=o,n=!1)}return _o(t,(function(e,t,i,o){if(e.playlists&&e.playlists.length){var a=e.playlists[0].id,s=Eo(r,e.playlists[0]);s&&((r=s).mediaGroups[t][i][o].playlists[0]=r.playlists[a],n=!1)}})),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:r},pa=function(e){return e.uri+"-"+e.byterange.offset+"-"+(e.byterange.offset+e.byterange.length-1)},da=function(e,t){var n,r,i={};for(var o in e){var a=e[o].sidx;if(a){var s=pa(a);if(!t[s])break;n=t[s].sidxInfo,r=a,(Boolean(!n.map&&!r.map)||Boolean(n.map&&r.map&&n.map.byterange.offset===r.map.byterange.offset&&n.map.byterange.length===r.map.byterange.length))&&n.uri===r.uri&&n.byterange.offset===r.byterange.offset&&n.byterange.length===r.byterange.length&&(i[s]=t[s])}}return i},ha=function(e,t,n,r,i,o){var a={uri:bo(i.handleManifestRedirects,t.resolvedUri),byterange:t.byterange,playlist:n},s=fo.mergeOptions(a,{responseType:"arraybuffer",headers:Jo(a)});return function(e,t,n){var r,i=[],o=!1,a=function(e,t,r,i){return t.abort(),o=!0,n(e,t,r,i)},s=function(e,t){if(!o){if(e)return a(e,t,"",i);var n=t.responseText.substring(i&&i.byteLength||0,t.responseText.length);if(i=Object(xe.concatTypedArrays)(i,Object(xe.stringToBytes)(n,!0)),r=r||Object(Ae.getId3Offset)(i),i.length<10||r&&i.length<r+2)return sa(t,(function(){return a(e,t,"",i)}));var s=Object(Ae.detectContainerForBytes)(i);return"ts"===s&&i.length<188||!s&&i.length<376?sa(t,(function(){return a(e,t,"",i)})):a(null,t,s,i)}},c=t({uri:e,beforeSend:function(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function(t){return Zo(e,null,{statusCode:e.status},s)}))}},(function(e,t){return Zo(c,e,t,s)}));return c}(a.uri,r,(function(t,i,c,u){if(t)return o(t,i);if(!c||"mp4"!==c)return o({status:i.status,message:"Unsupported "+(c||"unknown")+" container type for sidx segment at URL: "+a.uri,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},i);var l=a.byterange,p=l.offset,d=l.length;if(u.length>=d+p)return o(t,{response:u.subarray(p,p+d),status:i.status,uri:i.uri});e.request=r(s,o)}))},fa=function(e){function t(t,n,r,i){var o;void 0===r&&(r={}),o=e.call(this)||this;var a=r.withCredentials,s=void 0!==a&&a,c=r.handleManifestRedirects,u=void 0!==c&&c;if(o.vhs_=n,o.withCredentials=s,o.handleManifestRedirects=u,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"==typeof t?(o.srcUrl=t,o.sidxMapping_={},l()(o)):(o.setupChildLoader(i,t),o)}d()(t,e);var n=t.prototype;return n.setupChildLoader=function(e,t){this.masterPlaylistLoader_=e,this.childPlaylist_=t},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},i.a.clearTimeout(this.minimumUpdatePeriodTimeout_),i.a.clearTimeout(this.mediaRequest_),i.a.clearTimeout(this.mediaUpdateTimeout),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},n.sidxRequestFinished_=function(e,t,n,r){var i=this;return function(o,a){if(i.request){if(i.request=null,o)return i.error="object"==typeof o?o:{status:a.status,message:"DASH playlist request error at URL: "+e.uri,response:a.response,code:2},n&&(i.state=n),void i.trigger("error");var s=Object(xe.toUint8)(a.response),c=be()(s.subarray(8));return r(t,c)}}},n.media=function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r)if(this.media_&&this.trigger("mediachanging"),e.sidx){var o,a;this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(o=this.master,a=this.sidxMapping_);var s=pa(e.sidx);a[s]={sidxInfo:e.sidx},this.request=ha(this,e.sidx,e,this.vhs_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,o,n,(function(r,i){if(!r||!i)throw new Error("failed to request sidx");a[s].sidx=i,t.haveMetadata({startingState:n,playlist:r.playlists[e.id]})})))}else this.mediaRequest_=i.a.setTimeout(this.haveMetadata.bind(this,{startingState:n,playlist:e}),0)},n.haveMetadata=function(e){var t=e.startingState,n=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),this.trigger("HAVE_MASTER"===t?"loadedmetadata":"mediachange")},n.pause=function(){this.stopRequest(),i.a.clearTimeout(this.mediaUpdateTimeout),i.a.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var t=this;i.a.clearTimeout(this.mediaUpdateTimeout),i.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=this.media();e?this.mediaUpdateTimeout=i.a.setTimeout((function(){return t.load()}),n?n.targetDuration/2*1e3:5e3):this.started?this.trigger(n&&!n.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=i.a.setTimeout(this.haveMaster_.bind(this),0):this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,e.masterLoaded_=n.responseHeaders&&n.responseHeaders.date?Date.parse(n.responseHeaders.date):Date.now(),e.srcUrl=bo(e.handleManifestRedirects,e.srcUrl,n),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))},n.syncClientServerClock_=function(e){var t=this,n=function(e){var t=se(e,"UTCTiming")[0];if(!t)return null;var n=pe(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return n}(ge(this.masterXml_));return null===n?(this.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===n.method?(this.clientOffset_=n.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:vo(this.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(function(r,i){if(t.request){if(r)return t.clientOffset_=t.masterLoaded_-Date.now(),e();var o;o="HEAD"===n.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):t.masterLoaded_:Date.parse(i.responseText),t.clientOffset_=o-Date.now(),e()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.updateMainManifest_(ua({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_})),this.trigger("loadedplaylist"))},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this;i.a.clearTimeout(this.minimumUpdatePeriodTimeout_);var t=function(t){e.minimumUpdatePeriodTimeout_=i.a.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),t)},n=this.master&&this.master.minimumUpdatePeriod;n>0?t(n):0===n&&(this.media()?t(1e3*this.media().targetDuration):this.one("loadedplaylist",(function(){t(1e3*e.media().targetDuration)})))},n.onClientServerClockSync_=function(){this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.updateMinimumUpdatePeriodTimeout_()},n.updateMainManifest_=function(e){if(this.master=e,this.master.locations&&this.master.locations.length){var t=this.master.locations[0];t!==this.srcUrl&&(this.srcUrl=t)}},n.refreshXml_=function(){var e=this;this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=n.responseText,e.sidxMapping_=function(e,t,n,r){var i=ye(e,{manifestUri:t,clientOffset:n}),o=da(i.playlists,r);return _o(i,(function(e,t,n,i){e.playlists&&e.playlists.length&&(o=ca(o,da(e.playlists,r)))})),o}(e.masterXml_,e.srcUrl,e.clientOffset_,e.sidxMapping_);var r=ua({masterXml:e.masterXml_,srcUrl:e.srcUrl,clientOffset:e.clientOffset_,sidxMapping:e.sidxMapping_}),i=la(e.master,r),o=e.media().sidx;if(i)if(o){var a=pa(o);if(!e.sidxMapping_[a]){var s=e.media();e.request=ha(e,s.sidx,s,e.vhs_.xhr,{handleManifestRedirects:e.handleManifestRedirects},e.sidxRequestFinished_(s,r,e.state,(function(t,n){if(!t||!n)throw new Error("failed to request sidx on minimumUpdatePeriod");e.sidxMapping_[a].sidx=n,e.updateMinimumUpdatePeriodTimeout_(),e.refreshMedia_(e.media().id)})))}}else e.updateMainManifest_(i),e.media_&&(e.media_=e.master.playlists[e.media_.id]);e.updateMinimumUpdatePeriodTimeout_()}}))},n.refreshMedia_=function(e){var t,n,r=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.masterPlaylistLoader_?(t=this.masterPlaylistLoader_.master,n=ua({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_})):(t=this.master,n=ua({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_}));var o=la(t,n);o?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=o:this.master=o,this.media_=o.playlists[e]):(this.media_=t.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=i.a.setTimeout((function(){r.trigger("mediaupdatetimeout")}),ko(this.media(),!!o))),this.trigger("loadedplaylist")},t}(fo.EventTarget),ma={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},ga=function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer},ya=[],va=function(e){var t=e.transmuxer,n=e.bytes,r=e.audioAppendStart,i=e.gopsToAlignWith,o=e.isPartial,a=e.remux,s=e.onData,c=e.onTrackInfo,u=e.onAudioTimingInfo,l=e.onVideoTimingInfo,p=e.onVideoSegmentTimingInfo,d=e.onId3,h=e.onCaptions,f=e.onDone,m={isPartial:o,buffer:[]};if(t.onmessage=function(e){yo&&("data"===e.data.action&&function(e,t,n){var r=e.data.segment,i=r.type,o=r.initSegment,a=r.videoFrameDtsTime,s=r.videoFramePtsTime;t.buffer.push({captions:r.captions,captionStreams:r.captionStreams,metadata:r.metadata});var c=e.data.segment.boxes||{data:e.data.segment.data},u={type:i,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==a&&(u.videoFrameDtsTime=a),void 0!==s&&(u.videoFramePtsTime=s),n(u)}(e,m,s),"trackinfo"===e.data.action&&c(e.data.trackInfo),"gopInfo"===e.data.action&&function(e,t){t.gopInfo=e.data.gopInfo}(e,m),"audioTimingInfo"===e.data.action&&u(e.data.audioTimingInfo),"videoTimingInfo"===e.data.action&&l(e.data.videoTimingInfo),"videoSegmentTimingInfo"===e.data.action&&p(e.data.videoSegmentTimingInfo),"id3Frame"===e.data.action&&d([e.data.id3Frame],e.data.id3Frame.dispatchType),"caption"===e.data.action&&h(e.data.caption),"transmuxed"===e.data.type&&(t.onmessage=null,function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)}({transmuxedData:m,callback:f}),ba()))},r&&t.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),void 0!==a&&t.postMessage({action:"setRemux",remux:a}),n.byteLength){var g=n instanceof ArrayBuffer?n:n.buffer,y=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:g,byteOffset:y,byteLength:n.byteLength},[g])}t.postMessage({action:o?"partialFlush":"flush"})},ba=function(){yo=null,ya.length&&("function"==typeof(yo=ya.shift())?yo():va(yo))},Aa=function(e,t){e.postMessage({action:t}),ba()},xa=function(e,t){if(!yo)return yo=e,void Aa(t,e);ya.push(Aa.bind(null,t,e))},wa=function(e){xa("reset",e)},_a=function(e){e.forEach((function(e){e.abort()}))},Sa=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:-101,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:-102,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t}:null},Ta=function(e){var t=e.segment,n=e.bytes,r=e.isPartial,i=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.id3Fn,c=e.captionsFn,u=e.dataFn,l=e.doneFn,p=new Uint8Array(n);if(Object(Ae.isLikelyFmp4MediaSegment)(p)){t.isFmp4=!0;var d=t.map.tracks,h={isFmp4:!0,hasVideo:!!d.video,hasAudio:!!d.audio};d.audio&&d.audio.codec&&"enca"!==d.audio.codec&&(h.audioCodec=d.audio.codec),d.video&&d.video.codec&&"encv"!==d.video.codec&&(h.videoCodec=d.video.codec),d.video&&d.audio&&(h.isMuxed=!0),i(t,h);var f=Pe.a.startTime(t.map.timescales,p);h.hasAudio&&!h.isMuxed&&o(t,"audio","start",f),h.hasVideo&&o(t,"video","start",f);var m=function(e){u(t,{data:n,type:h.hasAudio&&!h.isMuxed?"audio":"video"}),e&&e.length&&c(t,e),l(null,t,{})};if(!d.video||!n.byteLength||!t.transmuxer)return void m();var g=n instanceof ArrayBuffer?n:n.buffer,y=n instanceof ArrayBuffer?0:n.byteOffset;return t.transmuxer.addEventListener("message",(function e(r){if("mp4Captions"===r.data.action){t.transmuxer.removeEventListener("message",e);var i=r.data.data;t.bytes=n=new Uint8Array(i,i.byteOffset||0,i.byteLength),m(r.data.captions)}})),void t.transmuxer.postMessage({action:"pushMp4Captions",timescales:t.map.timescales,trackIds:[d.video.id],data:g,byteOffset:y,byteLength:n.byteLength},[g])}if(t.transmuxer){if(void 0===t.container&&(t.container=Object(Ae.detectContainerForBytes)(p)),"ts"!==t.container&&"aac"!==t.container)return i(t,{hasAudio:!1,hasVideo:!1}),void l(null,t,{});!function(e){var t=e.segment,n=e.bytes,r=e.isPartial,i=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.id3Fn,c=e.captionsFn,u=e.dataFn,l=e.doneFn,p=t.map&&t.map.tracks||{},d=Boolean(p.audio&&p.video),h=o.bind(null,t,"audio","start"),f=o.bind(null,t,"audio","end"),m=o.bind(null,t,"video","start"),g=o.bind(null,t,"video","end");if(!r&&!t.lastReachedChar){var y=function(e,t){var n=_e.a.inspect(e,t*Se.ONE_SECOND_IN_TS);if(!n)return null;var r={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1};return r.hasVideo&&(r.videoStart=n.video[0].ptsTime),r.hasAudio&&(r.audioStart=n.audio[0].ptsTime),r}(n,t.baseStartTime);y&&(i(t,{hasAudio:y.hasAudio,hasVideo:y.hasVideo,isMuxed:d}),i=null,y.hasAudio&&!d&&h(y.audioStart),y.hasVideo&&m(y.videoStart),h=null,m=null)}!function(e){if(!yo)return yo=e,void va(e);ya.push(e)}({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,isPartial:r,remux:d,onData:function(e){e.type="combined"===e.type?"video":e.type,u(t,e)},onTrackInfo:function(e){i&&(d&&(e.isMuxed=!0),i(t,e))},onAudioTimingInfo:function(e){h&&void 0!==e.start&&(h(e.start),h=null),f&&void 0!==e.end&&f(e.end)},onVideoTimingInfo:function(e){m&&void 0!==e.start&&(m(e.start),m=null),g&&void 0!==e.end&&g(e.end)},onVideoSegmentTimingInfo:function(e){a(e)},onId3:function(e,n){s(t,e,n)},onCaptions:function(e){c(t,[e])},onDone:function(e){l&&!r&&(e.type="combined"===e.type?"video":e.type,l(null,t,e))}})}({segment:t,bytes:n,isPartial:r,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:c,dataFn:u,doneFn:l})}else l(null,t,{})},Pa="undefined"!=typeof window?window:{},Ca="undefined"==typeof Symbol?"__target":Symbol(),Ea=Pa.BlobBuilder||Pa.WebKitBlobBuilder||Pa.MozBlobBuilder||Pa.MSBlobBuilder,ka=Pa.URL||Pa.webkitURL||ka&&ka.msURL,Oa=Pa.Worker;function Ma(e,t){return function(n){var r=this;if(!t)return new Oa(e);if(Oa&&!n){var i=Ra(t.toString().replace(/^function.+?{/,"").slice(0,-1));return this[Ca]=new Oa(i),function(e,t){if(e&&t){var n=e.terminate;e.objURL=t,e.terminate=function(){e.objURL&&ka.revokeObjectURL(e.objURL),n.call(e)}}}(this[Ca],i),this[Ca]}var o={postMessage:function(e){r.onmessage&&setTimeout((function(){r.onmessage({data:e,target:o})}))}};t.call(o),this.postMessage=function(e){setTimeout((function(){o.onmessage({data:e,target:r})}))},this.isThisThread=!0}}if(Oa){var Na,Ia=Ra("self.onmessage = function () {}"),Da=new Uint8Array(1);try{(Na=new Oa(Ia)).postMessage(Da,[Da.buffer])}catch(Hs){Oa=null}finally{ka.revokeObjectURL(Ia),Na&&Na.terminate()}}function Ra(e){try{return ka.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(Hs){var t=new Ea;return t.append(e),ka.createObjectURL(t.getBlob(type))}}var ja=new Ma("./transmuxer-worker.worker.js",(function(e,t){var n=this;!function(){var e=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};e.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},e.prototype.push=function(e){this.trigger("data",e)},e.prototype.flush=function(e){this.trigger("done",e)},e.prototype.partialFlush=function(e){this.trigger("partialdone",e)},e.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},e.prototype.reset=function(e){this.trigger("reset",e)};var t,r,i,o,a,s,c,u,l,p,d,h,f,m,g,y,v,b,A,x,w,_,S,T,P,C,E,k,O,M,N,I,D,R,j,B,F,L,U,z,V=e,W=Math.pow(2,32)-1;!function(){var e;if(_={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in _)_.hasOwnProperty(e)&&(_[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);S=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),P=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),T=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),E=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),k={video:C,audio:E},N=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),D=I,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),j=I,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(e){var t,n,r=[],i=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)i+=r[t].byteLength;for(n=new Uint8Array(i+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<r.length;t++)n.set(r[t],i),i+=r[t].byteLength;return n},r=function(){return t(_.dinf,t(_.dref,N))},i=function(e){return t(_.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return t(_.hdlr,k[e])},m=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(n[12]=e.samplerate>>>24&255,n[13]=e.samplerate>>>16&255,n[14]=e.samplerate>>>8&255,n[15]=255&e.samplerate),t(_.mdhd,n)},f=function(e){return t(_.mdia,m(e),g(e.type),s(e))},a=function(e){return t(_.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},s=function(e){return t(_.minf,"video"===e.type?t(_.vmhd,O):t(_.smhd,M),r(),v(e))},c=function(e,n){for(var r=[],i=n.length;i--;)r[i]=A(n[i]);return t.apply(null,[_.moof,a(e)].concat(r))},u=function(e){for(var n=e.length,r=[];n--;)r[n]=d(e[n]);return t.apply(null,[_.moov,p(4294967295)].concat(r).concat(l(e)))},l=function(e){for(var n=e.length,r=[];n--;)r[n]=x(e[n]);return t.apply(null,[_.mvex].concat(r))},p=function(e){var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(_.mvhd,n)},y=function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)o[r+4]=(n=i[r].flags).dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t(_.sdtp,o)},v=function(e){return t(_.stbl,b(e),t(_.stts,j),t(_.stsc,D),t(_.stsz,R),t(_.stco,I))},b=function(e){return t(_.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?B(e):F(e))},B=function(e){var n,r,i=e.sps||[],o=e.pps||[],a=[],s=[];for(n=0;n<i.length;n++)a.push((65280&i[n].byteLength)>>>8),a.push(255&i[n].byteLength),a=a.concat(Array.prototype.slice.call(i[n]));for(n=0;n<o.length;n++)s.push((65280&o[n].byteLength)>>>8),s.push(255&o[n].byteLength),s=s.concat(Array.prototype.slice.call(o[n]));if(r=[_.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(_.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length],a,[o.length],s))),t(_.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var c=e.sarRatio[0],u=e.sarRatio[1];r.push(t(_.pasp,new Uint8Array([(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c,(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u])))}return t.apply(null,r)},F=function(e){return t(_.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))},h=function(e){var n=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(_.tkhd,n)},A=function(e){var n,r,i,o,a,s;return n=t(_.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(W+1)),s=Math.floor(e.baseMediaDecodeTime%(W+1)),r=t(_.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===e.type?(i=w(e,92),t(_.traf,n,r,i)):(o=y(e),i=w(e,o.length+92),t(_.traf,n,r,i,o))},d=function(e){return e.duration=e.duration||4294967295,t(_.trak,h(e),f(e))},x=function(e){var n=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(n[n.length-1]=0),t(_.trex,n)},z=function(e,t){var n=0,r=0,i=0,o=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(i=4),void 0!==e[0].compositionTimeOffset&&(o=8)),[0,0,n|r|i|o,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,n){var r,i,o,a,s,c;for(o=z(a=e.samples||[],n+=20+16*a.length),(i=new Uint8Array(o.length+16*a.length)).set(o),r=o.length,c=0;c<a.length;c++)i[r++]=(4278190080&(s=a[c]).duration)>>>24,i[r++]=(16711680&s.duration)>>>16,i[r++]=(65280&s.duration)>>>8,i[r++]=255&s.duration,i[r++]=(4278190080&s.size)>>>24,i[r++]=(16711680&s.size)>>>16,i[r++]=(65280&s.size)>>>8,i[r++]=255&s.size,i[r++]=s.flags.isLeading<<2|s.flags.dependsOn,i[r++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,i[r++]=61440&s.flags.degradationPriority,i[r++]=15&s.flags.degradationPriority,i[r++]=(4278190080&s.compositionTimeOffset)>>>24,i[r++]=(16711680&s.compositionTimeOffset)>>>16,i[r++]=(65280&s.compositionTimeOffset)>>>8,i[r++]=255&s.compositionTimeOffset;return t(_.trun,i)},L=function(e,n){var r,i,o,a,s,c;for(o=z(a=e.samples||[],n+=20+8*a.length),(r=new Uint8Array(o.length+8*a.length)).set(o),i=o.length,c=0;c<a.length;c++)r[i++]=(4278190080&(s=a[c]).duration)>>>24,r[i++]=(16711680&s.duration)>>>16,r[i++]=(65280&s.duration)>>>8,r[i++]=255&s.duration,r[i++]=(4278190080&s.size)>>>24,r[i++]=(16711680&s.size)>>>16,r[i++]=(65280&s.size)>>>8,r[i++]=255&s.size;return t(_.trun,r)},w=function(e,t){return"audio"===e.type?L(e,t):U(e,t)},o=function(){return t(_.ftyp,S,T,S,P)};var H,G,q,X,K,Y,Z,Q,J=function(e){return t(_.mdat,e)},$=c,ee=function(e){var t,n=o(),r=u(e);return(t=new Uint8Array(n.byteLength+r.byteLength)).set(n),t.set(r,n.byteLength),t},te=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ne=function(e){var t,n,r=[],i=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,r.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(r.length&&(r.duration=n.dts-r.dts,i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r)),(r=[n]).byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return i.length&&(!r.duration||r.duration<=0)&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.length,i.duration+=r.duration,i.push(r),i},re=function(e){var t,n,r=[],i=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(r.length&&(i.push(r),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration),(r=[n]).nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return i.length&&r.duration<=0&&(r.duration=i[i.length-1].duration),i.byteLength+=r.byteLength,i.nalCount+=r.nalCount,i.duration+=r.duration,i.push(r),i},ie=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},oe=function(e,t){var n,r=[];return n=te(e,t||0),r.push(n),r},ae=function(e){var t,n,r=0,i=new Uint8Array(e.byteLength+4*e.length),o=new DataView(i.buffer);for(t=0;t<e.length;t++)o.setUint32(r,(n=e[t]).data.byteLength),i.set(n.data,r+=4),r+=n.data.byteLength;return i},se=[33,16,5,32,164,27],ce=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ue=function(e){for(var t=[];e--;)t.push(0);return t};Y=function(e,t){return G(K(e,t))},Z=function(e,t){return q(X(e),t)},Q=function(e,t,n){return X(n?e:e-t)};var le=(q=function(e,t){return e*t},X=function(e){return e/9e4}),pe=(K=function(e,t){return e/t},Y),de=Z,he=Q,fe=G=function(e){return 9e4*e},me=le,ge=function(e,t,n,r){var i,o,a,s,c,u=0,l=0,p=0;if(t.length&&(i=pe(e.baseMediaDecodeTime,e.samplerate),o=Math.ceil(9e4/(e.samplerate/1024)),n&&r&&(u=i-Math.max(n,r),p=(l=Math.floor(u/o))*o),!(l<1||p>45e3))){for((a=function(){if(!H){var e={96e3:[se,[227,64],ue(154),[56]],88200:[se,[231],ue(170),[56]],64e3:[se,[248,192],ue(240),[56]],48e3:[se,[255,192],ue(268),[55,148,128],ue(54),[112]],44100:[se,[255,192],ue(268),[55,163,128],ue(84),[112]],32e3:[se,[255,192],ue(268),[55,234],ue(226),[112]],24e3:[se,[255,192],ue(268),[55,255,128],ue(268),[111,112],ue(126),[224]],16e3:[se,[255,192],ue(268),[55,255,128],ue(268),[111,255],ue(269),[223,108],ue(195),[1,192]],12e3:[ce,ue(268),[3,127,248],ue(268),[6,255,240],ue(268),[13,255,224],ue(268),[27,253,128],ue(259),[56]],11025:[ce,ue(268),[3,127,248],ue(268),[6,255,240],ue(268),[13,255,224],ue(268),[27,255,192],ue(268),[55,175,128],ue(108),[112]],8e3:[ce,ue(268),[3,121,16],ue(47),[7]]};t=e,H=Object.keys(t).reduce((function(e,n){return e[n]=new Uint8Array(t[n].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return H}()[e.samplerate])||(a=t[0].data),s=0;s<l;s++)t.splice(0,0,{data:a,dts:(c=t[0]).dts-o,pts:c.pts-o});e.baseMediaDecodeTime-=Math.floor(de(p,e.samplerate))}},ye=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},ve=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push({size:e[t].data.byteLength,duration:1024});return n},be=function(e){var t,n,r=0,i=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)i.set((n=e[t]).data,r),r+=n.data.byteLength;return i},Ae=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},xe=function(e,t){var n,r=e.minSegmentDts;return t||(r-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=r,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/9e4,n=Math.floor(n)),n},we=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),e.minSegmentPts=void 0===e.minSegmentPts?t.pts:Math.min(e.minSegmentPts,t.pts),e.maxSegmentPts=void 0===e.maxSegmentPts?t.pts:Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),e.minSegmentDts=void 0===e.minSegmentDts?t.dts:Math.min(e.minSegmentDts,t.dts),e.maxSegmentDts=void 0===e.maxSegmentDts?t.dts:Math.max(e.maxSegmentDts,t.dts))},_e=function e(){e.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ee(0,0),new Ee(0,1),new Ee(1,0),new Ee(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this)};(_e.prototype=new V).push=function(e){var t,n,r;if("sei_rbsp"===e.nalUnitType&&4===(t=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},r=0,i=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)r+=255,t++;for(r+=e[t++];255===e[t];)i+=255,t++;if(i+=e[t++],!n.payload&&4===r){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=r,n.payloadSize=i,n.payload=e.subarray(t,t+i);break}n.payload=void 0}t+=i,r=0,i=0}return n}(e.escapedRBSP)).payloadType&&(n=function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)}(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));r=function(e,t){var n,r,i,o,a=[];if(!(64&t[0]))return a;for(r=31&t[0],n=0;n<r;n++)o={type:3&t[2+(i=3*n)],pts:e},4&t[i+2]&&(o.ccData=t[i+3]<<8|t[i+4],a.push(o));return a}(e.pts,n),this.captionPackets_=this.captionPackets_.concat(r),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},_e.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},_e.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},_e.prototype.flush=function(){return this.flushStream("flush")},_e.prototype.partialFlush=function(){return this.flushStream("partialFlush")},_e.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},_e.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},_e.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},_e.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},_e.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)};var Se={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Te=function(e){return null===e?"":(e=Se[e]||e,String.fromCharCode(e))},Pe=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ce=function(){for(var e=[],t=15;t--;)e.push("");return e},Ee=function e(t,n){e.prototype.init.call(this),this.field_=t||0,this.dataChannel_=n||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,i,o;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Ce();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ce();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Ce()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(r,i))o=Te((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isExtCharacter(r,i))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Te((r=(3&r)<<8)|i),this[this.mode_](e.pts,o),this.column_++;else if(this.isMidRowCode(r,i))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&i)&&this.addFormatting(e.pts,["i"]),1==(1&i)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,i))this.column_+=3&i;else if(this.isPAC(r,i)){var a=Pe.indexOf(7968&t);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(e.pts,a)),a!==this.row_&&(this.clearFormatting(e.pts),this.row_=a),1&i&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(i)&&14==(14&i)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===i&&(i=null),o=Te(r),o+=Te(i),this[this.mode_](e.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ee.prototype=new V,Ee.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(Hs){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},Ee.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ce(),this.nonDisplayed_=Ce(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ee.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ee.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ee.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ee.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ee.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ee.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ee.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ee.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ee.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Ce(),this.displayed_=Ce()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ee.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},Ee.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ee.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=n+=t},Ee.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=t},Ee.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<15;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},Ee.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];this.displayed_[this.row_]=n+=t};var ke={CaptionStream:_e,Cea608Stream:Ee},Oe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Me=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Ne=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=Me(e.dts,r),e.pts=Me(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ne.prototype=new V;var Ie,De=Ne,Re=function(e,t,n){var r,i="";for(r=t;r<n;r++)i+="%"+("00"+e[r].toString(16)).slice(-2);return i},je=function(e,t,n){return decodeURIComponent(Re(e,t,n))},Be=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Fe={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=je(e.data,1,t),e.value=je(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=je(e.data,1,t),e.url=je(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=unescape(Re(e.data,0,t));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(Ie=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,i=[],o=0;if(Ie.prototype.init.call(this),this.dispatchType=Oe.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,a,s,c,u;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(o=0,i.length=0),0===i.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(i.push(e),o+=e.data.byteLength,1===i.length&&(r=Be(e.data.subarray(6,10)),r+=10),!(o<r)){for(t={data:new Uint8Array(r),frames:[],pts:i[0].pts,dts:i[0].dts},u=0;u<r;)t.data.set(i[0].data.subarray(0,r-u),u),u+=i[0].data.byteLength,o-=i[0].data.byteLength,i.shift();a=10,64&t.data[5]&&(a+=4,a+=Be(t.data.subarray(10,14)),r-=Be(t.data.subarray(16,20)));do{if((s=Be(t.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((c={id:String.fromCharCode(t.data[a],t.data[a+1],t.data[a+2],t.data[a+3]),data:t.data.subarray(a+10,a+s+10)}).key=c.id,Fe[c.id]&&(Fe[c.id](c),"com.apple.streaming.transportStreamTimestamp"===c.owner)){var l=c.data,p=(1&l[3])<<30|l[4]<<22|l[5]<<14|l[6]<<6|l[7]>>>2;p*=4,c.timeStamp=p+=3&l[7],void 0===t.pts&&void 0===t.dts&&(t.pts=c.timeStamp,t.dts=c.timeStamp),this.trigger("timestamp",c)}t.frames.push(c),a+=10,a+=s}while(a<r);this.trigger("data",t)}}}).prototype=new V;var Le,Ue,ze,Ve=Ie,We=De;(Le=function(){var e=new Uint8Array(188),t=0;Le.prototype.init.call(this),this.push=function(n){var r,i=0,o=188;for(t?((r=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),r.set(n,t),t=0):r=n;o<r.byteLength;)71!==r[i]||71!==r[o]?(i++,o++):(this.trigger("data",r.subarray(i,o)),i+=188,o+=188);i<r.byteLength&&(e.set(r.subarray(i),0),t=r.byteLength-i)},this.flush=function(){188===t&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new V,(Ue=function(){var e,t,n,r;Ue.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var i=0;r.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===r.type?t(e.subarray(i),r):n(e.subarray(i),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,i;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,i=12+((15&e[10])<<8|e[11]);i<n;){var o=e[i],a=(31&e[i+1])<<8|e[i+2];o===Oe.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=a:o===Oe.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=a:o===Oe.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][a]=o),i+=5+((15&e[i+3])<<8|e[i+4])}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.streamType=n.pid===this.programMapTable.video?Oe.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?Oe.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}}).prototype=new V,Ue.STREAM_TYPES={h264:27,adts:15},(ze=function(){var e,t=this,n={data:[],size:0},r={data:[],size:0},i={data:[],size:0},o=function(e,n,r){var i,o,a=new Uint8Array(e.size),s={type:n},c=0,u=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,c=0;c<e.data.length;c++)a.set((o=e.data[c]).data,u),u+=o.data.byteLength;var l,p,d;(p=s).packetLength=6+((l=a)[4]<<8|l[5]),p.dataAlignmentIndicator=0!=(4&l[6]),192&(d=l[7])&&(p.pts=(14&l[9])<<27|(255&l[10])<<20|(254&l[11])<<12|(255&l[12])<<5|(254&l[13])>>>3,p.pts*=4,p.pts+=(6&l[13])>>>1,p.dts=p.pts,64&d&&(p.dts=(14&l[14])<<27|(255&l[15])<<20|(254&l[16])<<12|(255&l[17])<<5|(254&l[18])>>>3,p.dts*=4,p.dts+=(6&l[18])>>>1)),p.data=l.subarray(9+l[8]),i="video"===n||s.packetLength<=e.size,(r||i)&&(e.size=0,e.data.length=0),i&&t.trigger("data",s)}};ze.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case Oe.H264_STREAM_TYPE:e=n,t="video";break;case Oe.ADTS_STREAM_TYPE:e=r,t="audio";break;case Oe.METADATA_STREAM_TYPE:e=i,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(e=a.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(n,"video"),o(r,"audio"),o(i,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new V;var He={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Le,TransportParseStream:Ue,ElementaryStream:ze,TimestampRolloverStream:We,CaptionStream:ke.CaptionStream,Cea608Stream:ke.Cea608Stream,MetadataStream:Ve};for(var Ge in Oe)Oe.hasOwnProperty(Ge)&&(He[Ge]=Oe[Ge]);var qe,Xe=He,Ke=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(qe=function(e){var t,n=0;qe.prototype.init.call(this),this.push=function(r){var i,o,a,s,c=0;if(e||(n=0),"audio"===r.type)for(t?(o=t,(t=new Uint8Array(o.byteLength+r.data.byteLength)).set(o),t.set(r.data,o.byteLength)):t=r.data;c+5<t.length;)if(255===t[c]&&240==(246&t[c+1])){if(t.byteLength<(i=c+((3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5)))return;if(this.trigger("data",{pts:r.pts+n*(s=9e4*(a=1024*(1+(3&t[c+6])))/Ke[(60&t[c+2])>>>2]),dts:r.dts+n*s,sampleCount:a,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:Ke[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+2*(1&~t[c+1]),i)}),n++,t.byteLength===i)return void(t=void 0);t=t.subarray(i)}else c++},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}}).prototype=new V;var Ye,Ze,Qe,Je=qe,$e=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var i=e.byteLength-t,o=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");o.set(e.subarray(i,i+a)),n=new DataView(o.buffer).getUint32(0),r=8*a,t-=a},this.skipBits=function(e){var i;r>e?(n<<=e,r-=e):(e-=r,e-=8*(i=Math.floor(e/8)),t-=i,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var i=Math.min(r,e),o=n>>>32-i;return(r-=i)>0?n<<=i:t>0&&this.loadWord(),(i=e-i)>0?o<<i|this.readBits(i):o},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!=(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(Ze=function(){var e,t,n=0;Ze.prototype.init.call(this),this.push=function(r){var i;t?((i=new Uint8Array(t.byteLength+r.data.byteLength)).set(t),i.set(r.data,t.byteLength),t=i):t=r.data;for(var o=t.byteLength;n<o-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<o;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<o);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new V,Qe={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(Ye=function(){var e,t,n,r,i,o,a,s=new Ze;Ye.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,r=e.dts,s.push(e))},s.on("data",(function(a){var s={trackId:t,pts:n,dts:r,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=i(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=i(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",s)})),s.on("done",(function(){e.trigger("done")})),s.on("partialdone",(function(){e.trigger("partialdone")})),s.on("reset",(function(){e.trigger("reset")})),s.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(e,t){var n,r=8,i=8;for(n=0;n<e;n++)0!==i&&(i=(r+t.readExpGolomb()+256)%256),r=0===i?r:i},i=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},o=function(e){var t,n,r,i,o,s,c,u,l,p,d,h,f,m=0,g=0,y=0,v=0,b=1;if(n=(t=new $e(e)).readUnsignedByte(),i=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),Qe[n]&&(3===(o=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=3!==o?8:12,f=0;f<d;f++)t.readBoolean()&&a(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),c=t.readUnsignedExpGolomb(),f=0;f<c;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),0===(p=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:h=[1,1];break;case 2:h=[12,11];break;case 3:h=[10,11];break;case 4:h=[16,11];break;case 5:h=[40,33];break;case 6:h=[24,11];break;case 7:h=[20,11];break;case 8:h=[32,11];break;case 9:h=[80,33];break;case 10:h=[18,11];break;case 11:h=[15,11];break;case 12:h=[64,33];break;case 13:h=[160,99];break;case 14:h=[4,3];break;case 15:h=[3,2];break;case 16:h=[2,1];break;case 255:h=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}h&&(b=h[0]/h[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:i,width:Math.ceil((16*(u+1)-2*m-2*g)*b),height:(2-p)*(l+1)*16-2*y-2*v,sarRatio:h}}}).prototype=new V;var et,tt={H264Stream:Ye,NalByteStream:Ze},nt=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},rt=function(e){var t=0;return e.length>10&&e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)&&(t=nt(e,0)),e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},it=nt,ot=function(e,t){return 6144&e[t+3]|e[t+4]<<3|(224&e[t+5])>>5};(et=function(){var e=new Uint8Array,t=0;et.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var r,i,o,a=0,s=0;for(e.length?(o=e.length,(e=new Uint8Array(n.byteLength+o)).set(e.subarray(0,o)),e.set(n,o)):e=n;e.length-s>=3;)if(e[s]!=="I".charCodeAt(0)||e[s+1]!=="D".charCodeAt(0)||e[s+2]!=="3".charCodeAt(0))if(255!=(255&e[s])||240!=(240&e[s+1]))s++;else{if(e.length-s<7)break;if(s+(a=ot(e,s))>e.length)break;i={type:"audio",data:e.subarray(s,s+a),pts:t,dts:t},this.trigger("data",i),s+=a}else{if(e.length-s<10)break;if(s+(a=it(e,s))>e.length)break;r={type:"timed-metadata",data:e.subarray(s,s+a)},this.trigger("data",r),s+=a}e=e.length-s>0?e.subarray(s):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new V;var at,st,ct,ut,lt=et,pt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],dt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],ht=tt.H264Stream,ft=rt,mt=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},gt=function(e,t,n,r,i,o){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(r-t),pts:e+(i-n)},prependedContentDuration:o,baseMediaDecodeTime:e}};(st=function(e,t){var n=[],r=0,i=0,o=0,a=1/0;t=t||{},st.prototype.init.call(this),this.push=function(t){we(e,t),e&&pt.forEach((function(n){e[n]=t[n]})),n.push(t)},this.setEarliestDts=function(e){i=e},this.setVideoBaseMediaDecodeTime=function(e){a=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var s,c,u,l,p;0!==n.length?(s=ye(n,e,i),e.baseMediaDecodeTime=xe(e,t.keepOriginalTimestamps),ge(e,s,o,a),e.samples=ve(s),u=J(be(s)),n=[],c=$(r,[e]),l=new Uint8Array(c.byteLength+u.byteLength),r++,l.set(c),l.set(u,c.byteLength),Ae(e),p=Math.ceil(9216e4/e.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+s.length*p}),this.trigger("data",{track:e,boxes:l}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Ae(e),n=[],this.trigger("reset")}}).prototype=new V,(at=function(e,t){var n,r,i=0,o=[],a=[];t=t||{},at.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){we(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],dt.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,r,s,c,u,l,p,d,h=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=ne(o),(s=re(n))[0][0].keyFrame||((r=this.getGopForFusion_(o[0],e))?(h=r.duration,s.unshift(r),s.byteLength+=r.byteLength,s.nalCount+=r.nalCount,s.pts=r.pts,s.dts=r.dts,s.duration+=r.duration):s=ie(s)),a.length){var f;if(!(f=t.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ae(e),s=f}we(e,s),e.samples=function(e,t){var n,r,i,o,a=0,s=[];for(n=0;n<e.length;n++)for(o=e[n],r=0;r<o.length;r++)a+=(i=te(o[r],a)).size,s.push(i);return s}(s),u=J(function(e){var t,n,r,i,o,a,s=0,c=new Uint8Array(e.byteLength+4*e.nalCount),u=new DataView(c.buffer);for(t=0;t<e.length;t++)for(i=e[t],n=0;n<i.length;n++)for(o=i[n],r=0;r<o.length;r++)u.setUint32(s,(a=o[r]).data.byteLength),c.set(a.data,s+=4),s+=a.data.byteLength;return c}(s)),e.baseMediaDecodeTime=xe(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),this.trigger("segmentTimingInfo",gt(e.baseMediaDecodeTime,(p=s[0]).dts,p.pts,(d=s[s.length-1]).dts+d.duration,d.pts+d.duration,h)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),c=$(i,[e]),l=new Uint8Array(c.byteLength+u.byteLength),i++,l.set(c),l.set(u,c.byteLength),this.trigger("data",{track:e,boxes:l}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){Ae(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var n,r,i,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)i=(o=this.gopCache_[a]).gop,e.pps&&mt(e.pps[0],o.pps[0])&&e.sps&&mt(e.sps[0],o.sps[0])&&(i.dts<e.timelineStartInfo.dts||(n=t.dts-i.dts-i.duration)>=-1e4&&n<=45e3&&(!r||s>n)&&(r=o,s=n));return r?r.gop:null},this.alignGopsAtStart_=function(e){var t,n,r,i,o,s,c,u;for(o=e.byteLength,s=e.nalCount,c=e.duration,t=n=0;t<a.length&&n<e.length&&(r=a[t]).pts!==(i=e[n]).pts;)i.pts>r.pts?t++:(n++,o-=i.byteLength,s-=i.nalCount,c-=i.duration);return 0===n?e:n===e.length?null:((u=e.slice(n)).byteLength=o,u.duration=c,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,i,o,s,c;for(t=a.length-1,n=e.length-1,o=null,s=!1;t>=0&&n>=0;){if((r=a[t]).pts===(i=e[n]).pts){s=!0;break}r.pts>i.pts?t--:(t===a.length-1&&(o=n),n--)}if(!s&&null===o)return null;if(0===(c=s?n:o))return e;var u=e.slice(c),l=u.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return u.byteLength=l.byteLength,u.duration=l.duration,u.nalCount=l.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){a=e}}).prototype=new V,(ut=function(e,t){this.numberOfTracks=0,this.metadataStream=t,this.remuxTracks=void 0===(e=e||{}).remux||!!e.remux,this.keepOriginalTimestamps="boolean"==typeof e.keepOriginalTimestamps&&e.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,ut.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}}).prototype=new V,ut.prototype.flush=function(e){var t,n,r,i,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,dt.forEach((function(e){a.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,pt.forEach((function(e){a.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(a.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,r=ee(this.pendingTracks),a.initSegment=new Uint8Array(r.byteLength),a.initSegment.set(r),a.data=new Uint8Array(this.pendingBytes),i=0;i<this.pendingBoxes.length;i++)a.data.set(this.pendingBoxes[i],o),o+=this.pendingBoxes[i].byteLength;for(i=0;i<this.pendingCaptions.length;i++)(t=this.pendingCaptions[i]).startTime=he(t.startPts,s,this.keepOriginalTimestamps),t.endTime=he(t.endPts,s,this.keepOriginalTimestamps),a.captionStreams[t.stream]=!0,a.captions.push(t);for(i=0;i<this.pendingMetadata.length;i++)(n=this.pendingMetadata[i]).cueTime=he(n.pts,s,this.keepOriginalTimestamps),a.metadata.push(n);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),i=0;i<a.captions.length;i++)this.trigger("caption",t=a.captions[i]);for(i=0;i<a.metadata.length;i++)this.trigger("id3Frame",n=a.metadata[i])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},ut.prototype.setRemux=function(e){this.remuxTracks=e},(ct=function(e){var t,n,r=this,i=!0;ct.prototype.init.call(this),this.baseMediaDecodeTime=(e=e||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new Xe.MetadataStream,i.aacStream=new lt,i.audioTimestampRolloverStream=new Xe.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new Xe.TimestampRolloverStream("timed-metadata"),i.adtsStream=new Je,i.coalesceStream=new ut(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",(function(e){i.aacStream.setTimestamp(e.timeStamp)})),i.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||i.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new st(n,e),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new Xe.MetadataStream,i.packetStream=new Xe.TransportPacketStream,i.parseStream=new Xe.TransportParseStream,i.elementaryStream=new Xe.ElementaryStream,i.timestampRolloverStream=new Xe.TimestampRolloverStream,i.adtsStream=new Je,i.h264Stream=new ht,i.captionStream=new Xe.CaptionStream,i.coalesceStream=new ut(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream).pipe(i.timestampRolloverStream),i.timestampRolloverStream.pipe(i.h264Stream),i.timestampRolloverStream.pipe(i.adtsStream),i.timestampRolloverStream.pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)t||"video"!==o.tracks[a].type?n||"audio"!==o.tracks[a].type||((n=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(t=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime;t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new at(t,e),i.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,i.audioSegmentStream.setEarliestDts(t.dts-r.baseMediaDecodeTime))})),i.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo")),i.videoSegmentStream.on("segmentTimingInfo",r.trigger.bind(r,"videoSegmentTimingInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),i.videoSegmentStream.on("timingInfo",r.trigger.bind(r,"videoTimingInfo")),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new st(n,e),i.audioSegmentStream.on("timingInfo",r.trigger.bind(r,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream)),r.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("id3Frame",(function(e){e.dispatchType=i.metadataStream.dispatchType,r.trigger("id3Frame",e)})),i.coalesceStream.on("caption",this.trigger.bind(this,"caption")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(r){var i=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=r),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Ae(n),i.audioTimestampRolloverStream&&i.audioTimestampRolloverStream.discontinuity()),t&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Ae(t),i.captionStream.reset()),i.timestampRolloverStream&&i.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=ft(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new V;var yt={Transmuxer:ct,VideoSegmentStream:at,AudioSegmentStream:st,AUDIO_PROPERTIES:pt,VIDEO_PROPERTIES:dt,generateVideoSegmentTimingInfo:gt}.Transmuxer,vt={Adts:Je,h264:tt},bt=function e(t,n){var r=[],i=0,o=0,a=0,s=1/0,c=null,u=null;n=n||{},e.prototype.init.call(this),this.push=function(e){we(t,e),t&&pt.forEach((function(n){t[n]=e[n]})),r.push(e)},this.setEarliestDts=function(e){o=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.processFrames_=function(){var e,l,p,d;0!==r.length&&0!==(e=ye(r,t,o)).length&&(t.baseMediaDecodeTime=xe(t,n.keepOriginalTimestamps),ge(t,e,a,s),t.samples=ve(e),p=J(be(e)),r=[],l=$(i,[t]),i++,t.initSegment=ee([t]),(d=new Uint8Array(l.byteLength+p.byteLength)).set(l),d.set(p,l.byteLength),Ae(t),null===c&&(u=c=e[0].pts),u+=e.length*(9216e4/t.samplerate),this.trigger("timingInfo",{start:c}),this.trigger("data",{track:t,boxes:d}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:c,end:u}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){Ae(t),c=null,u=null},this.reset=function(){this.resetTiming_(),r=[],this.trigger("reset")}};bt.prototype=new V;var At=bt,xt=function e(t,n){var r,i,o,a=0,s=[],c=[],u=null,l=null,p=!0;n=n||{},e.prototype.init.call(this),this.push=function(e){we(t,e),void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),"seq_parameter_set_rbsp"!==e.nalUnitType||r||(r=e.config,t.sps=[e.data],dt.forEach((function(e){t[e]=r[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,t.pps=[e.data]),s.push(e)},this.processNals_=function(e){var r;for(s=c.concat(s);s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0!==s.length){var i=ne(s);if(i.length)if(c=i[i.length-1],e&&(i.pop(),i.duration-=c.duration,i.nalCount-=c.length,i.byteLength-=c.byteLength),i.length){if(this.trigger("timelineStartInfo",t.timelineStartInfo),p){if(!(o=re(i))[0][0].keyFrame){if(!(o=ie(o))[0][0].keyFrame)return s=[].concat.apply([],i).concat(c),void(c=[]);(i=[].concat.apply([],o)).duration=o.duration}p=!1}for(null===u&&(l=u=i[0].pts),this.trigger("timingInfo",{start:u,end:l+=i.duration}),r=0;r<i.length;r++){var d=i[r];t.samples=oe(d);var h=J(ae(d));Ae(t),we(t,d),t.baseMediaDecodeTime=xe(t,n.keepOriginalTimestamps);var f=$(a,[t]);a++,t.initSegment=ee([t]);var m=new Uint8Array(f.byteLength+h.byteLength);m.set(f),m.set(h,f.byteLength),this.trigger("data",{track:t,boxes:m,sequence:a,videoFrameDts:d.dts,videoFramePts:d.pts})}s=[]}else s=[]}},this.resetTimingAndConfig_=function(){r=void 0,i=void 0,u=null,l=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),c=[],s=[],p=!0,this.trigger("reset")}};xt.prototype=new V;var wt=xt,_t=rt,St=function(e){return e.prototype=new V,e.prototype.init.call(e),e},Tt=function(e,t){e.on("data",t.trigger.bind(t,"data")),e.on("done",t.trigger.bind(t,"done")),e.on("partialdone",t.trigger.bind(t,"partialdone")),e.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),e.on("audioTimingInfo",t.trigger.bind(t,"audioTimingInfo")),e.on("videoTimingInfo",t.trigger.bind(t,"videoTimingInfo")),e.on("trackinfo",t.trigger.bind(t,"trackinfo")),e.on("id3Frame",(function(n){n.dispatchType=e.metadataStream.dispatchType,n.cueTime=le(n.pts),t.trigger("id3Frame",n)})),e.on("caption",(function(e){t.trigger("caption",e)}))},Pt=function e(t){var n=null,r=!0;t=t||{},e.prototype.init.call(this),t.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.push=function(e){if(r){var i=_t(e);!i||n&&"aac"===n.type?i||n&&"ts"===n.type||(n=function(e){var t={type:"ts",tracks:{audio:null,video:null},packet:new Xe.TransportPacketStream,parse:new Xe.TransportParseStream,elementary:new Xe.ElementaryStream,timestampRollover:new Xe.TimestampRolloverStream,adts:new vt.Adts,h264:new vt.h264.H264Stream,captionStream:new Xe.CaptionStream,metadataStream:new Xe.MetadataStream};return t.headOfPipeline=t.packet,t.packet.pipe(t.parse).pipe(t.elementary).pipe(t.timestampRollover),t.timestampRollover.pipe(t.h264),t.h264.pipe(t.captionStream),t.timestampRollover.pipe(t.metadataStream),t.timestampRollover.pipe(t.adts),t.elementary.on("data",(function(n){if("metadata"===n.type){for(var r=0;r<n.tracks.length;r++)t.tracks[n.tracks[r].type]||(t.tracks[n.tracks[r].type]=n.tracks[r],t.tracks[n.tracks[r].type].timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime);t.tracks.video&&!t.videoSegmentStream&&(t.videoSegmentStream=new wt(t.tracks.video,e),t.videoSegmentStream.on("timelineStartInfo",(function(n){t.tracks.audio&&!e.keepOriginalTimestamps&&t.audioSegmentStream.setEarliestDts(n.dts-e.baseMediaDecodeTime)})),t.videoSegmentStream.on("timingInfo",t.trigger.bind(t,"videoTimingInfo")),t.videoSegmentStream.on("data",(function(e){t.trigger("data",{type:"video",data:e})})),t.videoSegmentStream.on("done",t.trigger.bind(t,"done")),t.videoSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.videoSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.h264.pipe(t.videoSegmentStream)),t.tracks.audio&&!t.audioSegmentStream&&(t.audioSegmentStream=new At(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adts.pipe(t.audioSegmentStream)),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video})}})),t.captionStream.on("data",(function(n){var r;n.startTime=he(n.startPts,r=t.tracks.video&&t.tracks.video.timelineStartInfo.pts||0,e.keepOriginalTimestamps),n.endTime=he(n.endPts,r,e.keepOriginalTimestamps),t.trigger("caption",n)})),(t=St(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),Tt(n,this)):(n=function(e){var t={type:"aac",tracks:{audio:null},metadataStream:new Xe.MetadataStream,aacStream:new lt,audioRollover:new Xe.TimestampRolloverStream("audio"),timedMetadataRollover:new Xe.TimestampRolloverStream("timed-metadata"),adtsStream:new Je(!0)};return t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioRollover).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataRollover).pipe(t.metadataStream),t.metadataStream.on("timestamp",(function(e){t.aacStream.setTimestamp(e.timeStamp)})),t.aacStream.on("data",(function(n){"timed-metadata"!==n.type&&"audio"!==n.type||t.audioSegmentStream||(t.tracks.audio=t.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:e.baseMediaDecodeTime},codec:"adts",type:"audio"},t.audioSegmentStream=new At(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video}))})),(t=St(t)).metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t}(t),Tt(n,this)),r=!1}n.headOfPipeline.push(e)},this.flush=function(){n&&(r=!0,n.headOfPipeline.flush())},this.partialFlush=function(){n&&n.headOfPipeline.partialFlush()},this.endTimeline=function(){n&&n.headOfPipeline.endTimeline()},this.reset=function(){n&&n.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(e){t.keepOriginalTimestamps||(t.baseMediaDecodeTime=e),n&&(n.tracks.audio&&(n.tracks.audio.timelineStartInfo.dts=void 0,n.tracks.audio.timelineStartInfo.pts=void 0,Ae(n.tracks.audio),n.audioRollover&&n.audioRollover.discontinuity()),n.tracks.video&&(n.videoSegmentStream&&(n.videoSegmentStream.gopCache_=[]),n.tracks.video.timelineStartInfo.dts=void 0,n.tracks.video.timelineStartInfo.pts=void 0,Ae(n.tracks.video)),n.timestampRollover&&n.timestampRollover.discontinuity())},this.setRemux=function(e){t.remux=e,n&&n.coalesceStream&&n.coalesceStream.setRemux(e)},this.setAudioAppendStart=function(e){n&&n.tracks.audio&&n.audioSegmentStream&&n.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){}};Pt.prototype=new V;var Ct=Pt,Et=function(e){return e>>>0},kt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])},Ot=Et,Mt=function e(t,n){var r,i,o,a,s,c=[];if(!n.length)return null;for(r=0;r<t.byteLength;)i=Ot(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3]),o=kt(t.subarray(r+4,r+8)),a=i>1?r+i:t.byteLength,o===n[0]&&(1===n.length?c.push(t.subarray(r+8,a)):(s=e(t.subarray(r+8,a),n.slice(1))).length&&(c=c.concat(s))),r=a;return c},Nt=Et,It=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},Dt=function(e){for(var t,n,r=e.byteLength,i=[],o=1;o<r-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return e;t=r-i.length,n=new Uint8Array(t);var a=0;for(o=0;o<t;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=e[a];return n},Rt=ke.CaptionStream,jt=function(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(n<i.size)return i;n-=i.size}return null},Bt=function(e,t){var n=Mt(e,["moof","traf"]),r=Mt(e,["mdat"]),i={},o=[];return r.forEach((function(e,t){o.push({mdat:e,traf:n[t]})})),o.forEach((function(e){var n,r=e.mdat,o=e.traf,a=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],c=32&r.flags[2],u=65536&r.flags[0],l=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),c&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&l&&(r.baseDataOffsetIsMoof=!0),r}(Mt(o,["tfhd"])[0]),s=a.trackId,c=Mt(o,["tfdt"]),u=c.length>0?function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:Nt(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=Nt(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t}(c[0]).baseMediaDecodeTime:0,l=Mt(o,["trun"]);t===s&&l.length>0&&(n=function(e,t,n){var r,i,o,a,s=new DataView(e.buffer,e.byteOffset,e.byteLength),c=[];for(i=0;i+4<e.length;i+=o)if(o=s.getUint32(i),i+=4,!(o<=0))switch(31&e[i]){case 6:var u=e.subarray(i+1,i+1+o),l=jt(i,t);if(r={nalUnitType:"sei_rbsp",size:o,data:u,escapedRBSP:Dt(u),trackId:n},l)r.pts=l.pts,r.dts=l.dts,a=l;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}r.pts=a.pts,r.dts=a.dts}c.push(r)}return c}(r,function(e,t,n){var r=t,i=n.defaultSampleDuration||0,o=n.defaultSampleSize||0,a=n.trackId,s=[];return e.forEach((function(e){var t=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),i=1&n.flags[2],o=4&n.flags[2],a=1&n.flags[1],s=2&n.flags[1],c=4&n.flags[1],u=8&n.flags[1],l=r.getUint32(4),p=8;for(i&&(n.dataOffset=r.getInt32(p),p+=4),o&&l&&(t={flags:It(e.subarray(p,p+4))},p+=4,a&&(t.duration=r.getUint32(p),p+=4),s&&(t.size=r.getUint32(p),p+=4),u&&(t.compositionTimeOffset=1===n.version?r.getInt32(p):r.getUint32(p),p+=4),n.samples.push(t),l--);l--;)t={},a&&(t.duration=r.getUint32(p),p+=4),s&&(t.size=r.getUint32(p),p+=4),c&&(t.flags=It(e.subarray(p,p+4)),p+=4),u&&(t.compositionTimeOffset=1===n.version?r.getInt32(p):r.getUint32(p),p+=4),n.samples.push(t);return n}(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=i),void 0===e.size&&(e.size=o),e.trackId=a,e.dts=r,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=r+e.compositionTimeOffset,r+=e.duration})),s=s.concat(t)})),s}(l,u,a),s),i[s]||(i[s]=[]),i[s]=i[s].concat(n))})),i},Ft=function(){var e,t,n,r,i,o,a=!1;this.isInitialized=function(){return a},this.init=function(t){e=new Rt,a=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/r,e.endTime=e.endPts/r,i.captions.push(e),i.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&r===t[n])},this.parse=function(e,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))r=a[n=o[0]];else if(null===n||!r)return t.push(e),null;for(;t.length>0;){var c=t.shift();this.parse(c,o,a)}return null!==(s=function(e,t,n){return null===t?null:{seiNals:Bt(e,t)[t],timescale:n}}(e,n,r))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),i):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){i.captions=[],i.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,r=null,i?this.clearParsedCaptions():i={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},Lt=function(e){return"AudioSegmentStream"===e?"audio":"VideoSegmentStream"===e?"video":""},Ut=function(){function e(e,t){this.options=t||{},this.self=e,this.init()}var t=e.prototype;return t.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Ct(this.options):new yt(this.options),this.options.handlePartialData?function(e,t){t.on("data",(function(t){var n={boxes:{data:t.data.boxes.buffer,byteOffset:t.data.boxes.byteOffset,byteLength:t.data.boxes.byteLength},initSegment:{data:t.data.track.initSegment.buffer,byteOffset:t.data.track.initSegment.byteOffset,byteLength:t.data.track.initSegment.byteLength},type:t.type,sequence:t.data.sequence};void 0!==t.data.videoFrameDts&&(n.videoFrameDtsTime=me(t.data.videoFrameDts)),void 0!==t.data.videoFramePts&&(n.videoFramePtsTime=me(t.data.videoFramePts)),e.postMessage({action:"data",segment:n},[n.boxes.data,n.initSegment.data])})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("done",(function(t){e.postMessage({action:"done",type:Lt(t)})})),t.on("partialdone",(function(t){e.postMessage({action:"partialdone",type:Lt(t)})})),t.on("endedsegment",(function(t){e.postMessage({action:"endedSegment",type:Lt(t)})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){if(null!==t.start){var n={start:me(t.start)};t.end&&(n.end=me(t.end)),e.postMessage({action:"audioTimingInfo",audioTimingInfo:n})}else e.postMessage({action:"audioTimingInfo",audioTimingInfo:t})})),t.on("videoTimingInfo",(function(t){var n={start:me(t.start)};t.end&&(n.end=me(t.end)),e.postMessage({action:"videoTimingInfo",videoTimingInfo:n})}))}(this.self,this.transmuxer):function(e,t){t.on("data",(function(t){var n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};var r=t.data;t.data=r.buffer,e.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){var n={start:{decode:me(t.start.dts),presentation:me(t.start.pts)},end:{decode:me(t.end.dts),presentation:me(t.end.pts)},baseMediaDecodeTime:me(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=me(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:me(t.start),end:me(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:me(t.start),end:me(t.end)}})}))}(this.self,this.transmuxer)},t.pushMp4Captions=function(e){this.captionParser||(this.captionParser=new Ft,this.captionParser.init());var t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],data:t.buffer},[t.buffer])},t.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},t.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},t.push=function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)},t.reset=function(){this.transmuxer.reset()},t.setTimestampOffset=function(e){this.transmuxer.setBaseMediaDecodeTime(Math.round(fe(e.timestampOffset||0)))},t.setAudioAppendStart=function(e){this.transmuxer.setAudioAppendStart(Math.ceil(fe(e.appendStart)))},t.setRemux=function(e){this.transmuxer.setRemux(e.remux)},t.flush=function(e){this.transmuxer.flush(),n.postMessage({action:"done",type:"transmuxed"})},t.partialFlush=function(e){this.transmuxer.partialFlush(),n.postMessage({action:"partialdone",type:"transmuxed"})},t.endTimeline=function(){this.transmuxer.endTimeline(),n.postMessage({action:"endedtimeline",type:"transmuxed"})},t.alignGopsWith=function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())},e}();new function(e){e.onmessage=function(t){"init"===t.data.action&&t.data.options?this.messageHandlers=new Ut(e,t.data.options):(this.messageHandlers||(this.messageHandlers=new Ut(e)),t.data&&t.data.action&&"init"!==t.data.action&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data))}}(n)}()})),Ba=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Fa=function(e,t){var n=t.attributes||{},r=function(e){var t=e.attributes||{};if(t.CODECS)return Object(Ce.parseCodecs)(t.CODECS)}(t)||{};if(Ba(e,t)&&!r.audio&&!function(e,t){if(!Ba(e,t))return!0;var n=e.mediaGroups.AUDIO[(t.attributes||{}).AUDIO];for(var r in n)if(!n[r].uri&&!n[r].playlists)return!0;return!1}(e,t)){var i=Object(Ce.codecsFromDefault)(e,n.AUDIO);i&&(r.audio=i.audio)}var o={};return r.video&&(o.video=Object(Ce.translateLegacyCodec)(""+r.video.type+r.video.details)),r.audio&&(o.audio=Object(Ce.translateLegacyCodec)(""+r.audio.type+r.audio.details)),o},La=function(e){return fo.log.debug?fo.log.debug.bind(fo,"VHS:",e+" >"):function(){}},Ua=La("PlaylistSelector"),za=function(e){if(e&&e.playlist){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},Va=function(e,t){if(!e)return"";var n=i.a.getComputedStyle(e);return n?n[t]:""},Wa=function(e,t){var n=e.slice();e.sort((function(e,r){var i=t(e,r);return 0===i?n.indexOf(e)-n.indexOf(r):i}))},Ha=function(e,t){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),(n=n||i.a.Number.MAX_VALUE)-(r||i.a.Number.MAX_VALUE)},Ga=function(e,t,n){var r,i;if(n&&n.cues)for(r=n.cues.length;r--;)(i=n.cues[r]).startTime>=e&&i.endTime<=t&&n.removeCue(i)},qa=function(e){return"number"==typeof e&&isFinite(e)},Xa=function(e){return e+"TimingInfo"},Ka=function(e){var t=e.startOfSegment,n=e.buffered;return e.overrideCheck||e.segmentTimeline!==e.currentTimeline?n.length?n.end(n.length-1):t:null},Ya=function(e){var t=e.timelineChangeController,n=e.segmentTimeline,r=e.loaderType,i=e.audioDisabled;if(e.currentTimeline===n)return!1;if("audio"===r){var o=t.lastTimelineChange({type:"main"});return!o||o.to!==n}if("main"===r&&i){var a=t.pendingTimelineChange({type:"audio"});return!a||a.to!==n}return!1},Za=function(e){function t(t,n){var r;if(r=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=t.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.hasPlayed_=t.hasPlayed,r.currentTime_=t.currentTime,r.seekable_=t.seekable,r.seeking_=t.seeking,r.duration_=t.duration,r.mediaSource_=t.mediaSource,r.vhs_=t.vhs,r.loaderType_=t.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=t.segmentMetadataTrack,r.goalBufferLength_=t.goalBufferLength,r.sourceType_=t.sourceType,r.sourceUpdater_=t.sourceUpdater,r.inbandTextTracks_=t.inbandTextTracks,r.state_="INIT",r.handlePartialData_=t.handlePartialData,r.timelineChangeController_=t.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=fo.browser.IE_VERSION>=11,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=t.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=t.decrypter,r.syncController_=t.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",(function(){r.isEndOfStream_()||(r.ended_=!1)})),r.fetchAtBuffer_=!1,r.logger_=La("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(l()(r),"state",{get:function(){return this.state_},set:function(e){e!==this.state_&&(this.logger_(this.state_+" -> "+e),this.state_=e,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",(function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",(function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()})),r}d()(t,e);var n=t.prototype;return n.createTransmuxer_=function(){var e=new ja;return e.postMessage({action:"init",options:{remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,handlePartialData:this.handlePartialData_}}),e},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&(this.transmuxer_.terminate(),yo=null,ya.length=0),this.resetStats_(),this.checkBufferTimeout_&&i.a.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_)},n.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},n.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&wa(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return fo.createTimeRanges();if("main"===this.loaderType_){var e=this.startingMediaInfo_,t=e.hasVideo;if(t&&e.hasAudio&&!this.audioDisabled_&&!e.isMuxed)return this.sourceUpdater_.buffered();if(t)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=ra(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e},n.segmentKey=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=ia(e),r=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!r&&e.bytes&&(this.keyCache_[n]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});var i={resolvedUri:(r||e).resolvedUri};return r&&(i.bytes=r.bytes),i},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(e,t){if(void 0===t&&(t={}),e){var n=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0});var i=null;if(n&&(n.id?i=n.id:n.uri&&(i=n.uri)),this.logger_("playlist update ["+i+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=e.mediaSequence-n.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),r&&(r.mediaIndex-=o,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}},n.pause=function(){this.checkBufferTimeout_&&(i.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&wa(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(e,t,n){if(void 0===n&&(n=function(){}),t===1/0&&(t=this.duration_()),this.sourceUpdater_&&this.currentMediaInfo_){var r=1,i=function(){0==--r&&n()};for(var o in this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,i)),"main"===this.loaderType_&&this.currentMediaInfo_&&this.currentMediaInfo_.hasVideo&&(this.gopBuffer_=function(e,t,n,r){for(var i=Math.ceil((t-r)*Se.ONE_SECOND_IN_TS),o=Math.ceil((n-r)*Se.ONE_SECOND_IN_TS),a=e.slice(),s=e.length;s--&&!(e[s].pts<=o););if(-1===s)return a;for(var c=s+1;c--&&!(e[c].pts<=i););return c=Math.max(c,0),a.splice(c,s-c+1),a}(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,i)),this.inbandTextTracks_)Ga(e,t,this.inbandTextTracks_[o]);Ga(e,t,this.segmentMetadataTrack_),i()}},n.monitorBuffer_=function(){this.checkBufferTimeout_&&i.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=i.a.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&i.a.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=i.a.setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.buffered_(),t=this.checkBuffer_(e,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);t&&(t.timestampOffset=Ka({segmentTimeline:t.timeline,currentTimeline:this.currentTimeline_,startOfSegment:t.startOfSegment,buffered:e,overrideCheck:this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof t.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loadSegment_(t))}},n.isEndOfStream_=function(e,t){return void 0===e&&(e=this.mediaIndex),void 0===t&&(t=this.playlist_),!(!t||!this.mediaSource_)&&t.endList&&"open"===this.mediaSource_.readyState&&e+1===t.segments.length},n.checkBuffer_=function(e,t,n,r,i,o){var a=0;e.length&&(a=e.end(e.length-1));var s=Math.max(0,a-i);if(!t.segments.length)return null;if(s>=this.goalBufferLength_())return null;if(!r&&s>=1)return null;var c,u=null,l=!1;if(null===o)u=this.getSyncSegmentCandidate_(t),l=!0;else if(null!==n){var p=t.segments[n];c=p&&p.end?p.end:a,u=n+1}else if(this.fetchAtBuffer_){var d=Xo.getMediaInfoForTime(t,a,o.segmentIndex,o.time);u=d.mediaIndex,c=d.startTime}else{var h=Xo.getMediaInfoForTime(t,i,o.segmentIndex,o.time);u=h.mediaIndex,c=h.startTime}var f=this.generateSegmentInfo_(t,u,c,l);return!f||this.mediaSource_&&this.playlist_&&f.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+f.uri,{segmentInfo:f,playlist:t,currentMediaIndex:n,nextMediaIndex:u,startOfSegment:c,isSyncRequest:l}),f)},n.getSyncSegmentCandidate_=function(e){var t=this;if(-1===this.currentTimeline_)return 0;var n=e.segments.map((function(e,t){return{timeline:e.timeline,segmentIndex:t}})).filter((function(e){return e.timeline===t.currentTimeline_}));return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)},n.generateSegmentInfo_=function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var i,o,a=e.segments[t],s=this.sourceUpdater_.audioBuffered(),c=this.sourceUpdater_.videoBuffered();return s.length&&(i=s.end(s.length-1)-this.sourceUpdater_.audioTimestampOffset()),c.length&&(o=function(e,t,n){if(null==t||!e.length)return[];var r,i=Math.ceil((t-n+3)*Se.ONE_SECOND_IN_TS);for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a,byteLength:0,transmuxer:this.transmuxer_,audioAppendStart:i,gopsToAlignWith:o}},n.abortRequestEarly_=function(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,i=Xo.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),o=function(e,t,n){return void 0===n&&(n=1),((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(i<=o)return!1;var a=function(e){var t=e.currentTime,n=e.bandwidth,r=e.duration,i=e.segmentDuration,o=e.timeUntilRebuffer,a=e.currentTimeline,s=e.syncController,c=e.master.playlists.filter((function(e){return!Xo.isIncompatible(e)})),u=c.filter(Xo.isEnabled);u.length||(u=c.filter((function(e){return!Xo.isDisabled(e)})));var l=u.filter(Xo.hasAttribute.bind(null,"BANDWIDTH")).map((function(e){var c=s.getSyncPoint(e,r,a,t)?1:2;return{playlist:e,rebufferingImpact:Xo.estimateSegmentRequestTime(i,n,e)*c-o}})),p=l.filter((function(e){return e.rebufferingImpact<=0}));return Wa(p,(function(e,t){return Ha(t.playlist,e.playlist)})),p.length?p[0]:(Wa(l,(function(e,t){return e.rebufferingImpact-t.rebufferingImpact})),l[0]||null)}({master:this.vhs_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=.5;return o<=1/30&&(s=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||i-o-a.rebufferingImpact<s||(this.bandwidth=a.playlist.attributes.BANDWIDTH*ma.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),0))}},n.handleAbort_=function(){this.mediaRequestsAborted+=1},n.handleProgress_=function(e,t){this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||this.trigger("progress")},n.handleTrackInfo_=function(e,t){this.checkForAbort_(e.requestId)||this.abortRequestEarly_(e.stats)||this.checkForIllegalMediaSwitch(t)||(function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(o!==r[i])return!1;if(e[o]!==t[o])return!1}return!0}(this.currentMediaInfo_,t=t||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||this.abortRequestEarly_(e.stats)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(e,t,n,r){if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats)){var i=this.pendingSegment_,o=Xa(t);i[o]=i[o]||{},i[o][n]=r,this.logger_("timinginfo: "+t+" - "+n+" - "+r),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,t){var n=this;if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats))if(0!==t.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};t.forEach((function(e){o[e.stream]=o[e.stream]||{startTime:1/0,captions:[],endTime:0};var t=o[e.stream];t.startTime=Math.min(t.startTime,e.startTime+r),t.endTime=Math.max(t.endTime,e.endTime+r),t.captions.push(e)})),Object.keys(o).forEach((function(e){var t=o[e],a=t.startTime,s=t.endTime,c=t.captions,u=n.inbandTextTracks_;n.logger_("adding cues from "+a+" -> "+s+" for "+e),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var r=t.textTracks().getTrackById(n);e[n]=r||t.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(u,n.vhs_.tech_,e),Ga(a,s,u[e]),function(e){var t=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var o=i.a.WebKitDataCue||i.a.VTTCue;n.forEach((function(e){t[e.stream].addCue(new o(e.startTime+r,e.endTime+r,e.text))}))}}({captionArray:c,inbandTextTracks:u,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(e,t,n){if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats))if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)}(this.inbandTextTracks_,n,this.vhs_.tech_),function(e){var t=e.metadataArray,n=e.timestampOffset,r=e.videoDuration;if(t){var o=i.a.WebKitDataCue||i.a.VTTCue,a=e.inbandTextTracks.metadataTrack_;if(a&&(t.forEach((function(e){var t=e.cueTime+n;!("number"!=typeof t||i.a.isNaN(t)||t<0)&&t<1/0&&e.frames.forEach((function(e){var n=new o(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:function(){return fo.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return fo.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return fo.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})}(n),a.addCue(n)}))})),a.cues&&a.cues.length)){for(var s=a.cues,c=[],u=0;u<s.length;u++)s[u]&&c.push(s[u]);var l=c.reduce((function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e}),{}),p=Object.keys(l).sort((function(e,t){return Number(e)-Number(t)}));p.forEach((function(e,t){var n=l[e],i=Number(p[t+1])||r;n.forEach((function(e){e.endTime=i}))}))}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:r,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(e){return e()})),this.metadataQueue_.caption.forEach((function(e){return e()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach((function(e){return e()}))},n.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach((function(e){return e()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!(!e||this.currentMediaInfo_&&Ya({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;var e=this.pendingSegment_;if(!e||!e.trackInfo)return!1;if(!this.handlePartialData_){var t=this.currentMediaInfo_;if(t.hasVideo&&!e.videoTimingInfo)return!1;if(t.hasAudio&&!this.audioDisabled_&&!t.isMuxed&&!e.audioTimingInfo)return!1}return!Ya({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},n.handleData_=function(e,t){if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[Xa(t.type)].start;else{var r,i="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;i&&(r=this.handlePartialData_?t.videoFramePtsTime:n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:i,firstVideoFrameTimeForData:r,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}else this.callQueue_.push(this.handleData_.bind(this,e,t))},n.updateAppendInitSegmentStatus=function(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)},n.getInitSegmentAndUpdateState_=function(e){var t=e.type,n=e.initSegment,r=e.map,i=e.playlist;if(r){var o=ra(r);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=i,this.appendInitSegment_[t]=!!r,this.activeInitSegmentId_=null,n):null},n.appendToSourceBuffer_=function(e){var t=this,n=e.segmentInfo,r=e.type,i=e.initSegment,o=e.data,a=[o],s=o.byteLength;i&&(a.unshift(i),s+=i.byteLength);var c,u,l,p=(l=0,(c={bytes:s,segments:a}).bytes&&(u=new Uint8Array(c.bytes),c.segments.forEach((function(e){u.set(e,l),l+=e.byteLength}))),u);this.sourceUpdater_.appendBuffer({segmentInfo:n,type:r,bytes:p},(function(e){e&&(t.error(r+" append of "+p.length+"b failed for segment #"+n.mediaIndex+" in playlist "+n.playlist.id),t.trigger("appenderror"))}))},n.handleVideoSegmentTimingInfo_=function(e,t){if(this.pendingSegment_&&e===this.pendingSegment_.requestId){var n=this.pendingSegment_.segment;n.videoTimingInfo||(n.videoTimingInfo={}),n.videoTimingInfo.transmuxerPrependedSeconds=t.prependedContentDuration||0,n.videoTimingInfo.transmuxedPresentationStart=t.start.presentation,n.videoTimingInfo.transmuxedPresentationEnd=t.end.presentation,n.videoTimingInfo.baseMediaDecodeTime=t.baseMediaDecodeTime}},n.appendData_=function(e,t){var n=t.type,r=t.data;if(r&&r.byteLength&&("audio"!==n||!this.audioDisabled_)){var i=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r})}},n.loadSegment_=function(e){var t=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((function(){var n=t.buffered_();"number"==typeof e.timestampOffset&&(e.timestampOffset=Ka({segmentTimeline:e.timeline,currentTimeline:t.currentTimeline_,startOfSegment:e.startOfSegment,buffered:n,overrideCheck:!0})),delete e.audioAppendStart;var r=t.sourceUpdater_.audioBuffered();r.length&&(e.audioAppendStart=r.end(r.length-1)-t.sourceUpdater_.audioTimestampOffset()),t.updateTransmuxerAndRequestSegment_(e)}))},n.updateTransmuxerAndRequestSegment_=function(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var t=this.createSimplifiedSegmentObj_(e);e.abortRequests=function(e){var t=e.xhr,n=e.xhrOptions,r=e.segment,i=e.abortFn,o=e.progressFn,a=e.trackInfoFn,s=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,u=e.id3Fn,l=e.captionsFn,p=e.dataFn,d=e.handlePartialData,h=[],f=function(e){var t=e.activeXhrs,n=e.decryptionWorker,r=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.id3Fn,s=e.captionsFn,c=e.dataFn,u=e.doneFn,l=0,p=!1;return function(e,d){if(!p){if(e)return p=!0,_a(t),u(e,d);if((l+=1)===t.length){if(d.endOfAllRequests=Date.now(),d.encryptedBytes)return function(e){var t,n=e.decryptionWorker,r=e.segment,i=e.trackInfoFn,o=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,s=e.id3Fn,c=e.captionsFn,u=e.dataFn,l=e.doneFn;n.addEventListener("message",(function e(t){if(t.data.source===r.requestId){n.removeEventListener("message",e);var p=t.data.decrypted;r.bytes=new Uint8Array(p.bytes,p.byteOffset,p.byteLength),Ta({segment:r,bytes:r.bytes,isPartial:!1,trackInfoFn:i,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:c,dataFn:u,doneFn:l})}})),t=r.key.bytes.slice?r.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(r.key.bytes)),n.postMessage(na({source:r.requestId,encrypted:r.encryptedBytes,key:t,iv:r.key.iv}),[r.encryptedBytes.buffer,t.buffer])}({decryptionWorker:n,segment:d,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:c,doneFn:u});Ta({segment:d,bytes:d.bytes,isPartial:!1,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:c,doneFn:u})}}}}({activeXhrs:h,decryptionWorker:e.decryptionWorker,trackInfoFn:a,timingInfoFn:s,videoSegmentTimingInfoFn:c,id3Fn:u,captionsFn:l,dataFn:p,doneFn:e.doneFn});if(r.key&&!r.key.bytes){var m=t(fo.mergeOptions(n,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(e,t){return function(n,r){var i=r.response,o=Sa(n,r);if(o)return t(o,e);if(16!==i.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:2,xhr:r},e);var a=new DataView(i);return e.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),t(null,e)}}(r,f));h.push(m)}if(r.map&&!r.map.bytes){var g=t(fo.mergeOptions(n,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Jo(r.map)}),function(e){var t=e.segment,n=e.finishProcessingFn;return function(e,r){var i=r.response,o=Sa(e,r);if(o)return n(o,t);if(0===i.byteLength)return n({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:2,xhr:r},t);t.map.bytes=new Uint8Array(r.response);var a=Object(Ae.detectContainerForBytes)(t.map.bytes);return"mp4"!==a?n({status:r.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+r.uri,code:2,internal:!0,xhr:r},t):(Pe.a.tracks(t.map.bytes).forEach((function(e){t.map.tracks=t.map.tracks||{},t.map.tracks[e.type]||(t.map.tracks[e.type]=e,e.id&&e.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[e.id]=e.timescale))})),n(null,t))}}({segment:r,finishProcessingFn:f}));h.push(g)}var y=fo.mergeOptions(n,{uri:r.resolvedUri,responseType:"arraybuffer",headers:Jo(r)});d&&(y.responseType="text",y.beforeSend=function(e){e.overrideMimeType("text/plain; charset=x-user-defined")});var v=t(y,function(e){var t=e.segment,n=e.finishProcessingFn,r=e.responseType;return function(e,i){var o=i.response,a=Sa(e,i);if(a)return n(a,t);var s="arraybuffer"!==r&&i.responseText?ga(i.responseText.substring(t.lastReachedChar||0)):i.response;return 0===o.byteLength?n({status:i.status,message:"Empty HLS segment content at URL: "+i.uri,code:2,xhr:i},t):(t.stats=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}}(i),t.key?t.encryptedBytes=new Uint8Array(s):t.bytes=new Uint8Array(s),n(null,t))}}({segment:r,finishProcessingFn:f,responseType:y.responseType}));v.addEventListener("progress",function(e){var t=e.segment,n=e.progressFn,r=e.trackInfoFn,i=e.timingInfoFn,o=e.videoSegmentTimingInfoFn,a=e.id3Fn,s=e.captionsFn,c=e.dataFn,u=e.handlePartialData;return function(e){var l=e.target;if(!l.aborted){if(u&&!t.key&&l.responseText&&l.responseText.length>=8){var p=ga(l.responseText.substring(t.lastReachedChar||0));!t.lastReachedChar&&Object(Ae.isLikelyFmp4MediaSegment)(new Uint8Array(p))||(t.lastReachedChar=l.responseText.length,Ta({segment:t,bytes:p,isPartial:!0,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:c}))}return t.stats=fo.mergeOptions(t.stats,function(e){var t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(e,t)}}}({segment:r,progressFn:o,trackInfoFn:a,timingInfoFn:s,videoSegmentTimingInfoFn:c,id3Fn:u,captionsFn:l,dataFn:p,handlePartialData:d})),h.push(v);var b={};return h.forEach((function(e){e.addEventListener("loadend",function(e){var t=e.loadendState,n=e.abortFn;return function(e){e.target.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}}({loadendState:b,abortFn:i}))})),function(){return _a(h)}}({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,handlePartialData:this.handlePartialData_,abortFn:this.handleAbort_.bind(this),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleVideoSegmentTimingInfo_.bind(this,e.requestId),captionsFn:this.handleCaptions_.bind(this),id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},n.trimBackBuffer_=function(e){var t,n,r,i,o=(t=this.seekable_(),n=this.currentTime_(),r=this.playlist_.targetDuration||10,i=n-ma.BACK_BUFFER_LENGTH,t.length&&(i=Math.max(i,t.start(0))),Math.min(n-r,i));o>0&&this.remove(0,o)},n.createSimplifiedSegmentObj_=function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith},r=e.playlist.segments[e.mediaIndex];if(r&&r.end&&r.timeline===t.timeline&&(n.baseStartTime=r.end+e.timestampOffset),t.key){var i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=i}return t.map&&(n.map=this.initSegmentForMap(t.map)),n},n.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},n.saveBandwidthRelatedStats_=function(e){this.bandwidth=e.bandwidth,this.roundTrip=e.roundTripTime,this.pendingSegment_.byteLength=e.bytesReceived},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(e,t,n){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));else if(this.saveTransferStats_(t.stats),this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",-102===e.code)return;return this.pause(),-101===e.code?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}this.saveBandwidthRelatedStats_(t.stats);var r=this.pendingSegment_;r.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=function(e,t,n){if(!t.length)return e;if(n)return t.slice();for(var r=t[0].pts,i=0;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)}(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING";var i=this.isEndOfStream_(r.mediaIndex,r.playlist);!r.isFmp4&&(i||null!==this.mediaIndex&&r.timeline!==this.currentTimeline_&&r.timeline>0)&&xa("endTimeline",this.transmuxer_),this.trigger("appending"),this.waitForAppendsToComplete_(r)}},n.setTimeMapping_=function(e){var t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)},n.updateMediaSecondsLoaded_=function(e){this.mediaSecondsLoaded+="number"==typeof e.start&&"number"==typeof e.end?e.end-e.start:e.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(e){var t=e.currentStart,n=e.mediaIndex,r=e.firstVideoFrameTimeForData;if(void 0!==t)return t;if(!e.useVideoTimingInfo)return e.audioTimingInfo.start;var i=e.playlist.segments[n-1];return 0!==n&&i&&void 0!==i.start&&i.end===r+e.currentVideoTimestampOffset?e.videoTimingInfo.start:r},n.waitForAppendsToComplete_=function(e){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var t=this.currentMediaInfo_,n="main"===this.loaderType_&&t.hasVideo,r=!this.audioDisabled_&&t.hasAudio&&!t.isMuxed;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);n&&e.waitingOnAppends++,r&&e.waitingOnAppends++,n&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),r&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},n.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(e){var t=function(e,t,n){return"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,e);return!!t&&(this.error({message:t,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var t=!1;e.timestampOffset-=e.timingInfo.start,e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}},n.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var t="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;t&&(e.timingInfo.end="number"==typeof t.end?t.end:t.start+e.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;if(this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_(function(e){var t=e.segment,n=e.playlist,r=n.mediaSequence,i=n.segments;return["appending ["+e.mediaIndex+"] of ["+r+", "+(r+(void 0===i?[]:i).length)+"] from playlist ["+n.id+"]","["+t.start+" => "+t.end+"] in timeline ["+e.timeline+"]"].join(" ")}(e)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var t=e.segment;t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration?this.resetEverything():(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.isEndOfStream_(e.mediaIndex,e.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_())}},n.recordThroughput_=function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(qa(n)&&qa(r)){Ga(n,r,this.segmentMetadataTrack_);var o={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},a=new(i.a.WebKitDataCue||i.a.VTTCue)(n,r,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}},t}(fo.EventTarget);function Qa(){}var Ja,$a=function(e){return"string"!=typeof e?e:e.replace(/./,(function(e){return e.toUpperCase()}))},es=["video","audio"],ts=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},ns=function e(t,n){if(0!==n.queue.length){var r=0,i=n.queue[r];if("mediaSource"!==i.type){if("mediaSource"!==t&&n.started_&&"closed"!==n.mediaSource.readyState&&!ts(t,n)){if(i.type!==t){if(null===(r=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("mediaSource"===r.type)return null;if(r.type===e)return n}return null}(t,n.queue)))return;i=n.queue[r]}n.queue.splice(r,1),i.action(t,n),i.doneFn?n.queuePending[t]=i:e(t,n)}}else n.updating()||"closed"===n.mediaSource.readyState||(n.queue.shift(),i.action(n),i.doneFn&&i.doneFn(),e("audio",n),e("video",n))}},rs=function(e,t){var n=t[e+"Buffer"],r=$a(e);n&&(n.removeEventListener("updateend",t["on"+r+"UpdateEnd_"]),n.removeEventListener("error",t["on"+r+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},is=function(e,t){return e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t)},os=function(e,t){return function(n,r){var i=r[n+"Buffer"];is(r.mediaSource,i)&&(r.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+n+"Buffer"),i.appendBuffer(e))}},as=function(e,t){return function(n,r){var i=r[n+"Buffer"];is(r.mediaSource,i)&&(r.logger_("Removing "+e+" to "+t+" from "+n+"Buffer"),i.remove(e,t))}},ss=function(e){return function(t,n){var r=n[t+"Buffer"];is(n.mediaSource,r)&&(n.logger_("Setting "+t+"timestampOffset to "+e),r.timestampOffset=e)}},cs=function(e){return function(t,n){e()}},us=function(e){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(Hs){fo.log.warn("Failed to call media source endOfStream",Hs)}}}},ls=function(e,t){return function(n){var r=$a(e),i=Object(Ce.getMimeForCodec)(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var o=n.mediaSource.addSourceBuffer(i);o.addEventListener("updateend",n["on"+r+"UpdateEnd_"]),o.addEventListener("error",n["on"+r+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=o}},ps=function(e){return function(t){var n=t[e+"Buffer"];if(rs(e,t),is(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(Hs){fo.log.warn("Failed to removeSourceBuffer "+e+"Buffer",Hs)}}}},ds=function(e){return function(t,n){var r=n[t+"Buffer"],i=Object(Ce.getMimeForCodec)(e);is(n.mediaSource,r)&&n.codecs[t]!==e&&(n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e),r.changeType(i),n.codecs[t]=e)}},hs=function(e){var t=e.type,n=e.sourceUpdater;n.queue.push({type:t,action:e.action,doneFn:e.doneFn,name:e.name}),ns(t,n)},fs=function(e,t){return function(n){if(t.queuePending[e]){var r=t.queuePending[e].doneFn;t.queuePending[e]=null,r&&r(t[e+"Error_"])}ns(e,t)}},ms=function(e){function t(t){var n;return(n=e.call(this)||this).mediaSource=t,n.sourceopenListener_=function(){return ns("mediaSource",l()(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=La("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=fs("video",l()(n)),n.onAudioUpdateEnd_=fs("audio",l()(n)),n.onVideoError_=function(e){n.videoError_=e},n.onAudioError_=function(e){n.audioError_=e},n.started_=!1,n}d()(t,e);var n=t.prototype;return n.ready=function(){return this.started_},n.createSourceBuffers=function(e){this.ready()||(this.addOrChangeSourceBuffers(e),this.started_=!0,this.trigger("ready"))},n.addSourceBuffer=function(e,t){hs({type:"mediaSource",sourceUpdater:this,action:ls(e,t),name:"addSourceBuffer"})},n.abort=function(e){hs({type:e,sourceUpdater:this,action:function(e,t){if("open"===t.mediaSource.readyState){var n=t[e+"Buffer"];if(is(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(Hs){fo.log.warn("Failed to abort on "+e+"Buffer",Hs)}}}},name:"abort"})},n.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?hs({type:"mediaSource",sourceUpdater:this,action:ps(e),name:"removeSourceBuffer"}):fo.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!fo.browser.IE_VERSION&&i.a.MediaSource&&i.a.MediaSource.prototype&&"function"==typeof i.a.MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return i.a.SourceBuffer&&i.a.SourceBuffer.prototype&&"function"==typeof i.a.SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(e,t){this.canChangeType()?hs({type:e,sourceUpdater:this,action:ds(t),name:"changeType"}):fo.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(e){var t=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((function(n){var r=e[n];if(!t.ready())return t.addSourceBuffer(n,r);t.canChangeType()&&t.changeType(n,r)}))},n.appendBuffer=function(e,t){var n=this,r=e.segmentInfo,i=e.type,o=e.bytes;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_("delayed audio append of "+o.length+" until video append");if(hs({type:i,sourceUpdater:this,action:os(o,r||{mediaIndex:-1}),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(e){n.appendBuffer.apply(n,e)}))}},n.audioBuffered=function(){return is(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:fo.createTimeRange()},n.videoBuffered=function(){return is(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:fo.createTimeRange()},n.buffered=function(){var e=is(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=is(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){var n=null,r=null,i=0,o=[],a=[];if(!(e&&e.length&&t&&t.length))return fo.createTimeRange();for(var s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(o.sort((function(e,t){return e.time-t.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++i&&(n=o[s].time):"end"===o[s].type&&1==--i&&(r=o[s].time),null!==n&&null!==r&&(a.push([n,r]),n=null,r=null);return fo.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(e,t){var n;void 0===t&&(t=Qa),hs({type:"mediaSource",sourceUpdater:this,action:(n=e,function(e){e.logger_("Setting mediaSource duration to "+n);try{e.mediaSource.duration=n}catch(Hs){fo.log.warn("Failed to set media source duration",Hs)}}),name:"duration",doneFn:t})},n.endOfStream=function(e,t){void 0===e&&(e=null),void 0===t&&(t=Qa),"string"!=typeof e&&(e=void 0),hs({type:"mediaSource",sourceUpdater:this,action:us(e),name:"endOfStream",doneFn:t})},n.removeAudio=function(e,t,n){void 0===n&&(n=Qa),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?hs({type:"audio",sourceUpdater:this,action:as(e,t),doneFn:n,name:"remove"}):n()},n.removeVideo=function(e,t,n){void 0===n&&(n=Qa),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?hs({type:"video",sourceUpdater:this,action:as(e,t),doneFn:n,name:"remove"}):n()},n.updating=function(){return!(!ts("audio",this)&&!ts("video",this))},n.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(hs({type:"audio",sourceUpdater:this,action:ss(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},n.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(hs({type:"video",sourceUpdater:this,action:ss(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},n.audioQueueCallback=function(e){this.audioBuffer&&hs({type:"audio",sourceUpdater:this,action:cs(e),name:"callback"})},n.videoQueueCallback=function(e){this.videoBuffer&&hs({type:"video",sourceUpdater:this,action:cs(e),name:"callback"})},n.dispose=function(){var e=this;this.trigger("dispose"),es.forEach((function(t){e.abort(t),e.canRemoveSourceBuffer()?e.removeSourceBuffer(t):e[t+"QueueCallback"]((function(){return rs(t,e)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(fo.EventTarget),gs=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},ys=new Uint8Array("\n\n".split("").map((function(e){return e.charCodeAt(0)}))),vs=function(e){function t(t,n){var r;return void 0===n&&(n={}),(r=e.call(this,t,n)||this).handlePartialData_=!1,r.mediaSource_=null,r.subtitlesTrack_=null,r.loaderType_="subtitle",r.featuresNativeTextTracks_=t.featuresNativeTextTracks,r.shouldSaveSegmentTimingInfo_=!1,r}d()(t,e);var n=t.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return fo.createTimeRanges();var e=this.subtitlesTrack_.cues;return fo.createTimeRanges([[e[0].startTime,e[e.length-1].startTime]])},n.initSegmentForMap=function(e,t){if(void 0===t&&(t=!1),!e)return null;var n=ra(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var i=new Uint8Array(ys.byteLength+e.bytes.byteLength);i.set(e.bytes),i.set(ys,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:i}}return r||e},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(e,t){Ga(e,t,this.subtitlesTrack_)},n.fillBuffer_=function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline))return this.syncController_.one("timestampoffset",(function(){e.state="READY",e.paused()||e.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(t)}},n.skipEmptySegments_=function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e},n.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,t,n){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return-101===e.code&&this.handleTimeout_(),-102===e.code?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);this.saveBandwidthRelatedStats_(t.stats),this.state="APPENDING",this.trigger("appending");var o=this.pendingSegment_,a=o.segment;if(a.map&&(a.map.bytes=t.map.bytes),o.bytes=t.bytes,"function"!=typeof i.a.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s,c=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",s),r.stopForError({message:"Error loading vtt.js"})};return s=function(){r.subtitlesTrack_.tech_.off("vttjserror",c),r.segmentRequestFinished_(e,t,n)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",c)}a.requested=!0;try{this.parseVTTCues_(o)}catch(Hs){return void this.stopForError({message:Hs.message})}if(this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.timingInfo=o.cues.length?{start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:{start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,o.cues.forEach((function(e){r.remove(e.startTime,e.endTime),r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new i.a.VTTCue(e.startTime,e.endTime,e.text):e)})),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var t,n=!1;"function"==typeof i.a.TextDecoder?t=new i.a.TextDecoder("utf8"):(t=i.a.WebVTT.StringDecoder(),n=!0);var r=new i.a.WebVTT.Parser(i.a,i.a.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(e){fo.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var o=e.segment.map.bytes;n&&(o=gs(o)),r.parse(o)}var a=e.bytes;n&&(a=gs(a)),r.parse(a),r.flush()},n.updateTimeMapping_=function(e,t,n){var r=e.segment;if(t)if(e.cues.length){var i=e.timestampmap,o=i.MPEGTS/Se.ONE_SECOND_IN_TS-i.LOCAL+t.mapping;e.cues.forEach((function(e){e.startTime+=o,e.endTime+=o})),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(e.cues[0].startTime,e.cues[e.cues.length-1].startTime-r.duration)})}else r.empty=!0},t}(Za),bs=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},As=[{name:"VOD",run:function(e,t,n,r,i){return n!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(e,t,n,r,i){if(!e.datetimeToDisplayTime)return null;var o=t.segments||[],a=null,s=null;i=i||0;for(var c=0;c<o.length;c++){var u=o[c];if(u.dateTimeObject){var l=u.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,p=Math.abs(i-l);if(null!==s&&(0===p||s<p))break;s=p,a={time:l,segmentIndex:c}}}return a}},{name:"Segment",run:function(e,t,n,r,i){var o=t.segments||[],a=null,s=null;i=i||0;for(var c=0;c<o.length;c++){var u=o[c];if(u.timeline===r&&void 0!==u.start){var l=Math.abs(i-u.start);if(null!==s&&s<l)break;(!a||null===s||s>=l)&&(s=l,a={time:u.start,segmentIndex:c})}}return a}},{name:"Discontinuity",run:function(e,t,n,r,i){var o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var a=null,s=0;s<t.discontinuityStarts.length;s++){var c=t.discontinuityStarts[s],u=e.discontinuities[t.discontinuitySequence+s+1];if(u){var l=Math.abs(i-u.time);if(null!==a&&a<l)break;(!o||null===a||a>=l)&&(a=l,o={time:u.time,segmentIndex:c})}}return o}},{name:"Playlist",run:function(e,t,n,r,i){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],xs=function(e){function t(t){var n;return(n=e.call(this)||this).timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=La("SyncController"),n}d()(t,e);var n=t.prototype;return n.getSyncPoint=function(e,t,n,r){var i=this.runStrategies_(e,t,n,r);return i.length?this.selectSyncPoint_(i,{key:"time",value:r}):null},n.getExpiredTime=function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+Lo(e,r.segmentIndex,0))},n.runStrategies_=function(e,t,n,r){for(var i=[],o=0;o<As.length;o++){var a=As[o],s=a.run(this,e,t,n,r);s&&(s.strategy=a.name,i.push({strategy:a.name,syncPoint:s}))}return i},n.selectSyncPoint_=function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),i=e[0].strategy,o=1;o<e.length;o++){var a=Math.abs(e[o].syncPoint[t.key]-t.value);a<r&&(r=a,n=e[o].syncPoint,i=e[o].strategy)}return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy ["+i+"]: [time:"+n.time+", segmentIndex:"+n.segmentIndex+"]"),n},n.saveExpiredSegmentInfo=function(e,t){for(var n=t.mediaSequence-e.mediaSequence-1;n>=0;n--){var r=e.segments[n];if(r&&void 0!==r.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:r.start},this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+", mediaSequence: "+t.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},n.setDateTimeMapping=function(e){if(!this.datetimeToDisplayTime&&e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var t=e.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}},n.saveSegmentTimingInfo=function(e){var t=e.segmentInfo;this.calculateSegmentTimeMapping_(t,t.timingInfo,e.shouldSaveTimelineMapping)&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:t.segment.start}))},n.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},n.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},n.calculateSegmentTimeMapping_=function(e,t,n){var r=e.segment,i=this.timelines[e.timeline];if(null!==e.timestampOffset)i={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+i.time+"] [mapping: "+i.mapping+"]")),r.start=e.startOfSegment,r.end=t.end+i.mapping;else{if(!i)return!1;r.start=t.start+i.mapping,r.end=t.end+i.mapping}return!0},n.saveDiscontinuitySyncInfo_=function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var i,o=t.discontinuityStarts[r],a=t.discontinuitySequence+r+1,s=o-e.mediaIndex,c=Math.abs(s);(!this.discontinuities[a]||this.discontinuities[a].accuracy>c)&&(i=s<0?n.start-Lo(t,e.mediaIndex,o):n.end+Lo(t,e.mediaIndex+1,o),this.discontinuities[a]={time:i,accuracy:c})}},n.dispose=function(){this.trigger("dispose"),this.off()},t}(fo.EventTarget),ws=function(e){function t(){var t;return(t=e.call(this)||this).pendingTimelineChanges_={},t.lastTimelineChanges_={},t}d()(t,e);var n=t.prototype;return n.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},n.pendingTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"==typeof n&&"number"==typeof r&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]},n.lastTimelineChange=function(e){var t=e.type,n=e.from,r=e.to;return"number"==typeof n&&"number"==typeof r&&(this.lastTimelineChanges_[t]={type:t,from:n,to:r},delete this.pendingTimelineChanges_[t],this.trigger("timelinechange")),this.lastTimelineChanges_[t]},n.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(fo.EventTarget),_s=new Ma("./decrypter-worker.worker.js",(function(e,t){var n=this;!function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}(),r=null,i=function(){function e(e){var t,n,i;r||(r=function(){var e,t,n,r,i,o,a,s,c=[[[],[],[],[],[]],[[],[],[],[],[]]],u=c[0],l=c[1],p=u[4],d=l[4],h=[],f=[];for(e=0;e<256;e++)f[(h[e]=e<<1^283*(e>>7))^e]=e;for(t=n=0;!p[t];t^=r||1,n=f[n]||1)for(p[t]=o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,d[o]=t,s=16843009*h[i=h[r=h[t]]]^65537*i^257*r^16843008*t,a=257*h[o]^16843008*o,e=0;e<4;e++)u[e][t]=a=a<<24^a>>>8,l[e][o]=s=s<<24^s>>>8;for(e=0;e<5;e++)u[e]=u[e].slice(0),l[e]=l[e].slice(0);return c}()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];var o=this._tables[0][4],a=this._tables[1],s=e.length,c=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var u=e.slice(0),l=[];for(this._key=[u,l],t=s;t<4*s+28;t++)i=u[t-1],(t%s==0||8===s&&t%s==4)&&(i=o[i>>>24]<<24^o[i>>16&255]<<16^o[i>>8&255]<<8^o[255&i],t%s==0&&(i=i<<8^i>>>24^c<<24,c=c<<1^283*(c>>7))),u[t]=u[t-s]^i;for(n=0;t;n++,t--)i=u[3&n?t:t-4],l[n]=t<=4||n<4?i:a[0][o[i>>>24]]^a[1][o[i>>16&255]]^a[2][o[i>>8&255]]^a[3][o[255&i]]}return e.prototype.decrypt=function(e,t,n,r,i,o){var a,s,c,u,l=this._key[1],p=e^l[0],d=r^l[1],h=n^l[2],f=t^l[3],m=l.length/4-2,g=4,y=this._tables[1],v=y[0],b=y[1],A=y[2],x=y[3],w=y[4];for(u=0;u<m;u++)a=v[p>>>24]^b[d>>16&255]^A[h>>8&255]^x[255&f]^l[g],s=v[d>>>24]^b[h>>16&255]^A[f>>8&255]^x[255&p]^l[g+1],c=v[h>>>24]^b[f>>16&255]^A[p>>8&255]^x[255&d]^l[g+2],f=v[f>>>24]^b[p>>16&255]^A[d>>8&255]^x[255&h]^l[g+3],g+=4,p=a,d=s,h=c;for(u=0;u<4;u++)i[(3&-u)+o]=w[p>>>24]<<24^w[d>>16&255]<<16^w[h>>8&255]<<8^w[255&f]^l[g++],a=p,p=d,d=h,h=f,f=a},e}(),o=function(e){function n(){var n;return(n=e.call(this,t)||this).jobs=[],n.delay=1,n.timeout_=null,n}var r,i;i=e,(r=n).prototype=Object.create(i.prototype),r.prototype.constructor=r,r.__proto__=i;var o=n.prototype;return o.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},o.push=function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},n}(t),a=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},s=function(){function t(e,n,r,i){var s=t.STEP,c=new Int32Array(e.buffer),u=new Uint8Array(e.byteLength),l=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(c.subarray(l,l+s),n,r,u)),l=s;l<c.length;l+=s)r=new Uint32Array([a(c[l-4]),a(c[l-3]),a(c[l-2]),a(c[l-1])]),this.asyncStream_.push(this.decryptChunk_(c.subarray(l,l+s),n,r,u));this.asyncStream_.push((function(){var e;i(null,(e=u).subarray(0,e.byteLength-e[e.byteLength-1]))}))}return t.prototype.decryptChunk_=function(e,t,n,r){return function(){var o=function(e,t,n){var r,o,s,c,u,l,p,d,h,f=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),m=new i(Array.prototype.slice.call(t)),g=new Uint8Array(e.byteLength),y=new Int32Array(g.buffer);for(r=n[0],o=n[1],s=n[2],c=n[3],h=0;h<f.length;h+=4)u=a(f[h]),l=a(f[h+1]),p=a(f[h+2]),d=a(f[h+3]),m.decrypt(u,l,p,d,y,h),y[h]=a(y[h]^r),y[h+1]=a(y[h+1]^o),y[h+2]=a(y[h+2]^s),y[h+3]=a(y[h+3]^c),r=u,o=l,s=p,c=d;return g}(e,t,n);r.set(o,e.byteOffset)}},n=t,(r=[{key:"STEP",get:function(){return 32e3}}])&&e(n,r),t;var n,r}();new function(e){e.onmessage=function(t){var n=t.data,r=new Uint8Array(n.encrypted.bytes,n.encrypted.byteOffset,n.encrypted.byteLength),i=new Uint32Array(n.key.bytes,n.key.byteOffset,n.key.byteLength/4),o=new Uint32Array(n.iv.bytes,n.iv.byteOffset,n.iv.byteLength/4);new s(r,i,o,(function(t,r){var i,o;e.postMessage((i={source:n.source,decrypted:r},o={},Object.keys(i).forEach((function(e){var t=i[e];o[e]=ArrayBuffer.isView(t)?{bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:t})),o),[r.buffer])}))}}(n)}()})),Ss=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Ts=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},Ps=function(e,t){t.activePlaylistLoader=e,e.load()},Cs={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e],r=t.blacklistCurrentPlaylist;Ts(t.segmentLoaders[e],n);var i=n.activeTrack(),o=n.activeGroup(),a=(o.filter((function(e){return e.default}))[0]||o[0]).id,s=n.tracks[a];if(i!==s){for(var c in fo.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[c].enabled=n.tracks[c]===s;n.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];fo.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Ts(n,r);var i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}}},Es={AUDIO:function(e,t,n){if(t){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,i),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),i),r.paused()||o.load()})),t.on("error",Cs[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,i=n.requestOptions,o=n.segmentLoaders[e],a=n.mediaTypes[e];t.on("loadedmetadata",(function(){var e=t.media();o.playlist(e,i),o.track(a.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&o.load()})),t.on("loadedplaylist",(function(){o.playlist(t.media(),i),r.paused()||o.load()})),t.on("error",Cs[e](e,n))}},ks={AUDIO:function(e,t){var n=t.vhs,r=t.sourceType,i=t.segmentLoaders[e],o=t.requestOptions,a=t.master,s=a.mediaGroups,c=a.playlists,u=t.mediaTypes[e],l=u.groups,p=u.tracks,d=t.masterPlaylistLoader;s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}});var h=function(i){l[i]||(l[i]=[]);var a=c.filter((function(t){return t.attributes[e]===i})),u=function(c){var u,h=s[e][i][c];if(a.filter((function(e){return e.resolvedUri===h.resolvedUri})).length&&delete h.resolvedUri,u="vhs-json"===r&&h.playlists?new Oo(h.playlists[0],n,o):h.resolvedUri?new Oo(h.resolvedUri,n,o):h.playlists&&"dash"===r?new fa(h.playlists[0],n,o,d):null,h=fo.mergeOptions({id:c,playlistLoader:u},h),Es[e](e,h.playlistLoader,t),l[i].push(h),void 0===p[c]){var f=new fo.AudioTrack({id:c,kind:Ss(h),enabled:!1,language:h.language,default:h.default,label:c});p[c]=f}};for(var h in s[e][i])u(h)};for(var f in s[e])h(f);i.on("error",Cs[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.vhs,i=t.sourceType,o=t.segmentLoaders[e],a=t.requestOptions,s=t.master.mediaGroups,c=t.mediaTypes[e],u=c.groups,l=c.tracks,p=t.masterPlaylistLoader;for(var d in s[e])for(var h in u[d]||(u[d]=[]),s[e][d])if(!s[e][d][h].forced){var f=s[e][d][h],m=void 0;if("hls"===i?m=new Oo(f.resolvedUri,r,a):"dash"===i?m=new fa(f.playlists[0],r,a,p):"vhs-json"===i&&(m=new Oo(f.playlists?f.playlists[0]:f.resolvedUri,r,a)),f=fo.mergeOptions({id:h,playlistLoader:m},f),Es[e](e,f.playlistLoader,t),u[d].push(f),void 0===l[h]){var g=n.addRemoteTextTrack({id:h,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:h},!1).track;l[h]=g}}o.on("error",Cs[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,i=t.mediaTypes[e],o=i.groups,a=i.tracks;for(var s in r[e])for(var c in o[s]||(o[s]=[]),r[e][s]){var u=r[e][s][c];if(u.instreamId.match(/CC\d/)&&(o[s].push(fo.mergeOptions({id:c},u)),void 0===a[c])){var l=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default&&u.autoselect,language:u.language,label:c},!1).track;a[c]=l}}}},Os={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode||"hidden"===n[r].mode)return n[r];return null}}},Ms=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Ns=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Is=function(e){function t(t){var n;n=e.call(this)||this;var r,o=t.src,a=t.handleManifestRedirects,s=t.withCredentials,c=t.tech,u=t.bandwidth,p=t.externVhs,d=t.useCueTags,h=t.blacklistDuration,f=t.enableLowInitialPlaylist,m=t.sourceType,g=t.cacheEncryptionKeys,y=t.handlePartialData;if(!o)throw new Error("A non-empty playlist URL or JSON manifest string is required");Ja=p,n.withCredentials=s,n.tech_=c,n.vhs_=c.vhs,n.sourceType_=m,n.useCueTags_=d,n.blacklistDuration=h,n.enableLowInitialPlaylist=f,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:s,handleManifestRedirects:a,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=(r={},["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){r[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Qa,activeTrack:Qa,onGroupChanged:Qa,onTrackChanged:Qa}})),r),n.mediaSource=new i.a.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(l()(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(l()(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(l()(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=fo.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new xs(t),n.segmentMetadataTrack_=c.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new _s,n.sourceUpdater_=new ms(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new ws;var v={vhs:n.vhs_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:u,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:g,handlePartialData:y,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_};return n.masterPlaylistLoader_="dash"===n.sourceType_?new fa(o,n.vhs_,n.requestOptions_):new Oo(o,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Za(fo.mergeOptions(v,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),t),n.audioSegmentLoader_=new Za(fo.mergeOptions(v,{loaderType:"audio"}),t),n.subtitleSegmentLoader_=new vs(fo.mergeOptions(v,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),t),n.setupSegmentLoaderListeners_(),Ms.forEach((function(e){n[e+"_"]=Ns.bind(l()(n),e)})),n.logger_=La("MPC"),n.triggeredFmp4Usage=!1,n.masterPlaylistLoader_.load(),n}d()(t,e);var n=t.prototype;return n.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;e.requestOptions_.timeout=qo(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?0:n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){ks[t](t,e)}));var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,i=e.vhs;["AUDIO","SUBTITLES"].forEach((function(n){t[n].activeGroup=function(e,t){return function(n){var r=t.mediaTypes[e].groups,i=t.masterPlaylistLoader.media();if(!i)return null;var o=null;return i.attributes[e]&&(o=r[i.attributes[e]]),o=o||r.main,void 0===n?o:null===n?null:o.filter((function(e){return e.id===n.id}))[0]||null}}(n,e),t[n].activeTrack=Os[n](n,e),t[n].onGroupChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),c=o.activePlaylistLoader;Ts(r,o),s&&(s.playlistLoader?(r.resyncLoader(),Ps(s.playlistLoader,o)):c&&i.resetEverything())}}(n,e),t[n].onGroupChanging=function(e,t){return function(){var n=t.segmentLoaders[e];n.abort(),n.pause()}}(n,e),t[n].onTrackChanged=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],i=n.main,o=t.mediaTypes[e],a=o.activeTrack(),s=o.activeGroup(a),c=o.activePlaylistLoader;if(Ts(r,o),s){if("AUDIO"===e){if(!s.playlistLoader)return i.setAudio(!0),void i.resetEverything();r.setAudio(!0),i.setAudio(!1)}c!==s.playlistLoader?(r.track&&r.track(a),r.resetEverything(),Ps(s.playlistLoader,o)):Ps(s.playlistLoader,o)}}}(n,e)}));var o=t.AUDIO.activeGroup();if(o){var a=(o.filter((function(e){return e.default}))[0]||o[0]).id;t.AUDIO.tracks[a].enabled=!0,t.AUDIO.onTrackChanged()}n.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanged()}))})),n.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(e){return t[e].onGroupChanging()}))}));var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"}),r.trigger({type:"usage",name:"hls-audio-change"})};for(var c in r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",(function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),r.clearTracks("audio"),t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[c])}({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){e.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var t=e.masterPlaylistLoader_.media();if(!t){var n;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,e.masterPlaylistLoader_.media(e.initialMedia_),"vhs-json"!==e.sourceType_||!e.initialMedia_.segments)return;t=e.initialMedia_}e.handleUpdatedMediaPlaylist(t)})),this.masterPlaylistLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var t=e.masterPlaylistLoader_.media(),n=1.5*t.targetDuration*1e3;e.requestOptions_.timeout=qo(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?0:n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=e.masterPlaylistLoader_.media();e.stuckAtPlaylistEnd_(t)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(e,t){var n=e.mediaGroups||{},r=!0,i=Object.keys(n.AUDIO);for(var o in n.AUDIO)for(var a in n.AUDIO[o])n.AUDIO[o][a].uri||(r=!1);r&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(n.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Ja.Playlist.isAes(t)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),i.length&&Object.keys(n.AUDIO[i[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.setupSegmentLoaderListeners_=function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),r=e.tech_.buffered();(function(e){var t=e.currentPlaylist,n=e.nextPlaylist;return n?!t.endList||e.duration<ma.MAX_BUFFER_LOW_WATER_LINE||n.attributes.BANDWIDTH<t.attributes.BANDWIDTH||e.forwardBuffer>=e.bufferLowWaterLine:(fo.log.warn("We received no playlist to switch to. Please check your stream."),!1)})({currentPlaylist:n,nextPlaylist:t,forwardBuffer:r.length?r.end(r.length-1)-e.tech_.currentTime():0,bufferLowWaterLine:e.bufferLowWaterLine(),duration:e.duration(),log:e.logger_})&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){e.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){e.logger_("main segment loader ended"),e.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}));var t=function(){if(!e.sourceUpdater_.ready())return e.tryToCreateSourceBuffers_();var t=e.getCodecsOrExclude_();t&&e.sourceUpdater_.addOrChangeSourceBuffers(t)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())},n.fastQualityChange_=function(e){var t=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything((function(){t.tech_.setCurrentTime(fo.browser.IE_VERSION||fo.browser.IS_EDGE?t.tech_.currentTime()+.04:t.tech_.currentTime())})))},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}},n.setupFirstPlay=function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList){var n=this.seekable();if(!n.length)return!1;if(fo.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){e.trigger("firstplay"),e.tech_.setCurrentTime(n.end(0)),e.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(n.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(function(e){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),e&&this.sourceUpdater_.endOfStream()},n.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;var n=Ja.Playlist.playlistEnd(e,t),r=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return n-r<=.1;var o=i.end(i.length-1);return o-r<=.1&&n-o<=.1},n.blacklistCurrentPlaylist=function(e,t){void 0===e&&(e={});var n=e.playlist||this.masterPlaylistLoader_.media();if(t=t||e.blacklistDuration||this.blacklistDuration,!n)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var r=this.masterPlaylistLoader_.master.playlists,i=r.filter(Ho),o=1===i.length&&i[0]===n;if(1===r.length&&t!==1/0)return fo.log.warn("Problem encountered with playlist "+n.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);if(o){var a=!1;r.forEach((function(e){if(e!==n){var t=e.excludeUntil;void 0!==t&&t!==1/0&&(a=!0,delete e.excludeUntil)}})),a&&(fo.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var s=this.selectPlaylist();return s?((e.internal?this.logger_:fo.log.warn)((e.internal?"Internal problem":"Problem")+" encountered with playlist "+n.id+"."+(e.message?" "+e.message:"")+" Switching to playlist "+s.id+"."),s.attributes.AUDIO!==n.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),s.attributes.SUBTITLES!==n.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),this.masterPlaylistLoader_.media(s,o)):(this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error"))},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"])},n.delegateLoaders_=function(e,t){var n=this,r=[],i="all"===e;(i||"main"===e)&&r.push(this.masterPlaylistLoader_);var o=[];(i||"audio"===e)&&o.push("AUDIO"),(i||"subtitle"===e)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(e){var t=n.mediaTypes_[e]&&n.mediaTypes_[e].activePlaylistLoader;t&&r.push(t)})),["main","audio","subtitle"].forEach((function(t){var i=n[t+"SegmentLoader_"];!i||e!==t&&"all"!==e||r.push(i)})),r.forEach((function(e){return t.forEach((function(t){"function"==typeof e[t]&&e[t]()}))}))},n.setCurrentTime=function(e){var t=No(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Ja.Playlist.duration(e):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var t=this.masterPlaylistLoader_.media();if(t){var n=this.syncController_.getExpiredTime(t,this.duration());if(null!==n){var r=this.masterPlaylistLoader_.master.suggestedPresentationDelay,i=Ja.Playlist.seekable(t,n,r);if(0!==i.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(t,this.duration())))return;if(0===(e=Ja.Playlist.seekable(t,n,r)).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),this.seekable_=e?e.start(0)>i.end(0)||i.start(0)>e.end(0)?i:fo.createTimeRanges([[e.start(0)>i.start(0)?e.start(0):i.start(0),e.end(0)<i.end(0)?e.end(0):i.end(0)]]):i,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Do(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var t=this.seekable();if(!t.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<t.end(t.length-1))&&this.sourceUpdater_.setDuration(t.end(t.length-1))}else{var n=this.tech_.buffered(),r=Ja.Playlist.duration(this.masterPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}},n.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach((function(e){e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){return!(!this.mainSegmentLoader_.currentMediaInfo_||this.mediaTypes_.AUDIO.activePlaylistLoader&&!this.audioSegmentLoader_.currentMediaInfo_)},n.getCodecsOrExclude_=function(){var e=this,t={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};t.video=t.main;var n=Fa(this.master(),this.media()),r={},i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=n.video||t.main.videoCodec||Ce.DEFAULT_VIDEO_CODEC),t.main.isMuxed&&(r.video+=","+(n.audio||t.main.audioCodec||Ce.DEFAULT_AUDIO_CODEC)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||i)&&(r.audio=n.audio||t.main.audioCodec||t.audio.audioCodec||Ce.DEFAULT_AUDIO_CODEC,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),r.audio||r.video){var o,a={};if(["video","audio"].forEach((function(e){if(r.hasOwnProperty(e)&&(i=r[e],!(t[e].isFmp4?Object(Ce.browserSupportsCodec)(i):Object(Ce.muxerSupportsCodec)(i)))){var n=t[e].isFmp4?"browser":"muxer";a[n]=a[n]||[],a[n].push(r[e]),"audio"===e&&(o=n)}var i})),i&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(t){(t.attributes&&t.attributes.AUDIO)===s&&t!==e.media()&&(t.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+r.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.ready()&&!this.sourceUpdater_.canChangeType()){var c=[];if(["video","audio"].forEach((function(t){var n=(Object(Ce.parseCodecs)(e.sourceUpdater_.codecs[t]||"")[t]||{}).type,i=(Object(Ce.parseCodecs)(r[t]||"")[t]||{}).type;n&&i&&n.toLowerCase()!==i.toLowerCase()&&c.push('"'+e.sourceUpdater_.codecs[t]+'" -> "'+r[t]+'"')})),c.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+c.join(", ")+".",blacklistDuration:1/0,internal:!0})}return r}var u=Object.keys(a).reduce((function(e,t){return e&&(e+=", "),e+(t+' does not support codec(s): "')+a[t].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:u,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.ready()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}}},n.excludeUnsupportedVariants_=function(){var e=this;this.master().playlists.forEach((function(t){var n=Fa(e.master,t);!n.audio||Object(Ce.muxerSupportsCodec)(n.audio)||Object(Ce.browserSupportsCodec)(n.audio)||(t.excludeUntil=1/0),!n.video||Object(Ce.muxerSupportsCodec)(n.video)||Object(Ce.browserSupportsCodec)(n.video)||(t.excludeUntil=1/0)}))},n.excludeIncompatibleVariants_=function(e){var t=this,n=Object(Ce.parseCodecs)(e),r=Object.keys(n).length;this.master().playlists.forEach((function(e){if(e.excludeUntil!==1/0){var i={},o=2,a=[],s=Fa(t.masterPlaylistLoader_.master,e);if(s.audio||s.video){var c=[s.video,s.audio].filter(Boolean).join(",");i=Object(Ce.parseCodecs)(c),o=Object.keys(i).length}o!==r&&(a.push('codec count "'+o+'" !== "'+r+'"'),e.excludeUntil=1/0),t.sourceUpdater_.canChangeType()||(i.video&&n.video&&i.video.type.toLowerCase()!==n.video.type.toLowerCase()&&(a.push('video codec "'+i.video.type+'" !== "'+n.video.type+'"'),e.excludeUntil=1/0),i.audio&&n.audio&&i.audio.type.toLowerCase()!==n.audio.type.toLowerCase()&&(e.excludeUntil=1/0,a.push('audio codec "'+i.audio.type+'" !== "'+n.audio.type+'"'))),a.length&&t.logger_("blacklisting "+e.id+": "+a.join(" && "))}}))},n.updateAdCues_=function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n){if(void 0===n&&(n=0),e.segments)for(var r,o=n,a=0;a<e.segments.length;a++){var s=e.segments[a];if(r||(r=bs(t,o+s.duration/2)),r){if("cueIn"in s){r.endTime=o,r.adEndTime=o,o+=s.duration,r=null;continue}if(o<r.endTime){o+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new i.a.VTTCue(o,o+s.duration,s.cueOut)).adStartTime=o,r.adEndTime=o+parseFloat(s.cueOut),t.addCue(r)),"cueOutCont"in s){var c=s.cueOutCont.split("/").map(parseFloat),u=c[0],l=c[1];(r=new i.a.VTTCue(o,o+s.duration,"")).adStartTime=o-u,r.adEndTime=r.adStartTime+l,t.addCue(r)}o+=s.duration}}(e,this.cueTagsTrack_,t)},n.goalBufferLength=function(){var e=this.tech_.currentTime(),t=ma.GOAL_BUFFER_LENGTH,n=ma.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,ma.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)},n.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),t=ma.BUFFER_LOW_WATER_LINE,n=ma.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,ma.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,r)},t}(fo.EventTarget),Ds=function(e,t,n){var r,i,o,a=e.masterPlaylistController_,s=a[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(t.attributes.RESOLUTION){var c=t.attributes.RESOLUTION;this.width=c.width,this.height=c.height}this.bandwidth=t.attributes.BANDWIDTH,this.codecs=Fa(a.master(),t),this.playlist=t,this.id=n,this.enabled=(r=e.playlists,i=t.id,o=s,function(e){var t=r.master.playlists[i],n=Wo(t),a=Ho(t);return void 0===e?a:(e?delete t.disabled:t.disabled=!0,e===a||n||(o(),r.trigger(e?"renditionenabled":"renditiondisabled")),e)})},Rs=["seeking","seeked","pause","playing","error"],js=function(){function e(e){var t=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=La("PlaybackWatcher"),this.logger_("initialize");var n=function(){return t.monitorCurrentTime_()},r=function(){return t.techWaiting_()},o=function(){return t.cancelTimer_()},a=function(){return t.fixesBadSeeks_()},s=this.masterPlaylistController_,c=["main","subtitle","audio"],u={};c.forEach((function(e){u[e]={reset:function(){return t.resetSegmentDownloads_(e)},updateend:function(){return t.checkSegmentDownloads_(e)}},s[e+"SegmentLoader_"].on("appendsdone",u[e].updateend),s[e+"SegmentLoader_"].on("playlistupdate",u[e].reset),t.tech_.on(["seeked","seeking"],u[e].reset)})),this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(Rs,o),this.tech_.on("canplay",n),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",a),t.tech_.off("waiting",r),t.tech_.off(Rs,o),t.tech_.off("canplay",n),c.forEach((function(e){s[e+"SegmentLoader_"].off("appendsdone",u[e].updateend),s[e+"SegmentLoader_"].off("playlistupdate",u[e].reset),t.tech_.off(["seeked","seeking"],u[e].reset)})),t.checkCurrentTimeTimeout_&&i.a.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}var t=e.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&i.a.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=i.a.setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(e){var t=this.masterPlaylistController_[e+"SegmentLoader_"];this[e+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+e+" loader"),this[e+"StalledDownloads_"]=0,this[e+"Buffered_"]=t.buffered_()},t.checkSegmentDownloads_=function(e){var t=this.masterPlaylistController_,n=t[e+"SegmentLoader_"],r=n.buffered_(),i=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[e+"Buffered_"],r);if(this[e+"Buffered_"]=r,i)this.resetSegmentDownloads_(e);else if(this[e+"StalledDownloads_"]++,this.logger_("found #"+this[e+"StalledDownloads_"]+" "+e+" appends that did not increase buffer (possible stalled download)",{playlistId:n.playlist_&&n.playlist_.id,buffered:Ro(r)}),!(this[e+"StalledDownloads_"]<10)){if(this.logger_(e+" loader stalled download exclusion"),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:"vhs-"+e+"-download-exclusion"}),"subtitle"===e){var o=n.track();return fo.log.warn('Text track "'+(o.label||o.language||"Unknown")+'" is not working correctly. It will be disabled and excluded.'),o.mode="disabled",void this.tech_.textTracks().removeTrack(o)}t.blacklistCurrentPlaylist({message:"Excessive "+e+" segment downloading detected."},1/0)}},t.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+.1>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var e,t=this.seekable(),n=this.tech_.currentTime();if(this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(e=t.end(t.length-1)),this.beforeSeekableWindow_(t,n)){var r=t.start(0);e=r+(r===t.end(0)?0:.1)}if(void 0!==e)return this.logger_("Trying to seek outside of seekable at time "+n+" with seekable range "+Do(t)+". Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0;var i=this.tech_.buffered();return!!function(e){var t=e.buffered,n=e.targetDuration,r=e.currentTime;return!(!t.length||t.end(0)-t.start(0)<2*n||r>t.start(0)||!(t.start(0)-r<n))}({buffered:i,targetDuration:this.media().targetDuration,currentTime:n})&&(e=i.start(0)+.1,this.logger_("Buffered region starts ("+i.start(0)+")  just beyond seek point ("+n+"). Seeking to "+e+"."),this.tech_.setCurrentTime(e),!0)},t.waiting_=function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=No(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},t.techWaiting_=function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=Io(i,t);if(o.length>0){var a=o.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1},t.afterSeekableWindow_=function(e,t,n,r){if(void 0===r&&(r=!1),!e.length)return!1;var i=e.end(e.length-1)+.1;return!n.endList&&r&&(i=e.end(e.length-1)+3*n.targetDuration),t>i},t.beforeSeekableWindow_=function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-.1)},t.videoUnderflow_=function(e){var t=e.videoBuffered,n=e.audioBuffered,r=e.currentTime;if(t){var i;if(t.length&&n.length){var o=No(t,r-3),a=No(t,r),s=No(n,r);s.length&&!a.length&&o.length&&(i={start:o.end(0),end:s.end(0)})}else Io(t,r).length||(i=this.gapFromVideoUnderflow_(t,r));return!!i&&(this.logger_("Encountered a gap in video from "+i.start+" to "+i.end+". Seeking to current time "+r),!0)}},t.skipTheGap_=function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=Io(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+1/30),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(e,t){for(var n=function(e){if(e.length<2)return fo.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),i=e.start(n);t.push([r,i])}return fo.createTimeRanges(t)}(e),r=0;r<n.length;r++){var i=n.start(r),o=n.end(r);if(t-i<4&&t-i>2)return{start:i,end:o}}return null},e}(),Bs={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Fs=function(e){!function e(t,n){var r=0,i=0,o=fo.mergeOptions(Bs,n);t.ready((function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){i&&t.currentTime(i)},s=function(e){null!=e&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(e),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},c=function(){return Date.now()-r<1e3*o.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(r=Date.now(),o.getSource.call(t,s)):void fo.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},u=function e(){t.off("loadedmetadata",a),t.off("error",c),t.off("dispose",e)};t.on("error",c),t.on("dispose",u),t.reloadSourceOnError=function(n){u(),e(t,n)}}(this,e)},Ls={PlaylistLoader:Oo,Playlist:Xo,utils:aa,STANDARD_PLAYLIST_SELECTOR:function(){var e=this.useDevicePixelRatio&&i.a.devicePixelRatio||1;return function(e,t,n,r,o){var a={bandwidth:t,width:n,height:r,limitRenditionByPlayerDimensions:o},s=e.playlists.map((function(e){return{bandwidth:e.attributes.BANDWIDTH||i.a.Number.MAX_VALUE,width:e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,height:e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,playlist:e}}));Wa(s,(function(e,t){return e.bandwidth-t.bandwidth}));var c=(s=s.filter((function(e){return!Xo.isIncompatible(e.playlist)}))).filter((function(e){return Xo.isEnabled(e.playlist)}));c.length||(c=s.filter((function(e){return!Xo.isDisabled(e.playlist)})));var u=c.filter((function(e){return e.bandwidth*ma.BANDWIDTH_VARIANCE<t})),l=u[u.length-1],p=u.filter((function(e){return e.bandwidth===l.bandwidth}))[0];if(!1===o){var d=p||c[0]||s[0];if(d&&d.playlist){var h="sortedPlaylistReps";return p&&(h="bandwidthBestRep"),c[0]&&(h="enabledPlaylistReps"),Ua("choosing "+za(d)+" using "+h+" with options",a),d.playlist}return Ua("could not choose a playlist with options",a),null}var f=u.filter((function(e){return e.width&&e.height}));Wa(f,(function(e,t){return e.width-t.width}));var m=f.filter((function(e){return e.width===n&&e.height===r}));l=m[m.length-1];var g,y,v,b=m.filter((function(e){return e.bandwidth===l.bandwidth}))[0];b||(y=(g=f.filter((function(e){return e.width>n||e.height>r}))).filter((function(e){return e.width===g[0].width&&e.height===g[0].height})),l=y[y.length-1],v=y.filter((function(e){return e.bandwidth===l.bandwidth}))[0]);var A=v||b||p||c[0]||s[0];if(A&&A.playlist){var x="sortedPlaylistReps";return v?x="resolutionPlusOneRep":b?x="resolutionBestRep":p?x="bandwidthBestRep":c[0]&&(x="enabledPlaylistReps"),Ua("choosing "+za(A)+" using "+x+" with options",a),A.playlist}return Ua("could not choose a playlist with options",a),null}(this.playlists.master,this.systemBandwidth,parseInt(Va(this.tech_.el(),"width"),10)*e,parseInt(Va(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var e=this,t=this.playlists.master.playlists.filter(Xo.isEnabled);return Wa(t,(function(e,t){return Ha(e,t)})),t.filter((function(t){return!!Fa(e.playlists.master,t).video}))[0]||null},comparePlaylistBandwidth:Ha,comparePlaylistResolution:function(e,t){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),(n=n||i.a.Number.MAX_VALUE)===(r=r||i.a.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r},xhr:Qo()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","BACK_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(e){Object.defineProperty(Ls,e,{get:function(){return fo.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),ma[e]},set:function(t){fo.log.warn("using Vhs."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?fo.log.warn("value of Vhs."+e+" must be greater than or equal to 0"):ma[e]=t}})}));var Us=function(e,t){for(var n=t.media(),r=-1,i=0;i<e.length;i++)if(e[i].id===n.id){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})};Ls.canPlaySource=function(){return fo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var zs=function(){if(!i.a.localStorage)return null;var e=i.a.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(Hs){return null}};Ls.supportsNativeHls=function(){if(!a.a||!a.a.createElement)return!1;var e=a.a.createElement("video");return!!fo.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),Ls.supportsNativeDash=!!(a.a&&a.a.createElement&&fo.getTech("Html5").isSupported())&&/maybe|probably/i.test(a.a.createElement("video").canPlayType("application/dash+xml")),Ls.supportsTypeNatively=function(e){return"hls"===e?Ls.supportsNativeHls:"dash"===e&&Ls.supportsNativeDash},Ls.isSupported=function(){return fo.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Vs=function(e){function t(t,n,r){var i;if(i=e.call(this,n,fo.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&fo.log.warn("Using hls options is deprecated. Use vhs instead."),n.options_&&n.options_.playerId){var o=fo(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return fo.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),l()(i)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return fo.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),l()(i)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return fo.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),l()(i)},configurable:!0}),i.player_=o}if(i.tech_=n,i.source_=t,i.stats={},i.ignoreNextSeekingEvent_=!1,i.setOptions_(),i.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(i.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return i.on(a.a,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(e){var t=a.a.fullscreenElement||a.a.webkitFullscreenElement||a.a.mozFullScreenElement||a.a.msFullscreenElement;t&&t.contains(i.tech_.el())&&i.masterPlaylistController_.smoothQualityChange_()})),i.on(i.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),i.on(i.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),i.on(i.tech_,"play",i.play),i}d()(t,e);var n=t.prototype;return n.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var t=zs();t&&t.bandwidth&&(this.options_.bandwidth=t.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),t&&t.throughput&&(this.options_.throughput=t.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=ma.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ma.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData"].forEach((function(t){void 0!==e.source_[t]&&(e.options_[t]=e.source_[t])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},n.src=function(e,t){var n,r=this;e&&(this.setOptions_(),this.options_.src=0===(n=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n,this.options_.tech=this.tech_,this.options_.externVhs=Ls,this.options_.sourceType=Object(R.simpleTypeFromSourceType)(t),this.options_.seekTo=function(e){r.tech_.setCurrentTime(e)},this.masterPlaylistController_=new Is(this.options_),this.playbackWatcher_=new js(fo.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_})),this.masterPlaylistController_.on("error",(function(){var e=fo.players[r.tech_.options_.playerId],t=r.masterPlaylistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Ls.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Ls.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(this.throughput>0?1/this.throughput:0)))},set:function(){fo.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return Ro(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ro(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){r.options_.useBandwidthFromLocalStorage&&function(e){if(!i.a.localStorage)return!1;var t=zs();t=t?fo.mergeOptions(t,e):e;try{i.a.localStorage.setItem("videojs-vhs",JSON.stringify(t))}catch(Hs){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,t;t=(e=r).playlists,e.representations=function(){return t&&t.master&&t.master.playlists?t.master.playlists.filter((function(e){return!Wo(e)})).map((function(t,n){return new Ds(e,t,t.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("ready",(function(){var e,t,n,i,o,a,s,c,u=r.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;e={player:r.player_,sourceKeySystems:r.source_.keySystems,media:r.playlists.media(),audioMedia:u&&u.media(),mainPlaylists:r.playlists.master.playlists},i=e.player,s=e.mainPlaylists,(c=function(e,t,n){if(!e)return e;var r={video:t&&t.attributes&&t.attributes.CODECS,audio:n&&n.attributes&&n.attributes.CODECS};!r.audio&&r.video&&r.video.split(",").length>1&&r.video.split(",").forEach((function(e){e=e.trim(),Object(Ce.isAudioCodec)(e)?r.audio=e:Object(Ce.isVideoCodec)(e)&&(r.video=e)}));var i=r.video?'video/mp4;codecs="'+r.video+'"':null,o=r.audio?'audio/mp4;codecs="'+r.audio+'"':null,a={};for(var s in e)a[s]={audioContentType:o,videoContentType:i},t.contentProtection&&t.contentProtection[s]&&t.contentProtection[s].pssh&&(a[s].pssh=t.contentProtection[s].pssh),"string"==typeof e[s]&&(a[s].url=e[s]);return fo.mergeOptions(e,a)}(o=e.sourceKeySystems,e.media,a=e.audioMedia))&&(i.currentSource().keySystems=c,!c||i.eme?11!==fo.browser.IE_VERSION&&i.eme.initializeMediaKeys&&(t=a?s.concat([a]):s,n=Object.keys(o),t.reduce((function(e,t){if(!t.contentProtection)return e;var r=n.reduce((function(e,n){var r=t.contentProtection[n];return r&&r.pssh&&(e[n]={pssh:r.pssh}),e}),{});return Object.keys(r).length&&e.push(r),e}),[])).forEach((function(e){i.eme.initializeMediaKeys({keySystems:e})})):fo.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"))})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=i.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},n.setupQualityLevels_=function(){var e=this,t=fo.players[this.tech_.options_.playerId];t&&t.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,n;t=e.qualityLevels_,(n=e).representations().forEach((function(e){t.addQualityLevel(e)})),Us(t,n.playlists)})),this.playlists.on("mediachange",(function(){Us(e.qualityLevels_,e.playlists)})))},t.version=function(){return{"@videojs/http-streaming":"2.2.3","mux.js":"5.6.6","mpd-parser":"0.12.0","m3u8-parser":"4.4.3","aes-decrypter":"3.0.2"}},n.version=function(){return this.constructor.version()},n.canChangeType=function(){return ms.canChangeType()},n.play=function(){this.masterPlaylistController_.play()},n.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},n.duration=function(){return this.masterPlaylistController_.duration()},n.seekable=function(){return this.masterPlaylistController_.seekable()},n.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&i.a.URL.revokeObjectURL&&(i.a.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),e.prototype.dispose.call(this)},n.convertToProgramTime=function(e,t){return function(e){var t=e.playlist,n=e.time,r=void 0===n?void 0:n,i=e.callback;if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===r)return i({message:"getProgramTime: playlist and time must be provided"});var o=function(e,t){if(!t||!t.segments||0===t.segments.length)return null;for(var n,r=0,i=0;i<t.segments.length&&!(e<=(r=(n=t.segments[i]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration));i++);var o=t.segments[t.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+.25*o.duration)return null;n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(r,t);if(!o)return i({message:"valid programTime was not found"});if("estimate"===o.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:r},s=function(e,t){if(!t.dateTimeObject)return null;var n=e-(t.videoTimingInfo.transmuxedPresentationStart+t.videoTimingInfo.transmuxerPrependedSeconds);return new Date(t.dateTimeObject.getTime()+1e3*n)}(r,o.segment);return s&&(a.programDateTime=s.toISOString()),i(null,a)}({playlist:this.masterPlaylistController_.media(),time:e,callback:t})},n.seekToProgramTime=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=2),function e(t){var n=t.programTime,r=t.playlist,i=t.retryCount,o=void 0===i?2:i,a=t.seekTo,s=t.pauseAfterSeek,c=void 0===s||s,u=t.tech,l=t.callback;if(!l)throw new Error("seekToProgramTime: callback must be provided");if(void 0===n||!r||!a)return l({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return l({message:"player must be playing a live stream to start buffering"});if(!function(e){if(!e.segments||0===e.segments.length)return!1;for(var t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0}(r))return l({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var p=function(e,t){var n;try{n=new Date(e)}catch(Hs){return null}if(!t||!t.segments||0===t.segments.length)return null;var r=t.segments[0];if(n<r.dateTimeObject)return null;for(var i=0;i<t.segments.length-1&&(r=t.segments[i],!(n<t.segments[i+1].dateTimeObject));i++);var o,a=t.segments[t.segments.length-1],s=a.dateTimeObject,c=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return n>new Date(s.getTime()+1e3*c)?null:(n>s&&(r=a),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:Xo.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})}(n,r);if(!p)return l({message:n+" was not found in the stream"});var d=p.segment,h=function(e,t){var n,r;try{n=new Date(e),r=new Date(t)}catch(Hs){}var i=n.getTime();return(r.getTime()-i)/1e3}(d.dateTimeObject,n);if("estimate"===p.type)return 0===o?l({message:n+" is not buffered yet. Try again"}):(a(p.estimatedStart+h),void u.one("seeked",(function(){e({programTime:n,playlist:r,retryCount:o-1,seekTo:a,pauseAfterSeek:c,tech:u,callback:l})})));var f=d.start+h;u.one("seeked",(function(){return l(null,u.currentTime())})),c&&u.pause(),a(f)}({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})},t}(fo.getComponent("Component")),Ws={name:"videojs-http-streaming",VERSION:"2.2.3",canHandleSource:function(e,t){void 0===t&&(t={});var n=fo.mergeOptions(fo.options,t);return Ws.canPlayType(e.type,n)},handleSource:function(e,t,n){void 0===n&&(n={});var r=fo.mergeOptions(fo.options,n);return t.vhs=new Vs(e,t,r),fo.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return fo.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=Qo(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){void 0===t&&(t={});var n=fo.mergeOptions(fo.options,t).vhs.overrideNative,r=void 0===n?!fo.browser.IS_ANY_SAFARI:n,i=Object(R.simpleTypeFromSourceType)(e);return!i||Ls.supportsTypeNatively(i)&&!r?"":"maybe"}};Object(Ce.browserSupportsCodec)("avc1.4d400d,mp4a.40.2")&&fo.getTech("Html5").registerSourceHandler(Ws,0),fo.VhsHandler=Vs,Object.defineProperty(fo,"HlsHandler",{get:function(){return fo.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Vs},configurable:!0}),fo.VhsSourceHandler=Ws,Object.defineProperty(fo,"HlsSourceHandler",{get:function(){return fo.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Ws},configurable:!0}),fo.Vhs=Ls,Object.defineProperty(fo,"Hls",{get:function(){return fo.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Ls},configurable:!0}),fo.use||(fo.registerComponent("Hls",Ls),fo.registerComponent("Vhs",Ls)),fo.options.vhs=fo.options.vhs||{},fo.options.hls=fo.options.hls||{},fo.registerPlugin?fo.registerPlugin("reloadSourceOnError",Fs):fo.plugin("reloadSourceOnError",Fs),t.default=fo},"8jRI":function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(i){}if(1===e.length)return e;var n=e.slice(0,t=t||1),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function a(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},r=i.exec(e);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch(t){var o=a(r[0]);o!==r[0]&&(n[r[0]]=o)}r=i.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),c=0;c<s.length;c++){var u=s[c];e=e.replace(new RegExp(u,"g"),n[u])}return e}(e)}}},"A/ap":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},A3Fa:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e){var t=n(e);return{left:window.scrollX+e.getBoundingClientRect().left+t.left,top:window.scrollY+e.getBoundingClientRect().top+t.top,absolute:!0,height:t.height}}function n(e,t){void 0===t&&(t={debug:!1,useSelectionEnd:!1,checkWidthOverflow:!0});var n=t.useSelectionEnd?null!==e.selectionEnd?e.selectionEnd:0:null!==e.selectionStart?e.selectionStart:0,r=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;if("undefined"==typeof window)throw new Error("textarea-caret-position#getCaretPosition should only be called in a browser");var i=t&&t.debug||!1;if(i){var o=document.querySelector("#input-textarea-caret-position-mirror-div");o&&o.parentNode&&o.parentNode.removeChild(o)}var a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);var s=a.style,c=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,u="INPUT"===e.nodeName;s.whiteSpace="pre-wrap",u||(s.wordWrap="break-word"),s.position="absolute",i||(s.visibility="hidden"),["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){if(u&&"lineHeight"===e)if("border-box"===c.boxSizing){var t=parseInt(c.height),n=parseInt(c.paddingTop)+parseInt(c.paddingBottom)+parseInt(c.borderTopWidth)+parseInt(c.borderBottomWidth),r=n+parseInt(c.lineHeight);s.lineHeight=t>r?t-n+"px":t===r?c.lineHeight:"0"}else s.lineHeight=c.height;else s[e]=c[e]})),r?e.scrollHeight>parseInt(c.height)&&(s.overflowY="scroll"):s.overflow="hidden",a.textContent=e.value.substring(0,n),u&&a.textContent&&(a.textContent=a.textContent.replace(/\s/g,"\xa0"));var l=document.createElement("span");l.textContent=e.value.substring(n)||".",a.appendChild(l);var p={top:l.offsetTop+parseInt(c.borderTopWidth),left:l.offsetLeft+parseInt(c.borderLeftWidth),absolute:!1,height:parseInt(c.lineHeight)};return i?l.style.backgroundColor="#aaa":document.body.removeChild(a),p.left>=e.clientWidth&&t.checkWidthOverflow&&(p.left=e.clientWidth),p}e.getAbsolutePosition=t,e.getRelativePosition=n,e.setElementPositionBasedOnCaret=function(e,n,r,i,o,a){void 0===r&&(r={top:0,left:0}),void 0===i&&(i=2),void 0===o&&(o=!0),void 0===a&&(a=!1);var s=t(n);return o?(s.left=s.left+(e.clientWidth+i)+r.left>window.scrollX+window.innerWidth?s.left=window.scrollX+window.innerWidth-(e.clientWidth+i):s.left+=r.left,s.top=s.top+(e.clientWidth+i)+r.top>window.scrollY+window.innerHeight?s.top-=e.clientWidth+i:s.top+=r.top):(s.top+=r.top,s.left+=r.left),a||(e.style.top=s.top+"px",e.style.left=s.left+"px"),s}}(r=t.Caret||(t.Caret={})),t.getCaretCoordinates=function(e,t,n){return void 0===n&&(n={debug:!1}),r.getRelativePosition(e,n)}},AitN:function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=40)}([function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t){e.exports=n(21)},function(e,t){e.exports=n(3)},function(e,t){e.exports=n(13)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(39);r(n(11)),r(n(43)),r(n(5)),t.playerBufferFactory=new i.PlayerBufferFactory},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.paddingResolves=[]}return Object.defineProperty(e.prototype,"hasValue",{get:function(){return!this.paddingResolves},enumerable:!0,configurable:!0}),e.prototype.getValueRightNow=function(){return this.value},e.prototype.getValue=function(){var e=this;return this.hasValue?this.error?Promise.reject(this.error):Promise.resolve(this.value):new Promise((function(t,n){return e.paddingResolves.push({resolve:t,reject:n})}))},e.prototype.catchError=function(e){if(!this.hasValue){for(var t=0,n=this.paddingResolves;t<n.length;t++)(0,n[t].reject)(e);this.value=void 0,this.error=e,this.paddingResolves=null}return this},e.prototype.setValue=function(e){if(this.hasValue)throw new Error("did set value");this.value=e,this.error=void 0;for(var t=0,n=this.paddingResolves;t<n.length;t++)(0,n[t].resolve)(e);return this.paddingResolves=null,this},e}();t.BlockValue=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(1),a=n(18),s=n(11),c=n(41);!function(e){e.Realtime="realtime",e.Reconstruction="reconstruction"}(t.PlayerBufferMode||(t.PlayerBufferMode={}));var u=function(){function e(e){var t=this;this.framesBuffer=[],this.isPlaying=!1,this._didCompletePushFrames=!1,this.didCompletePlaying=!1,this.handleTickEvent=function(){try{t.onTick()}finally{t.shouldTickNextFrame()&&t.tickLimiter.invoke(),t.phaseNode.touch()}},this.handlePushedFrames=function(e){for(var n=0,r=e;n<r.length;n++)t.framesBuffer.unshift(r[n]);e.length>0&&t.isPlaying&&t.tickLimiter.invoke(),t.phaseNode.touch()},this.currentPhase=function(){return t.didCompletePlaying?s.PlayerPhase.Ended:t._didCompletePushFrames||t.framesBuffer.length>0?t.isPlaying?s.PlayerPhase.Playing:s.PlayerPhase.Pausing:t.isPlaying?s.PlayerPhase.Waiting:s.PlayerPhase.PausingAndWaiting},this.onPhaseChanged=function(e,n){n===s.PlayerPhase.Playing&&e!==s.PlayerPhase.Playing?t.onPlayingStop():n!==s.PlayerPhase.Playing&&e===s.PlayerPhase.Playing&&t.onPlayingContinue(),t.callbacks.onPhaseChanged&&t.callbacks.onPhaseChanged(e)},this.logger=e.logger,this.mode=e.mode,this.framesDelayer=this.createFrameDelayer(e.frameDelay),this.callbacks=Object.freeze(r({},e.callbacks));var n=e.frameInterval,c=void 0===n?17:n,u=e.remainLowTimeInterval,l=void 0===u?12e3:u;if(e.enableAnimationFrame){var p=new a.AnimationFrameTicker(this.handleTickEvent);this.tickLimiter=new o.InvokeFrequencyLimiter(c,(function(){return p.invoke()}))}else this.tickLimiter=new o.InvokeFrequencyLimiter(c,this.handleTickEvent);this.remainLowTimeInterval=l,this.phaseNode=new i.PhaseNode({getCurrentPhase:this.currentPhase,onPhaseChanged:this.onPhaseChanged})}return Object.defineProperty(e.prototype,"didCompletePushFrames",{get:function(){return this._didCompletePushFrames},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newestPushFrame",{get:function(){return this.framesBuffer[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextFrame",{get:function(){return this.framesBuffer[this.framesBuffer.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"framesBufferLength",{get:function(){return this.framesBuffer.length},enumerable:!0,configurable:!0}),e.prototype.takeNextFrame=function(){return this.framesBuffer.pop()},Object.defineProperty(e.prototype,"currentBufferInterval",{get:function(){return this.framesBufferLength>0?this.newestPushFrame.timestamp-this.nextFrame.timestamp:0},enumerable:!0,configurable:!0}),e.prototype.completePlaying=function(){this.didCompletePlaying=!0,this.phaseNode.touch(),this.tickLimiter.cancel()},Object.defineProperty(e.prototype,"frameInterval",{get:function(){return this.tickLimiter.limitDuration},set:function(e){this.tickLimiter.limitDuration=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phase",{get:function(){return this.phaseNode.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameDelay",{get:function(){return this.framesDelayer?this.framesDelayer.frameDelay:0},set:function(e){this.framesDelayer?0===e?(this.framesDelayer.release(),this.framesDelayer=null):this.framesDelayer.frameDelay=e:this.framesDelayer=this.createFrameDelayer(e)},enumerable:!0,configurable:!0}),e.prototype.createFrameDelayer=function(e){return void 0===e&&(e=0),0!==e?new c.FramesDelayer(e,this.handlePushedFrames):null},e.prototype.shouldTickNextFrame=function(){return!(this.didCompletePlaying||!this.willTickEveryFrames&&!(this.isPlaying&&this.framesBuffer.length>0))},e.prototype.pushFrames=function(e){this.framesDelayer?this.framesDelayer.pushFrames(e):this.handlePushedFrames(e)},e.prototype.play=function(){this.isPlaying||this.phaseNode.phase===s.PlayerPhase.Ended||(this.isPlaying=!0,this.framesBuffer.length>0&&this.tickLimiter.invoke(),this.phaseNode.touch())},e.prototype.pause=function(){this.isPlaying&&(this.isPlaying=!1,this.tickLimiter.cancel(),this.phaseNode.touch())},e.prototype.completePushFrames=function(){this._didCompletePushFrames=!0,0===this.framesBuffer.length&&(this.didCompletePlaying=!0,this.tickLimiter.cancel()),this.phaseNode.touch()},e}();t.AbstractPlayerBuffer=u},function(e,t){e.exports=n(43)},function(e,t){e.exports=n(44)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(15)),r(n(35)),r(n(16)),r(n(36))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.getLibraryWithClass=function(e){var t=r.getLibrary(e);if(!t)throw new Error("can't find library from "+e.name+". it's not root class");return t}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(17)),r(n(19)),r(n(20));var i=n(8);t.connectWebSocketSession=i.connectWebSocketSession,t.WebSocketConnection=i.WebSocketConnection},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Playing="playing",e.Pausing="pausing",e.PausingAndWaiting="pausingAndWaiting",e.Waiting="waiting",e.Ended="ended"}(t.PlayerPhase||(t.PlayerPhase={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28);t.Fetcher=r.Fetcher;var i=n(14);t.FetcherError=i.FetcherError},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(14),s=n(4),c=function(){function e(e,t,n){var r=this;this.keyFetcherValue=new s.BlockValue,this.akkoVersionValue=t,e.getValue().then((function(e){return r.keyFetcherValue.setValue(e.fetch(n))})).catch((function(e){return r.keyFetcherValue.catchError(e)}))}return Object.defineProperty(e.prototype,"akkoVersion",{get:function(){return this.akkoVersionValue.getValue()},enumerable:!0,configurable:!0}),e.prototype.fetchJSON=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,this.keyFetcherValue.getValue()];case 1:return[4,i.sent()(e,t)];case 2:return n=i.sent(),this.isSuccessStatus(n,t)?[4,n.text()]:[3,4];case 3:return""===(r=i.sent())?[2,void 0]:[2,JSON.parse(r)];case 4:return[4,this.createError(n)];case 5:throw i.sent();case 6:return[2]}}))}))},e.prototype.fetchBuffer=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a;return i(this,(function(i){switch(i.label){case 0:return[4,this.keyFetcherValue.getValue()];case 1:return[4,i.sent()(e,t)];case 2:return 404!==(n=i.sent()).status?[3,3]:[2,null];case 3:return this.isSuccessStatus(n,t)?n.arrayBuffer?(r=o.wrapBuffer,[4,n.arrayBuffer()]):[3,5]:[3,8];case 4:return[2,r.apply(void 0,[i.sent()])];case 5:return a=o.wrapBuffer,[4,n.buffer()];case 6:return[2,a.apply(void 0,[i.sent()])];case 7:return[3,10];case 8:return[4,this.createError(n)];case 9:throw i.sent();case 10:return[2]}}))}))},e.prototype.createError=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s;return i(this,(function(i){switch(i.label){case 0:if((t=e.headers.get("content-type"))&&!/application\/json/i.test(t))return[3,5];n=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return n=i.sent(),[3,4];case 3:return i.sent(),[2,new Error("response with status "+e.status+" and parse error JSON failed")];case 4:return"object"!=typeof n.error||null===n.error?[2,new Error("response with status "+e.status+" without error object")]:[2,new a.FetcherError({statusCode:e.status,errorCode:(r=n.error).code,title:r.title,messages:r.messages})];case 5:return o=Error.bind,s="response with status "+e.status+" with text ",[4,e.text()];case 6:return[2,new(o.apply(Error,[void 0,s+i.sent()]))]}}))}))},e.prototype.isSuccessStatus=function(e,t){var n=e.status;switch(t&&t.method||"get"){case"get":return 200===n||206===n;case"delete":return 204===n;default:return 201===n}},e}();t.KeyFetcherImplement=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(n){var r=e.call(this,t.createMessage(n))||this;return r.name=name,r.title=n.title,r.messages=n.messages?Object.freeze(o(n.messages)):t.emptyArray,r.statusCode=n.statusCode,r.errorCode=n.errorCode,r}return i(t,e),t.createMessage=function(e){var t=e.title;return e.messages&&e.messages.length>0&&(t+=": "+e.messages.join("; ")),t},t.emptyArray=Object.freeze([]),t}(Error);t.FetcherError=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),s=n(16),c=n(34),u=Object.freeze([1e3,1e3,1e3,3e3,3e3,5e3,5e3]),l=function(){function e(e,t,n){var r=this;this._didDispose=!1,this.connectionTask=null,this.operator=null,this.connectionNode=null,this.onNetStateUpdate=function(e){r._didDispose||(e?r.connectionTask&&r.startConnectionTask():r.operator&&(r.operator.cancel(),r.operator=null))},this.logger=e,this.fetcher=t,this.netStatePaddingNode=n&&new a.NetStatePaddingNode(n,this.onNetStateUpdate)}return e.prototype.dispose=function(){this._didDispose||(this._didDispose=!0,this.operator&&this.operator.cancel(),this.connectionTask=null,this.operator=null,this.netStatePaddingNode&&this.netStatePaddingNode.dispose())},e.prototype.connect=function(e){return i(this,void 0,void 0,(function(){var t,n,i=this;return o(this,(function(o){switch(o.label){case 0:if(this._didDispose)throw new Error("did dispose");if(this.connectionTask)throw new Error("is connecting");return this.connectionNode&&(this.connectionNode.filter.switchOn=!1,this.connectionNode=null),(t=this.netStatePaddingNode)?[4,this.netStatePaddingNode.makeSureOnline()]:[3,2];case 1:t=!o.sent(),o.label=2;case 2:if(t)throw new Error("offline");n=new Promise((function(t,n){var o=new c.CallbacksFilter;i.connectionTask={resolve:t,reject:n,filter:o,params:r(r({},e),{callbacks:o.wrapCallbacks(e.callbacks)})}})),this.startConnectionTask(),o.label=3;case 3:return o.trys.push([3,,5,6]),[4,n];case 4:return[2,o.sent()];case 5:return this.connectionTask=null,[7];case 6:return[2]}}))}))},e.prototype.startConnectionTask=function(){var e=this,t=new p(this.logger,this.fetcher),n=this.connectionTask,r=n.params,i=n.filter,o=n.resolve,a=n.reject;this.operator=t,this.operator.connect(r).then((function(n){n&&t===e.operator&&(o(n),e.operator=null,e.connectionNode={connection:n.connection,filter:i})})).catch((function(n){t===e.operator&&(a(n),e.operator=null)}))},e}();t.ConnectionBuilder=l;var p=function(){function e(e,t){this.logger=e,this.fetcher=t,this.connection=null,this.isCancel=!1}return e.prototype.connect=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,a,c,l;return o(this,(function(o){switch(o.label){case 0:t="",n=0,o.label=1;case 1:return n<u.length+1?[4,this.fetcher.origin("wss","realtime")]:[3,9];case 2:return r=o.sent(),i=Date.now(),this.connection=new s.WebSocketConnection(r,e),a=Date.now(),[4,this.connection.connect()];case 3:return c=o.sent(),this.isCancel?(this.fetcher.reportSuccess("realtime",Date.now()-i),c&&this.connection?[4,this.connection.disconnectWithError(new Error("cancel connect"))]:[3,5]):[3,6];case 4:o.sent(),o.label=5;case 5:return[2,null];case 6:return"object"==typeof c?(this.fetcher.reportSuccess("realtime",Date.now()-i),[2,{connection:this.connection,snapshot:c.snapshot,actionFrames:c.actionFrames}]):(this.fetcher.reportFail("realtime",Date.now()-i),t=c,this.connection=null,void 0===(l=u[n])?[3,8]:a+l-Date.now()>0?[4,(p=l,new Promise((function(e){return setTimeout(e,p)})))]:[3,8]);case 7:if(o.sent(),this.isCancel)return[2,null];o.label=8;case 8:return++n,[3,1];case 9:throw new Error("connect fail after multiple retries: "+t)}var p}))}))},e.prototype.cancel=function(){var e=this;this.connection&&(this.connection.disconnectWithError(new Error("cancel connect")).catch((function(t){return e.logger.error(t)})),this.connection=null),this.isCancel=!0},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(32),c=n(33),u=n(0),l=c.getWebSocket(),p=function(){function e(e,t){var n=this,i=t.logger,o=t.roomToken,c=t.webSocketQuery,p=t.callbacks;this.disconnectedCallbacks=[],this.actionFramesInterrupter=[],this.snapshotFrameInterrupter=null,this.onReceiveSnapshotFrame=function(e){n.snapshotFrameInterrupter=e},this.onReceiveActionFrame=function(e){n.actionFramesInterrupter?n.actionFramesInterrupter.push(e):n.callbacks.onReceivedActionFrame(e)},this.onReceiveScopeSlices=function(e){n.callbacks.onReceivedScopeSlices(u.deserializeScopeSlices(e))},this.onHangUp=function(){n.socket.disconnect(),n.callbacks.onKickWithReason(u.KickReason.GatewayAdjust)},this.onDisconnect=function(e){var t=e.reason,r=e.message,i=n.isConnected();if(n._sessionBuild=void 0,n.disconnectedCallback(r,t===s.AkkoSocketDisconnectReason.WebSocketError||t===s.AkkoSocketDisconnectReason.CommunicationError),i)switch(t){case s.AkkoSocketDisconnectReason.WebSocketError:case s.AkkoSocketDisconnectReason.CommunicationError:n.callbacks.onDisconnectedWithSocketError(new Error(r));break;case s.AkkoSocketDisconnectReason.Normal:n.callbacks.onKickWithReason(r);break;case s.AkkoSocketDisconnectReason.RemoteError:n.callbacks.onDisconnectedByServer(new Error(r))}};var d=e+"?"+function(e,t){var n={room:t.uuid,token:e,combinable:!0,sessionToken:t.sessionToken,akkoVersion:t.akkoVersion,clientVersion:t.clientVersion,access:t.access};for(var r in n)void 0===n[r]&&delete n[r];return a.stringify(n)}(o,c),h=new l(d);this.logger=i,this.uuid=c.uuid,this.libraryDescriptionSerialization=new u.LibraryDescriptionSerialization,this.socket=u.socketFactory.createSocket(h,i,{onDisconnect:this.onDisconnect}),this.socket.on("snapshot",this.onReceiveSnapshotFrame),this.socket.on("action",this.onReceiveActionFrame),this.socket.on("allocate-scope",this.onReceiveScopeSlices),this.socket.on("hang-up",this.onHangUp),this.callbacks=Object.freeze(r({},p))}return e.prototype.setAccessUpdaterSerialization=function(e){this.accessUpdaterSerialization=e},Object.defineProperty(e.prototype,"sessionBuild",{get:function(){if(!this._sessionBuild)throw new Error("not connected");return this._sessionBuild},enumerable:!0,configurable:!0}),e.prototype.sendActionFrame=function(e){this.socket.emit("action",e)},e.prototype.isConnected=function(){return!!this._sessionBuild},e.prototype.connect=function(){var e=this;return new Promise((function(t,n){var r=function(){var t=e.disconnectedCallbacks.indexOf(i);-1!==t&&e.disconnectedCallbacks.splice(t,1),e.socket.off("session-build",o)},i=function(e,i){r(),i?t(e):n(new Error("connect failed: "+e))};e.disconnectedCallbacks.push(i);var o=function(n){r();var i=e.snapshotFrameInterrupter,o=e.actionFramesInterrupter;e._sessionBuild=u.deserializeSessionBuild(n),e.snapshotFrameInterrupter=null,e.actionFramesInterrupter=null,t({snapshot:i,actionFrames:o})};e.socket.on("session-build",o),e.socket.on("library-description",(function t(n){var r=e.libraryDescriptionSerialization.deserialize(n);e.callbacks.onReceivedLibraryDescription(r),e.socket.off("library-description",t)})),e.socket.waitToConnected().catch((function(t){e.logger.warn(t.message),i(t.message,!0)}))}))},e.prototype.disconnect=function(){return this.disconnectedCallback("disconnect",!1),this.socket.disconnect()},e.prototype.disconnectWithError=function(e){return this.disconnectedCallback(e.message,!1),this.socket.disconnectWithErrorDescription({message:e.message})},e.prototype.updateToWritable=function(e,t){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return this.socket.emit("update-access",this.accessUpdaterSerialization.serialize({kind:u.AccessUpdaterKind.Writable,userPayload:e,connectedPayload:t})),[4,this.interruptEvent("allocate-user",[u.SocketErrorCode.WritableAccessForbidden,u.SocketErrorCode.StuffedOfWritableUsers,u.SocketErrorCode.WrongWritablePhase])];case 1:if(void 0!==(n=r.sent()).errorCode)switch(n.errorCode){case u.SocketErrorCode.WritableAccessForbidden:throw new Error("can't update to writable. you don't have permission");case u.SocketErrorCode.StuffedOfWritableUsers:throw new Error("room is stuffed of writable users");case u.SocketErrorCode.WrongWritablePhase:throw new Error("it's wrong writable phase")}return void 0!==n.target?[2,u.deserializeAllocatedUser(n.target)]:[2,null]}}))}))},e.prototype.updateToReadonly=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this.socket.emit("update-access",this.accessUpdaterSerialization.serialize({kind:u.AccessUpdaterKind.Readonly,payload:e})),[4,this.interruptEvent("release-user",[u.SocketErrorCode.NoUserToRelease,u.SocketErrorCode.WrongWritablePhase])];case 1:if(void 0!==(t=n.sent()).errorCode)switch(t.errorCode){case u.SocketErrorCode.NoUserToRelease:throw new Error("room don't have user to release");case u.SocketErrorCode.WrongWritablePhase:throw new Error("it's wrong writable phase")}return[2,void 0!==t.target]}}))}))},e.prototype.disconnectedCallback=function(e,t){for(var n=0,r=this.disconnectedCallbacks.splice(0);n<r.length;n++)(0,r[n])(e,t)},e.prototype.interruptEvent=function(e,t){var n=this;return new Promise((function(r){var i=function(){var t=n.disconnectedCallbacks.indexOf(o);-1!==t&&n.disconnectedCallbacks.splice(t,1),n.socket.off(e,a),n.socket.off("error",s)},o=function(){i(),r({})};n.disconnectedCallbacks.push(o);var a=function(e){i(),r({target:e})},s=function(e){-1!==t.indexOf(e)&&(i(),r({errorCode:e}))};n.socket.on(e,a),n.socket.on("error",s)}))},e}();t.WebSocketConnection=p},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(37),o=function(){function e(e,t,n,i,o,a){this.fetcher=e,this.imageFactory=t,this.reconnectionOptions=n,this.netState=i,this.clientVersion=o,this.magixConfiguration=Object.freeze(r({},a))}return e.prototype.createMagix=function(e,t){return new i.MagixImplement({logger:t.logger,fetcher:this.fetcher,libraryNodeFetcher:t.libraryNodeFetcher,imageFactory:this.imageFactory,toolsExtra:e,enableAnimationFrame:this.magixConfiguration.enableAnimationFrame,reconnectionOptions:this.reconnectionOptions,netState:this.netState,userPayload:t.userPayload,clientVersion:this.clientVersion,callbacks:t.callbacks||{}})},e}();t.MagixFactory=o,function(e){e.Ready="ready",e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnecting="disconnecting",e.Disconnected="disconnected"}(t.MagixPhase||(t.MagixPhase={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.invoker=e,this.animationFrameId=null,this.shouldInvokeNextFrame=!1,this.blockInvoke=!1,this.fireTick=function(){if(t.shouldInvokeNextFrame)try{t.invoker()}catch(e){console.error(e)}t.shouldInvokeNextFrame=!1,t.blockInvoke=!1,t.animationFrameId=null}}return e.prototype.invoke=function(){if(this.blockInvoke)this.shouldInvokeNextFrame=!0;else{try{this.invoker()}catch(e){console.error(e)}null===this.animationFrameId&&(this.animationFrameId=window.requestAnimationFrame(this.fireTick)),this.blockInvoke=!0}},e}();t.AnimationFrameTicker=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(1),c=n(47),u=n(51),l=n(52),p=n(53),d=function(){function e(e,t,n,r,i){this.fetcher=e,this.imageFactory=t,this.appIdentifier=n,this.clientVersion=r,this.enableAnimationFrame=i}return e.prototype.createReconstructor=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return n=t.rangeQuery,r=new p.SliceStateUpdater(t.libraryNodeFetcher),i=new u.SequenceFetcher({logger:t.logger,appIdentifier:this.appIdentifier,fetcher:this.fetcher,libraryNodeFetcher:r.libraryNodeFetcher}),[4,this.fetchSliceChunk(n)];case 1:if(!(a=o.sent()))throw new Error("couldn't find any matching slices");return[2,new c.ReconstructorImplement({logger:t.logger,sliceChunk:a,imageFactory:this.imageFactory,sequenceFetcher:i,sliceStateUpdater:r,toolsExtra:e,enableAnimationFrame:this.enableAnimationFrame,thirdPartyReconstructorFactory:t.thirdPartyReconstructorFactory,callbacks:t.callbacks||{}})]}}))}))},e.prototype.searchSlices=function(e){return i(this,void 0,void 0,(function(){var t,n,r;return o(this,(function(i){switch(i.label){case 0:return[4,this.fetchSliceChunk(e)];case 1:if(t=i.sent(),n=[],t)for(r=0;r<t.slicesCount;++r)n.push(t.sliceAt(r));return[2,n]}}))}))},e.prototype.fetchSliceChunk=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,s,c,u,p,d=this;return o(this,(function(o){switch(o.label){case 0:return[4,this.fetcher.fetch("persistence")];case 1:return t=o.sent(),void 0===e.slice?[3,3]:(r="https://persistence/pv/slices/"+e.slice+"?"+a.stringify({clientVersion:this.clientVersion}),[4,t.fetchJSON(r,{headers:{"content-type":"application/json",app:this.appIdentifier}})]);case 2:if(p=o.sent(),void 0!==e.room&&e.room!==p.roomUUID)throw new Error("slice "+p.uuid+" is not belongs to room "+e.room);return n=[p],[3,6];case 3:return void 0===e.room?[3,5]:(r="https://persistence/pv/rooms/"+e.room+"/slices?"+a.stringify({beginAt:e.beginTimestamp,endAt:void 0!==e.beginTimestamp&&void 0!==e.duration?e.beginTimestamp+e.duration:void 0,clientVersion:this.clientVersion}),[4,t.fetchJSON(r,{headers:{"content-type":"application/json",app:this.appIdentifier}})]);case 4:return n=o.sent(),[3,6];case 5:throw new Error("expect either room or slice");case 6:if((n=n.map((function(e){return d.fillSliceLibIdentifier(e)}))).length>0){for(void 0===(i=e.beginTimestamp)&&(i=Math.min.apply(Math,n.map((function(e){return e.beginTimestamp})))),s=e.duration?i+e.duration:Math.max.apply(Math,n.map((function(e){return e.beginTimestamp+e.duration}))),c=0,u=n;c<u.length;c++)p=u[c],Object.freeze(p);return n=n.filter((function(e){return e.beginTimestamp+e.duration>=i&&e.beginTimestamp<=s})),[2,new l.SliceChunk({beginAt:i,endAt:s,slices:n})]}return[2,null]}}))}))},e.prototype.fillSliceLibIdentifier=function(e){var t=void 0,n=e.libIdentifier.replace(/\.\w+$/im,"").split("-"),i=n[0],o=n[1];if(i&&o)try{if(s.Version.compare(s.Version.parse(o),s.Version.parse("2.7.0"))<0)switch(i){case"2.0.0":t="2.0.0-2.7.9.0f385eb562396be49fb451e80c1d85fa";break;case"2.1.0":t="2.1.0-2.8.0.fb7b9e324522d815ee4e40990d061a0b"}}catch(e){console.warn(e)}return t?r(r({},e),{libIdentifier:t}):e},e}();t.ReconstructorFactory=d,function(e){e.WaitingFirstFrame="waitingFirstFrame",e.Playing="playing",e.Pause="pause",e.Stopped="stopped",e.Ended="ended",e.Buffering="buffering",e.Seeking="seeking"}(t.ReconstructorPhase||(t.ReconstructorPhase={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Success="success",e.Padding="padding"}(t.OperationResult||(t.OperationResult={}))},function(e,t){e.exports=n(9)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(23))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(24)),r(n(54)),r(n(55))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.AkkoFetcher=r.AkkoFetcher;var i=n(0);t.isAkkoObject=i.isAkkoObject,t.translateToAckFrame=i.translateToAckFrame,t.getClassReflection=i.getClassReflection,t.getLibrary=i.getLibrary,t.socketFactory=i.socketFactory,t.EventPhase=i.EventPhase,t.Library=i.Library,t.UpdateEventKind=i.UpdateEventKind,t.FramePicker=i.FramePicker,t.ActionFrameType=i.ActionFrameType,t.SocketErrorCode=i.SocketErrorCode,t.KickReason=i.KickReason,t.ImagePhase=i.ImagePhase;var o=n(25);t.AkkoApp=o.AkkoApp;var a=n(10);t.MagixPhase=a.MagixPhase,t.ReconstructorPhase=a.ReconstructorPhase,t.ReconstructorFactory=a.ReconstructorFactory,t.OperationResult=a.OperationResult},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=n(0),s=n(26),c=n(12),u=n(8),l=n(10),p=function(){function e(e){var t=e.onAkkoSetupFailed,n=o.createProxyManager({escapeObjectFilter:e.escapeObjectFilter,jsxFactory:e.jsxFactory,observerAdapter:e.observerAdapter});if(this.imageFactory=new a.ImageFactory(n),this.convertIdToUrl=e.convertIdToUrl,e.shuntApiHosts){var r=new c.Fetcher({appIdentifier:e.appIdentifier,shuntApiHosts:e.shuntApiHosts,onInterruptConfigs:e.configsInterrupter,onAkkoSetupFailed:function(e){console.error("akko setup failed: "+(e.stack||e.message)),t&&t(e)}}),i=!!e.enableAnimationFrame,s={enableAnimationFrame:i},p=u.wholeReconnectionOptions(e.reconnectionOptions);this.magixFactory=new l.MagixFactory(r,this.imageFactory,p,e.netStateAdapter,e.clientVersion,s),this.playerFactory=new l.ReconstructorFactory(r,this.imageFactory,e.appIdentifier,e.clientVersion,i)}}return e.prototype.createMagix=function(e){if(!this.magixFactory)throw new Error("expect shuntApiHosts");var t=(new s.ResourceManagerFactory).create({convertIdToUrl:this.convertIdToUrl}),n=Object.freeze({resource:t});return this.magixFactory.createMagix(n,e)},e.prototype.createReconstructor=function(e){if(!this.playerFactory)throw new Error("expect shuntApiHosts");var t=(new s.ResourceManagerFactory).create({convertIdToUrl:this.convertIdToUrl}),n=Object.freeze({resource:t});return this.playerFactory.createReconstructor(n,e)},e.prototype.searchSlices=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:if(!this.playerFactory)throw new Error("expect shuntApiHosts");return[4,this.playerFactory.searchSlices(e)];case 1:return[2,t.sent()]}}))}))},e}();t.AkkoApp=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27);t.ResourceManagerFactory=r.ResourceManagerFactory},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.create=function(e){return void 0===e&&(e={}),new i(e)},e}();t.ResourceManagerFactory=r;var i=function(){function e(e){this.callbacks=Object.freeze(this.wrapCallbacks(e))}return e.prototype.wrapCallbacks=function(t){for(var n={},r=function(e){n[e]=t[e]||function(){throw new Error("can't call. "+e+" not register")}},i=0,o=e.callbackKeys;i<o.length;i++)r(o[i]);return Object.freeze(n)},e.prototype.convertIdToUrl=function(e){return this.callbacks.convertIdToUrl(e)},e.callbackKeys=Object.freeze(["convertIdToUrl"]),e}()},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var s,c=n(6),u=n(4),l=n(13),p=n(29);!function(e){e[e.Ready=0]="Ready",e[e.Setuping=1]="Setuping",e[e.Fail=2]="Fail"}(s||(s={}));var d=function(){function e(e){this.fetcherPhase=s.Setuping,this.onIngoreFetchError=function(e){console.warn("fetch failed but ignore: "+e.message)},this.params=Object.freeze(r(r({},e),{shuntApiHosts:Object.freeze(a(e.shuntApiHosts))})),this.akkoVersionValue=new u.BlockValue,this.setupFetcher()}return e.prototype.fetch=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){return[2,new l.KeyFetcherImplement(this.fetcherValue,this.akkoVersionValue,e)]}))}))},e.prototype.origin=function(e,t,n,r){return i(this,void 0,void 0,(function(){return o(this,(function(i){switch(i.label){case 0:return[4,this.getAkkoFetcher()];case 1:return[2,i.sent().origin(e,t,n,r)]}}))}))},e.prototype.reportSuccess=function(e,t){this.getAkkoFetcher().then((function(n){n.reportSuccess(e,t)}))},e.prototype.reportFail=function(e,t){this.getAkkoFetcher().then((function(n){n.reportFail(e,t)}))},Object.defineProperty(e.prototype,"akkoVersion",{get:function(){return this.akkoVersionValue.getValue()},enumerable:!0,configurable:!0}),e.prototype.getAkkoFetcher=function(){return this.fetcherPhase===s.Fail&&this.setupFetcher(),this.fetcherValue.getValue()},e.prototype.setupFetcher=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i,a,l;return o(this,(function(o){switch(o.label){case 0:t=(e=this.params).appIdentifier,n=e.shuntApiHosts,r=e.onInterruptConfigs,i=e.onAkkoSetupFailed,o.label=1;case 1:return o.trys.push([1,3,,4]),this.fetcherValue=new u.BlockValue,this.fetcherPhase=s.Setuping,[4,p.getAkkoAppConfigs(t,n,this.onIngoreFetchError)];case 2:return a=o.sent(),r&&(a=r(a)),this.akkoVersionValue.setValue(a.akkoVersion),this.fetcherValue.setValue(new c.AkkoFetcher({fetcher:fetch.bind(window),configmap:a.configmap,onIngoreFetchError:this.onIngoreFetchError,retryCount:2,retryLoopsCount:0})),this.fetcherPhase=s.Ready,[3,4];case 3:return l=o.sent(),this.fetcherValue.catchError(new Error("akko setup failed: "+l.message)),this.fetcherPhase=s.Fail,i&&i(l),[3,4];case 4:return[2]}}))}))},e}();t.Fetcher=d},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(6),s=n(4),c=n(13),u=n(30),l=new(function(){function e(){this.node=null}return e.prototype.getAkkoAppConfigs=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return this.node&&this.node.appIdentifier===e||(r=new s.BlockValue,this.node=Object.freeze({appIdentifier:e,configsValue:r}),this.fetchAkkoAppConfigs(e,t,n).then((function(e){return r.setValue(u.deepFreezeObject(e))})).catch((function(e){return r.catchError(e)}))),o=u.deepCopyObject,[4,this.node.configsValue.getValue()];case 1:return[2,o.apply(void 0,[i.sent()])]}}))}))},e.prototype.fetchAkkoAppConfigs=function(e,t,n){return r(this,void 0,void 0,(function(){var r,u,l,p,d;return i(this,(function(i){switch(i.label){case 0:return r=(new s.BlockValue).setValue(new a.AkkoFetcher({fetcher:fetch.bind(window),onIngoreFetchError:n,configmap:{hosts:(d={},d.api=t,d)},retryCount:2,retryLoopsCount:0})),u=new s.BlockValue,l=new c.KeyFetcherImplement(r,u,"api"),p=o.stringify({app:e}),[4,l.fetchJSON("https://shunt-api/v5/configs?"+p)];case 1:return[2,i.sent()]}}))}))},e}());t.getAkkoAppConfigs=function(e,t,n){return l.getAkkoAppConfigs(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepFreezeObject=function e(t){if("object"==typeof t&&null!==t){for(var n in t)e(t[n]);Object.freeze(t)}return t},t.deepCopyObject=function e(t){if("object"!=typeof t||null===t)return t;if(t instanceof Array){for(var n=[],r=0;r<t.length;++r)n[r]=e(t[r]);return n}var i={};for(var o in t)i[o]=e(t[o]);return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=this;this.netState=e,this.onNetStateUpdate=t,this.paddingResolver=[],this._didDispose=!1,this.onOnline=function(){n._isOnline=!0,n.onNetStateUpdate&&n.onNetStateUpdate(!0),n.handleAllPaddingResolver(!0)},this.onOffline=function(){n._isOnline=!1,n.onNetStateUpdate&&n.onNetStateUpdate(!1)},e.addListener(this.listener={onOnline:this.onOnline,onOffline:this.onOffline}),this._isOnline=e.isOnline}return Object.defineProperty(e.prototype,"isOnline",{get:function(){return this._isOnline},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"didDispose",{get:function(){return this._didDispose},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){try{this.handleAllPaddingResolver(!1),this.netState.removeListener(this.listener)}finally{this._didDispose=!0}},e.prototype.makeSureOnline=function(){var e=this;return this._didDispose?Promise.resolve(!1):this._isOnline?Promise.resolve(!0):new Promise((function(t){e.paddingResolver.push(t)}))},e.prototype.handleAllPaddingResolver=function(e){for(var t=0,n=this.paddingResolver.splice(0,this.paddingResolver.length);t<n.length;t++)(0,n[t])(e)},e}();t.NetStatePaddingNode=r},function(e,t){e.exports=n(22)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWebSocket=function(){return"undefined"!=typeof WebSocket?WebSocket:global.WebSocket}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.switchOn=!0}return e.prototype.wrapCallbacks=function(e){var t=this,n={},r=function(r){var i=e[r];n[r]="function"==typeof i?function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(t.switchOn)return i.apply(n,e)}:i};for(var i in e)r(i);return Object.freeze(n)},e}();t.CallbacksFilter=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),c=n(15),u=n(9),l=n(4),p=function(){};t.connectWebSocketSession=function(e){return i(this,void 0,void 0,(function(){var t,n;return o(this,(function(r){switch(r.label){case 0:return[4,(t=new d(e)).connect()];case 1:return n=r.sent(),[2,{session:t,snapshot:n.snapshot,actionFrames:n.actionFrames,connection:n.connection}]}}))}))};var d=function(){function e(e){var t=this;this.connectingResult=null,this._connection=null,this._libraryNode=null,this.onDisconnectedByServer=function(e){t._connection=null,t._libraryNode=null,t.callbacks.onDisconnectedByServer&&t.callbacks.onDisconnectedByServer(e)},this.onKickWithReason=function(e){t._connection=null,t._libraryNode=null,t.reconnectionOptions.disableReconnect||e!==s.KickReason.GatewayAdjust&&e!==s.KickReason.RoomZombie?t.callbacks.onKickWithReason&&t.callbacks.onKickWithReason(e):t.startReconnect(new Error("room became zombie"))},this.onDisconnectedWithSocketError=function(e){return i(t,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return this._connection=null,this._libraryNode=null,this.reconnectionOptions.disableReconnect?[3,2]:[4,this.startReconnect(e)];case 1:return t.sent(),[3,3];case 2:this.callbacks.onDisconnectedWithSocketError&&this.callbacks.onDisconnectedWithSocketError(e),t.label=3;case 3:return[2]}}))}))},this.logger=e.logger,this.uuid=e.uuid,this.roomToken=e.roomToken,this.clientVersion=e.clientVersion,this.reconnectionOptions=e.reconnectionOptions,this.access=e.access,this.objectOperator=e.objectOperator,this.libraryNodeFetcher=e.libraryNodeFetcher,this.connectionBuilder=new c.ConnectionBuilder(e.logger,e.fetcher,e.netState),this.callbacks=Object.freeze(r({},e.callbacks))}return Object.defineProperty(e.prototype,"session",{get:function(){return this.sessionBuild.session},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slice",{get:function(){return this.sessionBuild.slice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connection",{get:function(){return this._connection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libraryNode",{get:function(){return this._libraryNode},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.connectionBuilder.dispose()},e.prototype.connect=function(){return i(this,void 0,void 0,(function(){var e,t,n,r,i,c,d,h;return o(this,(function(o){switch(o.label){case 0:if(this.connectingResult)throw new Error("WebSocketSession is connecting");e=new l.BlockValue,t=this.connectingResult=new l.BlockValue,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,this.connectionBuilder.connect({logger:this.logger,roomToken:this.roomToken,webSocketQuery:{uuid:this.uuid,akkoVersion:a.AkkoVersion,clientVersion:this.clientVersion,access:this.access,sessionToken:this.sessionBuild&&this.sessionBuild.sessionToken},callbacks:{onReceivedLibraryDescription:this.createLibraryDescriptionReceiver(e),onReceivedActionFrame:this.callbacks.onReceivedActionFrame||p,onReceivedScopeSlices:this.callbacks.onReceivedScopeSlices||p,onDisconnectedByServer:this.onDisconnectedByServer,onKickWithReason:this.onKickWithReason,onDisconnectedWithSocketError:this.onDisconnectedWithSocketError}})];case 2:return n=o.sent(),this.sessionBuild&&(i=(r=n.connection.sessionBuild).session,c=r.slice,this.callbacks.onSessionUpdate&&this.sessionBuild.session!==i&&this.callbacks.onSessionUpdate(i),this.callbacks.onSliceUpdate&&this.sessionBuild.slice!==c&&this.callbacks.onSliceUpdate(c)),this._connection=n.connection,d=this,[4,e.getValue()];case 3:return d._libraryNode=o.sent(),this.sessionBuild=n.connection.sessionBuild,this._connection.setAccessUpdaterSerialization(new s.AccessUpdaterSerialization(this.objectOperator,u.getLibraryWithClass(this._libraryNode.libraryClass))),this.connectingResult=null,t.setValue(n),[2,n];case 4:throw h=o.sent(),e.catchError(h),t.catchError(h),h;case 5:return[2]}}))}))},e.prototype.reconnectWithError=function(e){this._connection&&(this._connection.disconnect(),this._connection=null,this._libraryNode=null),this.startReconnect(e)},e.prototype.createLibraryDescriptionReceiver=function(e){var t=this;return function(n){return i(t,void 0,void 0,(function(){var t,r,i;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=(t=e).setValue,[4,this.libraryNodeFetcher(n)];case 1:return r.apply(t,[o.sent()]),[3,3];case 2:return i=o.sent(),e.catchError(i),[3,3];case 3:return[2]}}))}))}},e.prototype.startReconnect=function(e){return i(this,void 0,void 0,(function(){var t,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return this.connectingResult?[4,this.connectingResult.getValue()]:[3,2];case 1:return o.sent(),[3,0];case 2:return o.trys.push([2,4,,5]),r=(t=this.callbacks).onReconnected,(n=t.onBeginReconnect)&&Promise.resolve().then((function(){return n(e)})),[4,this.connect()];case 3:return i=o.sent(),r&&Promise.resolve().then((function(){return r(i)})),[3,5];case 4:return a=o.sent(),this.callbacks.onDisconnectedWithSocketError&&this.callbacks.onDisconnectedWithSocketError(a),[3,5];case 5:return[2]}}))}))},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=Object.freeze({disableReconnect:!1});t.wholeReconnectionOptions=function(e){return!1===e?{disableReconnect:!0}:r(r({},i),e)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(38),s=n(18),c=n(17),u=n(8),l=n(45),p=n(9),d=n(46),h=function(){function e(e){var t=this;this.actionFramesBufferList=[],this._phase=c.MagixPhase.Ready,this._modifiable=!0,this._timeDelay=0,this.switchWritable=!1,this.switchWritableTaskId=0,this.onReceivedActionFrame=function(e){try{if(t.magixSession){if(t.actionFramesBufferList.length>0)for(var n=0,r=t.cleanActionFramesBufferList();n<r.length;n++)t.magixSession.receivedActionFrame(r[n]);t.magixSession.receivedActionFrame(e)}else t.actionFramesBufferList.push(e)}catch(e){t.logger.error("found error when receive action frame: "+e.message),t.socketSession.reconnectWithError(e)}},this.onReceivedScopeSlices=function(e){try{t.magixSession&&t.magixSession.receivedScopeSlices(e)}catch(e){t.logger.error("found error when receive scope slices: "+e.message),t.socketSession.reconnectWithError(e)}},this.onBeginReconnect=function(e){t.callbacks.onReconnectWithError?t.callbacks.onReconnectWithError(e):t.logger.error(e),t.switchWritableTaskId++,t.magixSession.destroy(),t.changePhase(c.MagixPhase.Reconnecting),t.authorState.setConnectedMagixSession(null)},this.onReconnected=function(e){var n=e.connection,o=e.snapshot,a=e.actionFrames;return r(t,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this.buildMagixSession(n,o,a),e=this.switchWritableTaskId,this.switchWritable?[4,this.authorState.setWritable(!0,this.settingWritablePayload)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e===this.switchWritableTaskId&&(this.changePhase(c.MagixPhase.Connected),this.onModified()),[2]}}))}))},this.onGeneratedActionFrame=function(e){try{t.socketSession.connection.sendActionFrame(e)}catch(e){t.callbacks.onReceivedWarning&&t.callbacks.onReceivedWarning(e.message)}},this.onSelfUserIdUpdate=function(e){t.callbacks.onSelfUserIdUpdate&&t._phase!==c.MagixPhase.Ready&&t._phase!==c.MagixPhase.Connecting&&t.callbacks.onSelfUserIdUpdate(e)},this.onModified=function(){t.callbacks.onModified&&t._phase!==c.MagixPhase.Ready&&t._phase!==c.MagixPhase.Connecting&&(t.animationFrameTicker?t.animationFrameTicker.invoke():t.callbacks.onModified())},this.onEventFire=function(e){t.callbacks.onEventFire&&t.callbacks.onEventFire(o.getEventWithDescription(e,o.EventPhase.Dispatched))},this.onClientCrashWithError=function(e){t._phase===c.MagixPhase.Connected&&t.socketSession.reconnectWithError(e)},this.onDisconnectWithError=function(e){t.magixSession.destroy(),t.phase!==c.MagixPhase.Disconnected&&(t.socketSession.dispose(),t.changePhase(c.MagixPhase.Disconnected),t._phase===c.MagixPhase.Connecting?t.errorWhenConnecting=e:t.callbacks.onDisconnectWithError&&t.callbacks.onDisconnectWithError(e))},this.onKickedWithReason=function(e){t.magixSession.destroy(),t.phase!==c.MagixPhase.Disconnected&&(t.socketSession.dispose(),t.changePhase(c.MagixPhase.Disconnected),t._phase===c.MagixPhase.Connecting&&(t.errorWhenConnecting=new Error("kicked by server when connecting: "+e)),t.callbacks.onKickedWithReason&&t.callbacks.onKickedWithReason(e))},this.logger=e.logger,this.imageFactory=e.imageFactory,this.libraryNodeFetcher=e.libraryNodeFetcher,this.fetcher=e.fetcher,this.enableAnimationFrame=e.enableAnimationFrame,this.reconnectionOptions=e.reconnectionOptions,this.toolsExtra=e.toolsExtra,this.netState=e.netState,this.clientVersion=e.clientVersion,this.callbacks=o.wrapCallbacks(e.callbacks),this.callbacks.onModified&&e.enableAnimationFrame&&(this.animationFrameTicker=new s.AnimationFrameTicker(this.callbacks.onModified)),this.authorState=new l.MagixAuthorState(e.userPayload,this.onSelfUserIdUpdate,this.onModified)}return Object.defineProperty(e.prototype,"modifiable",{get:function(){return this._modifiable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeDelay",{get:function(){return this._timeDelay},set:function(e){this._timeDelay=e,this.magixSession&&this.magixSession.updateTimeDelay(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"session",{get:function(){return this.socketSession&&this.socketSession.session},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slice",{get:function(){return this.socketSession&&this.socketSession.slice},enumerable:!0,configurable:!0}),e.prototype.changePhase=function(e){this._phase!==e&&(this._phase=e,this.callbacks.onPhaseChanged&&this.callbacks.onPhaseChanged(e))},Object.defineProperty(e.prototype,"selfUserId",{get:function(){return this.authorState.selfUserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWritable",{get:function(){return void 0!==this.authorState.selfUserId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imagePhase",{get:function(){if(!this.magixSession)throw new Error("image phase not exist when Magix's phase is "+this.phase);return this.magixSession.imagePhase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trigger",{get:function(){if(!this.magixSession)throw new Error("trigger object not exist when Magix's phase is "+this.phase);return this.magixSession.trigger},enumerable:!0,configurable:!0}),e.prototype.setWritable=function(e,t){return this._phase===c.MagixPhase.Connected||this._phase===c.MagixPhase.Reconnecting?(this.switchWritable=e,this.settingWritablePayload=e?t:void 0,this.authorState.setWritable(e,t)):Promise.reject(new Error("can't only set writable when connected or reconnecting"))},e.prototype.connect=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,a,s;return i(this,(function(i){switch(i.label){case 0:if(this.phase!==c.MagixPhase.Ready)throw new Error("can't connect when Magix's phase is "+this.phase);this.changePhase(c.MagixPhase.Connecting),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,u.connectWebSocketSession({logger:this.logger,fetcher:this.fetcher,uuid:e.uuid,roomToken:e.roomToken,clientVersion:this.clientVersion,access:d.getAccessWithToken(e.roomToken),netState:this.netState,reconnectionOptions:this.reconnectionOptions,objectOperator:this.imageFactory.proxyManager.objectOperator,libraryNodeFetcher:this.libraryNodeFetcher,callbacks:{onReceivedActionFrame:this.onReceivedActionFrame,onReceivedScopeSlices:this.onReceivedScopeSlices,onBeginReconnect:this.onBeginReconnect,onReconnected:this.onReconnected,onSliceUpdate:this.callbacks.onSliceChanged,onSessionUpdate:this.callbacks.onSessionChanged,onDisconnectedByServer:this.onDisconnectWithError,onDisconnectedWithSocketError:this.onDisconnectWithError,onKickWithReason:this.onKickedWithReason}})];case 2:return t=i.sent(),r=t.connection,o=t.snapshot,a=t.actionFrames,this.socketSession=n=t.session,this.settingWritablePayload=e.connectedPayload,this.buildMagixSession(r,o,a),e.isWritable?[4,this.authorState.setWritable(!0,e.connectedPayload)]:[3,4];case 3:i.sent(),this.switchWritable=!0,i.label=4;case 4:if(this._phase!==c.MagixPhase.Connecting)throw this.errorWhenConnecting?this.errorWhenConnecting:new Error("magix connect fail");return this.changePhase(c.MagixPhase.Connected),[2,n.libraryNode];case 5:throw s=i.sent(),this.cleanActionFramesBufferList(),this.changePhase(c.MagixPhase.Disconnected),s;case 6:return[2]}}))}))},e.prototype.reconnectWithError=function(e){if(this._phase!==c.MagixPhase.Reconnecting){if(this._phase!==c.MagixPhase.Connected)throw new Error("can't reconnect when magix's phase is "+this._phase);this.socketSession.reconnectWithError(e)}},e.prototype.buildMagixSession=function(e,t,n){var r=this;this.magixSession&&this.magixSession.destroy();var i=this.magixSession=new a.MagixSession({logger:this.logger,library:p.getLibraryWithClass(this.socketSession.libraryNode.libraryClass),connection:e,snapshot:t,initializeActionFrames:n,imageFactory:this.imageFactory,enableAnimationFrame:this.enableAnimationFrame,originalMagixSession:this.magixSession,timeDelay:this._timeDelay,toolsExtra:this.toolsExtra,callbacks:{onImagePhaseChanged:function(e){return r.onImagePhaseChanged(i,e)},onGeneratedActionFrame:this.onGeneratedActionFrame,onModified:this.onModified,onEventFire:this.onEventFire,onClientCrashWithError:this.onClientCrashWithError,onReceivedRttReport:this.callbacks.onReceivedRttReport,onCatchErrorWhenAppendFrame:this.callbacks.onCatchErrorWhenAppendFrame||function(e,t){return r.logger.error(t)}}});this.magixSession.setModifiable(this._modifiable),this.authorState.setConnectedMagixSession(this.magixSession)},e.prototype.disconnect=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return this.phase!==c.MagixPhase.Reconnecting?[3,1]:(this.socketSession.dispose(),this.changePhase(c.MagixPhase.Disconnected),[3,7]);case 1:if(this.phase!==c.MagixPhase.Connected)return[3,6];this.changePhase(c.MagixPhase.Disconnecting),e.label=2;case 2:return e.trys.push([2,,4,5]),[4,this.socketSession.connection.disconnect()];case 3:return e.sent(),[3,5];case 4:return this.changePhase(c.MagixPhase.Disconnected),[7];case 5:return[3,7];case 6:throw new Error("can't disconnect when Magix's phase is "+this.phase);case 7:return[2]}}))}))},e.prototype.dispatch=function(e,t){if(this.phase!==c.MagixPhase.Connected)throw new Error("can't dispatch event when Magix's phase is "+this.phase);this.magixSession.dispatch(e,t)},e.prototype.onImagePhaseChanged=function(e,t){this.callbacks.onImagePhaseChanged&&this.magixSession===e&&this.callbacks.onImagePhaseChanged(t)},e.prototype.cleanActionFramesBufferList=function(){return this.actionFramesBufferList.splice(0,this.actionFramesBufferList.length)},e}();t.MagixImplement=h},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(3),a=n(44),s=function(){function e(e){var t=this;this.receivedActionFrame=function(e){var n=new i.FramePicker(e);t.frameIdAsserter.assertReceivedFrameId(n.frameId),t.playerBuffer.pushFrames([n])},this.onPlayActionFrames=function(e){for(var n=[],r=0,i=e;r<i.length;r++)n.push(i[r].frameBuffer);try{t.image.appendActionFrames(n)}catch(e){if(!t.onClientCrashWithError)throw e;t.onClientCrashWithError(e)}},this.connection=e.connection,this.logger=e.logger,this.image=e.imageFactory.createWithSnapshot({logger:e.logger,library:e.library,snapshotFrame:e.snapshot,actionFrames:r(e.initializeActionFrames),includesFrameHash:!1,ignoreHashChecking:!0,roomUUID:e.connection.uuid,toolsExtra:e.toolsExtra,originalImage:e.originalMagixSession&&e.originalMagixSession.image,callbacks:{onModified:e.callbacks.onModified,onPhaseChanged:e.callbacks.onImagePhaseChanged,onGeneratedActionFrame:e.callbacks.onGeneratedActionFrame,onCatchErrorWhenAppendFrame:e.callbacks.onCatchErrorWhenAppendFrame,onReceivedRttReport:e.callbacks.onReceivedRttReport,onEventFire:e.callbacks.onEventFire,onClientCrashWithError:e.callbacks.onClientCrashWithError}}),this.frameIdAsserter=new a.FrameIdAsserter(this.image.frameId),this.playerBuffer=o.playerBufferFactory.create({logger:e.logger,mode:o.PlayerBufferMode.Realtime,frameDelay:e.timeDelay,enableAnimationFrame:e.enableAnimationFrame,initFrameTimestamp:this.image.timestamp,callbacks:{onPlayActionFrames:this.onPlayActionFrames}}),this.onClientCrashWithError=e.callbacks.onClientCrashWithError,this.playerBuffer.play()}return Object.defineProperty(e.prototype,"imagePhase",{get:function(){return this.image.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trigger",{get:function(){return this.image.trigger},enumerable:!0,configurable:!0}),e.prototype.receivedScopeSlices=function(e){this.image.appendScopeSlices(e)},e.prototype.dispatch=function(e,t){this.image.dispatch(e,t)},e.prototype.updateTimeDelay=function(e){this.playerBuffer.frameDelay=e},e.prototype.setModifiable=function(e){this.image.modifiable=e},e.prototype.setAllocatedUser=function(e){return this.image.setAllocatedUser(e)},e.prototype.removeAllocatedUser=function(){return this.image.removeAllocatedUser()},e.prototype.destroy=function(){this.image.destroy()},e}();t.MagixSession=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),i=n(42),o=n(5),a=function(){function e(){}return e.prototype.create=function(e){switch(e.mode){case o.PlayerBufferMode.Realtime:return new r.RealtimePlayerBuffer(e);case o.PlayerBufferMode.Reconstruction:return new i.ReconstructionPlayerBuffer(e)}},e}();t.PlayerBufferFactory=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=[{duration:1200,rate:1},{duration:1e3,rate:.75},{duration:3e3,rate:.5},{duration:5e3,rate:.25}],s=function(){for(var e=0,t=0,n=a;t<n.length;t++)e+=n[t].duration;return e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.meanDelayTimeOffset=0,n.latestPlayFrameTimestamp=t.initFrameTimestamp,n.latestPlayDeviceTimestamp=0,n}return i(t,e),Object.defineProperty(t.prototype,"isPlaybackSpeedModifiable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playbackSpeed",{get:function(){return 1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"willTickEveryFrames",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.onPlayingContinue=function(){},t.prototype.onPlayingStop=function(){},t.prototype.onTick=function(){for(var e=[],t=Date.now(),n=t+this.frameInterval;this.currentBufferInterval>s;)e.push(this.takeNextFrame());for(;this.framesBufferLength>0;){var r=this.nextFrame,i=this.playTimestampReferPrevious(r)/2+(r.timestamp+this.meanDelayTimeOffset)/2;if(this.reportFrame(t,r),!(i<=n))break;e.push(this.takeNextFrame())}e.length>0&&this.playFrames(e),this.callbacks.onBufferRemainLow&&!this.didCompletePushFrames&&this.currentBufferRemainTimeInterval<this.remainLowTimeInterval&&this.callbacks.onBufferRemainLow()},t.prototype.reportFrame=function(e,t){this.meanDelayTimeOffset=(e-t.timestamp)/2+this.meanDelayTimeOffset/2},t.prototype.playTimestampReferPrevious=function(e){var t=function(e){for(var t=0,n=a;t<n.length;t++){var r=n[t];if(e<=r.duration)return r.rate;e-=r.duration}throw new Error("durationTime is too large:"+e)}(this.currentBufferInterval)*(e.timestamp-this.latestPlayFrameTimestamp);return this.latestPlayDeviceTimestamp+t},Object.defineProperty(t.prototype,"currentBufferRemainTimeInterval",{get:function(){if(this.framesBufferLength>0){var e=this.newestPushFrame.timestamp-this.latestPlayFrameTimestamp,t=Date.now()-this.latestPlayDeviceTimestamp;return Math.max(0,e-t)}return 0},enumerable:!0,configurable:!0}),t.prototype.playFrames=function(e){try{this.callbacks.onPlayActionFrames&&this.callbacks.onPlayActionFrames(e)}catch(e){this.logger.error(e)}finally{this.latestPlayFrameTimestamp=e[e.length-1].timestamp,this.latestPlayDeviceTimestamp=Date.now()}},t}(o.AbstractPlayerBuffer);t.RealtimePlayerBuffer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=this;this.nodes=[],this.timer=null,this.onFire=function(){var e=n.nodes.pop(),t=Date.now();n.onDelayedFrames(e.frames),n.nodes.length>0?n.startNextTimer(t):n.stopTimer()},this._frameDelay=e,this.onDelayedFrames=t}return Object.defineProperty(e.prototype,"frameDelay",{get:function(){return this._frameDelay},set:function(e){this._frameDelay!==e&&(this.changeFrameDelay(this._frameDelay,e),this._frameDelay=e)},enumerable:!0,configurable:!0}),e.prototype.pushFrames=function(e){var t=Date.now();this.nodes.unshift({frames:e,beginAt:t,fireAt:t+this._frameDelay}),null===this.timer&&(this.timer=setTimeout(this.onFire,this._frameDelay))},e.prototype.release=function(){null!==this.timer&&this.stopTimer();for(var e=this.nodes.splice(0),t=e.length-1;t>=0;t--)this.onDelayedFrames(e[t].frames)},e.prototype.changeFrameDelay=function(e,t){null!==this.timer&&this.stopTimer();for(var n=!1,r=Date.now(),i=t-e,o=this.nodes.length-1;o>=0;o--){var a=this.nodes[o];a.fireAt+=i,n||(a.fireAt<=r?(this.onDelayedFrames(a.frames),this.nodes.pop()):n=!0)}this.nodes.length>0&&this.startNextTimer(r)},e.prototype.startNextTimer=function(e){var t=Math.max(0,this.nodes[this.nodes.length-1].fireAt-e);this.timer=setTimeout(this.onFire,t)},e.prototype.stopTimer=function(){clearTimeout(this.timer),this.timer=null},e}();t.FramesDelayer=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(3),s=function(e){function t(t){var n=e.call(this,t)||this;return n._playbackSpeed=1,n.endFrameTimestamp=t.endFrameTimestamp,n.anchor={deviceTimestamp:Date.now(),playerTimestamp:t.initFrameTimestamp},n}return i(t,e),t.prototype.play=function(){e.prototype.play.call(this);var t=this.callbacks.onBufferRemainLow;t&&this.isBufferRemainLow&&Promise.resolve().then(t)},Object.defineProperty(t.prototype,"isPlaybackSpeedModifiable",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playbackSpeed",{get:function(){return this._playbackSpeed},set:function(e){if(e<0)throw new Error("invalid playback speed "+e+". it shouldn't be nagative number");if(Number.isNaN(e)||1/0===e)throw new Error("invalid playback speed. it can not be "+e);this._playbackSpeed!==e&&(this.phase===a.PlayerPhase.Playing&&this.refreshAnchor(this._playbackSpeed),this._playbackSpeed=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"willTickEveryFrames",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.onPlayingContinue=function(){this.refreshAnchor(0)},t.prototype.onPlayingStop=function(){this.refreshAnchor(this._playbackSpeed)},t.prototype.onTick=function(){for(var e=[],t=this.playbackSpeed*(Date.now()-this.anchor.deviceTimestamp+this.frameInterval),n=this.anchor.playerTimestamp+t;this.framesBufferLength>0&&this.nextFrame.timestamp<=n;)e.push(this.takeNextFrame());if(e.length>0)try{this.callbacks.onPlayActionFrames&&this.callbacks.onPlayActionFrames(e)}catch(e){this.logger.error(e)}if(this.callbacks.onTick)if(e.length>0){var r=Math.max(this.anchor.playerTimestamp,e[e.length-1].timestamp);this.callbacks.onTick(r,!1)}else this.callbacks.onTick(n,!0);this.callbacks.onBufferRemainLow&&!this.didCompletePushFrames&&this.isBufferRemainLow&&this.callbacks.onBufferRemainLow(),this.didCompletePushFrames&&0===e.length&&(void 0===this.endFrameTimestamp||n>=this.endFrameTimestamp)&&this.completePlaying()},t.prototype.refreshAnchor=function(e){var t=Date.now();this.anchor={deviceTimestamp:t,playerTimestamp:this.anchor.playerTimestamp+e*(t-this.anchor.deviceTimestamp)}},Object.defineProperty(t.prototype,"isBufferRemainLow",{get:function(){return this.currentBufferInterval<this.remainLowTimeInterval},enumerable:!0,configurable:!0}),t}(o.AbstractPlayerBuffer);t.ReconstructionPlayerBuffer=s},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(11),a=function(){function e(e){var t=this;this.isPlaying=!1,this.shouldPlaying=!1,this.isRefreshing=!1,this.currentPhase=function(){return t.didAllEnded?o.PlayerPhase.Ended:t.isPlaying?t.isAnyPlayerPadding?o.PlayerPhase.Waiting:o.PlayerPhase.Playing:o.PlayerPhase.Pausing},this.players=Object.freeze(r(e.players)),this.playbackSpeedModifiablePlayers=Object.freeze(this.players.filter((function(e){return e.isPlaybackSpeedModifiable}))),this.isAnyPlayerPadding=this.checkIsAnyPlayerPadding(),this.didAllEnded=this.checkDidAllEnded(),this.phaseNode=new i.PhaseNode({getCurrentPhase:this.currentPhase,onPhaseChanged:e.onPhaseChanged})}return Object.defineProperty(e.prototype,"phase",{get:function(){return this.phaseNode.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaybackSpeedModifiable",{get:function(){return this.playbackSpeedModifiablePlayers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playbackSpeed",{get:function(){var e=this.playbackSpeedModifiablePlayers[0];return e?e.playbackSpeed:1},set:function(e){for(var t=0,n=this.playbackSpeedModifiablePlayers;t<n.length;t++)n[t].playbackSpeed=e},enumerable:!0,configurable:!0}),e.prototype.touchPlayerPhaseChanged=function(){this.didDispose||(this.didAllEnded=this.checkDidAllEnded(),this.isAnyPlayerPadding=this.checkIsAnyPlayerPadding(),this.refreshShouldPlaying())},e.prototype.play=function(){this.didDispose||this.didAllEnded||this.isPlaying||(this.isPlaying=!0,this.refreshShouldPlaying())},e.prototype.pause=function(){!this.didDispose&&this.isPlaying&&(this.isPlaying=!1,this.refreshShouldPlaying())},e.prototype.dispose=function(){for(var e=0,t=this.players;e<t.length;e++)t[e].pause();this.didDispose=!0},e.prototype.refreshShouldPlaying=function(){if(!this.isRefreshing){this.isRefreshing=!0;try{for(var e=!1,t=0;t<20&&this.shouldPlaying!==(e=this.isPlaying&&!this.isAnyPlayerPadding);++t){this.shouldPlaying=e;for(var n=0,r=this.players;n<r.length;n++){var i=r[n];e?i.play():i.pause()}}if(this.shouldPlaying!==e)throw new Error("switch play state can't convergence");this.phaseNode.touch()}finally{this.isRefreshing=!1}}},e.prototype.checkIsAnyPlayerPadding=function(){for(var e=0,t=this.players;e<t.length;e++){var n=t[e];if(n.phase===o.PlayerPhase.Waiting||n.phase===o.PlayerPhase.PausingAndWaiting)return!0}return!1},e.prototype.checkDidAllEnded=function(){for(var e=0,t=this.players;e<t.length;e++)if(t[e].phase!==o.PlayerPhase.Ended)return!1;return!0},e}();t.PlayerSynchronizer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.latestReceivedFrameId=-1,this.didAssertedCount=0,this.latestReceivedFrameId=e}return e.prototype.assertReceivedFrameId=function(e){var t=this.latestReceivedFrameId+1;if(e!==t)throw new Error("Magix want frameId "+t+", instead of "+e+" (did assered "+this.didAssertedCount+" frames)");this.latestReceivedFrameId=e,this.didAssertedCount++},e}();t.FrameIdAsserter=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.userPayload=e,this.onSelfUserIdUpdate=t,this.onConvertToWritable=n,this._selfUserId=void 0,this.invokerBlock=Promise.resolve(),this.isConnectedSessionWritable=!1,this.connectedSession=null}return Object.defineProperty(e.prototype,"selfUserId",{get:function(){return this._selfUserId},enumerable:!0,configurable:!0}),e.prototype.setConnectedMagixSession=function(e){this.connectedSession!==e&&(!this.connectedSession&&e&&this.paddingAndWaitSession&&(this.paddingAndWaitSession(e),this.paddingAndWaitSession=void 0),this.connectedSession=e,this.isConnectedSessionWritable=!1)},e.prototype.setWritable=function(e,t){return this.invokerBlock=this.convertTo(this.invokerBlock,e,t)},e.prototype.convertTo=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return[4,e];case 1:if(i.sent(),this.isConnectedSessionWritable===t)return[2];this.updateObserverId(void 0),r=null,i.label=2;case 2:return[4,this.waitAndGetConnectedSession()];case 3:return o=i.sent(),this.isConnectedSessionWritable===t?[3,10]:t?[4,o.connection.updateToWritable(this.userPayload,n)]:[3,6];case 4:return(r=i.sent())?[4,o.setAllocatedUser(r)]:[3,2];case 5:return i.sent(),[3,9];case 6:return[4,o.connection.updateToReadonly(n)];case 7:return i.sent()?[4,o.removeAllocatedUser()]:[3,2];case 8:i.sent(),i.label=9;case 9:return this.isConnectedSessionWritable=t,[3,10];case 10:return r&&this.updateObserverId(r.userId),this.onConvertToWritable&&this.onConvertToWritable(!!r),[2]}}))}))},e.prototype.waitAndGetConnectedSession=function(){var e=this;return this.connectedSession?Promise.resolve(this.connectedSession):new Promise((function(t){return e.paddingAndWaitSession=t}))},e.prototype.updateObserverId=function(e){this._selfUserId!==e&&(this._selfUserId=e,this.onSelfUserIdUpdate&&this.onSelfUserIdUpdate(e))},e}();t.MagixAuthorState=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o="NETLESSROOM_".length;!function(e){e[e.Admin=0]="Admin",e[e.Writer=1]="Writer",e[e.Reader=2]="Reader"}(r||(r={})),t.getAccessWithToken=function(e){if(!/^NETLESSROOM_.+/.test(e)){if(/^WHITE.+/.test(e))return"writable";throw new Error("invalid room token: "+JSON.stringify(e))}var t=e.substring(o),n=i.parse(atob(t.replace(/_/g,"/").replace(/-/g,"+"))),a=parseFloat(""+n.role);if(Number.isNaN(a)||!Number.isSafeInteger(a))throw new Error("invalid room token with wrong role: "+JSON.stringify(e));switch(a){case r.Admin:case r.Writer:return"writable";case r.Reader:return"readonly";default:throw new Error("find unrecognized role from roomToken: "+a)}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(19),c=n(48),u=n(49),l=n(3),p=function(){function e(e){var t=this;this._progressTime=0,this._playbackSpeed=1,this.isPlaying=!1,this.isSeeking=!1,this.didStop=!1,this.currentSeekingTaskId=0,this.currentLine=void 0,this.onLineSliceChanged=function(){t.currentLine&&(t.sliceStateUpdater.refreshReconstructorLine(t.currentLine),t.callbacks.onModified&&t.callbacks.onModified(),t.onTick(t.currentLine.beginTimestamp))},this.currentIsPlayable=function(){if(t.didStop||!t.currentLine||t.isSeeking)return!1;switch(t.currentLine.phase){case l.PlayerPhase.Playing:case l.PlayerPhase.Pausing:return!0;case l.PlayerPhase.PausingAndWaiting:case l.PlayerPhase.Waiting:case l.PlayerPhase.Ended:return!1}},this.currentPhase=function(){if(t.didStop)return s.ReconstructorPhase.Stopped;if(!t.currentLine)return s.ReconstructorPhase.WaitingFirstFrame;if(t.isSeeking)return s.ReconstructorPhase.Seeking;switch(t.currentLine.phase){case l.PlayerPhase.Playing:return s.ReconstructorPhase.Playing;case l.PlayerPhase.Pausing:case l.PlayerPhase.PausingAndWaiting:return s.ReconstructorPhase.Pause;case l.PlayerPhase.Waiting:return s.ReconstructorPhase.Buffering;case l.PlayerPhase.Ended:return s.ReconstructorPhase.Ended}},this.touchPhaseChanged=function(){t.phaseNode.touch(),t.isPlayableNode.touch()},this.onTick=function(e){var n=Math.min(e-t.beginTimestamp,t.sliceChunk.duration);t._progressTime=n,t.callbacks.onProgressTimeChanged&&t.callbacks.onProgressTimeChanged(n)},this.onThirdPartyReconstructorPlayerPhaseChanged=function(){t.currentLine&&t.currentLine.touchThirdPartyUpdate()},this.onCatchError=function(e){t.didStop||(t.stop(),t.callbacks.onStoppedWithError&&t.callbacks.onStoppedWithError(e))},this.onEventFire=function(e){t.callbacks.onEventFire&&t.callbacks.onEventFire(a.getEventWithDescription(e,a.EventPhase.Dispatched))},this.logger=e.logger,this.sliceChunk=e.sliceChunk,this.sequenceFetcher=e.sequenceFetcher,e.thirdPartyReconstructorFactory&&(this.thirdPartyReconstructorPlayer=new c.ThirdPartyReconstructorPlayer({thirdPartyReconstructorFactory:e.thirdPartyReconstructorFactory,onPhaseChanged:this.onThirdPartyReconstructorPlayerPhaseChanged,onCatchError:this.onCatchError})),this.callbacks=a.wrapCallbacks(e.callbacks),this.sliceStateUpdater=e.sliceStateUpdater,this.sliceStateUpdater.onSliceChanged=this.callbacks.onSliceChanged,this.sliceStateUpdater.onLibraryNodeChanged=this.callbacks.onLibraryNodeChanged,this.isPlayableNode=new a.PhaseNode({phase:!1,onPhaseChanged:e.callbacks.onIsPlayableChanged,getCurrentPhase:this.currentIsPlayable}),this.phaseNode=new a.PhaseNode({phase:s.ReconstructorPhase.WaitingFirstFrame,onPhaseChanged:e.callbacks.onPhaseChanged,getCurrentPhase:this.currentPhase}),this.lineFactory=new u.ReconstructorLineFactory({sliceChunk:e.sliceChunk,imageFactory:e.imageFactory,sequenceFetcher:e.sequenceFetcher,toolsExtra:e.toolsExtra,thirdPartyReconstructorPlayer:this.thirdPartyReconstructorPlayer,enableAnimationFrame:e.enableAnimationFrame})}return Object.defineProperty(e.prototype,"trigger",{get:function(){if(!this.currentLine)throw new Error("trigger object not exist when Reconstructor's phase is "+this.phase);return this.currentLine.trigger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlayable",{get:function(){return this.isPlayableNode.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phase",{get:function(){return this.phaseNode.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressTime",{get:function(){return this._progressTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slice",{get:function(){return this.sliceStateUpdater.slice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sliceIndex",{get:function(){return this.sliceStateUpdater.sliceIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libIdentifier",{get:function(){return this.sliceStateUpdater.libIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libraryNode",{get:function(){return this.sliceStateUpdater.libraryNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"roomUUID",{get:function(){return this.sliceChunk.roomUUID},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.sliceChunk.duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"framesCount",{get:function(){return this.sliceChunk.framesCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beginTimestamp",{get:function(){return this.sliceChunk.beginTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playbackSpeed",{get:function(){return this.currentLine?this.currentLine.playbackSpeed:this._playbackSpeed},set:function(e){this._playbackSpeed=e,this.currentLine&&(this.currentLine.playbackSpeed=e)},enumerable:!0,configurable:!0}),e.prototype.play=function(){if(this.assertNotStop(),this.phaseNode.phase!==s.ReconstructorPhase.Ended){var e=this.isPlaying;this.isPlaying=!0,e||this.isSeeking||(this.currentLine?this.currentLine.play():this.seekToProgressTime(0)),this.touchPhaseChanged()}},e.prototype.pause=function(){this.assertNotStop(),this.isPlaying&&!this.isSeeking&&this.currentLine&&this.currentLine.pause(),this.isPlaying=!1,this.touchPhaseChanged()},e.prototype.stop=function(){this.assertNotStop(),this.isSeeking&&this.currentSeekingTaskId++,this.currentLine&&(this.currentLine.destroy(),this.currentLine=void 0),this.thirdPartyReconstructorPlayer&&this.thirdPartyReconstructorPlayer.stop(),this.didStop=!0,this.touchPhaseChanged()},e.prototype.seekToFrameId=function(e){var t=this;this.assertNotStop(),e=Math.max(e,0),e=Math.min(e,this.framesCount),this.startSeekingTask((function(n){return t.lineFactory.createWithFrameId(t.logger,e,t.playbackSpeed,n,t.currentLine)}))},e.prototype.seekToProgressTime=function(e){var t=this;this.assertNotStop(),e=Math.max(e,0),e=Math.min(e,this.duration),Number.isSafeInteger(e)||(e=Math.floor(e));var n=this.thirdPartyReconstructorPlayer&&this.thirdPartyReconstructorPlayer.seek(e);this.startSeekingTask((function(n){return t.lineFactory.createWithProgressTime(t.logger,e,t.playbackSpeed,n,t.currentLine)}),n)},e.prototype.startSeekingTask=function(e,t){return i(this,void 0,void 0,(function(){var n,i,a,s,c;return o(this,(function(o){switch(o.label){case 0:this.isSeeking=!0,this.currentLine&&this.currentLine.destroy(),this.currentSeekingTaskId++,this.touchPhaseChanged(),n=this.currentSeekingTaskId,o.label=1;case 1:return o.trys.push([1,7,8,9]),i=r({},this.wrapCallbacksWithTaskChecking(n,{onCatchErrorWhenAppendFrame:this.callbacks.onCatchErrorWhenAppendFrame,onCatchErrorWhenFetchBuffer:this.onCatchError,onModified:this.callbacks.onModified,onSliceChanged:this.onLineSliceChanged,onEventFire:this.onEventFire,onTick:this.onTick,onPhaseChanged:this.touchPhaseChanged})),[4,e(i)];case 2:return a=o.sent(),this.thirdPartyReconstructorPlayer&&!t&&(t=this.thirdPartyReconstructorPlayer.seek(a.beginTimestamp-this.beginTimestamp)),this.currentSeekingTaskId!==n?[3,5]:(s=!t)?[3,4]:[4,t];case 3:s=o.sent(),o.label=4;case 4:return s?(this.isSeeking=!1,a.loadActionFrames(),this.changeCurrentLine(a)):this.currentSeekingTaskId++,[3,6];case 5:a.destroy(),o.label=6;case 6:return[3,9];case 7:throw c=o.sent(),this.onCatchError(c),c;case 8:return this.currentSeekingTaskId===n&&this.touchPhaseChanged(),[7];case 9:return[2]}}))}))},e.prototype.changeCurrentLine=function(e){this.currentLine=e,this.sliceStateUpdater.refreshReconstructorLine(e),this.isPlaying&&e.play(),this.callbacks.onModified&&this.callbacks.onModified(),this.onTick(e.beginTimestamp)},e.prototype.wrapCallbacksWithTaskChecking=function(e,t){var n=this,r={},i=function(i){var o=t[i];o&&(r[i]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(e===n.currentSeekingTaskId)return o.apply(void 0,t)})};for(var o in t)i(o);return r},e.prototype.assertNotStop=function(){if(this.didStop)throw new Error("Reconstructor did stop")},e}();t.ReconstructorImplement=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(20),a=function(){function e(e){var t=this;this.seekingResolvers=[],this.isPlaying=!1,this.isPadding=!1,this.isEnded=!1,this.didStop=!1,this.onEnded=function(){t.isEnded=!0,t.phaseNode.touch()},this.onCanPlay=function(){t.isPadding=!1,t.phaseNode.touch()},this.onBuffering=function(){t.isPadding=!0,t.phaseNode.touch()},this.onSeeked=function(){t.handleSeekingResolvers(!0)},this.currentPhase=function(){return t.isEnded||t.didStop?i.PlayerPhase.Ended:t.isPlaying?t.isPadding?i.PlayerPhase.Waiting:i.PlayerPhase.Playing:t.isPadding?i.PlayerPhase.PausingAndWaiting:i.PlayerPhase.Pausing},this.reconstructor=e.thirdPartyReconstructorFactory(this.wrapCallbacks({onEnded:this.onEnded,onCanPlay:this.onCanPlay,onBuffering:this.onBuffering,onSeeked:this.onSeeked,onCatchError:e.onCatchError})),this.phaseNode=new r.PhaseNode({getCurrentPhase:this.currentPhase,onPhaseChanged:e.onPhaseChanged})}return Object.defineProperty(e.prototype,"phase",{get:function(){return this.phaseNode.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlaybackSpeedModifiable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playbackSpeed",{get:function(){return 1},set:function(e){},enumerable:!0,configurable:!0}),e.prototype.seek=function(e){var t=this;return this.isEnded=!1,this.handleSeekingResolvers(!1),this.reconstructor.seek(e)===o.OperationResult.Success?Promise.resolve(!0):new Promise((function(e){return t.seekingResolvers.push(e)}))},e.prototype.play=function(){this.isEnded||this.isPlaying||(this.isPlaying=!0,this.isPadding=this.reconstructor.play()===o.OperationResult.Padding,this.phaseNode.touch())},e.prototype.pause=function(){this.isPlaying&&(this.isPlaying=!1,this.reconstructor.pause(),this.phaseNode.touch())},e.prototype.stop=function(){this.didStop||(this.didStop=!0,this.reconstructor&&this.reconstructor.stop(),this.phaseNode.touch())},e.prototype.handleSeekingResolvers=function(e){var t=this.seekingResolvers.length;if(t>0){for(var n=0,r=this.seekingResolvers;n<r.length;n++)(0,r[n])(e);this.seekingResolvers.splice(0,t)}},e.prototype.wrapCallbacks=function(e){var t=this,n={},r=function(r){var i=e[r];n[r]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.didStop||i.apply(t,e)}};for(var i in e)r(i);return n},e}();t.ThirdPartyReconstructorPlayer=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),a=function(){function e(e){this.sliceChunk=e.sliceChunk,this.imageFactory=e.imageFactory,this.sequenceFetcher=e.sequenceFetcher,this.toolsExtra=e.toolsExtra,this.thirdPartyReconstructorPlayer=e.thirdPartyReconstructorPlayer,this.enableAnimationFrame=e.enableAnimationFrame}return e.prototype.createWithFrameId=function(e,t,n,a,s){return r(this,void 0,void 0,(function(){var r,c,u,l,p;return i(this,(function(i){switch(i.label){case 0:return r=this.sliceChunk.getFrameDescriptionWithFrameId(t),u=r.frameId,l=this.sliceChunk.sliceAt(c=r.sliceIndex),[4,this.sequenceFetcher.initializeWithFrameId(l,u)];case 1:return p=i.sent(),[2,new o.ReconstructorLineImplement({logger:e,imageFactory:this.imageFactory,sequenceFetcher:this.sequenceFetcher,originalReconstructorLine:s,sliceChunk:this.sliceChunk,toolsExtra:this.toolsExtra,beginSliceIndex:c,initFrameTimestamp:this.sliceChunk.beginTimestamp,sequenceInitializer:p,thirdPartyReconstructorPlayer:this.thirdPartyReconstructorPlayer,enableAnimationFrame:this.enableAnimationFrame,playbackSpeed:n,callbacks:a})]}}))}))},e.prototype.createWithProgressTime=function(e,t,n,a,s){return r(this,void 0,void 0,(function(){var r,c,u,l,p;return i(this,(function(i){switch(i.label){case 0:return r=this.sliceChunk.getFrameDescriptionWithTimestamp(t),u=r.timestamp,l=this.sliceChunk.sliceAt(c=r.sliceIndex),[4,this.sequenceFetcher.initializeWithTimestamp(l,u+l.beginTimestamp)];case 1:return p=i.sent(),[2,new o.ReconstructorLineImplement({logger:e,imageFactory:this.imageFactory,sequenceFetcher:this.sequenceFetcher,originalReconstructorLine:s,sliceChunk:this.sliceChunk,toolsExtra:this.toolsExtra,beginSliceIndex:c,initFrameTimestamp:this.sliceChunk.beginTimestamp+t,sequenceInitializer:p,thirdPartyReconstructorPlayer:this.thirdPartyReconstructorPlayer,enableAnimationFrame:this.enableAnimationFrame,playbackSpeed:n,callbacks:a})]}}))}))},e}();t.ReconstructorLineFactory=a},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=n(3);function s(e){return r(this,void 0,void 0,(function(){var t,n,r,o;return i(this,(function(i){switch(i.label){case 0:t=3,r=0,i.label=1;case 1:if(!(r<t))return[3,6];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,e()];case 3:return[2,i.sent()];case 4:return o=i.sent(),n=o,[3,5];case 5:return++r,[3,1];case 6:throw n}}))}))}var c=function(){function e(e){var t=this;this.isDownloading=!1,this.didDestroy=!1,this.didFetchOverTimestampFrame=!1,this.onPlayActionFrames=function(e){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r],a=o.sequenceInitializer,s=o.framePicker;a&&(n.length>0&&(t.image.appendActionFrames(n),n=[]),t.image=t.createImage(a,t.image),t._libIdentifier=a.libIdentifier,t._libraryNode=a.libraryNode,t.playingSliceIndex++,t.callbacks.onSliceChanged&&t.callbacks.onSliceChanged()),s&&n.push(s.frameBuffer)}n.length>0&&t.image.appendActionFrames(n)},this.onBufferRemainLow=function(){t.isDownloading||t.loadActionFrames()},this.onPlayerBufferPhaseChanged=function(e){t.playerSynchronizer?t.playerSynchronizer.touchPlayerPhaseChanged():t.callbacks.onPhaseChanged&&t.callbacks.onPhaseChanged(e)},this.logger=e.logger,this.imageFactory=e.imageFactory,this.sliceChunk=e.sliceChunk,this.sequenceFetcher=e.sequenceFetcher,this.toolsExtra=e.toolsExtra,this.fetchingSliceIndex=e.beginSliceIndex,this.playingSliceIndex=e.beginSliceIndex,this.callbacks=e.callbacks,this.isFirstSlice=!0,this.image=this.createImage(e.sequenceInitializer,e.originalReconstructorLine&&e.originalReconstructorLine.image),this.fetchingFrameId=this.image.frameId,this.beginTimestamp=void 0===e.initFrameTimestamp?this.image.timestamp:e.initFrameTimestamp,this._libIdentifier=e.sequenceInitializer.libIdentifier,this._libraryNode=e.sequenceInitializer.libraryNode,this.playerBuffer=a.playerBufferFactory.create({logger:e.logger,mode:a.PlayerBufferMode.Reconstruction,enableAnimationFrame:e.enableAnimationFrame,initFrameTimestamp:this.beginTimestamp,endFrameTimestamp:this.sliceChunk.beginTimestamp+this.sliceChunk.duration,callbacks:{onBufferRemainLow:this.onBufferRemainLow,onPlayActionFrames:this.onPlayActionFrames,onPhaseChanged:this.onPlayerBufferPhaseChanged,onTick:e.callbacks.onTick}}),this.playerBuffer.playbackSpeed=e.playbackSpeed,e.thirdPartyReconstructorPlayer?(this.playerSynchronizer=new a.PlayerSynchronizer({players:[e.thirdPartyReconstructorPlayer,this.playerBuffer],onPhaseChanged:e.callbacks.onPhaseChanged}),this.targetPlayer=this.playerSynchronizer):this.targetPlayer=this.playerBuffer}return Object.defineProperty(e.prototype,"trigger",{get:function(){return this.image.trigger},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libIdentifier",{get:function(){return this._libIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libraryNode",{get:function(){return this._libraryNode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playbackSpeed",{get:function(){return this.playerBuffer.playbackSpeed},set:function(e){this.playerBuffer.playbackSpeed=e},enumerable:!0,configurable:!0}),e.prototype.createImage=function(e,t){var n=e.snapshot,r=e.actionFrames,i=e.akkoSerVersion,a=this.imageFactory.createWithSnapshot({logger:this.logger,library:o.getLibraryWithClass(e.libraryNode.libraryClass),snapshotFrame:n,actionFrames:r,originalImage:t,toolsExtra:this.toolsExtra,roomUUID:this.sliceChunk.roomUUID,includesFrameHash:!1,ignoreHashChecking:!0,snapshotDeserializerVersion:i,actionDeserializerVersion:i,callbacks:{onModified:this.callbacks.onModified,onEventFire:this.callbacks.onEventFire,onCatchErrorWhenAppendFrame:this.callbacks.onCatchErrorWhenAppendFrame}});return a.modifiable=!1,a},Object.defineProperty(e.prototype,"slice",{get:function(){return this.sliceChunk.sliceAt(this.playingSliceIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sliceIndex",{get:function(){return this.playingSliceIndex},enumerable:!0,configurable:!0}),e.prototype.play=function(){this.targetPlayer.play()},e.prototype.pause=function(){this.targetPlayer.pause()},e.prototype.destroy=function(){this.didDestroy||(this.playerSynchronizer&&this.playerSynchronizer.dispose(),this.playerBuffer.pause(),this.image.destroy(),this.didDestroy=!0)},e.prototype.touchThirdPartyUpdate=function(){this.playerSynchronizer&&this.playerSynchronizer.touchPlayerPhaseChanged()},Object.defineProperty(e.prototype,"phase",{get:function(){return this.targetPlayer.phase},enumerable:!0,configurable:!0}),e.prototype.isRemainFramesToFetch=function(){return!this.didFetchOverTimestampFrame&&this.fetchingSliceIndex<this.sliceChunk.slicesCount},e.prototype.loadActionFrames=function(){var e=this;this.fillActionFramesIntoBuffer().catch((function(t){return e.logger.error(t)}))},e.prototype.fillActionFramesIntoBuffer=function(){return r(this,void 0,void 0,(function(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:if(!this.isRemainFramesToFetch())return[3,5];i.label=1;case 1:return i.trys.push([1,3,4,5]),this.isDownloading=!0,[4,this.fetchFrames()];case 2:return e=i.sent(),n=this.removeTimestampOverFrames(e,t=this.sliceChunk.beginTimestamp+this.sliceChunk.duration),e.length>0&&(this.fetchingFrameId=e[e.length-1].frameId),n.length>0&&(this.didFetchOverTimestampFrame=!0,e.push({frameId:this.fetchingFrameId+1,timestamp:t})),e.length>0&&this.playerBuffer.pushFrames(e),this.isRemainFramesToFetch()||this.playerBuffer.completePushFrames(),[3,5];case 3:return r=i.sent(),this.callbacks.onCatchErrorWhenFetchBuffer&&this.callbacks.onCatchErrorWhenFetchBuffer(r),[3,5];case 4:return this.isDownloading=!1,[7];case 5:return[2]}}))}))},e.prototype.fetchFrames=function(){return r(this,void 0,void 0,(function(){var t,n,r,o,a,c,u,l,p,d,h=this;return i(this,(function(i){switch(i.label){case 0:for(;;){if(!(t=this.sliceChunk.sliceAt(this.fetchingSliceIndex)))return[2,[]];if((n=t.framesCount-this.fetchingFrameId)>0)break;this.fetchingFrameId=0,this.fetchingSliceIndex++,this.isFirstSlice=!1}return r=Math.min(n,e.fetchFramesCountOnce),o=0===this.fetchingFrameId&&!this.isFirstSlice,[4,Promise.all([s((function(){return h.sequenceFetcher.fetchFramePickers(t,h.fetchingFrameId,r)})),o?s((function(){return h.sequenceFetcher.initializeWithFrameId(t,h.fetchingFrameId)})):Promise.resolve(void 0)])];case 1:for(a=i.sent(),c=a[1],u=[],l=0,p=a[0];l<p.length;l++)u.push({frameId:(d=p[l]).frameId,timestamp:d.timestamp,framePicker:d});return c&&(u[0].sequenceInitializer=c),[2,u]}}))}))},e.prototype.removeTimestampOverFrames=function(e,t){var n=e.findIndex((function(e){return e.timestamp>=t}));return-1!==n?e.splice(n,e.length-n):[]},e.fetchFramesCountOnce=600,e}();t.ReconstructorLineImplement=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(1),c=n(21),u=n(0);function l(e,t,n){var r=Math.min(e,n),i=Math.max(e,n);return t<r?t=r:t>i&&(t=i),t}var p=function(){function e(e){var t=this;this.fetchLibraryNode=function(e,n){return i(t,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return this.previousLibraryNode&&this.previousLibraryNode.libIdentifier===n?[2,this.previousLibraryNode.libraryNode]:[3,1];case 1:return[4,this.libraryNodeFetcher({appIdentifier:e.appIdentifier,appVersion:e.appVersion,appHash:e.appHash,libIdentifier:n})];case 2:return t=r.sent(),this.previousLibraryNode=Object.freeze({libIdentifier:n,libraryNode:t}),[2,t]}}))}))},this.logger=e.logger,this.appIdentifier=e.appIdentifier,this.fetcher=e.fetcher,this.libraryNodeFetcher=e.libraryNodeFetcher}return e.prototype.initializeWithTimestamp=function(e,t){return i(this,void 0,void 0,(function(){var n,i,a;return o(this,(function(o){switch(o.label){case 0:return n=e.libIdentifier,[4,Promise.all([this.sequenceImageInitializerWithTimestamp(e,t),this.fetchLibraryNode(e,n)])];case 1:return i=o.sent(),a=i[1],[2,r(r({},i[0]),{libraryNode:a,libIdentifier:n})]}}))}))},e.prototype.initializeWithFrameId=function(e,t){return i(this,void 0,void 0,(function(){var n,i,a;return o(this,(function(o){switch(o.label){case 0:return n=e.libIdentifier,[4,Promise.all([this.sequenceImageInitializerWithFrameId(e,t),this.fetchLibraryNode(e,n)])];case 1:return i=o.sent(),a=i[1],[2,r(r({},i[0]),{libraryNode:a,libIdentifier:n})]}}))}))},e.prototype.sequenceImageInitializerWithTimestamp=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,s,u,p,d,h,f;return o(this,(function(o){switch(o.label){case 0:return n=l(e.beginTimestamp,t,e.beginTimestamp+e.duration),[4,this.fetcher.fetch("persistence")];case 1:return r=o.sent(),i="https://persistence/pv/slices/"+e.uuid+"/snapshots?"+a.stringify({timestamp:n}),[4,r.fetchJSON(i,{method:"get",headers:{"content-type":"application/json",app:this.appIdentifier}})];case 2:return(s=o.sent())||(this.logger.warn("cannot find snapshot that timestamp="+n+" and slice="+e.uuid),s={frameId:0,timestamp:e.beginTimestamp}),[4,this.fetchFrameRouterPicker(e,s.frameId)];case 3:for(u=o.sent(),p=0,d=0;d<u.framesCount&&u.timestampAt(d)<=t;d++)p++;return[4,this.fetchSnapshot(e,s.frameId)];case 4:return h=o.sent(),0!==p?[3,5]:(f=[],[3,7]);case 5:return[4,this.fetchFramePickers(e,s.frameId,p)];case 6:f=o.sent(),o.label=7;case 7:return[2,{snapshot:h.frameBuffer,actionFrames:f.map((function(e){return e.frameBuffer})),akkoSerVersion:c.convertToAkkoSerVersion(e.akkoVersion)}]}}))}))},e.prototype.sequenceImageInitializerWithFrameId=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a;return o(this,(function(o){switch(o.label){case 0:return n=l(0,t,e.framesCount-1),[4,this.fetchSnapshot(e,n)];case 1:return r=o.sent(),0!=(i=n-r.frameId)?[3,2]:[2,{snapshot:r.frameBuffer,actionFrames:[],akkoSerVersion:c.convertToAkkoSerVersion(e.akkoVersion)}];case 2:return[4,this.fetchFramePickers(e,r.frameId,i)];case 3:return a=o.sent(),[2,{snapshot:r.frameBuffer,actionFrames:a.map((function(e){return e.frameBuffer})),akkoSerVersion:c.convertToAkkoSerVersion(e.akkoVersion)}]}}))}))},e.prototype.fetchFramePickers=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i,a,s,c,l,p,h,f;return o(this,(function(o){switch(o.label){case 0:return[4,this.fetcher.fetch("assets")];case 1:return r=o.sent(),[4,d.pick(r,"https://assets/"+e.roomUUID+"/"+e.uuid+"/frames.router",t,n)];case 2:return i=o.sent(),[4,this.fetchBody(e,"frames",i.offset,i.length)];case 3:for(a=o.sent(),s=[],c=0;c<i.framesCount&&(l=i.offsetAt(c)-i.offset,p=i.lengthAt(c),!(a.byteLength<l+p));++c)h=a.slice(l,p),f=new u.FramePicker(h),s.push(f);return[2,s]}}))}))},e.prototype.fetchSnapshot=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i,a,s,c,l;return o(this,(function(o){switch(o.label){case 0:return[4,this.fetcher.fetch("assets")];case 1:return n=o.sent(),r="https://assets/"+e.roomUUID+"/"+e.uuid+"/snapshots.router",i=Math.floor(t/e.snapshotIdInterval),[4,d.pick(n,r,i,1)];case 2:if(0===(a=o.sent()).framesCount)throw new Error("can't find snapshot with frameId "+t);return s=a.offsetAt(0),c=a.lengthAt(0),[4,this.fetchBody(e,"snapshots",s,c)];case 3:return l=o.sent(),[2,new u.FramePicker(l)]}}))}))},e.prototype.fetchFrameRouterPicker=function(e,t){return i(this,void 0,void 0,(function(){var n,r,i;return o(this,(function(o){switch(o.label){case 0:return n="https://assets/"+e.roomUUID+"/"+e.uuid+"/frames.router",[4,this.fetcher.fetch("assets")];case 1:return r=o.sent(),i=Math.min(e.framesCount-t,e.snapshotIdInterval-1),[2,d.pick(r,n,t,i)]}}))}))},e.prototype.fetchBody=function(e,t,n,r){return i(this,void 0,void 0,(function(){var i,a;return o(this,(function(o){switch(o.label){case 0:return[4,this.fetcher.fetch("assets")];case 1:return[4,o.sent().fetchBuffer(i="https://assets/"+e.roomUUID+"/"+e.uuid+"/"+t+".body",{method:"get",headers:{"content-type":"application/json",Accept:"application/octet-stream",Range:"bytes="+n+"-"+(n+r)}})];case 2:if(!(a=o.sent()))throw new Error("can't find \""+i+'"');return[2,a]}}))}))},e}();t.SequenceFetcher=p;var d=function(){function e(e,t){this.buffer=e,this.framesCount=t,this.offset=this.framesCount>0?this.offsetAt(0):Number.NaN}return e.pick=function(t,n,r,a){return i(this,void 0,void 0,(function(){var i,c,u,l;return o(this,(function(o){switch(o.label){case 0:return c=r*(i=24),[4,t.fetchBuffer(n,{method:"get",headers:{"content-type":"application/json",Accept:"application/octet-stream",Range:"bytes="+c+"-"+((r+a)*i-1)}})];case 1:return(u=o.sent())||(u=s.createBuffer(0)),l=Math.floor(u.byteLength/i),[2,new e(u,l)]}}))}))},Object.defineProperty(e.prototype,"length",{get:function(){if(void 0===this._length){this._length=0;for(var e=0;e<this.framesCount;++e)this._length+=this.lengthAt(e)}return this._length},enumerable:!0,configurable:!0}),e.prototype.timestampAt=function(e){return this.buffer.getUint64(24*e+0)},e.prototype.offsetAt=function(e){return this.buffer.getUint64(24*e+8)},e.prototype.lengthAt=function(e){return this.buffer.getUint64(24*e+16)},e}()},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.slices=Object.freeze(r(e.slices).sort((function(e,t){return e.beginTimestamp-t.beginTimestamp}))),this.beginAt=e.beginAt,this.endAt=e.endAt,this.roomUUID=this.getRoomUUID(),this.framesCount=this.getFramesCount()}return e.prototype.getRoomUUID=function(){for(var e=this.slices[0].roomUUID,t=1;t<this.slices.length;++t)if(e!==this.slices[t].roomUUID)throw new Error("all slices should have the same roomUUID");return e},e.prototype.getFramesCount=function(){for(var e=0,t=0,n=this.slices;t<n.length;t++)e+=n[t].framesCount;return e},Object.defineProperty(e.prototype,"beginTimestamp",{get:function(){return this.beginAt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.endAt-this.beginAt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slicesCount",{get:function(){return this.slices.length},enumerable:!0,configurable:!0}),e.prototype.sliceAt=function(e){return this.slices[e]},e.prototype.getFrameDescriptionWithFrameId=function(e){for(var t=e,n=0,r=0;r<this.slices.length;++r){var i=this.slices[r];if(n=r,t<i.framesCount)break;t-=i.framesCount}return{frameId:t,sliceIndex:n}},e.prototype.getFrameDescriptionWithTimestamp=function(e){for(var t=e+this.beginAt,n=0,r=0;r<this.slices.length;++r){var i=this.slices[r];if(n=r,t<i.beginTimestamp+i.duration)break}return{sliceIndex:n,timestamp:Math.max(0,t-this.slices[n].beginTimestamp)}},e}();t.SliceChunk=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this._libraryNodeFetcher=e,this.libraryNodeFetcher=function(e){return t._libraryNode&&t._libIdentifier===e.libIdentifier?Promise.resolve(t._libraryNode):t._libraryNodeFetcher(e)}}return Object.defineProperty(e.prototype,"sliceIndex",{get:function(){return this._sliceIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"slice",{get:function(){return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libIdentifier",{get:function(){return this._libIdentifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"libraryNode",{get:function(){return this._libraryNode},enumerable:!0,configurable:!0}),e.prototype.refreshReconstructorLine=function(e){e.libIdentifier===this._libIdentifier&&e.libraryNode===this._libraryNode||(this._libIdentifier=e.libIdentifier,this._libraryNode=e.libraryNode,this.onLibraryNodeChanged&&this.onLibraryNodeChanged(this._libIdentifier,this._libraryNode)),e.sliceIndex!==this._sliceIndex&&(this._sliceIndex=e.sliceIndex,this._slice=e.slice,this.onSliceChanged&&this.onSliceChanged(this._slice,this._sliceIndex))},e}();t.SliceStateUpdater=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.findIdentifierWith=r.findIdentifierWith,t.createElement=r.createElement;var i=n(1);t.resolve=i.resolve,t.wrapBuffer=i.wrapBuffer,t.AkkoVersion=i.AkkoVersion;var o=n(7);t.copy=o.copy,t.isAkkoWrappedObjectAccessible=o.isAkkoWrappedObjectAccessible,t.isInstanceOf=o.isInstanceOf,t.findClassId=o.findClassId,t.findClass=o.findClass;var a=n(0);t.__context=a.__context,t.getEnvironment=a.getEnvironment,t.getCurrentTimestamp=a.getCurrentTimestamp,t.getAuthorId=a.getAuthorId,t.hasUser=a.hasUser,t.getUsersCount=a.getUsersCount,t.getUser=a.getUser,t.getUserIds=a.getUserIds,t.getSnapshot=a.getSnapshot,t.isBuffer=a.isBuffer,t.createBuffer=a.createBuffer,t.getResource=a.getResource,t.event=a.event,t.noEffects=a.noEffects,t.transient=a.transient,t.Environment=a.Environment,t.AdminObserverId=a.AdminObserverId,t.EventScope=a.EventScope},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(56))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(57))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),a=n(0),s=n(58),c=n(12),u=function(){function e(e){var t=this;this.fetchLibraryNode=function(e){return r(t,void 0,void 0,(function(){return i(this,(function(t){if(this.library.appIdentifier!==e.appIdentifier)throw new Error("invalid appIdentifier "+this.library.appIdentifier+", wanna "+e.appIdentifier);if(this.library.appVersion!==e.appVersion)throw new Error("invalid appVersion "+this.library.appVersion+", wanna "+e.appVersion);if(this.library.appHash!==e.appHash)throw new Error("invalid appHash "+this.library.appHash+", wanna "+e.appHash);return[2,{libraryClass:this.library.rootClass,appVersion:this.library.akkoVersion}]}))}))},this.library=e.library,this.methodNameToIdMap=this.createMethodNameToIdMap(e.library),this.actionFrameHelper=new a.ActionFrameHelper(e.library,e.proxyRuntime.objectOperator,e.proxyRuntime.frameHandler,o.AkkoSerVersion.V1),this.objectOperator=e.proxyRuntime.objectOperator,this.includesFrameHash=e.includesFrameHash,this.logger=e.logger,this.fetcher=new c.Fetcher({appIdentifier:e.appIdentifier,shuntApiHosts:e.shuntApiHosts})}return e.prototype.create=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return[4,(r=new s.RoomHelperImplement(this.fetcher,this.methodNameToIdMap,this.objectOperator,this.fetchLibraryNode,this.actionFrameHelper,this.includesFrameHash,this.logger,o)).connect(e,t,n)];case 1:return i.sent(),[2,r]}}))}))},e.prototype.createMethodNameToIdMap=function(e){for(var t={},n=a.getClassReflection(e.rootClass),r=0;r<n.methodNames.length;++r)t[n.methodNames[r]]=r;return t},e}();t.RoomHelperFactory=u},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(10),s=function(){function e(e,t,n,r,i,a,s,c){var u=this;this.fetcher=e,this.methodNameToIdMap=t,this.objectOperator=n,this.libraryNodeFetcher=r,this.actionFrameHelper=i,this.includesFrameHash=a,this.logger=s,this.delegate=c,this.illusionQueue=[],this.frameGenerator=null,this.connectedTimestamp=0,this.isDisconnected=!1,this.onReceivedScopeSlices=function(e){u.frameGenerator&&u.frameGenerator.appendScopeSlices(e)},this.onReceivedActionFrame=function(e){if(u.frameGenerator){var t=new o.FramePicker(e);if(u.frameGenerator.author.userId===t.authorId){var n=u.takeIllusionFrame(t.originalFrameId);n&&u.delegate.reportRTT(u,t.timestamp-n.timestamp)}}},this.onKickedWithReason=function(e){u.onDisconnectWithError(new Error("kick by server with reason "+JSON.stringify(e)))},this.onDisconnectWithError=function(e){u.isDisconnected=!0,u.delegate.reportSessionDisconnected(u,e,Date.now()-u.connectedTimestamp)}}return e.prototype.connect=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o,s,c,u,l;return i(this,(function(i){switch(i.label){case 0:return r=Date.now(),[4,a.connectWebSocketSession({uuid:e,fetcher:this.fetcher,roomToken:t,clientVersion:"2.6.4",logger:this.logger,access:"writable",reconnectionOptions:{disableReconnect:!0},objectOperator:this.objectOperator,libraryNodeFetcher:this.libraryNodeFetcher,callbacks:{onReceivedActionFrame:this.onReceivedActionFrame,onReceivedScopeSlices:this.onReceivedScopeSlices,onDisconnectedByServer:this.onDisconnectWithError,onDisconnectedWithSocketError:this.onDisconnectWithError,onKickWithReason:this.onKickedWithReason}})];case 1:return o=i.sent(),s=o.session,c=o.connection,u=0,n?(u=Date.now(),l=this,[4,this.getIllusionFrameGenerator(c)]):[3,3];case 2:l.frameGenerator=i.sent(),i.label=3;case 3:return this.socketSession=s,this.connectedTimestamp=Date.now(),n&&this.delegate.reportBecomeWritableInterval(this,this.connectedTimestamp-u),this.delegate.reportConnectionInterval(this,this.connectedTimestamp-r),[2]}}))}))},Object.defineProperty(e.prototype,"isWritable",{get:function(){return!!this.frameGenerator},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uuid",{get:function(){return this.socketSession.uuid},enumerable:!0,configurable:!0}),e.prototype.getIllusionFrameGenerator=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return[4,e.updateToWritable(null,null)];case 1:if(!(t=i.sent()))throw new Error("can't become writable");return n=new o.ScopeStorage(t.initializeSlices),r=new o.ImageAuthor(t.userId,n,1),[2,new o.IllusionFrameGenerator(r,this.actionFrameHelper,this.includesFrameHash)]}}))}))},e.prototype.invokeMethod=function(e,t){if(this.assertDisconnected(),!this.frameGenerator)throw new Error("it's not writable");var n=this.methodNameToIdMap[e],r=Date.now();if(void 0===n)throw new Error("can't find callable method "+JSON.stringify(e));var i=this.frameGenerator.author.allocateIdentifierGenerator(),o=this.frameGenerator.createInvokerFrame(n,t,r,i);this.handleGeneratedFrame(o)},e.prototype.dispatchEvent=function(e,t){if(this.assertDisconnected(),!this.frameGenerator)throw new Error("it's not writable");var n=Date.now(),r=this.frameGenerator.author.allocateIdentifierGenerator(),i=this.frameGenerator.createEventFrame(e,t,n,r);this.handleGeneratedFrame(i)},e.prototype.handleGeneratedFrame=function(e){var t=new o.FramePicker(e);this.illusionQueue.push({frameId:t.frameId,timestamp:t.timestamp}),this.illusionQueue.length>1200&&this.illusionQueue.shift(),this.socketSession.connection&&this.socketSession.connection.sendActionFrame(e)},e.prototype.disconnect=function(){this.assertDisconnected(),this.isDisconnected=!0,this.socketSession.dispose()},e.prototype.assertDisconnected=function(){if(this.isDisconnected)throw new Error("was disconnected")},e.prototype.takeIllusionFrame=function(e){for(var t=0;t<this.illusionQueue.length;++t){var n=this.illusionQueue[t];if(n.frameId===e)return this.illusionQueue.splice(t,1),n}},e}();t.RoomHelperImplement=s}]))},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(28)),r(n(29)),r(n(78)),r(n(79)),r(n(80)),r(n(81)),r(n(82)),r(n(83)),r(n(84))},function(e,t){e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14);t.SceneImplement=r.SceneImplement,t.ComponentUpdaterBehavior=r.ComponentUpdaterBehavior;var i=n(15);t.ComponentImplement=i.ComponentImplement;var o=n(16);t.ComponentDefinitionImplement=o.ComponentDefinitionImplement},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Start=0]="Start",e[e.Update=1]="Update",e[e.End=2]="End",e[e.Other=3]="Other"}(r=t.EventPhase||(t.EventPhase={}));var i=function(){function e(e,t){this._disable=!1,this.onCancelEvent=e,this.adapterNodes=Object.freeze(t.map((function(e){var t={},n={};return e.setEventDescriptionStateGetter&&e.setEventDescriptionStateGetter((function(e){var r=t[e];return r?{payload:r,isCanceled:!!n[e]}:void 0})),{adapter:e,payloads:t,canceledMap:n}})))}return Object.defineProperty(e.prototype,"disable",{get:function(){return this._disable},set:function(e){this._disable!==e&&(this._disable=e,e&&this.cancel())},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){for(var e=0,t=this.adapterNodes;e<t.length;e++){var n=t[e],r=n.adapter,i=n.payloads,o=n.canceledMap,a={},s=!1;for(var c in i)c in o||(a[c]=i[c],o[c]=!0,s=!0);if(s){var u=r.createCancelEvent(a);u&&this.onCancelEvent(u)}}},e.prototype.interruptEvent=function(e){var t=this.adapterNodes.find((function(t){return t.adapter.isEventAccessible(e)}));if(t){for(var n=t.adapter,i=t.canceledMap,o=n.takeEventDescription(e),a=[],s=0,c=o?"number"==typeof o.length?o:[o]:[];s<c.length;s++){var u=c[s];u.phase===r.Other?a.push(u):this.handleAndCheckIgnoreEventDescription(t,u)||i[u.identifier]||a.push(u)}return!this._disable&&a.length>0?n.convertToEvent(e,a):null}return e},e.prototype.handleAndCheckIgnoreEventDescription=function(e,t){var n=e.payloads,i=e.canceledMap,o=t.identifier,a=t.payload;switch(t.phase){case r.Start:return o in n||(n[o]=a,this._disable&&(i[o]=!0),!1);case r.Update:return!(o in n)||(n[o]=a,!1);case r.End:if(o in n){var s=!!i[o];return delete n[o],delete i[o],s}return!0;default:return!0}},e}();t.ContinuityNode=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(31)),r(n(18));var i=n(5);t.RenderLayoutMode=i.RenderLayoutMode,t.AbstractRenderEngine=i.AbstractRenderEngine;var o=n(18);t.CNode=o.CNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Normal=0]="Normal",e[e.Preview=1]="Preview"}(t.RenderLayoutMode||(t.RenderLayoutMode={}));var r=function(){function e(t){this.definitions={},this.id=""+e.nextId++,this.orderIndex=t}return e.prototype.addDefinition=function(e){this.definitions[e.id]=e},e.nextId=0,e}();t.AbstractRenderEngine=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners=[]}return e.prototype.dispatch=function(e){for(var t=0,n=this.listeners;t<n.length;t++){var r=n[t];try{r(e)}catch(e){console.error(e)}}},e.prototype.addListener=function(e){-1===this.listeners.indexOf(e)&&this.listeners.push(e)},e.prototype.removeListener=function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)},e.prototype.removeAllListeners=function(){this.listeners.splice(0)},e}();t.EventDispatcher=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42);t.ScreenImplement=r.ScreenImplement;var i=n(22);t.AnimationPriority=i.AnimationPriority;var o=n(75);t.LegacyLayoutNode=o.LegacyLayoutNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=n(24);function o(e,t){if(t.isVisible()){if(t.disableVisionTrim)return!0;var n=t.absoluteCoordinates?function(e){return{originX:-e.width/2,originY:-e.height/2,width:e.width,height:e.height}}(e):e.visionRectangle,o=i.VisibleTestNode.getMarginOnScene(t,e.camera.scale);return r.RectangleTesting.testRectangle(n.originX,n.originY,n.width,n.height,t.originX-o.left,t.originY-o.top,t.width+o.left+o.right,t.height+o.top+o.bottom)!==r.RectangleTesting.Result.Disjoint}return!1}function a(e,t){var n,r,o,a,s,c;if(t.absoluteCoordinates)c=s=i.VisibleTestNode.getMarginOnScene(t,1),n=t.originX+e.width/2,r=t.originY+e.height/2,o=t.width,a=t.height;else{var u=e.camera;n=(t.originX-u.centerX)*u.scale+e.width/2,r=(t.originY-u.centerY)*u.scale+e.height/2,o=t.width,a=t.height,s=i.VisibleTestNode.getMarginOnScene(t,u.scale),c=i.VisibleTestNode.getMarginOnScreen(t,u.scale),o*=u.scale,a*=u.scale}return{component:t,originX:n-=c.left,originY:r-=c.top,sceneMargin:s,screenMargin:c,size:Object.freeze({width:o,height:a}),wrapperSize:Object.freeze({width:o+c.left+c.right,height:a+c.top+c.bottom})}}t.createLayouts=function(e){for(var t={},n=0,r=e.engines;n<r.length;n++){for(var i=r[n],o=[],a=0,s=e.visibleComponents;a<s.length;a++){var c=s[a];c.component.isVisible(i)&&o.push(c)}t[i.id]=i.createRenderLayout({screen:e.screen,mode:e.mode,initCamera:e.initCamera,visibleComponents:o})}return t},t.createVisibleComponents=function(e,t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];o(e,s)&&n.push(a(e,s))}return n},t.isVisibleOnScreen=o,t.calculateVisibleComponent=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(5),c=n(36),u=n(37),l=n(38),p=function(e){function t(t){var n=e.call(this,t.orderIndex)||this;return n.definitionNodes={},n.fixedSize=t.fixedSize,n.isSVG=t.isSVG,n.className=t.className,n.style=t.style&&Object.freeze(o({},t.style)),n}return i(t,e),t.prototype.getDefinitionNode=function(e){return this.definitionNodes[e.id]},t.prototype.bind=function(e){var t=this;return function(n){if(!(e instanceof a.ComponentDefinitionImplement))throw new Error("it is not ComponentDefinition");if(t.definitionNodes[e.id])throw new Error("define duplicated ComponentDefinition");var r;if("boolean"==typeof n.willInterruptEvent){var i=n.willInterruptEvent;r=function(){return i}}else r=n.willInterruptEvent?n.willInterruptEvent.bind(n):function(){return!1};return t.definitionNodes[e.id]=Object.freeze({willInterruptEvent:r,render:n}),e.addEngine(t,{isVisible:n.isVisible}),t.addDefinition(e),n}},t.prototype.createRenderLayout=function(e){return new c.HTMLRenderLayout({engine:this,screen:e.screen,mode:e.mode,initCamera:e.initCamera,visibleComponents:e.visibleComponents,renderComponent:this.isSVG?l.SVGRenderLayoutComponent:u.HTMLRenderLayoutComponent,fixedSize:this.fixedSize,className:this.className,style:this.style})},t}(s.AbstractRenderEngine);t.HTMLRenderEngineImplement=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueWithDefault=function(e,t){return void 0===e?t:e},t.numberWithDefault=function(e,t){return"number"==typeof e?e:t}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(20)),r(n(40))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayRemove=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},t.arrayPut=function(e,t){-1===e.indexOf(t)&&e.push(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(69))},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(15),a=n(7),s=n(6),c=n(12),u=n(10),l=n(4);!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.LocationUpdated=2]="LocationUpdated",e[e.PropertiesUpdated=3]="PropertiesUpdated"}(i=t.ComponentUpdaterBehavior||(t.ComponentUpdaterBehavior={}));var p=function(){function e(e,t){this.componentUpdateDispatcher=new s.EventDispatcher,this.componentsStructDispatcher=new s.EventDispatcher,this.componentsMap={},this._components=[],this.deviceType=e,this.legacy=t}return Object.defineProperty(e.prototype,"components",{get:function(){return this._components},enumerable:!0,configurable:!0}),e.prototype.reportComponentUpdate=function(e){this.componentUpdateDispatcher.dispatch(e)},e.prototype.reportComponentsStructUpdate=function(){this.componentsStructDispatcher.dispatch(void 0)},e.prototype.createScreen=function(e){return new a.ScreenImplement({scene:this,context:e.context,className:e.className,autoResize:!!e.autoResize,width:u.numberWithDefault(e.width,0),height:u.numberWithDefault(e.height,0),engines:this.collectEngines(e),eventInterrupter:e.eventInterrupter||function(){return!1},wrappedComponents:e.wrappedComponents||[]})},e.prototype.collectEngines=function(e){var t;if(e.engines){t={};for(var n=0,i=e.engines;n<i.length;n++){if(!((c=i[n])instanceof l.AbstractRenderEngine))throw new Error("it is not RenderEngine");t[c.id]=c}}else t=this.legacy.engines;var o=[],a=[];for(var s in t){var c;void 0===(c=t[s]).orderIndex?a.push(c):o.push(c)}return Object.freeze(r(o,a))},e.prototype.addComponent=function(e){if(void 0!==(e=this.legacy.adaptComponentConstructor(e)).id&&this.componentsMap[e.id])throw new Error("component did exits: id="+e.id);var t=new o.ComponentImplement(this,e);return this.componentsMap[t.id]=t,t.index=this._components.length,this._components.push(t),this.reportComponentUpdate({component:t,behavior:i.Added}),t},e.prototype.removeComponent=function(e){return this.componentsMap[e.id]===e&&(delete this.componentsMap[e.id],c.arrayRemove(this._components,e),this.refreshComponents(),this.reportComponentUpdate({component:e,behavior:i.Removed}),e.release(),!0)},e.prototype.component=function(e){return this.componentsMap[e]},e.prototype.sortComponents=function(e,t){var n;if("number"==typeof t){for(var i=0,o=e;i<o.length;i++){var a=o[i];c.arrayRemove(this._components,a)}t<0?t=0:t>this._components.length&&(t=this._components.length),(n=this._components).splice.apply(n,r([t,0],e))}else{for(var s=[],u=0,l=e;u<l.length;u++)s.push((a=l[u]).index);s.sort();for(var p=0;s.length;++p){var d=s[p];this._components[d]=a=e[p],a.index=d}}this.reportComponentsStructUpdate()},e.prototype.refreshComponents=function(){for(var e=0;e<this._components.length;++e)this._components[e].index=e},e.prototype.addComponentUpdateListener=function(e){this.componentUpdateDispatcher.addListener(e)},e.prototype.removeComponentUpdateListener=function(e){this.componentUpdateDispatcher.removeListener(e)},e.prototype.addComponentsStructListener=function(e){this.componentsStructDispatcher.addListener(e)},e.prototype.removeComponentsStructListener=function(e){this.componentsStructDispatcher.removeListener(e)},e.prototype.getEngineWithLegacyLayout=function(e){for(var t in this.legacy.engines){var n=this.legacy.engines[t];if(n.orderIndex===e)return n}},e}();t.SceneImplement=p},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(30),o=n(0),a=n(14),s=n(16),c=n(11),u=n(7),l=n(6),p=Object.freeze({left:0,right:0,top:0,bottom:0}),d=new c.SpaceSpringFactory({matchingDistance:2,zeroSpeed:.55,kDistance:.17,velocityDamping:.55,heavyDampingRadius:15,heavyDampingSpeed:.25,pedesisSpeedMean:0,pedesisSpeedVariance:0},{matchingDistance:2,zeroSpeed:.55,kDistance:.12,velocityDamping:.35,heavyDampingRadius:15,heavyDampingSpeed:.35,pedesisSpeedMean:0,pedesisSpeedVariance:0}),h=function(){function e(e,t){var n=this;if(this.index=0,this.onRemovedDispatcher=new l.EventDispatcher,this.onRectangleUpdatedDispatcher=new l.EventDispatcher,this.visibleMap={},this.visibleCount=0,this.onRectanglePointUpdate=function(){n.scene.reportComponentUpdate({component:n,behavior:a.ComponentUpdaterBehavior.LocationUpdated}),n.onRectangleUpdatedDispatcher.dispatch(n)},!(t.definition instanceof s.ComponentDefinitionImplement))throw new Error("it is not ComponentDefinition");this.scene=e,this.definition=t.definition,this.id=t.id||i.v4().replace(/-/g,""),this.previewURL=t.previewURL,this._parallaxMargin=m(t.parallaxMargin),this._sceneMargin=m(t.sceneMargin),this.disableVisionTrim=!!t.disableVisionTrim,this.absoluteCoordinates=!!t.absoluteCoordinates,this._payload=t.payload,this._orderIndex=t.orderIndex,this.rectangleTarget={originX:f(t.originX),originY:f(t.originY),width:f(t.width),height:f(t.height)},this.rectangleAnimation=d.create(u.AnimationPriority.ComponentMoving,[this.rectangleTarget.originX,this.rectangleTarget.originY,this.rectangleTarget.width,this.rectangleTarget.height],this.onRectanglePointUpdate);for(var r=0,o=this.definition.engines;r<o.length;r++){var c=o[r],p=this.definition.options(c).isVisible;this.definition.options(c).isVisible&&this.visibleCount++,this.visibleMap[c.id]=p}}return Object.defineProperty(e.prototype,"originX",{get:function(){return this.rectangleAnimation.point[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originY",{get:function(){return this.rectangleAnimation.point[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rectangleAnimation.point[2]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rectangleAnimation.point[3]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parallaxMargin",{get:function(){return this._parallaxMargin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sceneMargin",{get:function(){return this._sceneMargin},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"payload",{get:function(){return this._payload},set:function(e){e!==this._payload&&(this._payload=e,this.scene.reportComponentUpdate({component:this,behavior:a.ComponentUpdaterBehavior.PropertiesUpdated}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"orderIndex",{get:function(){return this._orderIndex},set:function(e){e!==this._orderIndex&&(this._orderIndex=e,this.scene.reportComponentsStructUpdate())},enumerable:!0,configurable:!0}),e.prototype.isVisible=function(e){return"number"==typeof e?this.visibleMap[e]||!1:e?this.visibleMap[e.id]||!1:this.visibleCount>0},e.prototype.setVisible=function(e,t){var n;void 0!==this.visibleMap[n="number"==typeof e?""+e:e.id]&&this.visibleMap[n]!==t&&(this.visibleMap[n]=t,t?this.visibleCount++:this.visibleCount--,this.scene.reportComponentUpdate({component:this,behavior:a.ComponentUpdaterBehavior.PropertiesUpdated}))},e.prototype.moveTo=function(e,t,n){void 0===n&&(n=o.AnimationMode.Immediately),this.rectangleTarget.originX===e&&this.rectangleTarget.originY===t||(this.rectangleTarget.originX=e,this.rectangleTarget.originY=t,this.syncRectangleTarget(n))},e.prototype.resize=function(e,t,n){void 0===n&&(n=o.AnimationMode.Immediately),this.rectangleTarget.width===e&&this.rectangleTarget.height===t||(this.rectangleTarget.width=e,this.rectangleTarget.height=t,this.syncRectangleTarget(n))},e.prototype.setRectangle=function(e,t,n,r,i){void 0===i&&(i=o.AnimationMode.Immediately),this.rectangleTarget.originX===e&&this.rectangleTarget.originY===t&&this.rectangleTarget.width===n&&this.rectangleTarget.height===r||(this.rectangleTarget.originX=e,this.rectangleTarget.originY=t,this.rectangleTarget.width=n,this.rectangleTarget.height=r,this.syncRectangleTarget(i))},e.prototype.syncRectangleTarget=function(e){var t=[this.rectangleTarget.originX,this.rectangleTarget.originY,this.rectangleTarget.width,this.rectangleTarget.height];switch(e){case o.AnimationMode.Immediately:this.rectangleAnimation.moveRightNow(t),this.scene.reportComponentUpdate({component:this,behavior:a.ComponentUpdaterBehavior.LocationUpdated});break;case o.AnimationMode.Continuous:this.rectangleAnimation.moveTo(t)}},e.prototype.setParallaxMargin=function(e){g(this._parallaxMargin,e)||(this._parallaxMargin=m(e),this.scene.reportComponentUpdate({component:this,behavior:a.ComponentUpdaterBehavior.LocationUpdated}))},e.prototype.setSceneMargin=function(e){g(this._sceneMargin,e)||(this._sceneMargin=m(e),this.scene.reportComponentUpdate({component:this,behavior:a.ComponentUpdaterBehavior.LocationUpdated}))},e.prototype.release=function(){this.rectangleAnimation.stop(),this.onRemovedDispatcher.dispatch(this)},e.prototype.addRemovedListener=function(e){this.onRemovedDispatcher.addListener(e)},e.prototype.removeRemovedListener=function(e){this.onRemovedDispatcher.removeListener(e)},e.prototype.addRectangleUpdatedListener=function(e){this.onRectangleUpdatedDispatcher.addListener(e)},e.prototype.removeRectangleUpdatedListener=function(e){this.onRectangleUpdatedDispatcher.removeListener(e)},e}();function f(e){return"number"==typeof e?e:0}function m(e){return void 0===e||0===e?p:Object.freeze("number"==typeof e?{left:e,right:e,top:e,bottom:e}:r({},e))}function g(e,t){return void 0===t?0===e.top&&0===e.left&&0===e.right&&0===e.bottom:"number"==typeof t?e.top===t&&e.left===t&&e.right===t&&e.bottom===t:e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom==e.bottom}t.ComponentImplement=h},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(10),a=function(){function e(t){if(this.id=""+e.nextId++,this.engineNodes={},this.enginesCache=null,this.name=t.name,"boolean"==typeof t.hitTest){var n=t.hitTest;this.hitTest=function(){return n}}else this.hitTest=t.hitTest?t.hitTest:function(){return!0}}return Object.defineProperty(e.prototype,"engines",{get:function(){if(!this.enginesCache){var e=[],t=[];for(var n in this.engineNodes){var i=this.engineNodes[n].engine;void 0===i.orderIndex?t.push(i):e.push(i)}e.sort((function(e,t){return e.orderIndex-t.orderIndex})),this.enginesCache=Object.freeze(r(e,t))}return this.enginesCache},enumerable:!0,configurable:!0}),e.prototype.addEngine=function(e,t){if(void 0===t&&(t={}),this.enginesCache)throw new Error("definition is frozon. you can only do it before bind with screen");if(!(e instanceof i.AbstractRenderEngine))throw new Error("it is not RenderEngine");this.engineNodes[e.id]=Object.freeze({engine:e,options:Object.freeze({isVisible:o.valueWithDefault(t.isVisible,!0)})})},e.prototype.options=function(e){var t;return null===(t=this.engineNodes[e.id])||void 0===t?void 0:t.options},e.nextId=0,e}();t.ComponentDefinitionImplement=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(5),s=n(32),c=function(e){function t(t){var n=e.call(this,t.orderIndex)||this;return n.constructors={},n.getRenderConstructor=function(e){return n.constructors[e.id]},n.fixedSize=t.fixedSize,n}return i(t,e),t.prototype.bind=function(e,t){if(!(e instanceof o.ComponentDefinitionImplement))throw new Error("it is not ComponentDefinition");if(this.constructors[e.id])throw new Error("define duplicated ComponentDefinition");this.constructors[e.id]=t,e.addEngine(this,{isVisible:t.isVisible}),this.addDefinition(e)},t.prototype.createRenderLayout=function(e){return new s.CanvasRenderLayout({engine:this,screen:e.screen,initCamera:e.initCamera,visibleComponents:e.visibleComponents,fixedSize:this.fixedSize,getRenderConstructor:this.getRenderConstructor})},t}(a.AbstractRenderEngine);t.CanvasRenderEngineImplement=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(19);t.CNode=i.CNode,t.creatHTMLRenderEngine=function(e){return new r.HTMLRenderEngineImplement(e)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRef=function(e){t.props.onRef&&t.props.onRef(e);var n=t.props.context;n&&n.onRef(n.visibleComponent.component,e)},t}return i(t,e),t.prototype.render=function(){var e=this.props.context,t=this.props.children;if(e){var n=e.visibleComponent,r=e.margin,i=n.originX,s=n.originY,c="absolute";if(this.props.fixedMode){var u=e.screen.bounding;i+=u.left,s+=u.top,c="fixed"}var l="translate("+i+"px,"+s+"px) scale("+e.scale+","+e.scale+")",p=o({WebkitTransform:l,transform:l,WebkitTransformOrigin:"0px 0px 0px",transformOrigin:"0px 0px 0px",position:c,overflow:"visible",width:e.size.width+e.margin.left+e.margin.right,height:e.size.height+e.margin.top+e.margin.bottom,margin:0,paddingLeft:r.left,paddingRight:r.right,paddingTop:r.top,paddingBottom:r.bottom,zIndex:n.component.orderIndex},this.props.style),d=o({},this.props);return delete d.context,delete d.fixedMode,delete d.onRef,a.createElement("div",o({},d,{style:p,ref:this.onRef}),t)}return a.createElement(a.Fragment,null,t)},t}(a.Component);t.CNode=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),i=n(12),o=function(){function e(){}return e.prototype.createAnimationGroup=function(){return new a},e.prototype.createAnimation=function(e,t){return new s(e,t)},e.prototype.createAnimationFrameInvoker=function(e){return new u(e)},e.prototype.createAfterAnimationsInvoker=function(e){return new c(e)},e.animationFrames=new r.AnimationFrames,e}(),a=function(){function e(){this.children=[]}return e.prototype.createAnimation=function(e,t){var n=this,r=new s(e,t,(function(e){return i.arrayRemove(n.children,e)}));return this.children.push(r),r},e.prototype.createAfterAnimationsInvoker=function(e){var t=this,n=new c(e,(function(e){return i.arrayRemove(t.children,e)}));return this.children.push(n),n},e.prototype.release=function(){for(var e=0,t=this.children.splice(0);e<t.length;e++)t[e].release()},e}(),s=function(){function e(e,t,n){var r=this;this.priority=e,this.onRefresh=t,this.onRelease=n,this.onAnimationFrame=function(){l(r,r.onRefresh)},o.animationFrames.addAnimation(this.priority,this.onAnimationFrame)}return e.prototype.release=function(){o.animationFrames.removeAnimation(this.priority,this.onAnimationFrame),this.onRelease&&this.onRelease(this)},e}(),c=function(){function e(e,t){var n=this;this.onRefresh=e,this.onRelease=t,this.onAnimationFrame=function(){l(n,n.onRefresh)},o.animationFrames.addAfterAnimationsInvoker(this.onAnimationFrame)}return e.prototype.release=function(){o.animationFrames.removeAfterAnimationsInvoker(this.onAnimationFrame),this.onRelease&&this.onRelease(this)},e}(),u=function(){function e(e){var t=this;this.priority=e,this.nextHandler=null,this.banAnimationChange=!1,this.onAnimationFrame=function(){if(t.nextHandler){var e=t.nextHandler;t.nextHandler=null;try{t.banAnimationChange=!0,l(t,e)}finally{t.banAnimationChange=!1}null===t.nextHandler&&o.animationFrames.removeAnimation(t.priority,t.onAnimationFrame)}}}return e.prototype.invoke=function(e){this.banAnimationChange||this.nextHandler||o.animationFrames.addAnimation(this.priority,this.onAnimationFrame),this.nextHandler=e},e.prototype.release=function(){!this.banAnimationChange&&this.nextHandler&&(this.nextHandler=null,o.animationFrames.removeAnimation(this.priority,this.onAnimationFrame))},e}();function l(e,t){try{t(e)}catch(e){console.error(e)}}t.animation=new o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(52),o=n(53),a=n(54),s=n(55),c=n(56),u=n(3);t.ContinuityNode=u.ContinuityNode,t.createContinuityNode=function(e){return new r.ContinuityNode(e,[new i.MouseEventAdapter,new o.TouchEventAdapter,new a.SortedTouchEventAdapter,new s.KeyboardEventAdapter,new c.WheelEventAdapter])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ComponentMoving=0]="ComponentMoving",e[e.CameraMoving=1]="CameraMoving",e[e.Rendering=2]="Rendering"}(t.AnimationPriority||(t.AnimationPriority={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.wrapContent=function(e,t){for(var n=0,i=e;n<i.length;n++)t=r.createElement(i[n],null,t);return t}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=n(11),s=n(2),c=n(70),u=n(71),l=n(8),p=n(26),d=n(25),h=function(){function e(e,t,n){var i=this;this.frameInvoker=a.animation.createAnimationFrameInvoker(o.AnimationPriority.Rendering),this.visibleComponents={},this.movedComponents={},this.replacedComponents={},this.updatedComponents={},this.removedComponents={},this.isCameraUpdated=!1,this.isStructUpdated=!1,this.onScreenUpdate=function(e){d.isEquals(i.screenState,e)||(i.isCameraUpdated=!0,i.screenState=e,i.frameInvoker.invoke(i.handleFrame))},this.onComponentsStructUpdate=function(){i.isStructUpdated=!0,i.frameInvoker.invoke(i.handleFrame)},this.onComponentUpdate=function(e){var t=e.component;switch(e.behavior){case s.ComponentUpdaterBehavior.Removed:i.removeComponent(t);break;case s.ComponentUpdaterBehavior.Added:case s.ComponentUpdaterBehavior.LocationUpdated:i.isCameraUpdated||i.refreshComponent(t);break;case s.ComponentUpdaterBehavior.PropertiesUpdated:i.visibleComponents[t.id]&&!i.removedComponents[t.id]&&(i.updatedComponents[t.id]=!0)}i.frameInvoker.invoke(i.handleFrame)},this.handleFrame=function(){if(i.isCameraUpdated){for(var e=0,t=i.screen.scene.components;e<t.length;e++)i.refreshComponent(t[e]);i.isCameraUpdated=!1}for(var n in i.removedComponents){var r=i.visibleComponents[n];r&&(delete i.visibleComponents[n],i.notifier.notifyRemoved(r))}for(var n in i.updatedComponents)n in i.visibleComponents&&i.notifier.notifyUpdated(i.visibleComponents[n]);for(var n in i.movedComponents){var o=i.movedComponents[n];n in i.visibleComponents?i.notifier.notifyMoved(o):i.notifier.notifyAdded(o),i.visibleComponents[n]=o}for(var n in i.replacedComponents)i.notifier.notifyReplaced(i.replacedComponents[n]);i.isStructUpdated&&(i.notifier.notifyStructUpdated(),i.isStructUpdated=!1),p.hasKey(i.movedComponents)&&(i.movedComponents={}),p.hasKey(i.replacedComponents)&&(i.replacedComponents={}),p.hasKey(i.updatedComponents)&&(i.updatedComponents={}),p.hasKey(i.removedComponents)&&(i.removedComponents={}),i.notifier.flush({context:i.screen.context,camera:i.screenState.camera,screenSize:Object.freeze({width:i.screen.width,height:i.screen.height})}),i.onGeneratedFrame()},this.screen=e,this.screenState={width:this.screen.width,height:this.screen.height,camera:Object.freeze(r({},this.screen.camera)),visionRectangle:this.screen.visionRectangle};for(var h=l.createVisibleComponents(this.screenState,e.scene.components),f=0,m=h;f<m.length;f++){var g=m[f];this.visibleComponents[g.component.id]=g}this.renderer=new c.ScreenRenderer(e,t,h),this.notifier=new u.EngineNotifier(e,this.renderer,h),this.onGeneratedFrame=n,this.screen.addScreenUpdatedListener(this.onScreenUpdate),this.screen.scene.addComponentUpdateListener(this.onComponentUpdate),this.screen.scene.addComponentsStructListener(this.onComponentsStructUpdate)}return e.prototype.willInterruptEvent=function(e,t){for(var n in this.renderer.renderLayouts)if(this.renderer.renderLayouts[n].willInterruptEvent(this.screen,e,t))return!0;return!1},e.prototype.findComponentWithTarget=function(e){for(var t in this.renderer.renderLayouts){var n=this.renderer.renderLayouts[t],r=n.findComponentWithTarget(e);if(r)return{component:r,engine:n.engine}}},e.prototype.getVisibleComponents=function(){var e=[],t=[];for(var n in this.visibleComponents){var r=this.visibleComponents[n];void 0===r.component.orderIndex?t.push(r):e.push(r)}return e.sort((function(e,t){return e.component.orderIndex-t.component.orderIndex})),Object.freeze(i(e,t))},e.prototype.release=function(){this.frameInvoker.release(),this.screen.removeScreenUpdatedListener(this.onScreenUpdate),this.screen.scene.removeComponentUpdateListener(this.onComponentUpdate),this.screen.scene.removeComponentsStructListener(this.onComponentsStructUpdate)},e.prototype.refreshScreenContext=function(){this.frameInvoker.invoke(this.handleFrame)},e.prototype.refreshComponent=function(e){if(l.isVisibleOnScreen(this.screenState,e)){var t=e.id,n=l.calculateVisibleComponent(this.screenState,e);this.removedComponents[t]?(this.replacedComponents[t]=n,delete this.removedComponents[t]):this.movedComponents[t]=n}else this.removeComponent(e)},e.prototype.removeComponent=function(e){e.id in this.visibleComponents&&(this.removedComponents[e.id]=!0),delete this.movedComponents[e.id],delete this.replacedComponents[e.id],delete this.updatedComponents[e.id]},e.getMarginOnScreen=function(e,t){var n=e.sceneMargin,r=e.parallaxMargin;return Object.freeze({left:n.left*t+r.left,right:n.right*t+r.right,top:n.top*t+r.top,bottom:n.bottom*t+r.bottom})},e.getMarginOnScene=function(e,t){var n=e.sceneMargin,r=e.parallaxMargin;return Object.freeze({left:n.left+r.left/t,right:n.right+r.right/t,top:n.top+r.top/t,bottom:n.bottom+r.bottom/t})},e}();t.VisibleTestNode=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEquals=function e(t,n){if(typeof t!=typeof n)return!1;if("object"!=typeof t||null===t)return t===n;if(t.constructor!==n.constructor)return!1;if(t.constructor===Object){for(var r in t){if(!(r in n))return!1;if(!e(t[r],n[r]))return!1}for(var r in n)if(!(r in t))return!1;return!0}if(t.constructor===Array){var i=t;if(i.length!==n.length)return!1;for(var o=0;o<i.length;++o)if(!e(t[o],n[o]))return!1;return!0}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasKey=function(e){for(var t in e)return!0;return!1}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(0)),r(n(13));var i=n(4);t.creatHTMLRenderEngine=i.creatHTMLRenderEngine,t.createCanvasRenderEngine=i.createCanvasRenderEngine,t.RenderLayoutMode=i.RenderLayoutMode,t.CNode=i.CNode},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.MouseDown="MouseDown",e.MouseMove="MouseMove",e.MouseUp="MouseUp",e.MouseLeave="MouseLeave",e.MouseWheel="MouseWheel",e.TouchStart="TouchStart",e.TouchMove="TouchMove",e.TouchEnd="TouchEnd",e.TouchCancel="TouchCancel",e.SortedTouchStart="SortedTouchStart",e.SortedTouchMove="SortedTouchMove",e.SortedTouchEnd="SortedTouchEnd",e.SortedTouchCancel="SortedTouchCancel",e.KeyDown="KeyDown",e.KeyUp="KeyUp"}(t.BoundlessEventKind||(t.BoundlessEventKind={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(7);!function(e){e.Desktop="desktop",e.Touch="touch",e.Surface="surface"}(t.DeviceType||(t.DeviceType={}));var o=function(){function e(e){this.deviceType=e}return e.prototype.createScene=function(){return new r.SceneImplement(this.deviceType,new i.LegacyLayoutNode([]))},e.prototype.createSceneWithLegacyLayoutDescriptions=function(e){return new r.SceneImplement(this.deviceType,new i.LegacyLayoutNode(e))},e}();t.Boundless=o},function(e,t){e.exports=n(23)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17);t.createCanvasRenderEngine=function(e){return new r.CanvasRenderEngineImplement(e)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),c=n(33),u=function(){function e(e){var t=this;this.setLayoutRenderSize=null,this.ratio=1,this.canvasPair=null,this.canvasIndex=1,this.repaint=function(e){t.screen.scene.reportComponentUpdate({component:e,behavior:s.ComponentUpdaterBehavior.PropertiesUpdated})},this.engine=e.engine,this.screen=e.screen,this.painter=new c.CanvasPainter({visibleComponents:e.visibleComponents,fixedSize:e.fixedSize,context:this.context,getRenderConstructor:e.getRenderConstructor,repiant:this.repaint}),this.camera=e.initCamera||this.screen.camera,this.context=this.screen.context,this.screenSize=Object.freeze({width:this.screen.width,height:this.screen.height}),this.className=e.className,this.style=e.style}return e.prototype.willInterruptEvent=function(){return!1},e.prototype.findComponentWithTarget=function(){},e.prototype.update=function(e,t){this.setLayoutRenderSize&&e.screenSize&&(this.screenSize.width!==e.screenSize.width||this.screenSize.height!==e.screenSize.height)&&(this.setLayoutRenderSize(e.screenSize),this.canvasPair&&this.updateSize(this.canvasPair,e.screenSize)),e.camera&&(this.camera=e.camera),e.screenSize&&(this.screenSize=e.screenSize),this.context=t,this.painter.update(e,t),this.canvasPair&&this.paint()},e.prototype.setCanvas=function(e){e&&this.canvasPair!==e&&(this.updateSize(e,this.screenSize),this.updateVisibility(e),this.ratio=Math.max(this.getRatioWithContext(e.canvas1.getContext("2d")),this.getRatioWithContext(e.canvas2.getContext("2d")))),this.canvasPair=e,e&&this.paint()},e.prototype.updateVisibility=function(e){var t=e.canvas1,n=e.canvas2;switch(this.canvasIndex){case 1:t.style.visibility="visible",n.style.visibility="hidden";break;case 2:t.style.visibility="hidden",n.style.visibility="visible"}},e.prototype.updateSize=function(e,t){if(!e.canvas1.getContext("2d")||!e.canvas1.getContext("2d"))throw new Error("cannot find 2d context from canvas");var n=this.ratio*t.width,r=this.ratio*t.height;e.canvas1.width=n,e.canvas1.height=r,e.canvas2.width=n,e.canvas2.height=r},e.prototype.paint=function(){var e=this,t=this.getNextCanvasContext();t?(t.resetTransform(),t.scale(this.ratio,this.ratio),t.clearRect(0,0,this.screenSize.width,this.screenSize.height),this.painter.paint({context:t,camera:this.camera,screenSize:this.screenSize,ratio:this.ratio}),Promise.resolve().then((function(){e.updateToNextBuffering()}))):console.warn("cannot find context 2d of canvas")},e.prototype.getNextCanvasContext=function(){var e=null;if(this.canvasPair)switch(this.canvasIndex){case 1:e=this.canvasPair.canvas2;break;case 2:e=this.canvasPair.canvas1}return e&&e.getContext("2d")},e.prototype.updateToNextBuffering=function(){if(this.canvasPair){switch(this.canvasIndex){case 1:this.canvasIndex=2;break;case 2:this.canvasIndex=1}this.updateVisibility(this.canvasPair)}},e.prototype.getRatioWithContext=function(e){return Math.max(1,(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1))},e.prototype.getRender=function(){var e=this;return function(t){function n(n){var r=t.call(this,n)||this;return r.canvas1=null,r.canvas2=null,r.onSetCanvas1Ref=function(e){r.canvas1=e,r.refreshRenderer()},r.onSetCanvas2Ref=function(e){r.canvas2=e,r.refreshRenderer()},r.state=o({},e.screenSize),e.setLayoutRenderSize=function(e){return r.setState(e)},r}return i(n,t),n.prototype.componentWillUnmount=function(){e.setLayoutRenderSize=null},n.prototype.refreshRenderer=function(){e.setCanvas(this.canvas1&&this.canvas2?Object.freeze({canvas1:this.canvas1,canvas2:this.canvas2}):null)},n.prototype.render=function(){var t=o(o({},e.style),{position:"absolute",overflow:"hidden",pointerEvents:"none",width:this.state.width,height:this.state.height,zIndex:e.engine.orderIndex});return[a.createElement("canvas",{key:"canvas1",className:e.className,ref:this.onSetCanvas1Ref,style:t}),a.createElement("canvas",{key:"canvas2",className:e.className,ref:this.onSetCanvas2Ref,style:t})]},n}(a.Component)},e}();t.CanvasRenderLayout=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(34),o=n(35),a=function(){function e(e){this.components=[],this.cache=new o.Cache,this.fixedSize=e.fixedSize,this.getRenderConstructor=e.getRenderConstructor,this.repiant=e.repiant,this.context=e.context;for(var t=0,n=e.visibleComponents;t<n.length;t++){var r=this.createComponentNode(n[t]);r&&this.components.push(r)}}return e.prototype.update=function(e,t){for(var n in e.removedSet)this.removeId(n);for(var n in e.replacedSet)this.removeId(n);for(var n in e.movedSet)this.replaceComponent(e.movedSet[n]);for(var n in e.updatedSet)e.movedSet[n]||this.replaceComponent(e.updatedSet[n]);for(var n in e.addedSet)this.addComponent(e.addedSet[n]);for(var n in e.replacedSet)this.addComponent(e.replacedSet[n]);if(this.context!==t){this.context=t;for(var r=0,i=this.components;r<i.length;r++)i[r].painter.updateContext(t)}},e.prototype.removeId=function(e){for(var t=0;t<this.components.length;++t)if(this.components[t].component.id===e){this.components.splice(t,1)[0].painter.remove();break}},e.prototype.replaceComponent=function(e){for(var t=e.component.id,n=0;n<this.components.length;++n){var i=this.components[n];if(i.component.id===t){var o=e.component.payload;i.painter.playload!==o&&i.painter.updatePayload(o),this.components[n]=r(r({},e),{painter:i.painter});break}}},e.prototype.addComponent=function(e){var t=this.createComponentNode(e);if(t){var n=e.component.orderIndex;if(void 0===n)this.components.push(t);else{for(var r=!1,i=0;i<this.components.length;++i){var o=this.components[i].component.orderIndex;if(void 0===o||o>n){this.components.splice(i,0,t),r=!0;break}}r||this.components.push(t)}}},e.prototype.createComponentNode=function(e){var t=this.getRenderConstructor(e.component.definition),n=null;if(t){var o=new t(e.component,this.context),a=new i.CanvasComponentPainter(this.cache,o,this.repiant,e.component,this.context,!!t.disableCache);n=r(r({},e),{painter:a})}return n},e.prototype.paint=function(e){var t,n,r=e.context,i=e.camera,o=e.screenSize,a=e.ratio,s=r.getTransform();this.fixedSize?(t=1,n=i.scale):(t=i.scale,n=1);for(var c=0,u=this.components;c<u.length;c++){var l=u[c];l.painter.updateLocation({originX:l.originX,originY:l.originY,width:l.wrapperSize.width,height:l.wrapperSize.height,scale:n}),this.paintNode(l,s,r,t,a,o)}},e.prototype.paintNode=function(e,t,n,r,i,o){var a,s;this.fixedSize?(a=e.sceneMargin,s={width:e.component.width,height:e.component.height}):(a=e.screenMargin,s=e.size);var c=e.wrapperSize;0!==c.width&&0!==c.height&&e.painter.paint({context:n,initMatrix:t,margin:a,scale:r,ratio:i,size:s,wrapperSize:c,screenSize:o})},e}();t.CanvasPainter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(t,n,r,i,o,a){var s=this;this.location=e.initLocaltion,this.previousLocation=e.initLocaltion,this.didRemove=!1,this.onRepaint=function(){s.didRemove||s.repiant(s.component)},this.cache=t,this.render=n,this.repiant=r,this.component=i,this._payload=o,this.disableCache=a}return Object.defineProperty(e.prototype,"playload",{get:function(){return this._payload},enumerable:!0,configurable:!0}),e.prototype.updatePayload=function(e){this._payload=e,this.render.updatePayload(e)},e.prototype.updateContext=function(e){this.render.updateContext(e)},e.prototype.updateLocation=function(e){this.location=e},e.prototype.remove=function(){this.didRemove=!0,this.render.remove(),this.cache.remove(this.component.id)},e.prototype.paint=function(e){this.disableCache?this.paintByRender(e,e.context,this.location.originX,this.location.originY,r.CanvasPaitingMode.Directly):this.paintAndCacheIfNeed(e)},e.prototype.paintAndCacheIfNeed=function(e){var t=this.component.id,n=e.ratio,i=this.render.getState(),o=void 0;if(i===r.CanvasRenderState.Changed||this.location.scale!==this.previousLocation.scale||this.location.width>this.previousLocation.width||this.location.height>this.previousLocation.height?this.cache.remove(t):(o=this.cache.get(t))&&(this.location.scale!==o.scale||this.location.width>o.width||this.location.height>o.height)&&(o=void 0,this.cache.remove(t)),this.previousLocation=this.location,o){if(i===r.CanvasRenderState.Overlay){var a=o.canvas.getContext("2d");this.paintByRender(e,a,0,0,r.CanvasPaitingMode.OverlayOnCache)}this.paintCache(e.context,o,e.initMatrix,n)}else if(this.shouldCache(e.screenSize,e.wrapperSize)){var s=document.createElement("canvas"),c=e.wrapperSize;s.width=Math.ceil(c.width*n),s.height=Math.ceil(c.height*n),this.paintByRender(e,s.getContext("2d"),0,0,r.CanvasPaitingMode.GenerateCache);var u={canvas:s,scale:this.location.scale,width:this.location.width,height:this.location.height};this.cache.set(t,u,s.width*s.height),this.paintCache(e.context,u,e.initMatrix,n)}else this.paintByRender(e,e.context,this.location.originX,this.location.originY,r.CanvasPaitingMode.Directly)},e.prototype.shouldCache=function(e,t){return!(this.location.width>e.width||this.location.height>e.height)&&this.cache.touchAndCheckShouldCache(this.component.id)},e.prototype.paintCache=function(e,t,n,r){var i=t.canvas;e.setTransform(n),e.translate(this.location.originX,this.location.originY),e.scale(1/r,1/r),e.drawImage(i,0,0)},e.prototype.paintByRender=function(e,t,n,r,i){t=this.transformContext(t,e.initMatrix,n,r,this.location.scale);var o=this.createScreenRectangle(e.screenSize),a={context:t,touch:this.onRepaint,margin:e.margin,scale:e.scale,size:e.size,screenRect:o,paintingMode:i};a.screenSize=o,this.render.paint(a)},e.prototype.transformContext=function(e,t,n,r,i){return e.setTransform(t),e.translate(n,r),1!==(i=this.component.absoluteCoordinates?1:i)&&e.scale(i,i),e},e.prototype.createScreenRectangle=function(e){var t=this.component.absoluteCoordinates?1:this.location.scale;return{originX:-this.location.originX/t,originY:-this.location.originY/t,width:e.width/t,height:e.height/t}},e.initLocaltion=Object.freeze({originX:0,originY:0,width:100,height:100,scale:1}),e}();t.CanvasComponentPainter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.nodes={},this.counts={},this.nextTouchId=0,this.weights=0}return e.prototype.get=function(e){var t=this.nodes[e];return t?(t.touchId=this.nextTouchId++,t.e):void 0},e.prototype.set=function(e,t,n){this.nodes[e]&&(this.weights-=this.nodes[e].weight),delete this.counts[e],this.nodes[e]={id:e,e:t,weight:n,touchId:this.nextTouchId++},this.weights+=n,this.cleanElementsIfNeed()},e.prototype.remove=function(e){delete this.counts[e];var t=this.nodes[e];t&&(delete this.nodes[e],this.weights-=t.weight)},e.prototype.touchAndCheckShouldCache=function(e){var t=!1;if(e in this.counts){var n=this.counts[e]+1;n>=2&&(t=!0),this.counts[e]=n}else this.counts[e]=1;return t},e.prototype.cleanElementsIfNeed=function(){if(this.weights>104857600){var e=[];for(var t in this.nodes)e.push(this.nodes[t]);e.sort((function(e,t){return e.touchId-t.touchId}));for(var n=0;n<36700160;++n){var r=e[n],i=(t=r.id,r.weight);if(delete this.nodes[t],delete this.counts[t],this.weights-=i,this.weights<=104857600)break}}},e}();t.Cache=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=function(){function e(e){var t=this;this.visibleComponents={},this.elements={},this.setCNodeElement=function(e,n){n?t.elements[e.id]=n:delete t.elements[e.id]},this.engine=e.engine,this.renderComponent=e.renderComponent,this.screen=e.screen,this.fixedSize=e.fixedSize,this.className=e.className,this.style=e.style,this.mode=e.mode,this.camera=e.initCamera||this.screen.camera,this.context=this.screen.context,this.screenSize=Object.freeze({width:this.screen.width,height:this.screen.height});for(var n=0,r=e.visibleComponents;n<r.length;n++){var i=r[n];this.visibleComponents[i.component.id]=i}}return e.prototype.willInterruptEvent=function(e,t,n){var r=this.findComponentWithTarget(n);if(r){var i=this.engine.getDefinitionNode(r.definition);if(i)return i.willInterruptEvent(e,r,t)}return!1},e.prototype.findComponentWithTarget=function(e){var t=void 0;for(var n in this.elements){var r=this.elements[n];if(e===r||r.contains(e)){var i=this.visibleComponents[n];if(i){t=i.component;break}}}return t},e.prototype.update=function(e,t){for(var n in e.camera&&(this.camera=e.camera),e.screenSize&&(this.screenSize=e.screenSize),this.context=t,e.removedSet)delete this.visibleComponents[n];for(var n in e.replacedSet)delete this.visibleComponents[n];for(var n in e.movedSet)this.visibleComponents[n]=e.movedSet[n];for(var n in e.updatedSet)this.visibleComponents[n]=e.updatedSet[n];for(var n in e.addedSet)this.visibleComponents[n]=e.addedSet[n];for(var n in e.replacedSet)this.visibleComponents[n]=e.replacedSet[n];this.setState&&this.setState(this.getRenderLayoutState())},e.prototype.getRender=function(){var e=this,t=this.renderComponent;return function(n){function r(t){var r=n.call(this,t)||this;return r.state=e.getRenderLayoutState(),e.setState=function(e){return r.setState(e)},r}return i(r,n),r.prototype.componentWillUnmount=function(){e.setState=void 0},r.prototype.render=function(){return o.createElement(t,{engine:e.engine,screen:e.screen,mode:e.mode,visibleComponents:this.state.visibleComponents,camera:this.state.camera,screenSize:this.state.screenSize,context:this.state.context,fixedSize:e.fixedSize,className:e.className,style:e.style,onCNodeRef:e.setCNodeElement})},r}(o.Component)},e.prototype.getRenderLayoutState=function(){return{visibleComponents:this.visibleComponents,camera:this.camera,screenSize:this.screenSize,context:this.context}},e}();t.HTMLRenderLayout=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(5),c=n(19),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e,t,n=[],r=this.props.camera;for(var i in this.props.fixedSize?(e=1,t=r.scale):(e=r.scale,t=1),this.props.visibleComponents){var s=this.props.visibleComponents[i],c=this.getPreviewURL(s);n.push(c?this.renderPreview(s,c,t):this.renderVisibleComponent(s,e,t))}return a.createElement("div",{className:this.props.className,style:o(o({},this.props.style),{width:"100%",height:"100%",position:"absolute",overflow:"hidden",zIndex:this.props.engine.orderIndex})},n)},t.prototype.getPreviewURL=function(e){return this.props.mode===s.RenderLayoutMode.Preview?e.component.previewURL:void 0},t.prototype.renderPreview=function(e,t,n){var r=this.getPositionInfo(e,n),i=r.size;return a.createElement(c.CNode,{key:e.component.id,context:{visibleComponent:e,screen:this.props.screen,onRef:this.props.onCNodeRef,margin:r.margin,size:i,scale:r.cnodeScale}},a.createElement("img",{src:t,width:i.width,height:i.height}))},t.prototype.renderVisibleComponent=function(e,t,n){var r=e.component,i=this.props.engine.getDefinitionNode(r.definition);if(i){var o=this.getPositionInfo(e,n),s=o.margin,c=o.size;return a.createElement(i.render,{key:r.id,id:r.id,cnode:{visibleComponent:e,margin:s,size:c,scale:o.cnodeScale,screen:this.props.screen,onRef:this.props.onCNodeRef},payload:r.payload,context:this.props.context,size:c,origin:o.origin,margin:s,scale:t,layout:this.props.engine.orderIndex})}return null},t.prototype.getPositionInfo=function(e,t){var n,r,i=e.component;return this.props.fixedSize?(r=e.sceneMargin,n={width:i.width,height:i.height}):(r=e.screenMargin,n=e.size),{margin:r,size:n,origin:{x:e.originX,y:e.originY},cnodeScale:i.absoluteCoordinates?1:t}},t}(a.Component);t.HTMLRenderLayoutComponent=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(5),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.shouldComponentUpdate=function(e){return this.props.origin.x!==e.origin.x||this.props.origin.y!==e.origin.y||this.props.size.width!==e.size.width||this.props.size.height!==e.size.height||this.props.zIndex!==e.zIndex||this.props.margin.left!==e.margin.left||this.props.margin.right!==e.margin.right||this.props.margin.top!==e.margin.top||this.props.margin.bottom!==e.margin.bottom||this.props.payload!==e.payload||this.props.context!==e.context},t.prototype.render=function(){var e=this.props,t=e.origin,n="translate("+t.x+"px,"+t.y+"px)";return a.createElement("g",{style:{transform:n,zIndex:e.zIndex,WebkitTransform:n}},a.createElement(e.render,{id:e.component.id,payload:e.payload,context:e.context,size:e.size,origin:t,margin:e.margin,scale:1,layout:this.props.engine.orderIndex}))},t}(a.Component),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=[];for(var t in this.props.visibleComponents){var n=this.props.visibleComponents[t],r=n.component,i=this.props.engine.getDefinitionNode(r.definition);if(i){var s=this.getPreviewURL(n),u={x:r.originX,y:r.originY},l={width:r.width,height:r.height};e.push(s?a.createElement("image",{key:r.id,x:u.x,y:u.y,width:l.width,height:l.height,xlinkHref:s}):a.createElement(c,{key:r.id,engine:this.props.engine,render:i.render,context:this.props.context,component:n.component,margin:n.screenMargin,size:l,zIndex:r.orderIndex,origin:u,payload:r.payload}))}}return a.createElement("svg",{className:this.props.className,fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:this.createViewBox(),preserveAspectRatio:"xMidYMid",style:o(o({},this.props.style),{width:"100%",height:"100%",position:"absolute",overflow:"hidden",zIndex:this.props.engine.orderIndex})},e)},t.prototype.getPreviewURL=function(e){return this.props.mode===s.RenderLayoutMode.Preview?e.component.previewURL:void 0},t.prototype.createViewBox=function(){var e=this.props.camera.scale,t=this.props.camera,n=t.centerX,r=t.centerY,i=this.props.screenSize.width/e,o=this.props.screenSize.height/e;return Number.isNaN(i)&&(i=0),Number.isNaN(o)&&(o=0),n-i/2+" "+(r-o/2)+" "+i+" "+o},t}(a.Component);t.SVGRenderLayoutComponent=u},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),o=function(){function e(){var e=this;this.animationPriorities=[],this.animations={},this.afterAnimationsInvokers=[],this.animationId=null,this.isInAnimationFrame=!1,this.onAnimationFrame=function(){try{e.isInAnimationFrame=!0;for(var t=0,n=e.animationPriorities;t<n.length;t++)for(var i=0,o=r(e.animations[n[t]]);i<o.length;i++)(0,o[i])();for(var a=0,s=r(e.afterAnimationsInvokers);a<s.length;a++)(0,s[a])();e.animationId=e.animationPriorities.length>0?window.requestAnimationFrame(e.onAnimationFrame):null}finally{e.isInAnimationFrame=!1}}}return e.prototype.addAnimation=function(e,t){var n=this.animations[e],r=!1;n||(n=this.animations[e]=[],this.animationPriorities.push(e),this.animationPriorities.sort(),r=1===this.animationPriorities.length),i.arrayPut(n,t),r&&null===this.animationId&&(this.animationId=window.requestAnimationFrame(this.onAnimationFrame))},e.prototype.removeAnimation=function(e,t){var n=this.animations[e];n&&(i.arrayRemove(n,t),0===n.length&&(delete this.animations[e],i.arrayRemove(this.animationPriorities,e),0!==this.animationPriorities.length||this.isInAnimationFrame||null===this.animationId||(window.cancelAnimationFrame(this.animationId),this.animationId=null)))},e.prototype.addAfterAnimationsInvoker=function(e){i.arrayPut(this.afterAnimationsInvokers,e)},e.prototype.removeAfterAnimationsInvoker=function(e){i.arrayRemove(this.afterAnimationsInvokers,e)},e}();t.AnimationFrames=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(41),a=n(20),s=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.configurations=Object.freeze(e.map((function(e){return Object.freeze(r({},e))})))}return e.prototype.create=function(e,t,n){return new c(e,i(this.configurations),t,n)},e}();t.SpaceSpringFactory=s;var c=function(){function e(t,n,r,s){var c=this;this.priority=t,this._point=r,this.onPointUpdate=s,this.completeTick=!1,this.playingAnimation=null,this.updateIdealPoint=function(t){e.setPoint(c.idealPoint,t),!c.playingAnimation&&c.shouldContinueMoving()&&(c.playingAnimation=a.animation.createAnimation(c.priority,c.onTick)),c.completeTick=!1},this.onTick=function(){c.completeTick?c.stop():(c.executePhysicalSimulate(),c.onPointUpdate&&c.onPointUpdate(c._point),c.shouldContinueMoving()||(c.completeTick=!0))},this.configuration=n.splice(0,1)[0],this._point=i(r),this.idealPoint=i(r),this.velocity=r.map((function(){return 0})),n.length>0&&(this.guider=new e(this.priority,n,r,this.updateIdealPoint));var u=this.configuration.pedesisSpeedMean,l=this.configuration.pedesisSpeedVariance;this.gaussian=0!==u&&0!==l?o.gaussian(u,l):null,this.noPedesisRadius=(u+Math.sqrt(l))*e.noPedesisRadiusRate}return Object.defineProperty(e.prototype,"point",{get:function(){return this._point},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlayingAnimation",{get:function(){return!!this.playingAnimation},enumerable:!0,configurable:!0}),e.prototype.moveRightNow=function(t){this.guider&&this.guider.moveRightNow(t),e.setPoint(this.idealPoint,t),e.setPoint(this._point,t),e.setPointZero(this.velocity),this.playingAnimation&&(this.playingAnimation.release(),this.playingAnimation=null),this.completeTick=!1},e.prototype.moveTo=function(e){this.guider?this.guider.moveTo(e):this.updateIdealPoint(e)},e.prototype.moveToAndChangeCoordinate=function(e,t){for(var n=0;n<this._point.length;++n)this._point[n]+=e[n];this.guider?this.guider.moveToAndChangeCoordinate(e,t):this.updateIdealPoint(t)},e.prototype.stop=function(){e.setPoint(this.idealPoint,this._point),e.setPointZero(this.velocity),this.playingAnimation&&(this.playingAnimation.release(),this.playingAnimation=null),this.completeTick=!1},e.prototype.executePhysicalSimulate=function(){for(var e=this.squareDistanceToIdealPoint(),t=this.velocityDamping(e),n=e>this.noPedesisRadius*this.noPedesisRadius,r=0;r<this._point.length;++r){if(this.velocity[r]+=this.configuration.kDistance*(this.idealPoint[r]-this._point[r]),n&&this.gaussian){var i=this.gaussian.ppf(Math.random());Math.random()>=.5&&(i=-i),this.velocity[r]+=i}this._point[r]+=this.velocity[r],this.velocity[r]*=1-t}},e.prototype.velocityDamping=function(e){for(var t=0,n=0;n<this.velocity.length;++n)t+=this.velocity[n]*this.velocity[n];var r=this.configuration,i=r.heavyDampingRadius,o=r.heavyDampingSpeed;return t<o*o||e>i*i?this.configuration.velocityDamping:Math.min(1,t*this.configuration.velocityDamping)},e.prototype.squareDistanceToIdealPoint=function(){for(var e=0,t=0;t<this.velocity.length;++t){var n=this.idealPoint[t]-this._point[t];e+=n*n}return e},e.prototype.shouldContinueMoving=function(){for(var e=0;e<this._point.length;++e){if(Math.abs(this._point[e]-this.idealPoint[e])>this.configuration.matchingDistance)return!0;if(Math.abs(this.velocity[e])>this.configuration.zeroSpeed)return!0}return!1},e.setPoint=function(e,t){for(var n=0;n<e.length;++n)e[n]=n in t?t[n]:0},e.setPointZero=function(e){for(var t=0;t<e.length;++t)e[t]=0},e.noPedesisRadiusRate=2.7,e}();t.SpaceSpring=c},function(e,t,n){"use strict";function r(e){var t=Math.abs(e),n=1/(1+t/2),r=n*Math.exp(-t*t-1.26551223+n*(1.00002368+n*(.37409196+n*(.09678418+n*(n*(.27886807+n*(n*(1.48851587+n*(.17087277*n-.82215223))-1.13520398))-.18628806)))));return e>=0?r:2-r}function i(e,t){return new a(e,t)}function o(e,t){return i(t/e,1/e)}Object.defineProperty(t,"__esModule",{value:!0}),t.gaussian=i;var a=function(){function e(e,t){this.mean=e,this.variance=t,this.standardDeviation=Math.sqrt(t)}return e.prototype.pdf=function(e){var t=this.standardDeviation*Math.sqrt(2*Math.PI);return Math.exp(-Math.pow(e-this.mean,2)/(2*this.variance))/t},e.prototype.cdf=function(e){return.5*r(-(e-this.mean)/(this.standardDeviation*Math.sqrt(2)))},e.prototype.ppf=function(e){return this.mean-this.standardDeviation*Math.sqrt(2)*function(e){if(e>=2)return-100;if(e<=0)return 100;for(var t=e<1?e:2-e,n=Math.sqrt(-2*Math.log(t/2)),i=-.70711*((2.30753+.27061*n)/(1+n*(.99229+.04481*n))-n),o=0;o<2;o++){var a=r(i)-t;i+=a/(1.1283791670955126*Math.exp(-i*i)-i*a)}return e<1?i:-i}(2*e)},e.prototype.mul=function(e){if("number"==typeof e)return this.scale(e);var t=1/this.variance,n=1/e.variance;return o(t+n,t*this.mean+n*e.mean)},e.prototype.div=function(e){if("number"==typeof e)return this.scale(1/e);var t=1/this.variance,n=1/e.variance;return o(t-n,t*this.mean-n*e.mean)},e.prototype.add=function(e){return i(this.mean+e.mean,this.variance+e.variance)},e.prototype.sub=function(e){return i(this.mean-e.mean,this.variance+e.variance)},e.prototype.scale=function(e){return i(this.mean*e,this.variance*e*e)},e}();t.Gaussian=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(43),o=n(0),a=n(44),s=n(67),c=n(68),u=n(10),l=n(6),p=n(72),d=n(8),h=function(){function e(e){var t=this;this.screenUpdatedDispatcher=new l.EventDispatcher,this.cameraUpdatedDispatcher=new l.EventDispatcher,this.renderErrorCatchedDispatcher=new l.EventDispatcher,this.sizeUpdatedDispatcher=new l.EventDispatcher,this.centerX=0,this.centerY=0,this.scale=1,this.adaptedRectangle=null,this.onResize=function(e){var n=e[0];if(n){var r=n.contentRect;t.refreshSize(r.width,r.height)}},this.deviceType=e.scene.deviceType,this.scene=e.scene,this._className=e.className,this._style=e.style,this._context=e.context,this._width=e.width,this._height=e.height,this.cameraAnimation=new s.CameraAnimation(this.camera,(function(e){return t.dispatchUpdatedEvent(e)})),this.eventInterrupter=e.eventInterrupter,this.updater=new p.ScreenUpdater({screen:this,engines:e.engines,wrappedComponents:e.wrappedComponents}),e.autoResize&&(this.resizeObserver=new i.default(this.onResize))}return Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className!==e&&(this._className=e,this.updater.refreshScreenRendererState({className:e}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(e){this._style!==e&&(this._style=e,this.updater.refreshScreenRendererState({style:e}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappedComponents",{get:function(){return this.updater.wrappedComponents},set:function(e){this.updater.wrappedComponents=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"divElement",{get:function(){return this.updater.divElement},set:function(e){var t=this.updater.divElement;t!==e&&(this.resizeObserver&&t&&this.resizeObserver.unobserve(t),this.updater.divElement=e,this.resizeObserver&&e&&this.resizeObserver.observe(e),this._eventProxy&&this._eventProxy.bindDivElement(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventProxy",{get:function(){return this._eventProxy||(this._eventProxy=new a.EventProxyImplement(this,this.eventInterrupter),this._eventProxy.bindDivElement(this.divElement)),this._eventProxy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e,this.updater.refreshScreenContext())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bounding",{get:function(){if(this.divElement){var e=this.divElement.getBoundingClientRect();return{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width,height:e.height}}return{left:0,right:0,top:0,bottom:0,width:0,height:0}},enumerable:!0,configurable:!0}),e.prototype.bindCameraman=function(e){return new a.CameramanImplement(this,this.eventProxy,e)},e.prototype.convertPointToScreen=function(e,t){return{x:(e-this.centerX)*this.scale+this._width/2,y:(t-this.centerY)*this.scale+this._height/2}},e.prototype.convertPointToScene=function(e,t){return{x:(e-this._width/2)/this.scale+this.centerX,y:(t-this._height/2)/this.scale+this.centerY}},e.prototype.cameraWithAdaptRectangle=function(e,t){var n=e.originX+e.width/2,r=e.originY+e.height/2,i=this._width/e.width,a=this._height/e.height;switch(Number.isNaN(i)&&(i=1),Number.isNaN(a)&&(a=1),t){case o.RectangleAdapterMode.Centering:return{centerX:n,centerY:r,scale:Math.min(i,a)};case o.RectangleAdapterMode.Tailor:return{centerX:n,centerY:r,scale:Math.max(i,a)}}},e.prototype.adaptRectangle=function(e){0===e.width||0===e.height?this.transformCamera({animationMode:e.animationMode,centerX:e.originX+e.width/2,centerY:e.originY+e.height/2,scale:1}):(this.updateCamera(r(r({},this.cameraWithAdaptRectangle(e,e.adapterMode)),{animationMode:e.animationMode})),this.adaptedRectangle=Object.freeze({originX:e.originX,originY:e.originY,width:e.width,height:e.height,adapterMode:e.adapterMode}))},e.prototype.transformCamera=function(e){this.adaptedRectangle=null,this.updateCamera(e)},e.prototype.updateCamera=function(e){var t=u.numberWithDefault(e.centerX,this.centerX),n=u.numberWithDefault(e.centerY,this.centerY),r=u.numberWithDefault(e.scale,this.scale);if(t!==this.centerX||n!==this.centerY||r!==this.scale){this.centerX=t,this.centerY=n,this.scale=r;var i=this.camera;switch(e.animationMode){case o.AnimationMode.Immediately:this.dispatchUpdatedEvent(i),this.cameraAnimation.moveToRightNow(i);break;case o.AnimationMode.Continuous:this.cameraAnimation.moveTo(i)}}},e.prototype.dispatchUpdatedEvent=function(e){var t=this.convertVisionRectangle(e,this._width,this._height);this.screenUpdatedDispatcher.dispatch({width:this._width,height:this._height,camera:e,visionRectangle:t}),this.cameraUpdatedDispatcher.dispatch(e)},Object.defineProperty(e.prototype,"camera",{get:function(){return{centerX:this.centerX,centerY:this.centerY,scale:this.scale}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visionRectangle",{get:function(){return this.convertVisionRectangle(this.camera,this._width,this._height)},enumerable:!0,configurable:!0}),e.prototype.willInterruptEvent=function(e,t){return this.updater.willInterruptEvent(e,t)},e.prototype.convertVisionRectangle=function(e,t,n){var r=t/e.scale,i=n/e.scale;return{originX:e.centerX-r/2,originY:e.centerY-i/2,width:r,height:i}},e.prototype.hitTest=function(e,t,n){return this.updater.hitTest(this.convertPointToScene(e,t),n)},e.prototype.findComponentWithTarget=function(e){return this.updater.findComponentWithTarget(e)},e.prototype.renderScreenshot=function(e){var t=u.valueWithDefault(e.camera,Object.freeze(this.camera)),n=u.valueWithDefault(e.width,this._width),r=u.valueWithDefault(e.height,this._height),i={width:this._width,height:this._height,camera:t,visionRectangle:this.convertVisionRectangle(t,n,r)},o=d.createVisibleComponents(i,this.scene.components);return new c.Screenshoter(this,this.updater.engines,o,t).render(this.updater.wrappedComponents)},e.prototype.resize=function(){if(this.divElement&&!this.resizeObserver){var e=this.divElement;this.refreshSize(e.clientWidth,e.clientHeight)}},e.prototype.refreshSize=function(e,t){var n;this._width===e&&this._height===t||(this._width=e,this._height=t,n=this.adaptedRectangle?this.cameraWithAdaptRectangle(this.adaptedRectangle,this.adaptedRectangle.adapterMode):this.camera,this.updateCamera(r(r({},n),{animationMode:o.AnimationMode.Immediately})),this.dispatchUpdatedEvent(n),this.sizeUpdatedDispatcher.dispatch({width:e,height:t}))},e.prototype.addCameraUpdatedListener=function(e){this.cameraUpdatedDispatcher.addListener(e)},e.prototype.removeCameraUpdatedListener=function(e){this.cameraUpdatedDispatcher.removeListener(e)},e.prototype.addRenderErrorCatchedListener=function(e){this.renderErrorCatchedDispatcher.addListener(e)},e.prototype.removeRenderErrorCatchedListener=function(e){this.renderErrorCatchedDispatcher.removeListener(e)},e.prototype.addSizeUpdatedListener=function(e){this.sizeUpdatedDispatcher.addListener(e)},e.prototype.removeSizeUpdatedListener=function(e){this.sizeUpdatedDispatcher.removeListener(e)},e.prototype.addScreenUpdatedListener=function(e){this.screenUpdatedDispatcher.addListener(e)},e.prototype.removeScreenUpdatedListener=function(e){this.screenUpdatedDispatcher.removeListener(e)},e.prototype.layoutComponentWithTarget=function(e){var t=this.findComponentWithTarget(e);return t?{componentId:t.component.id,layout:t.engine.orderIndex}:void 0},e}();t.ScreenImplement=h},function(e,t){e.exports=n(45)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(45)),r(n(57))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(46),i=n(6),o=n(21),a=function(){function e(e,t){var n=this;this.eventDispatcher=new i.EventDispatcher,this.binder=null,this.fireEvent=function(e){var t=n.continuityNode.interruptEvent(e);t&&n.eventDispatcher.dispatch(t)},this.screen=e,this.eventInterrupter=t,this.continuityNode=o.createContinuityNode((function(e){return n.eventDispatcher.dispatch(e)}))}return e.prototype.bindDivElement=function(e){e!==(this.binder?this.binder.divElement:null)&&(this.binder&&this.binder.release(),this.binder=e?new r.EventBinder(this.screen.deviceType,e,this):null)},Object.defineProperty(e.prototype,"disable",{get:function(){return this.continuityNode.disable},set:function(e){this.continuityNode.disable=e},enumerable:!0,configurable:!0}),e.prototype.cancelCurrentContinuityEvent=function(){this.continuityNode.cancel()},e.prototype.toPointInScene=function(e,t){return this.screen.convertPointToScene(e,t)},e.prototype.willInterruptEvent=function(e,t){return!(this.disable||!this.eventInterrupter(e))||!!t&&this.screen.willInterruptEvent(e,t)},e.prototype.addListener=function(e){this.eventDispatcher.addListener(e)},e.prototype.removeListener=function(e){this.eventDispatcher.removeListener(e)},e}();t.EventProxyImplement=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(47))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(48),a=n(49),s=n(50),c=n(51),u=function(){function e(e,t,n){this.mouseEventHandler=new o.MouseEventHandler(this),this.touchEventHandler=new s.TouchEventHandler(this),this.wheelEventHandler=new a.WheelEventHandler(this),this.keyboardEventHandler=new c.KeyboardEventHandler(this),this.divElement=t,this.eventParamMap=this.createEventParamMap(e),this.delegate=n,this.addListeners()}return e.prototype.createEventParamMap=function(e){var t={};switch(e){case i.DeviceType.Desktop:t=r(r({},t),{keyup:{method:this.keyboardEventHandler.onKeyUp,element:document.body},keydown:{method:this.keyboardEventHandler.onKeyDown,element:document.body},mousedown:{method:this.mouseEventHandler.onMouseDown},mousemove:{method:this.mouseEventHandler.onMouseMove,element:document},mouseup:{method:this.mouseEventHandler.onMouseUp,element:document},mouseleave:{method:this.mouseEventHandler.onMouseLeave},wheel:{method:this.wheelEventHandler.onMouseWheel},gesturestart:{method:this.wheelEventHandler.onGestureStart,element:document.body},gesturechange:{method:this.wheelEventHandler.onGestureChange,element:document.body},gestureend:{method:this.wheelEventHandler.onGestureEnd,element:document.body}});break;case i.DeviceType.Touch:t=r(r({},t),{touchstart:{method:this.touchEventHandler.onTouchStart},touchmove:{method:this.touchEventHandler.onTouchMove},touchend:{method:this.touchEventHandler.onTouchEnd},touchcancel:{method:this.touchEventHandler.onTouchCancel}});break;case i.DeviceType.Surface:t=r(r({},t),{keyup:{method:this.keyboardEventHandler.onKeyUp,element:document.body},keydown:{method:this.keyboardEventHandler.onKeyDown,element:document.body},mousedown:{method:this.mouseEventHandler.onMouseDown},mousemove:{method:this.mouseEventHandler.onMouseMove,element:document},mouseup:{method:this.mouseEventHandler.onMouseUp,element:document},mouseleave:{method:this.mouseEventHandler.onMouseLeave},wheel:{method:this.wheelEventHandler.onMouseWheel},gesturestart:{method:this.wheelEventHandler.onGestureStart,element:document.body},gesturechange:{method:this.wheelEventHandler.onGestureChange,element:document.body},gestureend:{method:this.wheelEventHandler.onGestureEnd,element:document.body},touchstart:{method:this.touchEventHandler.onTouchStart},touchmove:{method:this.touchEventHandler.onTouchMove},touchend:{method:this.touchEventHandler.onTouchEnd},touchcancel:{method:this.touchEventHandler.onTouchCancel}})}return Object.freeze(t)},e.prototype.addListeners=function(){for(var e in this.eventParamMap){var t=this.eventParamMap[e];(t.element||this.divElement).addEventListener(e,t.method,!0)}},e.prototype.release=function(){for(var e in this.eventParamMap){var t=this.eventParamMap[e];(t.element||this.divElement).removeEventListener(e,t.method,!0)}},e.prototype.fireEvent=function(e){this.delegate.fireEvent(e)},e.prototype.getOS=function(){var e=window.navigator.userAgent,t=window.navigator.platform,n="";return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":/Android/.test(e)?n="Android":!n&&/Linux/.test(t)&&(n="Linux"),n},e.prototype.toPointInScene=function(e,t){return this.delegate.toPointInScene(e,t)},e.prototype.willInterruptMouseOrTouchEvent=function(e,t){return!!t&&(!this.isEventFiredOnElement(t,this.divElement)||this.delegate.willInterruptEvent(e,t))},e.prototype.willInterruptKeyboardEvent=function(e,t){return!!t&&(!!this.delegate.willInterruptEvent(e,t)||t!==document.body&&!this.isEventFiredOnElement(t,this.divElement))},e.prototype.isEventFiredOnElement=function(e,t){for(;e;){if(e===t)return!0;e=e.parentElement}return!1},e.prototype.eventPosition=function(e){var t=this.divElement.getBoundingClientRect(),n=t.left,r=t.top;return{x:Math.floor(e.clientX)-n,y:Math.floor(e.clientY)-r}},e}();t.EventBinder=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){var t=this;this.binder=e,this.isLeftButtonPressed=!1,this.onMouseDown=function(e){if(0===e.button&&(t.checkMouseDidUp(e),t.isLeftButtonPressed=!0,!t.binder.willInterruptMouseOrTouchEvent(e,e.target))){var n=t.binder.eventPosition(e),i={kind:r.BoundlessEventKind.MouseDown,nativeEvent:e,isOnScreen:!0,pointOnScreen:n,pointOnScene:t.binder.toPointInScene(n.x,n.y)};t.binder.fireEvent(i)}},this.onMouseMove=function(e){if(0===e.button){t.checkMouseDidUp(e);var n=t.binder.eventPosition(e),i={kind:r.BoundlessEventKind.MouseMove,nativeEvent:e,isOnScreen:t.binder.isEventFiredOnElement(e.target,t.binder.divElement),pointOnScreen:n,pointOnScene:t.binder.toPointInScene(n.x,n.y)};t.binder.fireEvent(i)}},this.onMouseLeave=function(e){if(0===e.button&&(t.checkMouseDidUp(e),e.target===t.binder.divElement)){var n=t.binder.eventPosition(e),i={kind:r.BoundlessEventKind.MouseLeave,nativeEvent:e,isOnScreen:t.binder.isEventFiredOnElement(e.target,t.binder.divElement),pointOnScreen:n,pointOnScene:t.binder.toPointInScene(n.x,n.y)};t.binder.fireEvent(i)}},this.onMouseUp=function(e){0===e.button&&(t.isLeftButtonPressed=!1,t.fireMouseUpEvent(e))}}return e.prototype.checkMouseDidUp=function(e){this.isLeftButtonPressed&&0===e.which&&this.fireMouseUpEvent(e)},e.prototype.fireMouseUpEvent=function(e){var t=this.binder.eventPosition(e),n={kind:r.BoundlessEventKind.MouseUp,nativeEvent:e,isOnScreen:this.binder.isEventFiredOnElement(e.target,this.binder.divElement),pointOnScreen:t,pointOnScene:this.binder.toPointInScene(t.x,t.y)};this.binder.fireEvent(n)},e}();t.MouseEventHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(t){var n=this;this.binder=t,this.latestScale=1,this.onMouseWheel=function(e){if(!n.binder.willInterruptMouseOrTouchEvent(e,e.target)){var t=n.binder.eventPosition(e),i=e.deltaX,o=e.deltaY,a=Math.sqrt(i*i+o*o),s=0,c=0;"Windows"===n.binder.getOS()&&(a=-a),i+o<0&&(a=-a),n.isMacTouchpadTwoFingerZoom(e)?a=.5*-a:n.isMacTouchpadTwoFingerScroll(e)?(s=-i,c=-o,a=0):a*=.035;var u={kind:r.BoundlessEventKind.MouseWheel,nativeEvent:e,isOnScreen:n.binder.isEventFiredOnElement(e.target,n.binder.divElement),offsetPoint:{x:s,y:c},scale:n.adjustScale(a),pointOnScreen:t,pointOnScene:n.binder.toPointInScene(t.x,t.y)};n.binder.fireEvent(u)}e.preventDefault()},this.onGestureStart=function(e){n.binder.willInterruptMouseOrTouchEvent(e,e.target)||(e.preventDefault(),n.latestScale=1)},this.onGestureChange=function(t){if(!n.binder.willInterruptMouseOrTouchEvent(t,t.target)){t.preventDefault();var i=(t.scale/n.latestScale-1)*e.safariScaleNumber,o={x:t.layerX,y:t.layerY},a={kind:r.BoundlessEventKind.MouseWheel,nativeEvent:t,isOnScreen:n.binder.isEventFiredOnElement(t.target,n.binder.divElement),offsetPoint:{x:0,y:0},scale:n.adjustScale(i),pointOnScreen:o,pointOnScene:n.binder.toPointInScene(o.x,o.y)};n.binder.fireEvent(a)}},this.onGestureEnd=function(e){n.binder.willInterruptMouseOrTouchEvent(e,e.target)||e.preventDefault()},this.isMacTouchpadTwoFingerZoom=function(e){return-1!==navigator.platform.indexOf("Mac")&&e.ctrlKey},this.isMacTouchpadTwoFingerScroll=function(e){return-1!==navigator.platform.indexOf("Mac")&&(e.wheelDelta%120!=0||0!==e.movementX||0!==e.deltaX)}}return e.prototype.adjustScale=function(t){return Math.max(t,e.minScaleStep)*e.scaleRate},e.safariScaleNumber=10,e.minScaleStep=-40,e.scaleRate=.02,e}();t.WheelEventHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){var t=this;this.binder=e,this.onTouchStart=function(e){var n=e.target,i=!n||n&&!n.classList.contains("ppt-event-source");e.cancelable&&i&&e.preventDefault();for(var o=[],a=0;a<e.changedTouches.length;++a){var s=e.changedTouches.item(a);if(!t.binder.willInterruptMouseOrTouchEvent(e,s.target)){var c=""+s.identifier,u=t.binder.eventPosition(s);o.push({identifier:c,pointOnScreen:u,pointOnScene:t.binder.toPointInScene(u.x,u.y)})}}o.length>0&&t.binder.fireEvent({kind:r.BoundlessEventKind.TouchStart,nativeEvent:e,touches:o})},this.onTouchMove=function(e){e.cancelable&&e.preventDefault();for(var n=[],i=0;i<e.changedTouches.length;++i){var o=e.changedTouches.item(i),a=""+o.identifier,s=t.binder.eventPosition(o);n.push({identifier:a,pointOnScreen:s,pointOnScene:t.binder.toPointInScene(s.x,s.y)})}n.length>0&&t.binder.fireEvent({kind:r.BoundlessEventKind.TouchMove,nativeEvent:e,touches:n})},this.onTouchEnd=function(e){var n=e.target,i=!n||n&&!n.classList.contains("ppt-event-source");e.cancelable&&i&&e.preventDefault();var o=t.cleanAcceptedTouchesByTouchEvent(e);o.length>0&&t.binder.fireEvent({kind:r.BoundlessEventKind.TouchEnd,nativeEvent:e,touches:o})},this.onTouchCancel=function(e){e.cancelable&&e.preventDefault();var n=t.cleanAcceptedTouchesByTouchEvent(e);n.length>0&&t.binder.fireEvent({kind:r.BoundlessEventKind.TouchCancel,nativeEvent:e,touches:n})}}return e.prototype.cleanAcceptedTouchesByTouchEvent=function(e){for(var t=[],n=0;n<e.changedTouches.length;++n){var r=e.changedTouches.item(n),i=""+r.identifier,o=this.binder.eventPosition(r);t.push({identifier:i,pointOnScreen:o,pointOnScene:this.binder.toPointInScene(o.x,o.y)})}return t},e}();t.TouchEventHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.KeyboardEventHandler=function(e){var t=this;this.binder=e,this.onKeyDown=function(e){t.binder.willInterruptKeyboardEvent(e,e.target)||t.binder.fireEvent({kind:r.BoundlessEventKind.KeyDown,nativeEvent:e,key:e.key,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey})},this.onKeyUp=function(e){t.binder.fireEvent({kind:r.BoundlessEventKind.KeyUp,nativeEvent:e,key:e.key,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=function(){function e(){this.currentIdentifier=0}return e.prototype.setEventDescriptionStateGetter=function(e){this.getDescriptionState=e},e.prototype.isEventAccessible=function(e){return e.kind===i.BoundlessEventKind.MouseDown||e.kind===i.BoundlessEventKind.MouseMove||e.kind===i.BoundlessEventKind.MouseUp||e.kind===i.BoundlessEventKind.MouseLeave},e.prototype.convertToEvent=function(e,t){var n=t[0].payload;return{kind:e.kind,nativeEvent:e.nativeEvent,isOnScreen:n.isOnScreen,pointOnScreen:n.pointOnScreen,pointOnScene:n.pointOnScene}},e.prototype.createCancelEvent=function(e){var t;for(var n in e)t=e[n];return{kind:i.BoundlessEventKind.MouseUp,isOnScreen:t.isOnScreen,pointOnScreen:t.pointOnScreen,pointOnScene:t.pointOnScene}},e.prototype.takeEventDescription=function(e){e.kind===i.BoundlessEventKind.MouseDown&&this.currentIdentifier++;var t,n=""+this.currentIdentifier;switch(e.kind===i.BoundlessEventKind.MouseUp&&this.currentIdentifier++,e.kind){case i.BoundlessEventKind.MouseDown:t=r.EventPhase.Start;break;case i.BoundlessEventKind.MouseMove:case i.BoundlessEventKind.MouseLeave:var o=this.getDescriptionState(n);if(o){if(o.isCanceled)return null;t=r.EventPhase.Update}else{if(!e.isOnScreen)return null;t=r.EventPhase.Other}break;case i.BoundlessEventKind.MouseUp:t=r.EventPhase.End;break;default:return null}return{identifier:n,phase:t,payload:{isOnScreen:e.isOnScreen,pointOnScreen:e.pointOnScreen,pointOnScene:e.pointOnScene}}},e}();t.MouseEventAdapter=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(0),a=function(){function e(){}return e.prototype.isEventAccessible=function(e){return e.kind===o.BoundlessEventKind.TouchStart||e.kind===o.BoundlessEventKind.TouchMove||e.kind===o.BoundlessEventKind.TouchEnd||e.kind===o.BoundlessEventKind.TouchCancel},e.prototype.convertToEvent=function(e,t){for(var n=[],i=0,o=t;i<o.length;i++){var a=o[i];n.push(r({identifier:a.identifier},a.payload))}return{kind:e.kind,nativeEvent:e.nativeEvent,touches:n}},e.prototype.createCancelEvent=function(e){var t=[];for(var n in e)t.push(r({identifier:n},e[n]));return{kind:o.BoundlessEventKind.TouchCancel,touches:t}},e.prototype.takeEventDescription=function(e){var t;switch(e.kind){case o.BoundlessEventKind.TouchStart:t=i.EventPhase.Start;break;case o.BoundlessEventKind.TouchMove:t=i.EventPhase.Update;break;case o.BoundlessEventKind.TouchEnd:case o.BoundlessEventKind.TouchCancel:t=i.EventPhase.End;break;default:return null}for(var n=[],r=0,a=e.touches;r<a.length;r++){var s=a[r];n.push({identifier:s.identifier,phase:t,payload:{pointOnScene:s.pointOnScene,pointOnScreen:s.pointOnScreen}})}return n},e}();t.TouchEventAdapter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=function(){function e(){}return e.prototype.isEventAccessible=function(e){return e.kind===i.BoundlessEventKind.SortedTouchStart||e.kind===i.BoundlessEventKind.SortedTouchMove||e.kind===i.BoundlessEventKind.SortedTouchEnd||e.kind===i.BoundlessEventKind.SortedTouchCancel},e.prototype.convertToEvent=function(e,t){var n=t[0],r=n.payload;return{kind:e.kind,nativeEvent:e.nativeEvent,identifier:n.identifier,pointOnScene:r.pointOnScene,pointOnScreen:r.pointOnScreen}},e.prototype.createCancelEvent=function(e){var t;for(var n in e)t=n;var r=e[t];return{kind:i.BoundlessEventKind.SortedTouchCancel,identifier:t,pointOnScene:r.pointOnScene,pointOnScreen:r.pointOnScreen}},e.prototype.takeEventDescription=function(e){var t;switch(e.kind){case i.BoundlessEventKind.SortedTouchStart:t=r.EventPhase.Start;break;case i.BoundlessEventKind.SortedTouchMove:t=r.EventPhase.Update;break;case i.BoundlessEventKind.SortedTouchEnd:case i.BoundlessEventKind.SortedTouchCancel:t=r.EventPhase.End;break;default:return null}return[{identifier:e.identifier,phase:t,payload:{pointOnScene:e.pointOnScene,pointOnScreen:e.pointOnScreen}}]},e}();t.SortedTouchEventAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=function(){function e(){}return e.prototype.isEventAccessible=function(e){return e.kind===i.BoundlessEventKind.KeyUp||e.kind===i.BoundlessEventKind.KeyDown},e.prototype.convertToEvent=function(e,t){var n=t[0].payload;return{kind:e.kind,nativeEvent:e.nativeEvent,key:n.key,altKey:n.altKey,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey}},e.prototype.createCancelEvent=function(e){var t;for(var n in e)t=e[n];return{kind:i.BoundlessEventKind.KeyUp,key:t.key,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey}},e.prototype.takeEventDescription=function(e){var t,n;if(null===(t=e.nativeEvent)||void 0===t?void 0:t.metaKey)n=r.EventPhase.Other;else switch(e.kind){case i.BoundlessEventKind.KeyDown:n=r.EventPhase.Start;break;case i.BoundlessEventKind.KeyUp:n=r.EventPhase.End;break;default:return null}return{identifier:e.key,phase:n,payload:{key:e.key,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey}}},e}();t.KeyboardEventAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(0),o=function(){function e(){this.currentIdentifier=0}return e.prototype.setEventDescriptionStateGetter=function(e){this.getDescriptionState=e},e.prototype.isEventAccessible=function(e){return e.kind===i.BoundlessEventKind.MouseWheel},e.prototype.takeEventDescription=function(e){var t=""+this.currentIdentifier;return this.getDescriptionState(t),this.currentIdentifier++,{identifier:t,phase:r.EventPhase.Other,payload:{isOnScreen:e.isOnScreen,pointOnScene:e.pointOnScene,pointOnScreen:e.pointOnScreen,offsetPoint:e.offsetPoint,scale:e.scale}}},e.prototype.convertToEvent=function(e,t){return e},e.prototype.createCancelEvent=function(e){return null},e}();t.WheelEventAdapter=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(58),a=n(21),s=n(61),c=n(0),u=n(66),l=function(){function e(e,t,n){var l=this;void 0===n&&(n={}),this.disableCameraTransform=!1,this.boundlessEventDispatcher=new i.EventDispatcher,this.transformationEventDispatcher=new i.EventDispatcher,this.handToolActiveEventDispatcher=new i.EventDispatcher,this.transformer=null,this.border=Object.freeze({damping:.75,centerX:0,centerY:0,width:Number.POSITIVE_INFINITY,height:Number.POSITIVE_INFINITY,minScale:0,maxScale:Number.POSITIVE_INFINITY}),this.moveToCamera=null,this.didRelease=!1,this.isPaddingCameraOperations=!1,this.paddingCameraOperation=null,this.onBoundlessEvent=function(e){switch(l.screen.deviceType){case c.DeviceType.Surface:l.handleBoundlessEventWhenItIsSurface(e);break;case c.DeviceType.Desktop:l.handleBoundlessEventWhenItIsDesktop(e);break;case c.DeviceType.Touch:l.handleBoundlessEventWhenItIsTouch(e)}},this.onScreenUpdatedListener=function(e){var t=e.camera,n=e.width,i=e.height,o=l.cameraView.screenSize;if(o.width!==n||o.height!==i){l.cameraView.screenSize=Object.freeze({width:n,height:i});var a=l.cameraView.transformToCombinedCamera(l.screen.camera,{x:n/2,y:i/2}).valid;t.centerX===a.centerX&&t.centerY===a.centerY&&t.scale===a.scale||l.screen.transformCamera(r(r({},a),{animationMode:c.AnimationMode.Immediately}))}},this.dispatchBoundlessEvent=function(e){var t=l.continuityNode.interruptEvent(e);l.handTool.willInterruptEvent(t)?l.handTool.moveCameraByEvent(t):t&&l.boundlessEventDispatcher.dispatch(t),l.handTool.handlePreviousEvent(t)},this.onBeginTransformCamera=function(e){l.disableCameraTransform||(l.isPaddingCameraOperations=!0,l.transformationEventDispatcher.dispatch(c.CameraTransformation.Begin),l.cameraView.beginWithCamera(l.screen.camera),l.transformer=new s.CameraBorderTransformer(l.border),l.onTransformCamera(e))},this.onTransformCamera=function(e){if(!l.disableCameraTransform){var t=l.cameraView.handleTouchesAndGetCameraMoving(e);l.moveToCamera=t.view,l.screen.transformCamera(r(r({},l.cameraAppendBorderTransform(t.view)),{animationMode:c.AnimationMode.Immediately}))}},this.onAfterTransformCamera=function(){if(!l.disableCameraTransform){var e=l.cameraView.completeAndGetValidCamera();l.isPaddingCameraOperations=!1,l.moveToCamera=l.cameraAppendBorderTransform(e),l.cameraView.setCameraBorder(l.border),l.paddingCameraOperation&&(l.paddingCameraOperation(),l.paddingCameraOperation=null),l.transformer=null,l.transformationEventDispatcher.dispatch(c.CameraTransformation.End)}},this.onCompleteGroupOfEvents=function(){if(l.moveToCamera){var e=l.screen.camera;l.moveToCamera.centerX===e.centerX&&l.moveToCamera.centerY===e.centerY&&l.moveToCamera.scale===e.scale||l.screen.transformCamera(r(r({},l.moveToCamera),{animationMode:c.AnimationMode.Continuous})),l.moveToCamera=null}},this.onContinuityNodeCancel=function(e){l.boundlessEventDispatcher.dispatch(e),l.sorter&&l.sorter.cancel()},this.screen=e,this.eventProxy=t,this.continuityNode=a.createContinuityNode(this.onContinuityNodeCancel),this.cameraView=new s.CameraView({width:e.width,height:e.height}),this.handTool=new u.HandTool({cameraman:this,activeDispatch:function(e){return l.handToolActiveEventDispatcher.dispatch(e)}}),this.setCameraBorder(n),e.deviceType!==c.DeviceType.Touch&&e.deviceType!==c.DeviceType.Surface||(this.sorter=new o.EventAndCameraSorter({onBeginTransformCamera:this.onBeginTransformCamera,onTransformCamera:this.onTransformCamera,onAfterTransformCamera:this.onAfterTransformCamera,onCompleteGroupOfEvents:this.onCompleteGroupOfEvents,onReceivedSortedTouchEvent:this.dispatchBoundlessEvent})),t.addListener(this.onBoundlessEvent),e.addScreenUpdatedListener(this.onScreenUpdatedListener)}return Object.defineProperty(e.prototype,"handToolActive",{get:function(){return this.handTool.active},set:function(e){this.handTool.active=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handToolKey",{get:function(){return this.handTool.key},set:function(e){this.handTool.key=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cameraBorder",{get:function(){return this.border},enumerable:!0,configurable:!0}),e.prototype.cancelCurrentContinuityEvent=function(){this.continuityNode.cancel()},e.prototype.setCameraBorder=function(e){var t=this.border,n=this.border=Object.freeze(r(r({},this.border),e));if(!s.isCameraBorderEquals(t,n)){var i=void 0;this.transformer?((i=this.transformer).setCurrentBorder(n),n=i.adaptOriginBorder):(i=new s.CameraBorderTransformer(t)).setCurrentBorder(n),this.cameraView.setCameraBorder(n);var o=this.moveToCamera||this.screen.camera,a=i.transform;0===a.deltaX&&0===a.deltaY&&1===a.scale||this.screen.transformCamera({animationMode:c.AnimationMode.Immediately,centerX:o.centerX+a.deltaX,centerY:o.centerY+a.deltaY,scale:o.scale*a.scale})}return this.border},Object.defineProperty(e.prototype,"disableBoundlessEvent",{get:function(){return this.continuityNode.disable},set:function(e){this.continuityNode.disable=e},enumerable:!0,configurable:!0}),e.prototype.transformCamera=function(e){var t=this;this.isPaddingCameraOperations?this.paddingCameraOperation=function(){return t.screen.transformCamera(e)}:this.screen.transformCamera(e)},e.prototype.adaptRectangle=function(e){var t=this;this.isPaddingCameraOperations?this.paddingCameraOperation=function(){return t.screen.adaptRectangle(e)}:this.screen.adaptRectangle(e)},e.prototype.release=function(){this.didRelease||(this.sorter&&this.sorter.cancel(),this.eventProxy.removeListener(this.onBoundlessEvent),this.screen.removeScreenUpdatedListener(this.onScreenUpdatedListener),this.didRelease=!0)},e.prototype.handleBoundlessEventWhenItIsDesktop=function(e){switch(e.kind){case c.BoundlessEventKind.MouseWheel:this.onMouseWheel(e);break;case c.BoundlessEventKind.TouchStart:case c.BoundlessEventKind.TouchMove:case c.BoundlessEventKind.TouchEnd:case c.BoundlessEventKind.TouchCancel:break;case c.BoundlessEventKind.KeyDown:case c.BoundlessEventKind.KeyUp:this.handTool.isKeyEvent(e)?this.handTool.handleKeyEvent(e):this.dispatchBoundlessEvent(e);break;default:this.dispatchBoundlessEvent(e)}},e.prototype.handleBoundlessEventWhenItIsTouch=function(e){switch(e.kind){case c.BoundlessEventKind.TouchStart:case c.BoundlessEventKind.TouchMove:case c.BoundlessEventKind.TouchEnd:case c.BoundlessEventKind.TouchCancel:this.sorter.pushTouchEvent(e);break;case c.BoundlessEventKind.MouseDown:case c.BoundlessEventKind.MouseUp:case c.BoundlessEventKind.MouseMove:case c.BoundlessEventKind.MouseLeave:break;case c.BoundlessEventKind.KeyDown:case c.BoundlessEventKind.KeyUp:this.handTool.isKeyEvent(e)?this.handTool.handleKeyEvent(e):this.dispatchBoundlessEvent(e);break;default:this.dispatchBoundlessEvent(e)}},e.prototype.handleBoundlessEventWhenItIsSurface=function(e){switch(e.kind){case c.BoundlessEventKind.MouseWheel:this.onMouseWheel(e);break;case c.BoundlessEventKind.TouchStart:case c.BoundlessEventKind.TouchMove:case c.BoundlessEventKind.TouchEnd:case c.BoundlessEventKind.TouchCancel:this.sorter.pushTouchEvent(e);break;case c.BoundlessEventKind.MouseDown:case c.BoundlessEventKind.MouseUp:case c.BoundlessEventKind.MouseMove:case c.BoundlessEventKind.MouseLeave:default:this.dispatchBoundlessEvent(e)}},e.prototype.onMouseWheel=function(e){if(!this.disableCameraTransform){var t=this.screen.camera,n=t.centerX,i=t.centerY,o=t.scale;if(0!==e.scale){var a=1+e.scale,s=(1-1/a)/o;n+=s*(e.pointOnScreen.x-this.screen.width/2),i+=s*(e.pointOnScreen.y-this.screen.height/2),o*=a}var u=this.cameraView.transformToCombinedCamera({centerX:n-=e.offsetPoint.x/o,centerY:i-=e.offsetPoint.y/o,scale:o},e.pointOnScreen);this.transformationEventDispatcher.dispatch(c.CameraTransformation.Begin),this.screen.transformCamera(r(r({},this.cameraAppendBorderTransform(u.valid)),{animationMode:c.AnimationMode.Immediately})),this.transformationEventDispatcher.dispatch(c.CameraTransformation.End)}},e.prototype.cameraAppendBorderTransform=function(e){if(this.transformer){var t=this.transformer.transform;return Object.freeze({centerX:e.centerX+t.deltaX,centerY:e.centerY+t.deltaY,scale:e.scale*t.scale})}return e},e.prototype.addHandToolActiveListener=function(e){this.handToolActiveEventDispatcher.addListener(e)},e.prototype.removeHandToolActiveListener=function(e){this.handToolActiveEventDispatcher.removeListener(e)},e.prototype.addCameraTransformationListener=function(e){this.transformationEventDispatcher.addListener(e)},e.prototype.removeCameraTransformationListener=function(e){this.transformationEventDispatcher.removeListener(e)},e.prototype.addBoundlessEventListener=function(e){this.boundlessEventDispatcher.addListener(e)},e.prototype.removeBoundlessEventListener=function(e){this.boundlessEventDispatcher.removeListener(e)},e}();t.CameramanImplement=l},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),a=n(59),s=n(60);!function(e){e[e.None=0]="None",e[e.Event=1]="Event",e[e.Camera=2]="Camera",e[e.Cancel=3]="Cancel"}(i||(i={}));var c=function(){function e(e){this.pressedTouches=new s.PressedTouches,this.state=i.None,this.pinchTouches=null,this.previousTouchesCount=0,this.firstPressedTouch=null,this.firstPressedTouchBeginX=0,this.firstPressedTouchBeginY=0,this.blocker=new a.MultiFingersToleranceBlocker(e.onReceivedSortedTouchEvent),this.callbacks=Object.freeze(r({},e))}return e.prototype.pushTouchEvent=function(e){switch(e.kind){case o.BoundlessEventKind.TouchStart:this.pressedTouches.receiveTouchStartOrMoveEvent(e),this.pushTouchStartEvent(e);break;case o.BoundlessEventKind.TouchMove:this.pressedTouches.receiveTouchStartOrMoveEvent(e),this.pushTouchMoveEvent(e);break;case o.BoundlessEventKind.TouchEnd:case o.BoundlessEventKind.TouchCancel:this.pressedTouches.receiveTouchEndOrCancelEvent(e),this.pushTouchEndOrCancelEvent(e)}},e.prototype.cancel=function(){var e=this;this.state!==i.None&&this.state!==i.Cancel&&(this.state=i.Cancel,this.pressedTouches.waitUntilNoPressedTouches().then((function(){e.state=i.None})))},e.prototype.pushTouchStartEvent=function(e){var t=e.touches;switch(this.state){case i.None:this.blocker.startOperation(),1===t.length?(this.state=i.Event,this.firstPressedTouchBeginX=t[0].pointOnScreen.x,this.firstPressedTouchBeginY=t[0].pointOnScreen.y,this.firstPressedTouch={identifier:t[0].identifier,x:this.firstPressedTouchBeginX,y:this.firstPressedTouchBeginY},this.blocker.pushBoundlessEvent(this.covertToSortedTouchEvent(e,0))):(this.state=i.Camera,this.pinchTouches=t.map((function(e){return{identifier:e.identifier,x:e.pointOnScreen.x,y:e.pointOnScreen.y}})),this.handleTouchEvents(this.pinchTouches));break;case i.Event:this.pinchTouches=[{identifier:this.firstPressedTouch.identifier,x:this.firstPressedTouch.x,y:this.firstPressedTouch.y}],this.blocker.unknownIsMultiFingers&&(this.blocker.assertMultiFingers(),this.firstPressedTouch=null),this.pushToPinchTouches(t),this.handleTouchEvents(this.pinchTouches),this.state=i.Camera;break;case i.Camera:this.pushToPinchTouches(t),this.handleTouchEvents(this.pinchTouches)}},e.prototype.pushTouchMoveEvent=function(e){var t=this,n=e.touches;switch(this.refreshFirstPressedTouch(n),this.state){case i.Event:var r=n.findIndex((function(e){return e.identifier===t.firstPressedTouch.identifier}));this.blocker.pushBoundlessEvent(this.covertToSortedTouchEvent(e,r));break;case i.Camera:for(var o=function(e){var t=n.find((function(t){return t.identifier===e.identifier}));t&&(e.x=t.pointOnScreen.x,e.y=t.pointOnScreen.y)},a=0,s=this.pinchTouches;a<s.length;a++)o(s[a]);this.handleTouchEvents(this.pinchTouches)}},e.prototype.pushTouchEndOrCancelEvent=function(e){var t=this,n=e.touches;if(this.firstPressedTouch&&this.state!==i.Cancel){var r=n.findIndex((function(e){return e.identifier===t.firstPressedTouch.identifier}));-1!==r&&(this.blocker.pushBoundlessEvent(this.covertToSortedTouchEvent(e,r)),this.firstPressedTouch=null)}switch(this.state){case i.Event:this.blocker.assertSingleFinger(),this.completeOperation();break;case i.Camera:this.blocker.assertMultiFingers();for(var o=function(e){var t=a.pinchTouches.findIndex((function(t){return t.identifier===e.identifier}));-1!==t&&a.pinchTouches.splice(t,1)},a=this,s=0,c=n;s<c.length;s++)o(c[s]);this.firstPressedTouch&&1===this.pinchTouches.length?(this.state=i.Event,this.handleTouchEvents([]),this.pinchTouches=null):0===this.pinchTouches.length?(this.handleTouchEvents(this.pinchTouches),this.pinchTouches=null,this.completeOperation()):this.handleTouchEvents(this.pinchTouches)}},e.prototype.handleTouchEvents=function(e){try{0===this.previousTouchesCount&&e.length>0&&this.callbacks.onBeginTransformCamera(e),this.previousTouchesCount>0&&0===e.length?this.callbacks.onAfterTransformCamera():this.callbacks.onTransformCamera(e)}finally{this.previousTouchesCount=e.length}},e.prototype.pushToPinchTouches=function(e){if(this.pinchTouches)for(var t=function(e){n.pinchTouches.some((function(t){return t.identifier===e.identifier}))||n.pinchTouches.push({x:e.pointOnScreen.x,y:e.pointOnScreen.y,identifier:e.identifier})},n=this,r=0,i=e;r<i.length;r++)t(i[r])},e.prototype.refreshFirstPressedTouch=function(e){if(this.firstPressedTouch){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(r.identifier===this.firstPressedTouch.identifier){this.firstPressedTouch.x=r.pointOnScreen.x,this.firstPressedTouch.y=r.pointOnScreen.y;break}}if(this.blocker.unknownIsMultiFingers){var i=this.firstPressedTouch.x-this.firstPressedTouchBeginX,o=this.firstPressedTouch.y-this.firstPressedTouchBeginY;i*i+o*o>=9&&this.blocker.assertSingleFinger()}}},e.prototype.completeOperation=function(){this.state=i.None,this.blocker.unknownIsMultiFingers&&this.blocker.assertMultiFingers(),this.callbacks.onCompleteGroupOfEvents()},e.prototype.covertToSortedTouchEvent=function(e,t){var n,r=e.touches[t],i=r.identifier,a=r.pointOnScreen,s=r.pointOnScene;switch(e.kind){case o.BoundlessEventKind.TouchStart:n=o.BoundlessEventKind.SortedTouchStart;break;case o.BoundlessEventKind.TouchMove:n=o.BoundlessEventKind.SortedTouchMove;break;case o.BoundlessEventKind.TouchEnd:n=o.BoundlessEventKind.SortedTouchEnd;break;case o.BoundlessEventKind.TouchCancel:n=o.BoundlessEventKind.SortedTouchCancel;break;default:throw new Error("unexpected kind "+e.kind)}return{identifier:i,nativeEvent:e.nativeEvent,kind:n,pointOnScreen:a,pointOnScene:s}},e}();t.EventAndCameraSorter=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.onPushedBoundlessEvent=e,this.operationBuffer=[],this.willBlockOperation=!1,this.flushingOperationBufferTimer=null,this.flushOperationBuffer=function(){if(t.operationBuffer){for(var e=0,n=t.operationBuffer;e<n.length;e++)(0,n[e])();t.operationBuffer.splice(0,t.operationBuffer.length),t.willBlockOperation=!1}t.flushingOperationBufferTimer=null}}return Object.defineProperty(e.prototype,"unknownIsMultiFingers",{get:function(){return this.willBlockOperation},enumerable:!0,configurable:!0}),e.prototype.startOperation=function(){this.willBlockOperation=!0,this.flushingOperationBufferTimer=setTimeout(this.flushOperationBuffer,300)},e.prototype.assertMultiFingers=function(){this.operationBuffer.splice(0,this.operationBuffer.length),this.willBlockOperation=!1,null!==this.flushingOperationBufferTimer&&(clearTimeout(this.flushingOperationBufferTimer),this.flushingOperationBufferTimer=null)},e.prototype.assertSingleFinger=function(){null!==this.flushingOperationBufferTimer&&clearTimeout(this.flushingOperationBufferTimer),this.flushOperationBuffer()},e.prototype.pushBoundlessEvent=function(e){var t=this;this.willBlockOperation?this.operationBuffer.push((function(){return t.onPushedBoundlessEvent(e)})):this.onPushedBoundlessEvent(e)},e}();t.MultiFingersToleranceBlocker=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.pressedTouches={},this.emptyResolves=[],this.pressedTouchesCount=0}return e.prototype.receiveTouchStartOrMoveEvent=function(e){for(var t=0,n=e.touches;t<n.length;t++){var r=n[t];r.identifier in this.pressedTouches||this.pressedTouchesCount++,this.pressedTouches[r.identifier]=r}},e.prototype.receiveTouchEndOrCancelEvent=function(e){for(var t=0,n=e.touches;t<n.length;t++){var r=n[t];if(r.identifier in this.pressedTouches&&(this.pressedTouchesCount--,delete this.pressedTouches[r.identifier],0===this.pressedTouchesCount))for(var i=0,o=this.emptyResolves.splice(0);i<o.length;i++)(0,o[i])()}},e.prototype.waitUntilNoPressedTouches=function(){var e=this;return 0===this.pressedTouchesCount?Promise.resolve():new Promise((function(t){return e.emptyResolves.push(t)}))},e}();t.PressedTouches=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62);t.isCameraBorderEquals=r.isCameraBorderEquals,t.CameraBorderTransformer=r.CameraBorderTransformer;var i=n(63);t.CameraView=i.CameraView},function(e,t,n){"use strict";function r(e,t,n,r){if(t===1/0||r===1/0)return{center:0,scale:1/0};var i=t/r;return Number.isNaN(i)&&(i=1),{center:n-e,scale:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.isCameraBorderEquals=function(e,t){return e.centerX===t.centerX&&e.centerY===t.centerY&&e.damping===t.damping&&e.width===t.width&&e.height===t.height&&e.minScale===t.minScale&&e.maxScale===t.maxScale};var i=function(){function e(e){this.originBorder=e,this.currentBorder=e,this._transform=Object.freeze({deltaX:0,deltaY:0,scale:1})}return Object.defineProperty(e.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adaptOriginBorder",{get:function(){return this._adaptOriginBorder},enumerable:!0,configurable:!0}),e.prototype.setCurrentBorder=function(e){this.currentBorder=e;var t=r(this.originBorder.centerX,this.originBorder.width,this.currentBorder.centerX,this.currentBorder.width),n=t.center,i=t.scale,o=r(this.originBorder.centerY,this.originBorder.height,this.currentBorder.centerY,this.currentBorder.height),a=o.center,s=Math.min(i,o.scale);s===1/0&&(s=1),this._transform=Object.freeze({deltaX:n,deltaY:a,scale:s}),this._adaptOriginBorder=Object.freeze({damping:e.damping,centerX:e.centerX-n,centerY:e.centerY-a,width:e.width*s,height:e.height*s,maxScale:e.maxScale/s,minScale:e.minScale/s})},e}();t.CameraBorderTransformer=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64),i=n(0),o=n(65);function a(e,t){return{x:e.x-t.width/2,y:e.y-t.height/2}}function s(e,t,n){return{x:n.centerX+(e.x-t.width/2)/n.scale,y:n.centerY+(e.y-t.height/2)/n.scale}}var c=function(){function e(e){this.pincher=null,this.damping=0,this.camera=null,this.lastValidCamera=null,this.domain=new o.ValidDomain(e)}return Object.defineProperty(e.prototype,"isHandingPinch",{get:function(){return!!this.pincher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screenSize",{get:function(){return this.domain.screenSize},set:function(e){this.domain.screenSize=e},enumerable:!0,configurable:!0}),e.prototype.setCameraBorder=function(e){this.damping=e.damping,this.domain.scaleStart=e.minScale,this.domain.scaleEnd=e.maxScale,this.domain.border.centerX=e.centerX,this.domain.border.centerY=e.centerY,this.domain.border.width=e.width,this.domain.border.height=e.height},e.prototype.beginWithCamera=function(e){this.pincher=new r.Pincker,this.camera=e},e.prototype.handleTouchesAndGetCameraMoving=function(e){this.pincher.handleTouches(e);var t=this.pincher.centroid,n=this.currentTargetCamera();return this.transformToCombinedCamera(n,t)},e.prototype.transformToCombinedCamera=function(e,t){var n=this.domain.screenSize,r=s(t,n,e);this.domain.pinPoint=r;var i,o,a,c=this.domain.findClosestValidCamera(e);if(this.lastValidCamera=c,0===this.damping)i=e;else if(1===this.damping)i=c;else if((o=e).centerX===(a=c).centerX&&o.centerY===a.centerY&&o.scale===a.scale)i=e;else{var u=s(t,n,c);i=this.viewCamera(r,u,e,c,this.damping)}return{valid:c,view:i}},e.prototype.completeAndGetValidCamera=function(){var e=this.lastValidCamera;return this.pincher=null,this.camera=null,this.lastValidCamera=null,e},e.prototype.currentTargetCamera=function(){var e=this.camera,t=this.pincher,n=this.domain.screenSize,r=e.scale*t.scale,i=a(t.beginCentroid,n),o=a(t.centroid,n);return{centerX:e.centerX+(i.x/e.scale-o.x/r),centerY:e.centerY+(i.y/e.scale-o.y/r),scale:r}},e.prototype.viewCamera=function(e,t,n,r,o){var a=i.distance(n.centerX,n.centerY,e.x,e.y),s=i.midpoint(n.scale,r.scale,o),c=a*n.scale/s,u=i.midpoint(e.x,t.x,o),l=i.midpoint(e.y,t.y,o),p=i.unitVector(i.midpoint(n.centerX,r.centerX,o)-u,i.midpoint(n.centerY,r.centerY,o)-l);return{centerX:u+c*p.x,centerY:l+c*p.y,scale:s}},e}();t.CameraView=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.eccentricityRate=1,this.centroidXOffset=0,this.centroidYOffset=0,this.beginCentroidX=0,this.beginCentroidY=0,this.centroidX=0,this.centroidY=0,this._scale=1,this.isHanding=!1,this.previousTouchesCount=0}return Object.defineProperty(e.prototype,"beginCentroid",{get:function(){return this.isHanding?{x:this.beginCentroidX,y:this.beginCentroidY}:e.zeroPoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"centroid",{get:function(){return this.isHanding?{x:this.centroidX,y:this.centroidY}:e.zeroPoint},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.isHanding?this._scale:1},enumerable:!0,configurable:!0}),e.prototype.handleTouches=function(e){var t=this.findTouchesExpression(e);this.isHanding?(this.previousTouchesCount!==e.length&&(this.centroidXOffset=this.centroidX-t.centroidX,this.centroidYOffset=this.centroidY-t.centroidY,this.eccentricityRate=this._scale/t.eccentricity,this.previousTouchesCount=e.length),this.centroidX=t.centroidX+this.centroidXOffset,this.centroidY=t.centroidY+this.centroidYOffset,this._scale=t.eccentricity*this.eccentricityRate):(this.centroidXOffset=0,this.centroidYOffset=0,this.eccentricityRate=1/t.eccentricity,this.beginCentroidX=t.centroidX,this.beginCentroidY=t.centroidY,this.centroidX=t.centroidX,this.centroidY=t.centroidY,this._scale=1,this.previousTouchesCount=e.length,this.isHanding=!0)},e.prototype.findTouchesExpression=function(e){for(var t=0,n=0,r=0,i=e;r<i.length;r++){var o=i[r];t+=o.x,n+=o.y}for(var a=t/e.length,s=n/e.length,c=0,u=0,l=e;u<l.length;u++){var p=l[u],d=p.x-a,h=p.y-s;c+=Math.sqrt(d*d+h*h)}return 0===c&&(c=1),{eccentricity:c,centroidX:a,centroidY:s}},e.zeroPoint=Object.freeze({x:0,y:0}),e}();t.Pincker=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.border={centerX:0,centerY:0,width:Number.POSITIVE_INFINITY,height:Number.POSITIVE_INFINITY},this.scaleStart=0,this.scaleEnd=Number.POSITIVE_INFINITY,this.screenSize=e}return e.prototype.findClosestValidCamera=function(e){var t=this.findClosestValidScale(e.scale),n=e.centerX,r=e.centerY;if(this.pinPoint&&e.scale!==t){var i=t/e.scale;n=this.pinPoint.x+(n-this.pinPoint.x)/i,r=this.pinPoint.y+(r-this.pinPoint.y)/i}return{centerX:n=this.findClosestValidCenter(n,t,this.screenSize.width,this.border.centerX,this.border.width),centerY:r=this.findClosestValidCenter(r,t,this.screenSize.height,this.border.centerY,this.border.height),scale:t}},e.prototype.findClosestValidScale=function(e){return this.scaleStart>e?e=this.scaleStart:this.scaleEnd<e&&(e=this.scaleEnd),e},e.prototype.findClosestValidCenter=function(e,t,n,r,i){if(t<=n/i)e=r;else{var o=n/t/2,a=i/2,s=r-a+o,c=r+a-o;e<s?e=s:e>c&&(e=c)}return e},e}();t.ValidDomain=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this._isActive=!1,this._key=void 0,this.previousPressEvent=null,this.cameraman=e.cameraman,this.activeDispatch=e.activeDispatch}return Object.defineProperty(e.prototype,"active",{get:function(){return this._isActive},set:function(e){this._isActive=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key},set:function(e){this._key=e},enumerable:!0,configurable:!0}),e.prototype.willInterruptEvent=function(e){return this.active&&!!e&&(e.kind===r.BoundlessEventKind.SortedTouchMove||e.kind===r.BoundlessEventKind.MouseMove)},e.prototype.moveCameraByEvent=function(e){if(e&&this.previousPressEvent&&this.isMouseOrSortedTouch(this.previousPressEvent)&&this.isMouseOrSortedTouch(e)){var t=this.cameraman.screen.camera,n=t.scale;this.cameraman.transformCamera({centerX:t.centerX-(e.pointOnScreen.x-this.previousPressEvent.pointOnScreen.x)/n,centerY:t.centerY-(e.pointOnScreen.y-this.previousPressEvent.pointOnScreen.y)/n,scale:n,animationMode:r.AnimationMode.Immediately})}},e.prototype.handlePreviousEvent=function(e){this.needUpdatePrevious(e)?this.previousPressEvent=e:this.needReleasePrevious(e)&&(this.previousPressEvent=null)},e.prototype.isKeyEvent=function(e){return!!e.nativeEvent&&e.nativeEvent instanceof KeyboardEvent&&e.nativeEvent.key===this.key},e.prototype.handleKeyEvent=function(e){var t=this.active;e.kind===r.BoundlessEventKind.KeyDown&&!0!==t?this.active=!0:e.kind===r.BoundlessEventKind.KeyUp&&!1!==t&&(this.active=!1),t!==this.active&&this.activeDispatch(this.active)},e.prototype.isMouseOrSortedTouch=function(e){var t=e.kind;return t===r.BoundlessEventKind.MouseDown||t===r.BoundlessEventKind.MouseUp||t===r.BoundlessEventKind.MouseLeave||t===r.BoundlessEventKind.MouseMove||t===r.BoundlessEventKind.SortedTouchStart||t===r.BoundlessEventKind.SortedTouchMove||t===r.BoundlessEventKind.SortedTouchEnd||t===r.BoundlessEventKind.SortedTouchCancel},e.prototype.needUpdatePrevious=function(e){if(e){if(this.previousPressEvent&&(e.kind===r.BoundlessEventKind.MouseMove||e.kind===r.BoundlessEventKind.SortedTouchMove))return!0;if(e.kind===r.BoundlessEventKind.MouseDown||e.kind===r.BoundlessEventKind.SortedTouchStart)return!0}return!1},e.prototype.needReleasePrevious=function(e){return!!e&&(e.kind===r.BoundlessEventKind.MouseUp||e.kind===r.BoundlessEventKind.SortedTouchEnd||e.kind===r.BoundlessEventKind.SortedTouchCancel)},e}();t.HandTool=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(22),o=function(){function e(t,n){var r=this;this.referPoint=[];var o=n&&function(e){n(r.convertPointToCamera(e))};this.referPoint[0]=t.centerX,this.referPoint[1]=t.centerY,this.referPoint[2]=t.scale*e.kScale,this.spaceSpring=e.spaceSpringFactory.create(i.AnimationPriority.CameraMoving,[0,0,0],o)}return e.prototype.convertPointToCamera=function(t){return{centerX:this.referPoint[0]+t[0],centerY:this.referPoint[1]+t[1],scale:(this.referPoint[2]+t[2])/e.kScale}},e.prototype.moveTo=function(t){var n=[this.referPoint[0]-t.centerX,this.referPoint[1]-t.centerY,this.referPoint[2]-t.scale*e.kScale];this.referPoint[0]=t.centerX,this.referPoint[1]=t.centerY,this.referPoint[2]=t.scale*e.kScale,this.spaceSpring.moveToAndChangeCoordinate(n,[0,0,0])},e.prototype.moveToRightNow=function(t){this.referPoint[0]=t.centerX,this.referPoint[1]=t.centerY,this.referPoint[2]=t.scale*e.kScale,this.spaceSpring.moveRightNow([0,0,0])},e.kScale=700,e.spaceSpringFactory=new r.SpaceSpringFactory({matchingDistance:2,zeroSpeed:.55,kDistance:.17,velocityDamping:.55,heavyDampingRadius:15,heavyDampingSpeed:.25,pedesisSpeedMean:0,pedesisSpeedVariance:0},{matchingDistance:2,zeroSpeed:.55,kDistance:.12,velocityDamping:.35,heavyDampingRadius:15,heavyDampingSpeed:.35,pedesisSpeedMean:0,pedesisSpeedVariance:0}),e}();t.CameraAnimation=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(23),a=n(8),s=function(){function e(e,t,n,r){this.className=e.className,this.layouts=Object.freeze(a.createLayouts({screen:e,initCamera:r,engines:t,visibleComponents:n,mode:i.RenderLayoutMode.Preview}))}return e.prototype.render=function(e){var t=[];for(var n in this.layouts){var i=this.layouts[n].getRender();t.push(r.createElement(i,{key:n}))}return o.wrapContent(e,r.createElement("div",{className:this.className,style:{width:"100%",height:"100%",position:"relative"}},t))},e}();t.Screenshoter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;function n(e,n,r,i){var o=e>r;if(o){var a=e,s=n;e=r,r=a,n=i,i=s}return n<r?t.Disjoint:n<i?t.Cross:o?t.IncludeByRectangle:t.IncludeRectangle}!function(e){e[e.Disjoint=0]="Disjoint",e[e.Cross=1]="Cross",e[e.IncludeRectangle=2]="IncludeRectangle",e[e.IncludeByRectangle=3]="IncludeByRectangle"}(t=e.Result||(e.Result={})),e.testPoint=function(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r},e.testRectangle=function(e,r,i,o,a,s,c,u){var l=n(e,e+i,a,a+c),p=n(r,r+o,s,s+u);return l===t.Disjoint||p===t.Disjoint?t.Disjoint:l===t.Cross||p===t.Cross?t.Cross:l===t.IncludeRectangle&&p===t.IncludeRectangle?t.IncludeRectangle:l===t.IncludeByRectangle&&p===t.IncludeByRectangle?t.IncludeByRectangle:t.Cross},e.iterate=function(e,t,n,r,i){i(e,t),i(e+n,t),i(e+n,t+r),i(e,t+r)},e.allPoints=function(e,t,n,r){return[{x:e,y:t},{x:e+n,y:t},{x:e+n,y:t+r},{x:e,y:t+r}]}}(t.RectangleTesting||(t.RectangleTesting={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(4),c=n(8),u=function(){function e(e,t,n){this.component=null,this.componentState={className:e.className},this.layouts=Object.freeze(c.createLayouts({screen:e,engines:t,visibleComponents:n,mode:s.RenderLayoutMode.Normal})),this.renderClass=this.createRender()}return e.prototype.setState=function(e){var t;this.componentState=o({},e),null===(t=this.component)||void 0===t||t.setState(e)},Object.defineProperty(e.prototype,"renderLayouts",{get:function(){return this.layouts},enumerable:!0,configurable:!0}),e.prototype.getRender=function(){return this.renderClass},e.prototype.createRender=function(){var e=this;return function(t){function n(n){var r=t.call(this,n)||this;return r.state=o({},e.componentState),e.component=r,r}return i(n,t),n.prototype.componentWillUnmount=function(){e.component=null},n.prototype.render=function(){var t=[],n=o(o({},this.state.style),{width:"100%",height:"100%",position:"relative"});for(var r in e.layouts)t.push(a.createElement(l,{key:r,layout:e.layouts[r]}));return a.createElement("div",{className:this.state.className,style:n},t)},n}(a.Component)},e}();t.ScreenRenderer=u;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={error:void 0},n}return i(t,e),t.prototype.shouldComponentUpdate=function(e,t){return this.props.layout!==e.layout||this.state.error!==t.error},t.getDerivedStateFromError=function(e){return console.error(e),{error:e}},t.prototype.render=function(){if(this.state.error)return null;var e=this.props.layout.getRender();return a.createElement(e,null)},t}(a.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(26),o=function(){function e(e,t,n){this.isStructUpdated=!1;var r={};for(var i in t.renderLayouts){for(var o=t.renderLayouts[i],a={},s=0,c=n;s<c.length;s++){var u=c[s];u.component.isVisible(o.engine)&&(a[u.component.id]=!0)}r[i]=Object.seal({layout:o,componentsSet:a,addedSet:{},replacedSet:{},movedSet:{},updatedSet:{},removedSet:{}})}this.engineNodes=Object.freeze(r),this.camera=e.camera,this.screenSize=Object.freeze({width:e.width,height:e.height})}return e.prototype.notifyAdded=function(e){for(var t=0,n=e.component.definition.engines;t<n.length;t++){var r=this.engineNodes[n[t].id],i=e.component.id;r&&e.component.isVisible(r.layout.engine)&&(r.addedSet[i]=e)}},e.prototype.notifyReplaced=function(e){for(var t=0,n=e.component.definition.engines;t<n.length;t++){var r=this.engineNodes[n[t].id],i=e.component.id;r&&e.component.isVisible(r.layout.engine)&&(r.replacedSet[i]=e)}},e.prototype.notifyMoved=function(e){for(var t=0,n=e.component.definition.engines;t<n.length;t++){var r=this.engineNodes[n[t].id],i=e.component.id;r&&i in r.componentsSet&&(r.movedSet[i]=e)}},e.prototype.notifyRemoved=function(e){for(var t=0,n=e.component.definition.engines;t<n.length;t++){var r=this.engineNodes[n[t].id],i=e.component.id;r&&i in r.componentsSet&&(r.removedSet[i]=e)}},e.prototype.notifyUpdated=function(e){for(var t=e.component,n=0,r=e.component.definition.engines;n<r.length;n++){var i=this.engineNodes[r[n].id];if(i){var o=t.id;t.isVisible(i.layout.engine)?o in i.componentsSet?i.updatedSet[o]=e:i.addedSet[o]=e:o in i.componentsSet&&(i.removedSet[o]=e,delete i.movedSet[o])}}},e.prototype.notifyStructUpdated=function(){this.isStructUpdated=!0},e.prototype.flush=function(e){var t=void 0,n=void 0;for(var i in r.isEquals(this.camera,e.camera)||(t=this.camera=e.camera),r.isEquals(this.screenSize,e.screenSize)||(n=this.screenSize=e.screenSize),this.engineNodes){var o=this.engineNodes[i];if(t||n||this.shouldNotifyNode(o)){var a={isStructUpdated:this.isStructUpdated,camera:t,screenSize:n,addedSet:o.addedSet,replacedSet:o.replacedSet,movedSet:o.movedSet,updatedSet:o.updatedSet,removedSet:o.removedSet};for(var s in o.addedSet)o.componentsSet[s]=!0;for(var s in o.removedSet)delete o.componentsSet[s];o.layout.update(a,e.context),o.addedSet={},o.replacedSet={},o.movedSet={},o.updatedSet={},o.removedSet={}}}this.isStructUpdated=!1},e.prototype.shouldNotifyNode=function(e){return i.hasKey(e.addedSet)||i.hasKey(e.movedSet)||i.hasKey(e.updatedSet)||i.hasKey(e.removedSet)||i.hasKey(e.replacedSet)},e}();t.EngineNotifier=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(73);t.ScreenUpdater=r.ScreenUpdater},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(74),a=n(23),s=n(13),c=n(24),u=function(){function e(e){var t=this;this.context=null,this.visibleComponentsCache=null,this.onGeneratedFrame=function(){t.visibleComponentsCache=null},this.screen=e.screen,this.engines=e.engines,this._wrappedComponents=Object.freeze(r(e.wrappedComponents))}return e.prototype.release=function(){this.divElement=null},e.prototype.hitTest=function(e,t){var n=[];if(this.context)for(var r=t/this.screen.camera.scale,i=0,o=this.visibleComponents;i<o.length;i++){var a=o[i];this.isHitComponent(a,e,r)&&n.push(a.id)}return n.reverse()},e.prototype.findComponentWithTarget=function(e){return this.context?this.context.visibleTestNode.findComponentWithTarget(e):void 0},e.prototype.willInterruptEvent=function(e,t){return!!this.context&&this.context.visibleTestNode.willInterruptEvent(e,t)},e.prototype.refreshScreenRendererState=function(e){var t;null===(t=this.context)||void 0===t||t.visibleTestNode.renderer.setState(e)},e.prototype.refreshScreenContext=function(){this.context&&this.context.visibleTestNode.refreshScreenContext()},e.prototype.isHitComponent=function(e,t,n){var r=t.x,i=t.y,o=c.VisibleTestNode.getMarginOnScene(e,this.screen.camera.scale),a=Math.max(o.left,n),u=Math.max(o.right,n),l=Math.max(o.top,n),p=Math.max(o.bottom,n);return!!s.RectangleTesting.testPoint(e.originX-a,e.originY-l,e.width+a+u,e.height+l+p,r,i)&&e.definition.hitTest(this.screen,e,r,i,n)},Object.defineProperty(e.prototype,"visibleComponents",{get:function(){var e=this.visibleComponentsCache;if(!e){var t=[];if(this.context)for(var n=0,r=this.context.visibleTestNode.getVisibleComponents();n<r.length;n++)t.push(r[n].component);e=this.visibleComponentsCache=Object.freeze(t)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"divElement",{get:function(){return this.context&&this.context.divElement},set:function(e){e!==(this.context&&this.context.divElement)&&(this.context&&(this.context.visibleTestNode.release(),o.unmountComponentAtNode(this.context.divElement)),this.context=e?Object.freeze({divElement:e,visibleTestNode:new c.VisibleTestNode(this.screen,this.engines,this.onGeneratedFrame)}):null,this.refreshScreenRender())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappedComponents",{get:function(){return this._wrappedComponents},set:function(e){this._wrappedComponents!==e&&(this._wrappedComponents=Object.freeze(r(e)),this.refreshScreenRender())},enumerable:!0,configurable:!0}),e.prototype.refreshScreenRender=function(){if(this.context){var e=i.createElement(this.context.visibleTestNode.renderer.getRender()),t=a.wrapContent(this._wrappedComponents,e);o.render(t,this.context.divElement)}},e}();t.ScreenUpdater=u},function(e,t){e.exports=n(14)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(76);t.LegacyLayoutNode=r.LegacyLayoutNode},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(4),s=n(2),c=n(9),u=n(77),l=function(){function e(e){this.definitionNodes=[];for(var t={},n={},a=0,s=e=i(e).sort((function(e,t){return e.layout-t.layout}));a<s.length;a++){var c=s[a],u=this.createEngine(c);c.renderMode===o.LayoutRenderMode.Screen&&(n[u.id]=!0),t[u.id]=u}this.engines=Object.freeze(r({},t)),this.absoluteCoordinatesSet=Object.freeze(r({},n))}return e.prototype.createEngine=function(e){var t,n=e.layout,r=e.kind,i=e.renderMode,s=e.className,c=e.style;switch(r){case o.LayoutKind.HTML:case o.LayoutKind.SVG:t=a.creatHTMLRenderEngine({orderIndex:n,fixedSize:i===o.LayoutRenderMode.AbsoluteSize,isSVG:r===o.LayoutKind.SVG,className:s,style:c});break;case o.LayoutKind.CANVAS:t=a.createCanvasRenderEngine({orderIndex:n,fixedSize:!0});break;default:throw new Error("invalid kind "+r)}return t},e.prototype.adaptComponentConstructor=function(e){if(e.definition)return e;var t=e,n=this.findDefinitionNode(t).definition,r=this.checkIsAbsoluteCoordinates(t);return{id:t.id,definition:n,originX:t.originX,originY:t.originY,width:t.width,height:t.height,parallaxMargin:t.parallaxMargin,sceneMargin:t.sceneMargin,disableVisionTrim:t.disableVisionTrim,absoluteCoordinates:r,payload:t.payload,orderIndex:t.orderIndex}},e.prototype.checkIsAbsoluteCoordinates=function(e){for(var t in e.render.layouts){var n=this.findEngineWithLayout(parseInt(t));if(n)return!!this.absoluteCoordinatesSet[n.id]}return!1},e.prototype.findDefinitionNode=function(e){for(var t=null,n=0,r=this.definitionNodes;n<r.length;n++){var i=r[n];if(i.render===e.render){t=i;break}}return t||(t=Object.freeze({definition:this.createDefinition(e),render:e.render,painter:e.painter}),this.definitionNodes.push(t)),t},e.prototype.createDefinition=function(e){var t,n=e.render,r=new s.ComponentDefinitionImplement({name:n.name||"ComponentDefinition",hitTest:null===(t=n.hitTest)||void 0===t?void 0:t.bind(n)});for(var i in n.layouts){var o=this.findEngineWithLayout(parseInt(i)),a=n.layouts[i].isVisible;o instanceof c.HTMLRenderEngineImplement&&o.bind(r)(u.createLegacyHTMLRender(o,n,a))}return r},e.prototype.findEngineWithLayout=function(e){for(var t in this.engines)if(this.engines[t].orderIndex===e)return this.engines[t];return null},e}();t.LegacyLayoutNode=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.createLegacyHTMLRender=function(e,t,n){var r=t,a=e.orderIndex;return function(e){function s(){return null!==e&&e.apply(this,arguments)||this}return i(s,e),s.willInterruptEvent=function(e,n,r){return"function"==typeof t.willInterruptEvent?t.willInterruptEvent(e,n,a,r):"boolean"==typeof t.willInterruptEvent&&t.willInterruptEvent},s.prototype.render=function(){return o.createElement(r,{id:this.props.id,layout:a,margin:this.props.margin,origin:this.props.origin,size:this.props.size,scale:this.props.scale,payload:this.props.payload,context:this.props.context,cnode:this.props.cnode})},s.isVisible=n,s}(o.Component)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Centering="centering",e.Tailor="tailor"}(t.RectangleAdapterMode||(t.RectangleAdapterMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.createComponentDefinition=function(e){return new r.ComponentDefinitionImplement(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(17);t.isHTMLRenderEngine=function(e){return e instanceof r.HTMLRenderEngineImplement},t.isCanvasRenderEngine=function(e){return e instanceof i.CanvasRenderEngineImplement},function(e){e[e.Unchanged=0]="Unchanged",e[e.Overlay=1]="Overlay",e[e.Changed=2]="Changed"}(t.CanvasRenderState||(t.CanvasRenderState={})),function(e){e[e.Directly=0]="Directly",e[e.GenerateCache=1]="GenerateCache",e[e.Overlay=2]="Overlay",e[e.OverlayOnCache=3]="OverlayOnCache"}(t.CanvasPaitingMode||(t.CanvasPaitingMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Begin="Begin",e.End="End"}(t.CameraTransformation||(t.CameraTransformation={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Continuous="continuous",e.Immediately="immediately"}(t.AnimationMode||(t.AnimationMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.midpoint=function(e,t,n){return e+(t-e)*n},t.unitVector=function(e,t){var n=Math.sqrt(e*e+t*t);return 0===n?{x:1,y:0}:{x:e/n,y:t/n}},t.distance=function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.HTML=0]="HTML",e[e.SVG=1]="SVG",e[e.CANVAS=2]="CANVAS"}(t.LayoutKind||(t.LayoutKind={})),function(e){e[e.AbsoluteSize=0]="AbsoluteSize",e[e.RelativeSize=1]="RelativeSize",e[e.Screen=2]="Screen"}(t.LayoutRenderMode||(t.LayoutRenderMode={}))}]))},function(e,t){e.exports=n("q1tI")},function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(5));var i=n(1);t.TypeCreator=i.TypeCreator;var o=n(14);t.replaceTypeIds=o.replaceTypeIds;var a=new r.TypeCreator;t.getSingletonType=a.getSingletonType.bind(a),t.getFunctionType=a.getFunctionType.bind(a),t.getObjectType=a.getObjectType.bind(a),t.getCompoundType=a.getCompoundType.bind(a),t.getGenericType=a.getGenericType.bind(a),t.getGeneratorType=a.getGeneratorType.bind(a),t.getReferenceType=a.getReferenceType.bind(a),t.getGlobalReferenceType=a.getGlobalReferenceType.bind(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=function(){function e(){this.singletonMap=e.createSingletonMap()}return e.createSingletonMap=function(){for(var e={},t=0,n=[r.TypeEnum.Any,r.TypeEnum.Never,r.TypeEnum.Undefined,r.TypeEnum.Null,r.TypeEnum.String,r.TypeEnum.Number,r.TypeEnum.Boolean];t<n.length;t++){var i=n[t];e[i]={typeEnum:i}}return Object.freeze(e)},e.prototype.getSingletonType=function(e){return this.singletonMap[e]},e.prototype.getFunctionType=function(){return{typeEnum:r.TypeEnum.Function}},e.prototype.getObjectType=function(e){var t=void 0===e?{}:e,n=t.index,i=t.properties;return{typeEnum:r.TypeEnum.Object,key:t.key||this.getSingletonType(r.TypeEnum.Undefined),index:n||this.getSingletonType(r.TypeEnum.Undefined),properties:i||{}}},e.prototype.getCompoundType=function(e,t){return void 0===t&&(t=[]),{typeEnum:e,children:t}},e.prototype.getGenericType=function(e){return{typeEnum:r.TypeEnum.Generic,index:e}},e.prototype.getGeneratorType=function(e){return{typeEnum:r.TypeEnum.Generator,template:e.template,params:e.params||[]}},e.prototype.getReferenceType=function(e){return{typeEnum:r.TypeEnum.Reference,name:e}},e.prototype.getGlobalReferenceType=function(e,t){return{typeEnum:r.TypeEnum.GlobalReference,path:e,name:t}},e}();t.TypeCreator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(13),o=new function(){var e=this;this.create=function(t){return e.nodeBuffer?new r.NodeAkkoBuffer(e.nodeBuffer.alloc(t)):new i.BrowserAkkoBuffer(new ArrayBuffer(t))},this.wrap=function(t){return e.nodeBuffer&&t instanceof e.nodeBuffer?new r.NodeAkkoBuffer(t):new i.BrowserAkkoBuffer(t)},this.nodeBuffer="function"==typeof Buffer?global.Buffer:null};t.createBuffer=o.create,t.wrapBuffer=o.wrap,t.isAkkoBuffer=function(e){return e instanceof r.ReadonlyNodeAkkoBuffer||e instanceof i.ReadonlyBrowserAkkoBuffer}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return Object.defineProperty(e.prototype,"id",{get:function(){return void 0===this._id&&(this._id=""+e.nextBufferId++),this._id},enumerable:!0,configurable:!0}),e.nextBufferId=0,e}();t.BaseAkkoBuffer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){for(var e={},t=0;t<256;++t){var n=new Number(t).toString(16);1===n.length&&(e["0"+n]=t),e[n]=t}return Object.freeze(e)}(),i=function(){for(var e=[],t=0;t<256;++t){var n=new Number(t).toString(16);e[t]=1===n.length?"0"+n:n}return Object.freeze(e)}();t.setUint64=function(e,t,n){for(var i=new String(new Number(n).toString(16)),o=16-i.length,a=0;a<8;++a){var s=2*a-o;if(s<-1)e.setUint8(t+a,0);else if(-1===s){var c=i.substr(0,1),u=r[c];e.setUint8(t+a,u)}else c=i.substr(s,2),e.setUint8(t+a,u=r[c])}},t.getUint64=function(e,t){for(var n="",r=0;r<8;++r){var o=e.getUint8(t+r);n+=i[o]}return parseInt(n,16)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Any="any",e.Never="never",e.Undefined="undefined",e.Null="null",e.String="string",e.Number="number",e.Boolean="boolean",e.Function="function",e.Object="object",e.And="and",e.Or="or",e.Generic="generic",e.Generator="generator",e.Reference="reference",e.GlobalReference="globalReference"}(t.TypeEnum||(t.TypeEnum={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.name="RuntimeError",n}return i(t,e),t}(Error);t.RuntimeError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.RuntimeError=r.RuntimeError;var i=n(19);t.linkTypes=i.linkTypes;var o=n(8);t.DefinitionFinder=o.DefinitionFinder;var a=n(20);t.linkClasses=a.linkClasses},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=function(){function e(e){this.definitionAdapter=e}return e.prototype.findPath=function(e,t,n){t=void 0===t?e:r.resolve(this.findDirectory(e),t);var i=this.findFinalPath(t,n);if(!i)throw new Error("can't find "+t+":"+n+" in "+e);return i},e.prototype.findFinalPath=function(e,t){var n=this.definitionAdapter.getFileDefinitions(e);if(n||(n=this.definitionAdapter.getFileDefinitions(e+="/index")),!n)return null;if("default"===t){var i=n.defaultRef;if(!i)throw new Error("path "+JSON.stringify(e)+" doesn't have default");return i.path&&(e=r.resolve(this.findDirectory(e),i.path)),this.findFinalPath(e,i.name)}return this.findFinalPathFromDefinitions(n,e,t)},e.prototype.findFinalPathFromDefinitions=function(e,t,n){if(this.definitionAdapter.isDefined(t,n))return{path:t,name:n};for(var i=this.findDirectory(t),o=0,a=e.externals;o<a.length;o++){var s=a[o],c=s.clauses,u=r.resolve(i,s.path);if(c){for(var l in c)if(c[l]===n)return this.findFinalPath(u,l)}else{var p=this.findFinalPath(u,n);if(p)return p}}return null},e.prototype.findDirectory=function(e){var t=e.split("/");return t.pop(),t.join("/")},e}();t.DefinitionFinder=i},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function i(e){var t=e.split("/");return t.length>0&&("."===t[0]&&t.shift(),""===t[t.length-1]&&t.pop()),t}function o(e){return e.length>0&&""!==e[0]}function a(e,t){var n=s(e),i=s(t);if(n.pureCells.length>i.doubleDotsCount){for(var o=0;o<i.doubleDotsCount;++o)n.pureCells.pop();return r(c(n.doubleDotsCount),n.pureCells,i.pureCells)}return r(c(n.doubleDotsCount+(i.doubleDotsCount-n.pureCells.length)),i.pureCells)}function s(e){for(var t=[],n=0,r=0,i=e;r<i.length;r++){var o=i[r];".."===o?n++:t.push(o)}return{doubleDotsCount:n,pureCells:t}}function c(e){for(var t=[],n=0;n<e;++n)t.push("..");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[];return e.map((function(e){return i(e)})).forEach((function(e){n=0!==n.length&&o(e)?a(n,e):e})),n.join("/")}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(11)),r(n(0)),r(n(15)),r(n(7));var i=n(22);t.InvokeFrequencyLimiter=i.InvokeFrequencyLimiter;var o=n(9);t.resolve=o.resolve;var a=n(23);t.Version=a.Version,t.AkkoVersion="1.4.4"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.isBuffer=r.isAkkoBuffer;var i=n(2);t.createBuffer=i.createBuffer,t.wrapBuffer=i.wrapBuffer},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(4),s=function(e){function t(t){var n=e.call(this)||this;return n.buffer=t,n}return i(t,e),Object.defineProperty(t.prototype,"readonly",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this.buffer.byteLength},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"primitiveBuffer",{get:function(){return this.buffer},enumerable:!0,configurable:!0}),t.prototype.isEqualsTo=function(e){if(this.byteLength!==e.byteLength)return!1;for(var t=0;t<this.byteLength;++t)if(this.getUint8(t)!==e.getUint8(t))return!1;return!0},t.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.buffer.length-e),new c(this.buffer.slice(e,e+t))},t.prototype.getFloat64=function(e){return this.buffer.readDoubleLE(e)},t.prototype.getUint16=function(e){return this.buffer.readUInt16LE(e)},t.prototype.getInt32=function(e){return this.buffer.readInt32LE(e)},t.prototype.getUint32=function(e){return this.buffer.readUInt32LE(e)},t.prototype.getUint8=function(e){return this.buffer.readUInt8(e)},t.prototype.getUint64=function(e){return a.getUint64(this,e)},t}(o.BaseAkkoBuffer);t.ReadonlyNodeAkkoBuffer=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"readonly",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.freeze=function(){return Object.setPrototypeOf(this,s.prototype),this},t.prototype.fill=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=e.byteLength-n);var i=e.primitiveBuffer;if(i instanceof ArrayBuffer){for(var o=new DataView(i),a=Math.min(r,this.buffer.byteLength-t),s=0;s<a;++s)this.buffer.writeUInt8(o.getUint8(s+n),s+t);return a}return i.copy(this.buffer,t,n,n+r)},t.prototype.setFloat64=function(e,t){this.buffer.writeDoubleLE(t,e)},t.prototype.setUint16=function(e,t){this.buffer.writeUInt16LE(t,e)},t.prototype.setInt32=function(e,t){this.buffer.writeInt32LE(t,e)},t.prototype.setUint32=function(e,t){this.buffer.writeUInt32LE(t,e)},t.prototype.setUint8=function(e,t){this.buffer.writeUInt8(t,e)},t.prototype.setUint64=function(e,t){a.setUint64(this,e,t)},t}(s);t.NodeAkkoBuffer=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(4),s=function(e){function t(t){var n=e.call(this)||this;return n.arrayBuffer=t,n.dataView=new DataView(t),n}return i(t,e),Object.defineProperty(t.prototype,"readonly",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteLength",{get:function(){return this.arrayBuffer.byteLength},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"primitiveBuffer",{get:function(){return this.arrayBuffer},enumerable:!0,configurable:!0}),t.prototype.isEqualsTo=function(e){if(this.byteLength!==e.byteLength)return!1;for(var t=0;t<this.byteLength;++t)if(this.getUint8(t)!==e.getUint8(t))return!1;return!0},t.prototype.slice=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.dataView.byteLength-e);for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<t;++i)r.setUint8(i,this.dataView.getUint8(e+i));return new c(n)},t.prototype.getFloat64=function(e){return this.dataView.getFloat64(e,!0)},t.prototype.getUint16=function(e){return this.dataView.getUint16(e,!0)},t.prototype.getInt32=function(e){return this.dataView.getInt32(e,!0)},t.prototype.getUint32=function(e){return this.dataView.getUint32(e,!0)},t.prototype.getUint8=function(e){return this.dataView.getUint8(e)},t.prototype.getUint64=function(e){return a.getUint64(this,e)},t}(o.BaseAkkoBuffer);t.ReadonlyBrowserAkkoBuffer=s;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"readonly",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.freeze=function(){return Object.setPrototypeOf(this,s.prototype),this},t.prototype.fill=function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=Number.MAX_SAFE_INTEGER);var i=e.primitiveBuffer,o=Math.min(r,this.dataView.byteLength-t);if(i instanceof ArrayBuffer)for(var a=new DataView(i),s=0;s<o;++s)this.dataView.setUint8(s+t,a.getUint8(s+n));else for(s=0;s<o;++s)this.dataView.setUint8(s+t,i.readUInt8(s+n));return o},t.prototype.setFloat64=function(e,t){this.dataView.setFloat64(e,t,!0)},t.prototype.setUint16=function(e,t){this.dataView.setUint16(e,t,!0)},t.prototype.setInt32=function(e,t){this.dataView.setInt32(e,t,!0)},t.prototype.setUint32=function(e,t){this.dataView.setUint32(e,t,!0)},t.prototype.setUint8=function(e,t){this.dataView.setUint8(e,t)},t.prototype.setUint64=function(e,t){a.setUint64(this,e,t)},t}(s);t.BrowserAkkoBuffer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0);t.replaceTypeIds=function(e){return(new o).replaceIds(e)};var o=function(){function e(){for(var e in this.nextId=0,this.singletonMap=r.TypeCreator.createSingletonMap(),this.singletonMap)this.singletonMap[e].id=this.createId()}return e.prototype.replaceIds=function(e){var t={};for(var n in e)t[n]=this.replaceIdsWithType(e[n]);return t},e.prototype.replaceIdsWithType=function(e){switch(e.typeEnum){case i.TypeEnum.Any:case i.TypeEnum.Never:case i.TypeEnum.Undefined:case i.TypeEnum.Null:case i.TypeEnum.String:case i.TypeEnum.Number:case i.TypeEnum.Boolean:return this.singletonMap[e.typeEnum];case i.TypeEnum.Object:return this.replaceIdsWithObjectType(e);case i.TypeEnum.And:case i.TypeEnum.Or:return this.replaceIdsWithCompoundType(e);case i.TypeEnum.Generator:return this.replaceIdsWithGeneratorType(e);default:return e.id=this.createId(),e}},e.prototype.replaceIdsWithObjectType=function(e){for(var t in e.id=this.createId(),e.key=this.replaceIdsWithType(e.key),e.index=this.replaceIdsWithType(e.index),e.properties)e.properties[t]=this.replaceIdsWithType(e.properties[t]);return e},e.prototype.replaceIdsWithCompoundType=function(e){e.id=this.createId();for(var t=0;t<e.children.length;++t)e.children[t]=this.replaceIdsWithType(e.children[t]);return e},e.prototype.replaceIdsWithGeneratorType=function(e){e.id=this.createId(),e.template=this.replaceIdsWithType(e.template);for(var t=0;t<e.params.length;++t)e.params[t]=this.replaceIdsWithType(e.params[t]);return e},e.prototype.createId=function(){return""+this.nextId++},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);t.Initializer=r.Initializer;var i=n(21);t.isClassProperty=i.isClassProperty,t.isClassMethod=i.isClassMethod,t.ClassMemberType=i.ClassMemberType,t.ClassReflectionPropertyMode=i.ClassReflectionPropertyMode},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),o=n(7);t.Initializer=function(e){var t=this;this.contextsStack=[],this.context=function(e){switch(e){case"index":var n=i.createContext({akkoVersion:t.akkoVersion,akkoObjectBaseClass:t.akkoObjectBaseClass,libraryFactory:t.libraryFactory,coreFunctions:t.coreFunctions,onCreatedLibrary:function(){return t.contextsStack.pop()}});return t.contextsStack.push(n),n;case"module":var r=t.contextsStack[t.contextsStack.length-1];if(!r)throw new o.RuntimeError("can't import index out of library");return r;default:throw new o.RuntimeError("unexpect mode "+JSON.stringify(e))}},this.isAkkoObject=function(e){return e instanceof t.akkoObjectBaseClass},this.getLibrary=function(e){if("function"==typeof e){var n=e.__library;if("object"==typeof n)return n}else if(t.isAkkoObject(e))return t.getLibrary(e.constructor)},this.akkoVersion=e.akkoVersion,this.akkoObjectBaseClass=e.akkoObjectBaseClass,this.libraryFactory=e.libraryFactory,this.coreFunctions=Object.freeze(r({},e.coreFunctions))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18);t.createContext=function(e){var t=new r.PrecompiledContext(e.akkoVersion,e.akkoObjectBaseClass,e.libraryFactory,e.onCreatedLibrary);return Object.freeze({baseClass:t.baseClass.bind(t),wrapSuperClass:t.wrapSuperClass.bind(t),declareClass:t.declareClass.bind(t),createLibrary:t.createLibrary.bind(t),creator:e.coreFunctions.creator,updater:e.coreFunctions.updater,wrapper:e.coreFunctions.wrapper,unwrapper:e.coreFunctions.unwrapper,jsxUnwrapper:e.coreFunctions.jsxUnwrapper,getter:e.coreFunctions.getter,setter:e.coreFunctions.setter,caller:e.coreFunctions.caller,remover:e.coreFunctions.remover,prefix:e.coreFunctions.prefix,postfix:e.coreFunctions.postfix})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=function(){function e(e,t,n,r){this.akkoVersion=e,this.akkoObjectBaseClass=t,this.libraryFactory=n,this.onCreatedLibrary=r,this.classHandlers={}}return e.prototype.baseClass=function(){return this.akkoObjectBaseClass},e.prototype.wrapSuperClass=function(e){if(e===Object)return this.akkoObjectBaseClass;if("function"!=typeof e)return e;for(var t=e;t!==this.akkoObjectBaseClass;){var n=Object.getPrototypeOf(t.prototype);if(!n)throw new i.RuntimeError("class "+e.name+" can't be extended, it's out of library");t=n.constructor}return e},e.prototype.declareClass=function(e){var t=e.classId,n=e.clazz,r=e.superClass,o=e.memberDecorators;if(this.classHandlers[t])throw new i.RuntimeError("class id "+t+" was declared");this.classHandlers[t]={classId:t,clazz:n,superClass:r,memberDecorators:o||{}}},e.prototype.createLibrary=function(e,t){var n={};for(var i in t.classes){for(var o=t.classes[i],a=this.classHandlers[i],s=[],c=0,u=o.members;c<u.length;c++){var l=u[c],p=a.memberDecorators[l.name];s.push(r(r({},l),{decorators:p||Object.freeze([])}))}n[i]={classId:a.classId,clazz:a.clazz,superClass:a.superClass,objectFormatId:o.objectFormatId,members:s}}var d=this.libraryFactory({appIdentifier:t.identifier,appVersion:t.version,akkoVersion:t.akko,formatBase64:t.formatBase64,formatHash:t.formatHash,rootConstructor:e,classDeclarations:n});return Object.defineProperty(e,"__library",{enumerable:!1,configurable:!1,writable:!1,value:d}),this.onCreatedLibrary(d),e},e}();t.PrecompiledContext=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(8);t.linkTypes=function(e){return new o(e).link()};var o=function(){function e(e){var t=this;this.typeBundle=e,this.definitionFinder=new i.DefinitionFinder({getFileDefinitions:function(e){return t.typeBundle[e]},isDefined:function(e,n){return!(!t.typeBundle[e]||!t.typeBundle[e].types[n])}})}return e.prototype.link=function(){return this.referenceIdBundle=this.createReferenceIdBundle(),{referenceIdBundle:this.referenceIdBundle,flatTypeBundle:this.flatTypeBundle()}},e.prototype.createReferenceIdBundle=function(){for(var e=0,t={},n=0,r=Object.keys(this.typeBundle).sort();n<r.length;n++){for(var i=r[n],o={},a=0,s=Object.keys(this.typeBundle[i].types).sort();a<s.length;a++)o[s[a]]=e++;t[i]=Object.freeze(o)}return Object.freeze(t)},e.prototype.flatTypeBundle=function(){var e={};for(var t in this.referenceIdBundle){var n=this.typeBundle[t].types,r=this.referenceIdBundle[t];for(var i in r)e[r[i]]=this.replaceType(t,n[i])}return Object.freeze(e)},e.prototype.replaceType=function(e,t){switch(t.typeEnum){case r.TypeEnum.Object:this.refreshObjectType(e,t);break;case r.TypeEnum.And:case r.TypeEnum.Or:this.refreshCompoundType(e,t);break;case r.TypeEnum.Generator:this.refreshGenerator(e,t);break;case r.TypeEnum.Reference:case r.TypeEnum.GlobalReference:return this.replaceReference(e,t)}return t},e.prototype.replaceReference=function(e,t){var n=t.name,i=this.findReferencePath(t),o=this.definitionFinder.findPath(e,i,n);return{typeEnum:r.TypeEnum.Reference,name:""+this.referenceIdBundle[o.path][o.name]}},e.prototype.findReferencePath=function(e){return e.typeEnum===r.TypeEnum.GlobalReference?e.path:void 0},e.prototype.refreshObjectType=function(e,t){for(var n in t.key=this.replaceType(e,t.key),t.index=this.replaceType(e,t.index),t.properties)t.properties[n]=this.replaceType(e,t.properties[n])},e.prototype.refreshCompoundType=function(e,t){for(var n=t.children,r=0;r<n.length;++r)n[r]=this.replaceType(e,n[r])},e.prototype.refreshGenerator=function(e,t){t.template=this.replaceType(e,t.template);for(var n=0;n<t.params.length;++n)t.params[n]=this.replaceType(e,t.params[n])},e}()},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.linkClasses=function(e){for(var t=0,n={},i=0,o=Object.keys(e).sort();i<o.length;i++){for(var a=o[i],s={},c=0,u=r(e[a]).sort();c<u.length;c++)s[u[c]]=t++;n[a]=Object.freeze(s)}return Object.freeze(n)}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.isClassProperty=function(e){return e.type===r.Property},t.isClassMethod=function(e){return e.type===r.Method},function(e){e.Method="method",e.Property="property"}(r=t.ClassMemberType||(t.ClassMemberType={})),function(e){e.Value="value",e.Readonly="readonly",e.Writeonly="writeonly",e.Accessible="accessible"}(t.ClassReflectionPropertyMode||(t.ClassReflectionPropertyMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.isFreezed=!1,this.shouldInvokeAfterFreeze=!1,this.latestInvokeTimestamp=0,this.timer=-1,this._limitDuration=e,this.invoker=t,this.invokeWhenTimeout=this.invokeWhenTimeout.bind(this)}return Object.defineProperty(e.prototype,"limitDuration",{get:function(){return this._limitDuration},set:function(e){if(this._limitDuration!==e){if(this._limitDuration=e,-1!==this.timer){clearTimeout(this.timer);var t=this.nextInvokeTimeDuration();this.timer=setTimeout(this.invokeWhenTimeout,t)}this.invoke()}},enumerable:!0,configurable:!0}),e.prototype.invoke=function(){if(this.isFreezed)this.shouldInvokeAfterFreeze=!0;else if(-1===this.timer){var e=this.nextInvokeTimeDuration();this.timer=setTimeout(this.invokeWhenTimeout,e)}},e.prototype.nextInvokeTimeDuration=function(){var e=Date.now();return Math.max(0,this.latestInvokeTimestamp+this.limitDuration-e)},e.prototype.invokeWhenTimeout=function(){this.timer=-1,this.latestInvokeTimestamp=Date.now(),this.invoker()},e.prototype.cancel=function(){this.isFreezed?this.shouldInvokeAfterFreeze=!1:-1!==this.timer&&(clearTimeout(this.timer),this.timer=-1)},e.prototype.freeze=function(){this.isFreezed||(-1!==this.timer&&(clearTimeout(this.timer),this.timer=-1,this.shouldInvokeAfterFreeze=!0),this.isFreezed=!0)},e.prototype.unfreeze=function(){this.isFreezed&&(this.isFreezed=!1,this.shouldInvokeAfterFreeze&&(this.shouldInvokeAfterFreeze=!1,this.invoke()))},e}();t.InvokeFrequencyLimiter=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.freeze(["alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega"]),i=function(){function e(e,t,n,r){this.x=e,this.y=t,this.z=n,this.suffix=r,Object.freeze(this)}return e.prototype.withoutSuffix=function(){return new e(this.x,this.y,this.z)},e.prototype.toString=function(){var e=this.x+"."+this.y+"."+this.z;return this.suffix&&(e+="-"+this.suffix.greekLetter+"."+this.suffix.number),e},e.parse=function(t){if(!/^\d+\.\d+\.\d+(-\w+\.\d+)?$/i.test(t))throw new Error("invalid version format "+JSON.stringify(t));var n,r=t.match(/-\w+\.\d+$/),i=t;r&&(n=e.parseSuffix(t,r[0].replace(/^-/i,"")),i=t.substring(0,t.length-r[0].length));var o=e.parseVersionArray(t,i);return new e(o[0],o[1],o[2],n)},e.parseSuffix=function(e,t){var n=t.split("."),i=n[0];if(-1===r.indexOf(i))throw new Error("invalid Greek letter "+JSON.stringify(i)+" of "+JSON.stringify(e));var o=parseInt(n[1]);if(!Number.isSafeInteger(o))throw new Error("invalid version number "+JSON.stringify(o)+" of "+JSON.stringify(e));return Object.freeze({greekLetter:i,number:o})},e.parseVersionArray=function(e,t){for(var n=[],r=0,i=t.split(".");r<i.length;r++){var o=i[r],a=parseInt(o);if(!Number.isSafeInteger(a))throw new Error("invalid version number "+JSON.stringify(o)+" of "+JSON.stringify(e));n.push(a)}return n},e.compare=function(e,t){var n=e.x-t.x;if(0!==n)return n;if(0!=(n=e.y-t.y))return n;if(0!=(n=e.z-t.z))return n;if(!e.suffix&&t.suffix)return 1;if(e.suffix&&!t.suffix)return-1;if(!e.suffix&&!t.suffix)return 0;var i=t.suffix.greekLetter;return 0!=(n=r.indexOf(e.suffix.greekLetter)-r.indexOf(i))?n:e.suffix.number-t.suffix.number},e}();t.Version=i}]))},function(e,t){e.exports=n("2vnA")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environment=function e(t){if("object"!=typeof t||null===t)return t;if(t.constructor===Object){var n={};for(var r in t)n[r]=e(t[r]);return Object.freeze(n)}if(Array.isArray(t)){n=[];for(var i=0;i<t.length;++i)n[i]=e(t[i]);return Object.freeze(n)}return t}({sdkVersion:"2.10.3",modules:{identifier:"link.netless/white-model-render",origin:"https://sdk.netless.link"},shuntApiHosts:["shunt-api.netless.link"],hosts:{pptAssets:"convertcdn.netless.link/dynamicConvert",pptApi:"cloudcapiv4.herewhite.com",resource:"sdk.netless.link"},log:{endpoint:"cn-hangzhou.log.aliyuncs.com",project:"netless-prod",logstoreName:"akko-sdk"}})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(68)),r(n(70)),r(n(71)),r(n(73)),r(n(74)),r(n(75)),r(n(77)),r(n(100)),r(n(101)),r(n(102))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SVG="svg",e.Canvas="canvas"}(t.RenderEngine||(t.RenderEngine={})),function(e){e.Freedom="freedom",e.Follower="follower",e.Broadcaster="broadcaster"}(t.ViewMode||(t.ViewMode={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(29)),r(n(16)),r(n(17)),r(n(32)),r(n(90)),r(n(38)),r(n(99));var i=n(11);t.RoomConsumer=i.RoomConsumer,t.PlayerConsumer=i.PlayerConsumer,t.DisplayerConsumer=i.DisplayerConsumer},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=17)}([function(e,t){e.exports=n(3)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(18)),r(n(26)),r(n(27))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pow32=Math.pow(2,32),t.Pow16=Math.pow(2,16),t.Uint32Mask=t.Pow32-1,t.Uint16Mask=t.Pow16-1,t.Uint8Mask=255},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.name="FormatError",n}return i(t,e),t}(Error);t.FormatError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Never=0]="Never",e[e.Undefined=1]="Undefined",e[e.Null=2]="Null",e[e.String=3]="String",e[e.Integer32=4]="Integer32",e[e.Integer53=5]="Integer53",e[e.Float=6]="Float",e[e.Function=7]="Function",e[e.Object=8]="Object",e[e.Array=9]="Array",e[e.True=10]="True",e[e.False=11]="False",e[e.Buffer=12]="Buffer",e[e.HangUpObject=13]="HangUpObject"}(t.AkkoPrimitiveType||(t.AkkoPrimitiveType={})),function(e){e[e.Array=0]="Array",e[e.DeducedObject=1]="DeducedObject",e[e.AssertedObject=2]="AssertedObject",e[e.HangUpObject=3]="HangUpObject"}(t.ObjectType||(t.ObjectType={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(13)),r(n(22))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i="0".charCodeAt(0),o="9".charCodeAt(0)+1,a="a".charCodeAt(0),s="f".charCodeAt(0)+1,c=function(){function e(){for(var e=[],t=[],n=0;n<16;++n){var r=n.toString(16).charCodeAt(0);e[n]=r,t[r]=n}this.integerToCode=Object.freeze(e),this.codeToInteger=Object.freeze(t)}return e.prototype.cleanUnmeaningZero=function(e,t){for(;e.length>t&&0===this.codeToInteger[e[e.length-1]];)e.pop()},e.prototype.pushInt53=function(e,t){var n=0|t,i=(t-n)/r.Pow32;this.pushUint32(e,n),this.pushUint32(e,i)},e.prototype.readInt53=function(e,t){var n=this.readInt32(e,t);return this.readInt32(e,t+8)*r.Pow32+n},e.prototype.pushUint32=function(e,t){var n=e.length;e[n]=this.integerToCode[15&t],e[n+1]=this.integerToCode[t>>4&15],e[n+2]=this.integerToCode[t>>8&15],e[n+3]=this.integerToCode[t>>12&15],e[n+4]=this.integerToCode[t>>16&15],e[n+5]=this.integerToCode[t>>20&15],e[n+6]=this.integerToCode[t>>24&15],e[n+7]=this.integerToCode[t>>28&15]},e.prototype.readUint32=function(e,t){var n=this.readInt32(e,t);return n<0&&(n+=r.Pow32),n},e.prototype.readInt32=function(e,t){for(var n=0,r=0;r<8;++r){var i=this.codeToInteger[e.charCodeAt(t+r)];if(void 0===i)return NaN;n|=i<<4*r}return n},e.prototype.parseCode=function(e){return this.codeToInteger[e]},e.prototype.toCode=function(e){return this.integerToCode[e]},e.prototype.increment=function(e,t){for(var n=t;;){if(e.length<=n){e[n]=i+1;break}var r=!0;switch(e[n]++,e[n]){case o:e[n]=a;break;case s:e[n]=i,n++,r=!1}if(r)break}},e.prototype.parseString=function(e){for(var t=new String(e),n=[],r=0;r<t.length;++r)n.push(t.charCodeAt(r));return n},e.prototype.stringify=function(e){return String.fromCharCode.apply(String,e)},e}();t.BigInteger=c,t.bigInteger=new c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=e.call(this,t)||this;return n.name="SerializerError",n}return i(t,e),t}(Error);t.SerializerError=o;var a=function(e){function t(t){var n=e.call(this,t)||this;return n.name="DeserializerError",n}return i(t,e),t}(Error);t.DeserializerError=a},function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Array=0]="Array",e[e.Object=1]="Object",e[e.HangUpObject=2]="HangUpObject"}(r=t.ObjectEnum||(t.ObjectEnum={}));var o=function(){function e(e){void 0===e&&(e=function(){}),this.decorateObjectEnums=Object.freeze([r.Object]),this.decorateObject=e}return e.prototype.createObject=function(e,t){var n=t===r.Array?[]:{};return Object.defineProperty(n,"__identifier",{enumerable:!1,configurable:!0,value:e}),n},e.prototype.findIdentifier=function(e){return e.__identifier},e.prototype.findHangUpMetadata=function(e){return e.__hangUpMetadata},e.prototype.checkObjectEnum=function(e){return e.constructor===Array?r.Array:"__hangUpMetadata"in e?r.HangUpObject:r.Object},e.prototype.length=function(e){return e.length},e.prototype.keys=function(e){return Object.keys(e)},e.prototype.hasKey=function(e,t){return t in e},e.prototype.getValue=function(e,t){return e[t]},e.prototype.setValue=function(e,t,n){e[t]=n},e.prototype.completeHangUpObject=function(e,t){Object.defineProperty(e,"__hangUpMetadata",{enumerable:!1,configurable:!0,value:Object.freeze(i({},t))})},e}();t.DefaultObjectAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.length=function(e){for(var t=new String(e),n=0,r=0,i=0;i<t.length;++i)(r=t.charCodeAt(i))<128?n+=1:r<2048?n+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(i+1))?(++i,n+=4):n+=3;return n},t.read=function(e,t,n){if(n<1)return"";for(var r,i=t+n,o=[],a=null,s=0;t<i;)(r=e.getUint8(t++))<128?o[s++]=r:r>191&&r<224?o[s++]=(31&r)<<6|63&e.getUint8(t++):r>239&&r<365?(r=((7&r)<<18|(63&e.getUint8(t++))<<12|(63&e.getUint8(t++))<<6|63&e.getUint8(t++))-65536,o[s++]=55296+(r>>10),o[s++]=56320+(1023&r)):o[s++]=(15&r)<<12|(63&e.getUint8(t++))<<6|63&e.getUint8(t++),s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),s=0);return a?(s&&a.push(String.fromCharCode.apply(String,o.slice(0,s))),a.join("")):String.fromCharCode.apply(String,o.slice(0,s))},t.write=function(e,t){for(var n,r,i=new String(e),o=0;o<i.length;++o)(n=i.charCodeAt(o))<128?t.pushUint8(n):n<2048?(t.pushUint8(n>>6|192),t.pushUint8(63&n|128)):55296==(64512&n)&&56320==(64512&(r=i.charCodeAt(o+1)))?(++o,t.pushUint8((n=65536+((1023&n)<<10)+(1023&r))>>18|240),t.pushUint8(n>>12&63|128),t.pushUint8(n>>6&63|128),t.pushUint8(63&n|128)):(t.pushUint8(n>>12|224),t.pushUint8(n>>6&63|128),t.pushUint8(63&n|128))}},function(e,t){e.exports=n(41)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.AkkoPrimitiveType=r.AkkoPrimitiveType,t.ObjectType=r.ObjectType;var i=n(20);t.Serialization=i.Serialization;var o=n(14);t.convertToAkkoSerVersion=o.convertToAkkoSerVersion,t.AkkoSerVersion=o.AkkoSerVersion;var a=n(8);t.ObjectEnum=a.ObjectEnum,t.DefaultObjectAdapter=a.DefaultObjectAdapter;var s=n(7);t.SerializerError=s.SerializerError,t.DeserializerError=s.DeserializerError},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSelfloopObjectFormats=function(){var e={id:-1};return e.key=e,e.index=e,e.properties=Object.freeze({}),Object.freeze(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.NullIdentifier="",t.NoEffectScopeId=-1,t.ScopeIdHexCount=16,t.scopeIdWith=function(e){return r.bigInteger.readInt53(e,0)},t.objectIdWith=function(e){return r.bigInteger.readInt53(e,t.ScopeIdHexCount)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0);!function(e){e[e.V0=0]="V0",e[e.V1=1]="V1"}(r=t.AkkoSerVersion||(t.AkkoSerVersion={}));var o=i.Version.parse("1.4.2");t.convertToAkkoSerVersion=function(e){return"string"==typeof e&&(e=i.Version.parse(e)),i.Version.compare(e,o)<0?r.V0:r.V1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Indeterminate=0]="Indeterminate",e[e.Circular=1]="Circular",e[e.Noncircular=2]="Noncircular"}(t.HandleState||(t.HandleState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(3);!function(e){e[e.Border=0]="Border",e[e.Compound=1]="Compound",e[e.Object=2]="Object",e[e.Handle=3]="Handle"}(r=t.ExpandedNodeClass||(t.ExpandedNodeClass={}));var a=function(){function e(e,t,n){this.templateEnvironment=e,this.templateType=t,this.params=n,this.expandedParamNodes=[],this.convertTypeToGeneratorParam=this.convertTypeToGeneratorParam.bind(this);for(var r=0;r<n.length;++r)this.expandedParamNodes[r]=void 0}return e.prototype.getExpandedExpression=function(){return this.expandNode(this.templateType)},e.prototype.expandNode=function(e){switch(e.typeEnum){case i.TypeEnum.Any:case i.TypeEnum.Never:case i.TypeEnum.Undefined:case i.TypeEnum.Null:case i.TypeEnum.String:case i.TypeEnum.Number:case i.TypeEnum.Boolean:case i.TypeEnum.Function:return{type:e,clazz:r.Border};case i.TypeEnum.Object:var t=e,n={};for(var a in t.properties)n[a]=this.expandNode(t.properties[a]);return{type:t,clazz:r.Object,key:this.expandNode(t.key),index:this.expandNode(t.index),properties:n};case i.TypeEnum.And:case i.TypeEnum.Or:for(var s=e,c=[],u=0,l=s.children;u<l.length;u++)c.push(this.expandNode(l[u]));return{type:s,clazz:r.Compound,children:c};case i.TypeEnum.Generator:return this.expandGeneratorType(e);case i.TypeEnum.Generic:return this.expandGenericType(e);case i.TypeEnum.Reference:case i.TypeEnum.GlobalReference:return this.expandReferenceType(e)}throw new o.FormatError("unrecognized enum type "+e.typeEnum)},e.prototype.expandGeneratorType=function(e){var t=e.params.map(this.convertTypeToGeneratorParam),n=this.templateEnvironment.getTemplate(e.template);return{clazz:r.Handle,handle:n.getHandle(t)}},e.prototype.convertTypeToGeneratorParam=function(e){var t=this.expandNode(e);return t.clazz===r.Handle?t.handle:t.type},e.prototype.expandGenericType=function(e){var t=e.index,n=this.expandedParamNodes[t];if(!n){var r=this.params[t];if(!r)throw new o.FormatError("generic index "+t+" is out of range: 0 ~ "+(this.params.length-1));n=this.covertParamTypeToExpandedNode(r),this.expandedParamNodes[t]=n}return n},e.prototype.expandReferenceType=function(e){var t=this.templateEnvironment.replaceReferenceType(e);return this.expandGeneratorType(t.typeEnum===i.TypeEnum.Generator?t:{typeEnum:i.TypeEnum.Generator,template:t,params:[]})},e.prototype.covertParamTypeToExpandedNode=function(e){return"id"in e?this.expandNode(e):{clazz:r.Handle,handle:e}},e}();t.ExpandedExpressionGenerator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.Reader=r.Reader,t.Writer=r.Writer,t.MD5ZeroBinary=r.MD5ZeroBinary,t.MD5BinaryLength=r.MD5BinaryLength;var i=n(28);t.FormatFactory=i.FormatFactory,t.FormatError=i.FormatError;var o=n(11);t.convertToAkkoSerVersion=o.convertToAkkoSerVersion,t.ObjectEnum=o.ObjectEnum,t.AkkoSerVersion=o.AkkoSerVersion,t.Serialization=o.Serialization,t.AkkoPrimitiveType=o.AkkoPrimitiveType,t.ObjectType=o.ObjectType,t.DefaultObjectAdapter=o.DefaultObjectAdapter,t.SerializerError=o.SerializerError,t.DeserializerError=o.DeserializerError;var a=n(5);t.scopeIdWith=a.scopeIdWith,t.objectIdWith=a.objectIdWith,t.createIdentifierGenerator=a.createIdentifierGenerator,t.createV0IdentifierGenerator=a.createV0IdentifierGenerator,t.NoEffectScopeId=a.NoEffectScopeId,t.NullIdentifier=a.NullIdentifier,t.AdminObserverId=Math.pow(2,32)-1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(2),o=n(19),a=n(11),s=n(6),c="0".charCodeAt(0),u=function(){function e(){this.buffer=new o.ExtendableBuffer}return e.prototype.generateHash=function(e,t){return this.buffer.generateHash(e,t)},Object.defineProperty(e.prototype,"didWriteBytes",{get:function(){return this.buffer.length},enumerable:!0,configurable:!0}),e.prototype.writeBuffer=function(e){this.buffer.pushUint32(e.byteLength),e.byteLength>0&&this.buffer.pushBuffer(e,0,e.byteLength)},e.prototype.writeUint8=function(e){this.buffer.pushUint8(e)},e.prototype.putUint8Holder=function(){return this.buffer.pushUint8Holder()},e.prototype.writeUint16=function(e){this.buffer.pushUint16(e)},e.prototype.writeInt32=function(e){this.buffer.pushInt32(e)},e.prototype.writeUint32=function(e){this.buffer.pushUint32(e)},e.prototype.putUint32Holder=function(){return this.buffer.pushUint32Holder()},e.prototype.writeInt53=function(e){var t=0|e,n=(e-t)/i.Pow32;this.buffer.pushInt32(t),this.buffer.pushInt32(n)},e.prototype.writeFloat64=function(e){this.buffer.pushFloat64(e)},e.prototype.writeString=function(e){var t=r.length(e);this.writeInt32(t),r.write(e,this.buffer)},e.prototype.writeBigInt=function(e){var t=new String(e);if(t.length>255)throw new a.SerializerError("length of identifier "+t.length+" is greater than 255");this.buffer.pushUint8(t.length);for(var n=Math.ceil(t.length/2),r=0;r<n;++r){var i=t.charCodeAt(2*r),o=t.charCodeAt(2*r+1);Number.isNaN(o)&&(o=c);var u=s.bigInteger.parseCode(i),l=s.bigInteger.parseCode(o);if(void 0===u||void 0===l)throw new a.SerializerError("invalid big integer "+JSON.stringify(e));this.buffer.pushUint8(u|l<<4)}},e.prototype.writeReadSlice=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];this.buffer.pushBuffer(r.buffer,r.offset,r.byteLength)}},e.prototype.toBuffer=function(){return this.buffer.toBuffer()},e}();t.Writer=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(0),o=function(){function e(){this._length=0,this.bufferChunks=[],this.appendNewChunk()}return Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),e.prototype.toBuffer=function(){for(var e=i.createBuffer(this.length),t=0,n=0,r=this.bufferChunks;n<r.length;n++){var o=r[n];e.fill(o.buffer,t,0,o.length),t+=o.length}return e},e.prototype.generateHash=function(e,t){for(var n=0;;){if(n>=this.bufferChunks.length)return"";var i=this.bufferChunks[n].length;if(e<i)break;e-=i,n++}for(var o=t,a=new r,s=[0];n<this.bufferChunks.length;++n){for(var c=this.bufferChunks[n],u=c.buffer,l=c.length,p=e;p<l;++p)if(s[0]=u.getUint8(p),a.appendBinary(String.fromCharCode.apply(String,s)),--o<=0)return a.end(!0);e=0}return a.end(!0)},e.prototype.pushBuffer=function(e,t,n){var r=Math.min(n,this.currentChunk.buffer.byteLength-this.currentChunk.length);r>0&&(this.currentChunk.buffer.fill(e,this.currentChunk.length,t,r),this.currentChunk.length+=r,this._length+=r);var i=n-r;i>0&&(this.currentChunk={buffer:e.slice(t+r,i),length:i},this.bufferChunks.push(this.currentChunk),this._length+=i)},e.prototype.pushUint8=function(e){this.currentChunk.length+1>this.currentChunk.buffer.byteLength&&this.appendNewChunk(),this.currentChunk.buffer.setUint8(this.currentChunk.length,e),this.currentChunk.length+=1,this._length+=1},e.prototype.pushUint8Holder=function(){this.currentChunk.length+1>this.currentChunk.buffer.byteLength&&this.appendNewChunk();var e=this.currentChunk.length,t=this.currentChunk.buffer;return this.currentChunk.length+=1,this._length+=1,function(n){return t.setUint8(e,n)}},e.prototype.pushUint16=function(e){this.currentChunk.length+2>this.currentChunk.buffer.byteLength&&this.appendNewChunk(),this.currentChunk.buffer.setUint16(this.currentChunk.length,e),this.currentChunk.length+=2,this._length+=2},e.prototype.pushInt32=function(e){this.currentChunk.length+4>this.currentChunk.buffer.byteLength&&this.appendNewChunk(),this.currentChunk.buffer.setInt32(this.currentChunk.length,e),this.currentChunk.length+=4,this._length+=4},e.prototype.pushUint32=function(e){this.currentChunk.length+4>this.currentChunk.buffer.byteLength&&this.appendNewChunk(),this.currentChunk.buffer.setUint32(this.currentChunk.length,e),this.currentChunk.length+=4,this._length+=4},e.prototype.pushUint32Holder=function(){this.currentChunk.length+4>this.currentChunk.buffer.byteLength&&this.appendNewChunk();var e=this.currentChunk.length,t=this.currentChunk.buffer;return this.currentChunk.length+=4,this._length+=4,function(n){return t.setUint32(e,n)}},e.prototype.pushFloat64=function(e){this.currentChunk.length+8>this.currentChunk.buffer.byteLength&&this.appendNewChunk(),this.currentChunk.buffer.setFloat64(this.currentChunk.length,e),this.currentChunk.length+=8,this._length+=8},e.prototype.appendNewChunk=function(){var e=i.createBuffer(256);this.currentChunk={buffer:e,length:0},this.bufferChunks.push(this.currentChunk)},e}();t.ExtendableBuffer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n(23),o=n(24),a=n(14),s=function(){function e(e){this.format=e.format,this.objectAdapter=e.objectAdapter,this.assertObjectFormat=e.assertObjectFormat||function(){}}return e.prototype.serialize=function(e){var t=e.values,n=e.includesHash;new r.Serializer(e.writer,e.objectFormats,this.objectAdapter,this.assertObjectFormat).serialize(t,n)},e.prototype.deserialize=function(e){var t=e.reader,n=e.objectFormats,r=e.ignoreHashChecking;switch(e.version){case a.AkkoSerVersion.V0:return new o.LegacyDeserializer(t,this.format,n,this.objectAdapter).deserialize(r);case a.AkkoSerVersion.V1:return new i.Deserializer(t,this.format,this.objectAdapter,n.length).deserialize(r);default:return[]}},e}();t.Serialization=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(12),a=n(5),s=n(7),c=n(4),u=n(8),l=Math.pow(2,31)-1,p=-Math.pow(2,31),d=function(){function e(e,t,n,r){this.writer=e,this.objectFormats=t,this.objectAdapter=n,this.assertObjectFormat=r,this.anyObjectFormat=o.createSelfloopObjectFormats(),this.serializeTasksQueue=[],this.serializeBufferQueue=[],this.didObjectInQueueSet={},this.bufferIndexMap={}}return e.prototype.serialize=function(e,t){var n=this.writer.putUint32Holder(),r=this.writer.didWriteBytes;1!==this.objectFormats.length&&this.writer.writeUint32(e.length);for(var o=0;o<e.length;++o)this.serializeValue(this.objectFormats[o]||this.anyObjectFormat,e[o]);for(;this.serializeTasksQueue.length>0;)this.handleSerializeTask(this.serializeTasksQueue.shift());this.writer.writeBigInt(a.NullIdentifier),this.writer.writeUint32(this.serializeBufferQueue.length);for(var s=0,c=this.serializeBufferQueue;s<c.length;s++){var u=c[s];this.writer.writeUint8(u.readonly?255:0),this.writer.writeBuffer(u)}var l=this.writer.didWriteBytes-r,p=t?this.writer.generateHash(r,l):i.MD5ZeroBinary;this.serializeHash(p),n(l+i.MD5BinaryLength)},e.prototype.serializeValue=function(e,t){"object"!=typeof t?this.serializeNotObjectValue(t):null===t?this.writer.writeUint8(c.AkkoPrimitiveType.Null):r.isBuffer(t)?this.serializeBufferValue(t):this.serializeObjectValue(e,t)},e.prototype.handleSerializeTask=function(e){var t=e.object,n=e.objectEnum,i=e.deducedFormat;switch(this.writer.writeBigInt(e.identifier),n){case u.ObjectEnum.Array:this.writer.writeUint8(c.ObjectType.Array),this.handleArraySerializeTask(t,i);break;case u.ObjectEnum.Object:var o=this.assertObjectFormat(t),a=o||i,s=!o;this.writer.writeUint8(o?c.ObjectType.AssertedObject:c.ObjectType.DeducedObject),this.handleObjectSerializeTask(t,a,s);break;case u.ObjectEnum.HangUpObject:var l=this.objectAdapter.findHangUpMetadata(t),p=r.Version.parse(l.version),d=p.x,h=p.y,f=p.z;this.writer.writeUint8(c.ObjectType.HangUpObject),this.writer.writeUint32(l.objectFormatId),this.writer.writeUint16(d),this.writer.writeUint16(h),this.writer.writeUint16(f),this.writer.writeUint8(c.AkkoPrimitiveType.Never),this.handleHangUpObjectSerializeTask(t)}},e.prototype.serializeNotObjectValue=function(e){switch(typeof e){case"undefined":this.writer.writeUint8(c.AkkoPrimitiveType.Undefined);break;case"string":this.writer.writeUint8(c.AkkoPrimitiveType.String),this.writer.writeString(e);break;case"number":Number.isSafeInteger(e)?p<=e&&e<=l?(this.writer.writeUint8(c.AkkoPrimitiveType.Integer32),this.writer.writeInt32(e)):(this.writer.writeUint8(c.AkkoPrimitiveType.Integer53),this.writer.writeInt53(e)):(this.writer.writeUint8(c.AkkoPrimitiveType.Float),this.writer.writeFloat64(e));break;case"boolean":this.writer.writeUint8(e?c.AkkoPrimitiveType.True:c.AkkoPrimitiveType.False);break;default:throw new s.SerializerError("not support "+typeof e+" now")}},e.prototype.serializeBufferValue=function(e){var t=this.bufferIndexMap[e.id];void 0===t&&(this.bufferIndexMap[e.id]=t=this.serializeBufferQueue.length,this.serializeBufferQueue[t]=e),this.writer.writeUint8(c.AkkoPrimitiveType.Buffer),this.writer.writeUint32(t)},e.prototype.serializeObjectValue=function(e,t){var n,r=this.objectAdapter.findIdentifier(t),i=this.objectAdapter.checkObjectEnum(t);switch(i){case u.ObjectEnum.Array:n=c.AkkoPrimitiveType.Array;break;case u.ObjectEnum.Object:n=c.AkkoPrimitiveType.Object;break;case u.ObjectEnum.HangUpObject:n=c.AkkoPrimitiveType.HangUpObject;break;default:throw new Error("unrecognized object enum "+i)}this.writer.writeUint8(n),this.writer.writeUint8(0),this.writer.writeBigInt(r),this.pushToSerializeTaskQueueIfFirstCall({identifier:r,object:t,deducedFormat:e,objectEnum:i})},e.prototype.pushToSerializeTaskQueueIfFirstCall=function(e){this.didObjectInQueueSet[e.identifier]||(this.didObjectInQueueSet[e.identifier]=!0,this.serializeTasksQueue.push(e))},e.prototype.handleArraySerializeTask=function(e,t){var n=this.objectAdapter.length(e),r=t.index;this.writer.writeUint32(n);for(var i=0;i<n;++i)this.serializeValue(r,this.objectAdapter.getValue(e,i))},e.prototype.handleObjectSerializeTask=function(e,t,n){for(var r in this.writer.writeUint32(t.id),t.properties){var i=t.properties[r];this.objectAdapter.hasKey(e,r)?this.serializeValue(i,this.objectAdapter.getValue(e,r)):this.writer.writeUint8(c.AkkoPrimitiveType.Never)}if(n){for(var o=this.writer.putUint32Holder(),a=0,s=0,u=this.objectAdapter.keys(e);s<u.length;s++)(r=u[s])in t.properties||(this.writer.writeString(r),this.serializeValue(t.key,this.objectAdapter.getValue(e,r)),a++);o(a)}else this.writer.writeUint32(0)},e.prototype.handleHangUpObjectSerializeTask=function(e){for(var t=this.writer.putUint32Holder(),n=0,r=0,i=this.objectAdapter.keys(e);r<i.length;r++){var o=i[r];this.writer.writeString(o),this.serializeValue(this.anyObjectFormat,this.objectAdapter.getValue(e,o)),n++}t(n)},e.prototype.serializeHash=function(e){for(var t=0;t<i.MD5BinaryLength;++t)this.writer.writeUint8(t<e.length?e.charCodeAt(t):0)},e}();t.Serializer=d},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(13),o=n(6),a=n(2);t.createIdentifierGenerator=function(e,t){var n=[];return o.bigInteger.pushInt53(n,e),"number"==typeof t&&(o.bigInteger.pushInt53(n,t),o.bigInteger.cleanUnmeaningZero(n,i.ScopeIdHexCount)),new s(e,n)},t.createV0IdentifierGenerator=function(e,t){if(e>a.Uint32Mask)throw new Error("observerId "+e+" is out of range 0 ~ "+a.Uint32Mask);var n=[],r=new c(e,n);return o.bigInteger.pushUint32(n,e),r.makeSureNextGenerationIdAfter(t),r};var s=function(){function e(e,t){this.scopeId=e,this.codes=t}return e.prototype.generate=function(){var e=o.bigInteger.stringify(this.codes);return o.bigInteger.increment(this.codes,i.ScopeIdHexCount),e},Object.defineProperty(e.prototype,"createdCount",{get:function(){for(var e=i.ScopeIdHexCount,t=0,n=0,r=0;r<8;++r)t|=(s=void 0===(s=this.codes[e+r])?0:o.bigInteger.parseCode(s))<<4*r;for(e+=8,r=0;r<8;++r){var s;n|=(s=void 0===(s=this.codes[e+r])?0:o.bigInteger.parseCode(s))<<4*r}return n*a.Pow32+t},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this.scopeId,r(this.codes))},e}();t.ObserverIdHexCount=8;var c=function(){function e(e,t){this.observerId=e,this.codes=t,this._createdCount=0}return Object.defineProperty(e.prototype,"scopeId",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"createdCount",{get:function(){return this._createdCount},enumerable:!0,configurable:!0}),e.prototype.generate=function(){return this._createdCount++,o.bigInteger.increment(this.codes,t.ObserverIdHexCount),o.bigInteger.stringify(this.codes)},e.prototype.clone=function(){return new e(this.observerId,r(this.codes))},e.prototype.makeSureNextGenerationIdAfter=function(e){for(var n=[],r=0;r<e.length;++r){var i=e.charCodeAt(r);if(void 0===o.bigInteger.parseCode(i))throw new Error("invalid generationId");n[r]=i}for(r=0;r<n.length;++r)this.codes[r+t.ObserverIdHexCount]=n[r]},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(5),a=n(7),s=n(8),c=function(){function e(e,t,n,r){this.reader=e,this.format=t,this.objectAdapter=n,this.valuesLength=r,this.objectStateMap={},this.holdersMap={},this.deserializeBufferSetterQueue=[],this.cacheMap=Object.freeze([{},{},{}])}return e.prototype.deserialize=function(t){for(var n=e.simpleObjectAdapter,i=this.reader.readUint32(),s=this.reader.didReadBytes,c=this.deserializeRootValuesLength(),u=[],l=0;l<c;++l)this.deserializeValue(n,u,l);for(;;){var p=this.reader.readBigInt();if(p===o.NullIdentifier)break;this.deserializeArrayOrObjectBody(p)}this.handleAllDeserializeBuffers(),this.invokeObjectDecorator();var d=this.reader.didReadBytes-s;if(i!==d+r.MD5BinaryLength)throw new a.DeserializerError("expect bytes "+i+", instead of "+d);var h=this.deserializeHash();if(!t&&h!==r.MD5ZeroBinary&&h!==this.reader.generateHash(s,d))throw new a.DeserializerError("hash isn't matched");return u},e.prototype.deserializeRootValuesLength=function(){return 1!==this.valuesLength?this.reader.readUint32():1},e.prototype.invokeObjectDecorator=function(){for(var e=Object.freeze([]),t=0,n=this.objectAdapter.decorateObjectEnums;t<n.length;t++){var r=this.cacheMap[n[t]];for(var i in r){var o=this.objectStateMap[i];o&&this.objectAdapter.decorateObject(r[i],o.type,this.holdersMap[i]||e,o.objectFormat)}}},e.prototype.deserializeValue=function(e,t,n){var r=this.reader.readUint8(),o=void 0;switch(r){case i.AkkoPrimitiveType.Undefined:e.setValue(t,n,void 0);break;case i.AkkoPrimitiveType.Null:e.setValue(t,n,null);break;case i.AkkoPrimitiveType.String:e.setValue(t,n,this.reader.readString());break;case i.AkkoPrimitiveType.Integer32:e.setValue(t,n,this.reader.readInt32());break;case i.AkkoPrimitiveType.Integer53:e.setValue(t,n,this.reader.readInt53());break;case i.AkkoPrimitiveType.Float:e.setValue(t,n,this.reader.readFloat64());break;case i.AkkoPrimitiveType.True:e.setValue(t,n,!0);break;case i.AkkoPrimitiveType.False:e.setValue(t,n,!1);break;case i.AkkoPrimitiveType.Array:this.reader.readUint8(),o=this.reader.readBigInt();var c=this.readAndPushToDeserializeTaskQueueIfNeed(o,s.ObjectEnum.Array);e.setValue(t,n,c);break;case i.AkkoPrimitiveType.Object:this.reader.readUint8(),o=this.reader.readBigInt(),c=this.readAndPushToDeserializeTaskQueueIfNeed(o,s.ObjectEnum.Object),e.setValue(t,n,c);break;case i.AkkoPrimitiveType.HangUpObject:this.reader.readUint8(),o=this.reader.readBigInt(),c=this.readAndPushToDeserializeTaskQueueIfNeed(o,s.ObjectEnum.HangUpObject),e.setValue(t,n,c);break;case i.AkkoPrimitiveType.Buffer:var u=this.reader.readUint32(),l=this.deserializeBufferSetterQueue[u];l||(l=this.deserializeBufferSetterQueue[u]=[]),l.push((function(r){return e.setValue(t,n,r)}));break;case i.AkkoPrimitiveType.Never:break;default:throw new a.SerializerError("unrecognized primitiveType "+JSON.stringify(r))}return o},e.prototype.readAndPushToDeserializeTaskQueueIfNeed=function(e,t){var n=this.cacheMap[t],r=n[e];return r||(n[e]=r=this.objectAdapter.createObject(e,t)),r},e.prototype.deserializeArrayOrObjectBody=function(e){var t=this.reader.readUint8();switch(t){case i.ObjectType.Array:this.objectStateMap[e]={type:t},this.handleArrayDeserializerTask(this.cacheMap[s.ObjectEnum.Array][e]);break;case i.ObjectType.DeducedObject:case i.ObjectType.AssertedObject:var n=this.cacheMap[s.ObjectEnum.Object][e],r=this.reader.readUint32(),o=this.format.findObjectFormat(r);this.objectStateMap[e]={type:t,objectFormat:o},this.handleObjectDeserializerTask(n,o);break;case i.ObjectType.HangUpObject:var a=this.cacheMap[s.ObjectEnum.HangUpObject][e],c=(r=this.reader.readUint32(),this.reader.readUint16()),u=this.reader.readUint16(),l=this.reader.readUint16();this.objectStateMap[e]={type:t},this.reader.readUint8(),this.handleHangUpObjectDeserializerTask(a,{objectFormatId:r,version:c+"."+u+"."+l})}},e.prototype.handleAllDeserializeBuffers=function(){for(var e=this.reader.readUint32(),t=0;t<e;++t){var n=this.reader.readUint8(),r=this.reader.readBuffer();n&&r.freeze();for(var i=0,o=this.deserializeBufferSetterQueue[t];i<o.length;i++)(0,o[i])(r)}},e.prototype.handleArrayDeserializerTask=function(e){for(var t=this.reader.readUint32(),n=0;n<t;++n)this.deserializeValueAndRecordHolders(e,n)},e.prototype.handleObjectDeserializerTask=function(e,t){for(var n in t.properties)this.deserializeValueAndRecordHolders(e,n);for(var r=this.reader.readUint32(),i=0;i<r;++i)n=this.reader.readString(),this.deserializeValueAndRecordHolders(e,n)},e.prototype.handleHangUpObjectDeserializerTask=function(e,t){for(var n=this.reader.readUint32(),r=0;r<n;++r){var i=this.reader.readString();this.deserializeValueAndRecordHolders(e,i)}this.objectAdapter.completeHangUpObject(e,t)},e.prototype.deserializeValueAndRecordHolders=function(e,t){var n=this.deserializeValue(this.objectAdapter,e,t);if(void 0!==n){var r=this.holdersMap[n];r||(this.holdersMap[n]=r=[]),r.push({object:e,key:t})}},e.prototype.deserializeHash=function(){for(var e=new Array(r.MD5BinaryLength),t=0;t<r.MD5BinaryLength;++t)e[t]=this.reader.readUint8();return String.fromCharCode.apply(String,e)},e.simpleObjectAdapter=new s.DefaultObjectAdapter,e}();t.Deserializer=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25);t.LegacyDeserializer=r.LegacyDeserializer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(12),o=n(4),a=n(5),s=n(7),c=n(8),u=function(){function e(e,t,n,r){this.reader=e,this.format=t,this.objectFormats=n,this.objectAdapter=r,this.arrayCacheMap={},this.objectCacheMap={},this.objectStateMap={},this.holdersMap={},this.deserializeTasksQueue=[],this.deserializeBufferSetterQueue=[]}return e.prototype.deserialize=function(t){for(var n=e.simpleObjectAdapter,i=this.reader.readUint32(),o=this.reader.didReadBytes,c=this.deserializeRootValuesLength(),u=[],l=0;l<c;++l)this.deserializeValue(this.objectFormats[l]||e.neverObjectFormat,n,u,l);for(;;){var p=this.reader.readBigInt();if(p===a.NullIdentifier)break;var d=this.takeNextDeserializerTask(p);this.handleDeserializerTask(d)}this.handleAllDeserializeBuffers(),this.invokeObjectDecorator();var h=this.reader.didReadBytes-o;if(i!==h+r.MD5BinaryLength)throw new s.DeserializerError("expect bytes "+i+", instead of "+h);var f=this.deserializeHash();if(!t&&f!==r.MD5ZeroBinary&&f!==this.reader.generateHash(o,h))throw new s.DeserializerError("hash isn't matched");return u},e.prototype.deserializeRootValuesLength=function(){return 1!==this.objectFormats.length?this.reader.readUint32():1},e.prototype.invokeObjectDecorator=function(){var e=Object.freeze([]);for(var t in this.objectCacheMap){var n=this.objectStateMap[t];this.objectAdapter.decorateObject(this.objectCacheMap[t],n.type,this.holdersMap[t]||e,n.objectFormat)}},e.prototype.deserializeValueAndRecordHolders=function(e,t,n){var r=this.deserializeValue(e,this.objectAdapter,t,n);if(void 0!==r){var i=this.holdersMap[r];i||(this.holdersMap[r]=i=[]),i.push({object:t,key:n})}},e.prototype.deserializeValue=function(e,t,n,r){var i=void 0;switch(this.reader.readUint8()){case o.AkkoPrimitiveType.Undefined:t.setValue(n,r,void 0);break;case o.AkkoPrimitiveType.Null:t.setValue(n,r,null);break;case o.AkkoPrimitiveType.String:t.setValue(n,r,this.reader.readString());break;case o.AkkoPrimitiveType.Integer32:t.setValue(n,r,this.reader.readInt32());break;case o.AkkoPrimitiveType.Integer53:t.setValue(n,r,this.reader.readInt53());break;case o.AkkoPrimitiveType.Float:t.setValue(n,r,this.reader.readFloat64());break;case o.AkkoPrimitiveType.True:t.setValue(n,r,!0);break;case o.AkkoPrimitiveType.False:t.setValue(n,r,!1);break;case o.AkkoPrimitiveType.Object:i=this.reader.readBigInt();var a=this.readAndPushToDeserializeTaskQueueIfNeed(i,e,!1);t.setValue(n,r,a);break;case o.AkkoPrimitiveType.Array:i=this.reader.readBigInt(),a=this.readAndPushToDeserializeTaskQueueIfNeed(i,e,!0),t.setValue(n,r,a);break;case o.AkkoPrimitiveType.Buffer:var s=this.reader.readUint32(),c=this.deserializeBufferSetterQueue[s];c||(c=this.deserializeBufferSetterQueue[s]=[]),c.push((function(e){return t.setValue(n,r,e)}))}return i},e.prototype.readAndPushToDeserializeTaskQueueIfNeed=function(e,t,n){var r=n?this.arrayCacheMap:this.objectCacheMap,i=r[e];return i||(r[e]=i=this.objectAdapter.createObject(e,n?c.ObjectEnum.Array:c.ObjectEnum.Object),this.deserializeTasksQueue.push({isArray:n,identifier:e,deducedFormat:t,object:i})),i},e.prototype.takeNextDeserializerTask=function(e){for(var t=0;t<this.deserializeTasksQueue.length;++t){var n=this.deserializeTasksQueue[t];if(e===n.identifier)return this.deserializeTasksQueue.splice(t,1),n}throw new s.DeserializerError("can't find identifier "+e+" in task queue")},e.prototype.handleDeserializerTask=function(e){var t=this.reader.readUint8(),n=e.identifier;switch(t){case o.ObjectType.Array:if(!e.isArray)throw new s.DeserializerError("expect array");this.objectStateMap[n]={type:t,objectFormat:e.deducedFormat},this.handleArrayDeserializerTask(e.object,e.deducedFormat);break;case o.ObjectType.DeducedObject:if(e.isArray)throw new s.DeserializerError("expect object");this.objectStateMap[n]={type:t,objectFormat:e.deducedFormat},this.handleObjectDeserializerTask(e.object,e.deducedFormat);break;case o.ObjectType.AssertedObject:if(e.isArray)throw new s.DeserializerError("expect object");var r=this.reader.readUint32(),i=this.format.findObjectFormat(r);this.objectStateMap[n]={type:t,objectFormat:i},this.handleObjectDeserializerTask(e.object,i)}},e.prototype.handleAllDeserializeBuffers=function(){for(var e=this.reader.readUint32(),t=0;t<e;++t){var n=this.reader.readUint8(),r=this.reader.readBuffer();n&&r.freeze();for(var i=0,o=this.deserializeBufferSetterQueue[t];i<o.length;i++)(0,o[i])(r)}},e.prototype.handleArrayDeserializerTask=function(e,t){for(var n=t.index,r=this.reader.readUint32(),i=0;i<r;++i)this.deserializeValueAndRecordHolders(n,e,i)},e.prototype.handleObjectDeserializerTask=function(e,t){for(var n in t.properties)this.deserializeValueAndRecordHolders(t.properties[n],e,n);for(var r=this.reader.readUint32(),i=0;i<r;++i)n=this.reader.readString(),this.deserializeValueAndRecordHolders(t.key,e,n)},e.prototype.deserializeHash=function(){for(var e=new Array(r.MD5BinaryLength),t=0;t<r.MD5BinaryLength;++t)e[t]=this.reader.readUint8();return String.fromCharCode.apply(String,e)},e.neverObjectFormat=i.createSelfloopObjectFormats(),e.simpleObjectAdapter=new c.DefaultObjectAdapter,e}();t.LegacyDeserializer=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(10),o=n(2),a=n(6),s=[],c=[0],u=[0,0],l=[0,0,0],p=[0,0,0,0],d=[0,0,0,0,0],h=[0,0,0,0,0,0],f=[0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0],g=function(){function e(e){this._offset=0,this.buffer=e}return Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),e.prototype.generateHash=function(e,t){for(var n=Math.min(e+t-1,this.buffer.byteLength-1),r=new i,o=[0],a=e;a<=n;++a)o[0]=this.buffer.getUint8(a),r.appendBinary(String.fromCharCode.apply(String,o));return r.end(!0)},Object.defineProperty(e.prototype,"didReadBytes",{get:function(){return this._offset},enumerable:!0,configurable:!0}),e.prototype.readBuffer=function(){var e=this.buffer.getUint32(this._offset);this._offset+=4;var t=this.buffer.slice(this._offset,e);return this._offset+=e,t},e.prototype.readUint8=function(){var e=this.buffer.getUint8(this._offset);return this._offset+=1,e},e.prototype.readUint16=function(){var e=this.buffer.getUint16(this._offset);return this._offset+=2,e},e.prototype.readInt32=function(){var e=this.buffer.getInt32(this._offset);return this._offset+=4,e},e.prototype.readUint32=function(){var e=this.buffer.getUint32(this._offset);return this._offset+=4,e},e.prototype.readInt53=function(){var e=this.buffer.getInt32(this._offset);this._offset+=4;var t=this.buffer.getInt32(this._offset);return this._offset+=4,t*o.Pow32+e},e.prototype.readFloat64=function(){var e=this.buffer.getFloat64(this._offset);return this._offset+=8,e},e.prototype.readString=function(){var e=this.readInt32(),t=r.read(this.buffer,this._offset,e);return this._offset+=e,t},e.prototype.readBigInt=function(){for(var e=this.readUint8(),t=Math.ceil(e/2),n=function(e){switch(e){case 0:return s;case 1:return c;case 2:return u;case 3:return l;case 4:return p;case 5:return d;case 6:return h;case 7:return f;case 8:return m;default:return[]}}(e),r=0;r<t;++r){var i=this.readUint8(),o=i>>4&15;n[2*r]=a.bigInteger.toCode(15&i),2*r+1<e&&(n[2*r+1]=a.bigInteger.toCode(o))}return String.fromCharCode.apply(String,n)},e.prototype.skipBytes=function(e){return this._offset+=e,e},e.prototype.sliceLatestBytes=function(e){return[{buffer:this.buffer,offset:this._offset-e,byteLength:e}]},e}();t.Reader=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MD5BinaryLength=16,t.MD5ZeroBinary=function(){for(var e=[],n=0;n<t.MD5BinaryLength;++n)e[n]=0;return String.fromCharCode.apply(String,e)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.FormatError=r.FormatError;var i=n(29);t.FormatFactory=i.FormatFactory},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),o=n(30),a=n(2),s=function(){function e(){this.replaceReferenceType=function(){throw new i.FormatError("not define referenceTypeReplacer")}}return e.prototype.createWithRecords=function(e,t){for(var n=new o.FormatConstructor(t||this.replaceReferenceType),r=[],i={},a=0,s=e;a<s.length;a++){var u=s[a],l=u.interrupter,p=n.covert(u.type);l&&(i[p.id]=l),r.push(p.id)}for(var d=n.getObjectFormatRecords().map((function(e){var t=i[e.id];return t?t(e):e})),h=new c(d),f=[],m=0,g=r;m<g.length;m++)f.push(h.findObjectFormat(g[m]));return{format:h,objectFormats:f}},e.prototype.createWithBuffer=function(e){return new c(c.deserialize(e))},e}();t.FormatFactory=s;var c=function(){function e(e){this.records={},this.formats={};for(var t=null,n=0,r=e;n<r.length;n++){var i=r[n],o={};this.records[i.id]=i,this.formats[i.id]=o,this.isAnyObjectFormatRecord(i)&&(t=o)}for(var a=0,s=e;a<s.length;a++)this.completeObjectFormat(this.formats[(i=s[a]).id],i);if(!t)throw new Error("can't find any object format");this.anyObjectFormat=t,this.objectFormatIds=Object.freeze(e.map((function(e){return e.id})).sort())}return e.prototype.isAnyObjectFormatRecord=function(e){for(var t in e.properties)return!1;return e.index===e.id&&e.key===e.id},e.prototype.completeObjectFormat=function(e,t){for(var n in e.id=t.id,e.key=this.formats[t.key],e.index=this.formats[t.index],e.properties={},t.properties)e.properties[n]=this.formats[t.properties[n]];Object.freeze(e.properties),Object.freeze(e)},e.prototype.findObjectFormat=function(e){var t=this.formats[e];if(!t)throw new Error("can't find ObjectFormat with id "+e);return t},e.prototype.serialize=function(){var e=[],t=new r.Writer;for(var n in this.records)e.push(this.records[n]);e.sort((function(e,t){return e.id-t.id})),t.writeUint32(e.length);for(var i=0,o=e;i<o.length;i++)this.serializeRecord(o[i],t);return t.toBuffer()},e.prototype.serializeRecord=function(e,t){if(e.id>a.Uint32Mask)throw new i.FormatError("ObjectFormat's number can't greater than "+a.Uint32Mask);var n=Object.keys(e.properties).sort();if(n.length>a.Uint32Mask)throw new i.FormatError("ObjectFormat's properties number can't greater than "+a.Uint32Mask);t.writeUint32(e.id),t.writeUint32(e.key),t.writeUint32(e.index),t.writeUint32(n.length);for(var r=0,o=n;r<o.length;r++){var s=o[r];t.writeString(s),t.writeUint32(e.properties[s])}},e.deserialize=function(e){for(var t=[],n=new r.Reader(e),i=n.readUint32(),o=0;o<i;++o){for(var a=n.readUint32(),s=n.readUint32(),c=n.readUint32(),u=n.readUint32(),l={},p=0;p<u;++p){var d=n.readString(),h=n.readUint32();l[d]=h}t.push({id:a,key:s,index:c,properties:l})}return t},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);t.FormatConstructor=r.FormatConstructor},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(32),o=function(){function e(e){this.collapsedNodeToRecordMap={},this.recordMap={},this.nextRecordId=0,this.templateEnvironment=new i.TemplateEnvironment(e);var t=this.nextRecordId++;this.recordMap[t]=this.anyObjectFormatRecord={id:t,key:t,index:t,properties:{}}}return e.prototype.covert=function(e){var t=this.templateEnvironment.getTemplate(e).getHandle([]).collapsedNode,n=this.findRecordId(t);return this.recordMap[n]},e.prototype.getObjectFormatRecords=function(){var e=[];for(var t in this.recordMap)e.push(this.recordMap[t]);return e},e.prototype.findRecordId=function(e){if(e.types.some((function(e){return e===r.TypeEnum.Object}))){var t=this.collapsedNodeToRecordMap[e.id];if(!t){var n={id:this.nextRecordId++};this.collapsedNodeToRecordMap[e.id]=n,this.recordMap[n.id]=n,this.convertCollapsedNodeAndFillObjectFormatRecord(e,n),t=n}return t.id}return this.anyObjectFormatRecord.id},e.prototype.convertCollapsedNodeAndFillObjectFormatRecord=function(e,t){for(;e.handle;)e=e.handle.collapsedNode;var n=e.object,r={};for(var i in n.properties)r[i]=this.findRecordId(n.properties[i]);t.key=this.findRecordId(n.key),t.index=this.findRecordId(n.index),t.properties=r},e}();t.FormatConstructor=o},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(15),o=n(16),a=n(33),s=n(3),c=function(){function e(e){this.replaceReferenceType=e,this.templatesTable={}}return e.prototype.getTemplate=function(e){if(void 0===e.id)throw new s.FormatError("templateType don't have id");var t=this.templatesTable[e.id];return t||(t=new u(this,e),this.templatesTable[e.id]=t),t},e}();t.TemplateEnvironment=c;var u=function(){function e(e,t){this.templateEnvironment=e,this.templateType=t,this.handlesCache=[]}return e.prototype.getHandle=function(e){var t=this.getHandleByParams(e);if(!t){this.setHandleWithParams(t={state:i.HandleState.Indeterminate},r(e));var n=this.createCollapsedNode(e);t.collapsedNode=n,t.state=n.hasCircular?i.HandleState.Circular:i.HandleState.Noncircular}return t},e.prototype.createCollapsedNode=function(e){var t=new o.ExpandedExpressionGenerator(this.templateEnvironment,this.templateType,e).getExpandedExpression();return new a.CollapsedExpressionGenerator(t).getCollapsedExpression()},e.prototype.getHandleByParams=function(t){for(var n=0,r=this.handlesCache;n<r.length;n++){var i=r[n];if(e.isParamsEquals(i.params,t))return i.handle}},e.prototype.setHandleWithParams=function(e,t){if(this.handlesCache.length>=2500)throw new s.FormatError("the template's definition is divergence");this.handlesCache.push({handle:e,params:t})},e.isParamsEquals=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n){var r=e[n],i=t[n];if(r!==i){if(!("id"in r)||!("id"in i))return!1;if(r.id!==i.id)return!1}}return!0},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(15),a=n(3),s=n(16),c=function(){function e(e){this.rootExpandedNode=e}return e.generateId=function(){return""+this.nextId++},e.prototype.getCollapsedExpression=function(){return this.collapseNode(this.rootExpandedNode)},e.prototype.collapseNode=function(t){switch(t.clazz){case s.ExpandedNodeClass.Border:return{id:e.generateId(),hasCircular:!1,types:[t.type.typeEnum]};case s.ExpandedNodeClass.Object:return this.collapseObjectExpandedNode(t);case s.ExpandedNodeClass.Handle:return this.collapseHandleExpandedNode(t);case s.ExpandedNodeClass.Compound:return this.collapseCompoundExpandedNode(t,t.type.typeEnum)}},e.prototype.collapseObjectExpandedNode=function(t){var n=t.index,r=t.properties,o=this.collapseNode(t.key),a=this.collapseNode(n),s=o.hasCircular||a.hasCircular,c={};for(var u in r){var l=this.collapseNode(r[u]);c[u]=l,s=s||l.hasCircular}var p={key:o,index:a,properties:c};return this.isCollapsedObjectHasNeverPropertyTypes(p)?e.NeverCollapsedNode:{id:e.generateId(),hasCircular:s,types:[i.TypeEnum.Object],object:p}},e.prototype.collapseHandleExpandedNode=function(t){var n=t.handle;switch(n.state){case o.HandleState.Noncircular:return n.collapsedNode;case o.HandleState.Indeterminate:case o.HandleState.Circular:return{id:e.generateId(),hasCircular:!0,types:[i.TypeEnum.Object],handle:n}}},e.prototype.collapseCompoundExpandedNode=function(t,n){for(var r=[],s=0,c=t.children;s<c.length;s++)r.push(this.collapseNode(c[s]));if(0===r.length)return e.NeverCollapsedNode;if(1===r.length)return r[0];for(var u=0,l=r;u<l.length;u++){var p=l[u];if(p.handle&&p.handle.state===o.HandleState.Indeterminate)throw new a.FormatError('can not operate an indeterminate expression with "'+(n===i.TypeEnum.And?"&":"|")+'" sign')}return n===i.TypeEnum.And?this.pruneAndMergeNodes(r):this.flattenNodes(r)},e.prototype.pruneAndMergeNodes=function(t){var n=this.collectCrossTypeEnumsWith(t);if(0===n.length||n.find((function(e){return e===i.TypeEnum.Never})))return e.NeverCollapsedNode;var r=this.collectAllObjectCollapsedNodesIn(t);return this.handleObjectCollapsedNodesWithTypeEnums(r,n,i.TypeEnum.And)},e.prototype.flattenNodes=function(t){var n=this.collectUnionTypeEnumsWith(t);if(0===(n=n.filter((function(e){return e!==i.TypeEnum.Never}))).length)return e.NeverCollapsedNode;if(n.find((function(e){return e===i.TypeEnum.Any})))return{id:e.generateId(),hasCircular:!1,types:[i.TypeEnum.Any]};var r=this.collectAllObjectCollapsedNodesIn(t);return this.handleObjectCollapsedNodesWithTypeEnums(r,n,i.TypeEnum.Or)},e.prototype.collectCrossTypeEnumsWith=function(e){for(var t={},n=0,r=e;n<r.length;n++)for(var i=0,o=r[n].types;i<o.length;i++){var a=o[i];void 0===(u=t[a])&&(u=0),t[a]=u+1}var s=[];for(var c in t){var u;(u=t[c])===e.length&&s.push(c)}return s},e.prototype.collectUnionTypeEnumsWith=function(e){for(var t={},n=0,r=e;n<r.length;n++)for(var i=0,o=r[n].types;i<o.length;i++)t[o[i]]=!0;var a=[];for(var s in t)t[s]&&a.push(s);return a},e.prototype.collectAllObjectCollapsedNodesIn=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];(i.object||i.handle)&&t.push(i)}return t},e.prototype.handleObjectCollapsedNodesWithTypeEnums=function(t,n,o){if(0===t.length)return{id:e.generateId(),hasCircular:!1,types:n};if(1===t.length)return r(r({},t[0]),{id:e.generateId(),types:n});var s=[];if(t=t.filter((function(e){return!e.handle||(s.push(e),!1)})),s.length>=2)throw new a.FormatError("can not "+s.length+' circular expression with "'+(o===i.TypeEnum.And?"&":"|")+'" sign');t.push.apply(t,s);for(var c=t[0].object,u=1;u<t.length;++u){if(o===i.TypeEnum.And&&this.isCollapsedObjectHasNeverPropertyTypes(c))return e.NeverCollapsedNode;var l=this.getObjectFromObjectCollapsedNode(t[u]);c=o===i.TypeEnum.And?this.factorizeWithAndOperation(c,l):this.factorizeWithOrOperation(c,l)}return this.isCollapsedObjectHasNeverPropertyTypes(c)?e.NeverCollapsedNode:{id:e.generateId(),types:n,hasCircular:this.hasCircularIn(t),object:c}},e.prototype.getObjectFromObjectCollapsedNode=function(e){for(;;){if(e.object)return e.object;e=e.handle.collapsedNode}},e.prototype.hasCircularIn=function(e){for(var t=0,n=e;t<n.length;t++)if(n[t].hasCircular)return!0;return!1},e.prototype.factorizeWithAndOperation=function(e,t){var n=[],r=[],i=[];for(var o in e.properties)o in t.properties?n.push(o):r.push(o);for(var o in t.properties)o in e.properties||i.push(o);for(var a={},s=0,c=n;s<c.length;s++)a[o=c[s]]=this.pruneAndMergeNodes([e.properties[o],t.properties[o]]);for(var u=0,l=r;u<l.length;u++)a[o=l[u]]=e.properties[o];for(var p=0,d=i;p<d.length;p++)a[o=d[p]]=t.properties[o];return{key:this.pruneAndMergeKeyOrIndexNodes(e.key,t.key),index:this.pruneAndMergeKeyOrIndexNodes(e.index,t.index),properties:a}},e.prototype.factorizeWithOrOperation=function(e,t){var n=[];for(var r in e.properties)r in t.properties&&n.push(r);for(var i={},o=0,a=n;o<a.length;o++)i[r=a[o]]=this.flattenNodes([e.properties[r],t.properties[r]]);return{key:this.flattenNodesKeyOrIndexNodes(e.key,t.key),index:this.flattenNodesKeyOrIndexNodes(e.index,t.index),properties:i}},e.prototype.pruneAndMergeKeyOrIndexNodes=function(e,t){return this.isCollapsedNodeTypeEqual(e,i.TypeEnum.Undefined)?t:this.isCollapsedNodeTypeEqual(t,i.TypeEnum.Undefined)?e:this.pruneAndMergeNodes([e,t])},e.prototype.flattenNodesKeyOrIndexNodes=function(e,t){return this.isCollapsedNodeTypeEqual(e,i.TypeEnum.Undefined)?t:this.isCollapsedNodeTypeEqual(t,i.TypeEnum.Undefined)?e:this.flattenNodes([e,t])},e.prototype.isCollapsedObjectHasNeverPropertyTypes=function(e){if(this.isCollapsedNodeTypeEqual(e.key,i.TypeEnum.Never))return!0;if(this.isCollapsedNodeTypeEqual(e.index,i.TypeEnum.Never))return!0;for(var t in e.properties)if(this.isCollapsedNodeTypeEqual(e.properties[t],i.TypeEnum.Never))return!0;return!1},e.prototype.isCollapsedNodeTypeEqual=function(e,t){return 1===e.types.length&&e.types[0]===t},e.nextId=0,e.NeverCollapsedNode={id:e.generateId(),hasCircular:!1,types:[i.TypeEnum.Never]},e}();t.CollapsedExpressionGenerator=c}]))},function(e,t){e.exports=n("okNM")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.displayerContext=r.createContext(void 0),t.roomContext=r.createContext(void 0),t.playerContext=r.createContext(void 0),t.createWrappedComponent=function(e,t){var n=e.Provider;return function(e){return r.createElement(n,{value:t},e.children)}},t.DisplayerConsumer=t.displayerContext.Consumer,t.RoomConsumer=t.roomContext.Consumer,t.PlayerConsumer=t.playerContext.Consumer},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(1),a=n(4),s=n(10),c=n(2),u=n(46),l=n(51),p=n(52),d=n(53),h=n(5);!function(e){e.DisableCache="disableCache",e.StoreAsBlob="storeAsBlob",e.StoreAsBase64="storeAsBase64"}(r=t.AsyncModuleLoadMode||(t.AsyncModuleLoadMode={}));var f=r.StoreAsBase64,m=null;t.setAsyncModuleLoadMode=function(e){if(void 0===f)throw new Error("cannot set async module load mode after joined or replay any room");f=e},t.loadModules=function(e){return m||(m=function(e){var t,n;switch(e){case r.DisableCache:t=!1,n=!1;break;case r.StoreAsBlob:t=!0,n=!1;break;case r.StoreAsBase64:t=!0,n=!0}return d.defineModulesLoader({libName:h.environment.modules.identifier,timeout:12e4,cache:t,storeBase64:n,origin:h.environment.modules.origin,findPath:function(e){return"/dynamic-libraries/"+e+".js"},dependencies:{akko:i,boundless:o,mobx:a,"mobx-react":s,react:c,"netless-ppt":u,"url-parse":l,"textarea-caret-ts":p}})}(f),f=void 0),Promise.all([m.require(e,"white-model"),m.require(e,"white-render")]).then((function(e){return Object.freeze({WhiteModel:e[0],WhiteRender:e[1]})}))}},function(e,t){e.exports=n("SEu1")},function(e,t){e.exports=n("i8i4")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BecomeInactivityDuration=5600,t.KeepActiveMaxDistance=4,t.HoverMouseEventLimitTimeInterval=100,t.MaxMouseEventLimitTimeInterval=17,t.CustomEventLimitTimeInterval=75,t.TransformLimitTimeInterval=100},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.selector="selector",e.laserPointer="laserPointer",e.pencil="pencil",e.rectangle="rectangle",e.ellipse="ellipse",e.eraser="eraser",e.text="text",e.straight="straight",e.arrow="arrow",e.hand="hand"}(t.ApplianceNames||(t.ApplianceNames={})),function(e){e.None="none",e.Dir="dir",e.Page="page"}(t.ScenePathType||(t.ScenePathType={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(1),u=n(78),l=n(30),p=n(18),d=n(12),h=n(11),f=n(80),m=n(19),g=n(5),y=n(6),v=n(16);t.PathSegmentSeparator="/";var b=function(){function e(e){var t=this,n=e.logger,r=e.boundless,c=e.useMobXState,l=e.preloadDynamicPPT,p=e.userFonts,h=e.pptHandler,b=e.globalStateUpdater,A=e.screenType,x=e.cameraBound,w=e.renderEngine,_=e.autoResize,S=e.plugins,T=e.wrappedComponents,P=e.floatBarClass,C=e.completeImageUpload,E=e.willHideSelfCursor,k=e.disableCameraTransform,O=e.onlyCallbackRemoteStateModify,M=e.invisiblePlugins,N=e.handToolKey,I=e.fontFamily,D=e.disableOperations,R=e.cursorAdapter,j=e.eraserRadiusCursor,B=e.textareaHub,F=e.eventInterrupter,L=e.callbacks,U=e.urlInterrupter,z=e.onTextareaUpdate,V=e.userPayload,W=e.pptParams;this.magixEventsManager=new u.MagixEventsManager,this.active=void 0,this.divElement=null,this.beforeActiveProperties={},this.onHandToolActive=function(e){t.callbacks.dispatch("onHandToolActive",(function(t){return t(e)}))},this.updateCursorClassBySelector=function(e){if(t.applianceManager){var n=t.applianceManager.getMemberState();n&&n.currentApplianceName===v.ApplianceNames.selector&&t.updateCursorClass(e)}},this.libraryNodeFetcher=function(e){return i(t,void 0,void 0,(function(){var t,n,r;return o(this,(function(i){switch(i.label){case 0:return[4,d.loadModules(t=g.environment.modules.identifier+"/"+e.libIdentifier)];case 1:return n=i.sent(),r=n.WhiteModel.default,this.logger.info("load modules ",t),[2,Object.freeze({modules:n,libraryClass:r,appVersion:e.appVersion})]}}))}))},this.covertMemberDisplayerToMember=function(e){var n=e.information,r=n?n.session:"",i=n&&n.payload;return{memberId:e.memberId,memberState:t.memberState(e.memberId),session:r,payload:s.copy(i)}},this.logger=n,this.useMobXState=c,this.textareaHub=B,this.boundless=r,this.screenType=A,this.eraserRadiusCursor=j,this.autoResize=_,this.wrappedComponents=Object.freeze(a(T)),this.onlyCallbackRemoteStateModify=O,this.invisiblePluginNode=new m.InvisiblePluginNode(n,this,M),this.callbacks=new y.CallbacksImplement(L),this.activeDisplayerFactory=new f.ActiveDisplayerFactory({boundless:r,cameraBound:x,renderEngine:w,globalStateUpdater:b,pptHandler:h,userFonts:p,fontFamily:I,preloadDynamicPPT:l,cursorAdapter:R,autoResize:_,plugins:S,floatBarClass:P,wrappedComponents:this.createWrappedComponents(),pluginOperator:this.createPluginOperator(),disableOperations:D,willHideSelfCursor:E,handToolKey:N,eventInterrupter:F,urlInterrupter:U,onTextareaUpdate:z,updateCursorClass:this.updateCursorClassBySelector,completeImageUpload:C,logger:n,textareaHub:B,userPayload:V,pptParams:W,onScreenSizeUpdated:function(e){return t.onScreenSizeUpdated(e)},onPPTLoadProgress:function(e,n){return t.callbacks.dispatch("onPPTLoadProgress",(function(t){return t(e,n)}))},onPPTMediaPause:function(e,n){return t.callbacks.dispatch("onPPTMediaPause",(function(t){return t(e,n)}))},onPPTMediaPlay:function(e,n){return t.callbacks.dispatch("onPPTMediaPlay",(function(t){return t(e,n)}))}}),void 0!==k&&(this.beforeActiveProperties.disableCameraTransform=k)}return Object.defineProperty(e.prototype,"enableWriteNow",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"deviceType",{get:function(){return this.boundless.deviceType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"observerId",{get:function(){return this.active?this.active.observerId:s.AdminObserverId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handToolActive",{get:function(){return!!this.active&&this.active.cameraman.handToolActive},set:function(e){if(this.active){var t=this.handToolActive;this.active.cameraman.handToolActive=e,t!==e&&this.onlyCallbackRemoteStateModify&&this.callbacks.dispatch("onHandToolActive",(function(t){return t(e)}))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handToolKey",{get:function(){return this.active?this.active.cameraman.handToolKey:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableCameraTransform",{get:function(){return this.active?this.active.cameraman.disableCameraTransform:!!this.beforeActiveProperties.disableCameraTransform},set:function(e){this.active?this.active.cameraman.disableCameraTransform=e:this.beforeActiveProperties.disableCameraTransform=e},enumerable:!0,configurable:!0}),e.prototype.onScreenSizeUpdated=function(e){},Object.defineProperty(e.prototype,"cameraman",{get:function(){return this.active.cameraman},enumerable:!0,configurable:!0}),e.prototype.createWrappedComponents=function(){return a(this.wrappedComponents,[h.createWrappedComponent(h.displayerContext,this)])},e.prototype.createPluginOperator=function(){return Object.freeze({remove:function(){throw new Error("it is not a writable room")},update:function(){throw new Error("it is not a writable room")}})},e.prototype.setPlayerState=function(e){this.active?this.active.setPlayerState(e):this.beforeActiveProperties.playerState=r(r({},this.beforeActiveProperties.playerState),e)},e.prototype.setForcePPTLandscape=function(e){if(this.active){var t=this.active.screen;t.context.forcePPTLandscape!==e&&(t.context=Object.freeze(r(r({},t.context),{forcePPTLandscape:e})))}},e.prototype.bindHtmlElement=function(e){this.divElement=e,this.active&&(this.active.screen.divElement=e,this.refreshViewSize())},e.prototype.scalePptToFit=function(e){void 0===e&&(e=c.AnimationMode.Continuous);var t=this.state.sceneState.scenes[this.state.sceneState.index];t.ppt&&this.moveCameraToContain({originX:-t.ppt.width/2,originY:-t.ppt.height/2,width:t.ppt.width,height:t.ppt.height,animationMode:e})},e.prototype.scenePathType=function(e){var n=e.replace(/\/$/g,"").split(t.PathSegmentSeparator);n.shift();var r=this.applianceManager.scenes.findSceneOrGroup(n);return void 0===r?v.ScenePathType.None:s.isInstanceOf(r,this.active.modules.WhiteModel.SceneNode)?v.ScenePathType.Page:v.ScenePathType.Dir},e.prototype.entireScenes=function(){for(var e=this.applianceManager,n={},r=0,i=s.copy(e.getAllScenePaths());r<i.length;r++){var o=i[r],a=s.copy(e.getScene(o)),c=o.slice(0,-1),u=""+t.PathSegmentSeparator+c.join(t.PathSegmentSeparator);n[u]=n[u]||[],a&&n[u].push(a)}return n},e.prototype.refreshViewSize=function(){this.active&&!this.autoResize&&this.active.resizeScreen()},e.prototype.setCameraBound=function(e){this.active?this.active.setCameraBound(e):this.beforeActiveProperties.cameraBound=e},e.prototype.moveCamera=function(e){if(this.active){var t=e.animationMode||c.AnimationMode.Continuous;this.active.cameraman.transformCamera(r(r({},e),{animationMode:t}))}else this.beforeActiveProperties.cameraMoving={camera:e}},e.prototype.moveCameraToContain=function(e){if(this.active){var t=e.animationMode||c.AnimationMode.Continuous;this.active.cameraman.adaptRectangle(r(r({},e),{animationMode:t,adapterMode:c.RectangleAdapterMode.Centering}))}else this.beforeActiveProperties.cameraMoving={toContaint:e}},e.prototype.updateCursorClass=function(e){this.active?this.active.screen.className=null!==e?"netless-whiteboard "+e:"netless-whiteboard":this.beforeActiveProperties.cursorClass=e},e.prototype.setEraserRadius=function(e){this.active&&(this.active.screen.style=0===e?void 0:{cursor:this.eraserRadiusCursor.cursorStyle(e)})},e.prototype.getCurrentSceneState=function(){for(var e,t=this.applianceManager,n=s.copy(t.getCurrentScenePath()),r=p.scenePathConverter.stringify(n),i=n.pop(),o=t.getSceneNames(n),c=p.scenePathConverter.stringify(n),u=[],l=Number.NaN,d=0;d<o.length;++d){var h=t.getScene(a(n,[o[d]]));(null===(e=h)||void 0===e?void 0:e.name)===i&&(l=d),u[d]=s.copy(h)}return{sceneName:i,scenePath:r,contextPath:c,scenes:u,index:l}},Object.defineProperty(e.prototype,"dynamicPpt",{get:function(){return this.active.dynamicPpt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.active.screen},enumerable:!0,configurable:!0}),e.prototype.assignAttributes=function(e,t){return this.active.assignAttributes(e,t)},Object.defineProperty(e.prototype,"hasLibraryNode",{get:function(){return!!this.active},enumerable:!0,configurable:!0}),e.prototype.updateLibraryNode=function(e){this.active&&this.active.release(),this.active=this.activeDisplayerFactory.create(e.appVersion,this.active,this.applianceManager,e.modules),this.divElement&&(this.active.screen.divElement=this.divElement,this.refreshViewSize()),this.beforeActiveProperties&&(this.cleanBeforeActiveProperties(this.beforeActiveProperties),this.beforeActiveProperties=null),this.invisiblePluginNode.fireLibraryNodeUpdate()},e.prototype.cleanBeforeActiveProperties=function(e){void 0!==e.playerState&&this.setPlayerState(e.playerState),void 0!==e.disableCameraTransform&&(this.disableCameraTransform=e.disableCameraTransform),void 0!==e.cursorClass&&this.updateCursorClass(e.cursorClass),void 0!==e.cameraBound&&this.setCameraBound(e.cameraBound),void 0!==e.cameraMoving&&(e.cameraMoving.camera?this.moveCamera(e.cameraMoving.camera):e.cameraMoving.toContaint&&this.moveCameraToContain(e.cameraMoving.toContaint))},e.prototype.refreshRender=function(){this.active&&this.active.refreshRender()},e.prototype.dispose=function(){this.active&&(this.active.cameraman.release(),this.active.release()),this.eraserRadiusCursor.release(),this.invisiblePluginNode.dispose()},e.prototype.setObserverId=function(e){this.active.setObserverId(e)},e.prototype.scenePreview=function(e,t,n,r){this.active&&this.active.scenePreview(e,t,n,r)},e.prototype.generateScreenshot=function(e,t,n){return i(this,void 0,void 0,(function(){return o(this,(function(r){switch(r.label){case 0:return this.active?[4,this.active.generateScreenshot(e,t,n)]:[3,2];case 1:return[2,r.sent()];case 2:return[2,l.generateEmptyImage(1,1)]}}))}))},e.prototype.fillSceneSnapshot=function(e,t,n,r){this.active&&this.active.fillSceneSnapshot(e,t,n,r)},e.prototype.convertToPointInWorld=function(e){return this.active?this.active.screen.convertPointToScene(e.x,e.y):{x:e.x,y:e.y}},e.prototype.dispatchMagixEventWithObject=function(e){this.magixEventsManager.dispatchMagixEvent(e)},e.prototype.getTargetsMap=function(e,t){return this.active&&this.active.getTargetsMap(e,t)},e.prototype.getHitTestIdentifies=function(e,t){return this.active.screen.hitTest(e.x,e.y,t)},e.prototype.addMagixEventListener=function(e,t,n){void 0===n?this.magixEventsManager.addMagixEventListener(e,t):(n<500&&(this.logger.warn("fireInterval "+n+"ms of event "+JSON.stringify(e)+" can't less than 500ms, it's will be reset as 500ms"),n=500),this.magixEventsManager.addMagixEventsListener(e,t,n))},e.prototype.removeMagixEventListener=function(e,t){this.magixEventsManager.removeMagixEventListener(e,t)},e.prototype.waitMagixEvent=function(e){return this.magixEventsManager.waitMagixEvent(e)},e}();t.DisplayerImplement=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.parse=function(e){var t=e.split("/");if(""!==t[0])throw new Error("path "+JSON.stringify(e)+' should start with "/"');""===t[t.length-1]&&t.pop();for(var n=[],r=1;r<t.length;++r)n.push(t[r].trim());return n},e.prototype.stringify=function(e){return"/"+e.join("/")},e}();t.ScenePathConverter=r,t.scenePathConverter=new r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);t.createPlugins=r.createPlugins,t.PluginsImplement=r.PluginsImplement;var i=n(89);t.InvisiblePlugin=i.InvisiblePlugin,t.InvisiblePluginNode=i.InvisiblePluginNode},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(2),s=n(36);!function(e){e[e.Normal=0]="Normal",e[e.Hover=1]="Hover",e[e.Pressed=2]="Pressed",e[e.Disable=3]="Disable"}(o=t.ButtonPhase||(t.ButtonPhase={})),t.buttonIconURL=function(e,t){var n;switch(e){case o.Normal:n="";break;case o.Hover:n="-hover";break;case o.Pressed:n="-pressed";break;case o.Disable:n="-disabled"}return s.iconURL(t+n)};var c=function(e){function t(t){var n=e.call(this,t)||this;return n.didUnmount=!1,n.onMouseDown=function(e){if(0===e.button){n.setState({isPressed:!0});document.body.addEventListener("mouseup",(function e(t){0===t.button&&(document.body.removeEventListener("mouseup",e),n.didUnmount||n.setState({isPressed:!1}))}))}},n.state={isHover:!1,isPressed:!1},n}return i(t,e),t.prototype.componentWillUnmount=function(){this.didUnmount=!0},t.prototype.render=function(){var e=this,t="button";return void 0!==this.props.className&&(t+=" "+this.props.className),a.createElement("div",{className:t,ref:this.props.refObject,onMouseEnter:function(){return e.setState({isHover:!0})},onMouseLeave:function(){return e.setState({isHover:!1})},onMouseDown:this.onMouseDown,onClick:this.props.onClick},this.props.children(this.props.disable?o.Disable:this.state.isPressed?o.Pressed:this.state.isHover?o.Hover:o.Normal))},t}(a.Component);t.Button=c},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=23)}([function(e,t){e.exports=n(9)},function(e,t){e.exports=n(3)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(25);r(n(10)),r(n(27)),r(n(29)),t.createFrameSerialization=function(e,t){return new i.FrameSerializationImplement(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(33)),t.contextStack=new r.ContextStackImplement},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(42)),r(n(43)),r(n(44)),r(n(45)),r(n(46))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(53)),r(n(54))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(34)),r(n(7)),r(n(35)),r(n(36))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){};t.isAkkoDecorator=function(e){return e instanceof r},t.createDecorator=function(e){var t=function(e,t,n){return n};return Object.setPrototypeOf(t,r.prototype),Object.defineProperty(t,"payload",{enumerable:!0,configurable:!1,writable:!1,value:e}),t}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(39)),r(n(40)),r(n(13)),r(n(14)),r(n(49))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(41))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Invoker=0]="Invoker",e[e.Event=1]="Event",e[e.Ack=2]="Ack",e[e.Enter=3]="Enter",e[e.Leave=4]="Leave"}(r=t.ActionFrameType||(t.ActionFrameType={})),t.isInvokerFrame=function(e){return e.type===r.Invoker},t.isEventFrame=function(e){return e.type===r.Event},t.isEnterFrame=function(e){return e.type===r.Enter},t.isLeaveFrame=function(e){return e.type===r.Leave},function(e){e[e.System=0]="System",e[e.App=1]="App",e[e.Custom=2]="Custom",e[e.Magix=3]="Magix"}(t.EventScope||(t.EventScope={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(57)),r(n(58)),r(n(59)),r(n(60)),r(n(61)),r(n(15)),r(n(62)),r(n(63)),r(n(64))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(37)),r(n(38))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(4),a=n(9),s=function(){function e(e){this.base64Parser=new o.Base64Parser(e)}return e.prototype.create=function(e){if(this.isSupportAkkoVersion(e.akkoVersion))throw new r.RuntimeError("can't find superClass");var t=this.createFormat(e.formatBase64),n=this.createClassReflections(t,e.rootConstructor,e.classDeclarations),i=this.createObjectFormatToClassMap(n);return new c(e.appIdentifier,e.appVersion,e.formatHash,e.akkoVersion,e.rootConstructor,(function(e){return i[e]}),t,n)},e.prototype.isSupportAkkoVersion=function(e){var t=r.AkkoVersion.split("."),n=e.split(".");return!(n.length<2||t[0]!==n[0]||t[1]!==n[1]||t.length>=3&&!(t[2]>=n[3]))},e.prototype.createFormat=function(e){var t=new i.FormatFactory,n=this.base64Parser.parse(e);return t.createWithBuffer(n)},e.prototype.createClassReflections=function(e,t,n){var i={};for(var o in n){var s=n[o],c=s.clazz,u=c===t,l=this.searchThisAndSuperClassDeclarations(s,n),p=l[0],d=l.slice(1),h=new a.ClassReflectionImplement(e,u,p,d);if(void 0!==Object.getOwnPropertyDescriptor(c,a.ClassReflectionName))throw new r.RuntimeError("class "+c.name+' has defined  reserved word static property "'+a.ClassReflectionName);Object.defineProperty(c,a.ClassReflectionName,{value:h,writable:!1,configurable:!1}),i[o]=h}return Object.freeze(i)},e.prototype.createObjectFormatToClassMap=function(e){var t={};for(var n in e){var r=e[n];t[r.objectFormat.id]=r.clazz}return Object.freeze(t)},e.prototype.searchThisAndSuperClassDeclarations=function(e,t){for(var n=[];n.push(e),e.superClass&&e.superClass!==Object;)e=this.findClassDeclarationsWithConstructor(e.superClass,t);return n},e.prototype.findClassDeclarationsWithConstructor=function(e,t){for(var n in t){var i=t[n];if(i.clazz===e)return i}throw new r.RuntimeError("can't find superClass")},e}();t.LibraryFactory=s;var c=function(){function e(e,t,n,r,i,o,a,s){this.appIdentifier=e,this.appVersion=t,this.appHash=n,this.akkoVersion=r,this.rootClass=i,this.covertObjectFormatIdToClass=o,this.format=a,this.classReflections=s}return e.prototype.classReflection=function(e){var t=this.classReflections[e];if(!t)throw new Error("can't find class with id "+e);return t},e}();t.Library=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=void 0;r.contextStack.addListener((function(e,t){i=t?e.coreFunctions.creator:void 0})),t.AkkoObject=function(){if(!i){var e=this.constructor&&this.constructor.name;throw e?new Error("can't construct "+e+" out of Magix, it's an AkkoObject"):new Error("can't construct an AkkoObject out of Magix")}i(this)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Readonly=0]="Readonly",e[e.Writable=1]="Writable"}(t.AccessUpdaterKind||(t.AccessUpdaterKind={})),t.getKindWithAccessUpdaterBuffer=function(e){return e.getUint8(0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=function(){function e(e,t,n){this.nextFrameId=0,this.userId=e,this.scopeStorage=t,this.nextFrameId=n}return e.prototype.createFrameId=function(){return this.nextFrameId++},e.prototype.appendScopeSlices=function(e){for(var t=0,n=e;t<n.length;t++)this.scopeStorage.appendScopeSlice(n[t])},e.prototype.allocateIdentifierGenerator=function(){var e=this.scopeStorage.allocScopeId();if(void 0===e)throw new r.RuntimeError("run out of scope ID");return i.createIdentifierGenerator(e)},e}();t.ImageAuthor=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(4),a=n(8),s=n(2),c=function(){function e(e,t,n,r){this.objectOperator=t,this.proxyFrameHandler=n,this.deserializerVersion=r;var o=a.getClassReflection(e.rootClass),c=new i.Serialization({format:e.format,objectAdapter:new s.ParamsObjectAdapter});this.flatFrameSerialization=s.createFrameSerialization(c,o)}return e.prototype.deserialize=function(e,t){var n,r;try{s.ParamsObjectAdapter.startCollection(),n=this.flatFrameSerialization.deserializeActionFrame(e,this.deserializerVersion,t)}finally{r=s.ParamsObjectAdapter.completeCollection()}for(var i=0,o=r;i<o.length;i++)Object.freeze(o[i]);return n},e.prototype.serialize=function(e,t,n){var i=new o.ObjectLikeBinder(e,this.objectOperator);try{this.replaceWithBindsActionFrame(i,t);var a=r(r({},t),{beginObjectId:e.createdCount});return this.flatFrameSerialization.serializeActionFrame(a,n)}finally{i.complete()}},e.prototype.getIllusionFrameResult=function(e){return{frameBuffer:e,illusionFrame:this.proxyFrameHandler.deserializeActionFrame(e,this.deserializerVersion,!0)}},e.prototype.replaceWithBindsActionFrame=function(e,t){if(s.isEventFrame(t))e.bind(t.payload);else if(s.isInvokerFrame(t))for(var n=0,r=t.parameters;n<r.length;n++)e.bind(r[n]);else s.isEnterFrame(t)?(e.bind(t.userPayload),e.bind(t.connectedPayload)):s.isLeaveFrame(t)&&e.bind(t.payload)},e}();t.ActionFrameHelper=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(11),o=n(16),a=function(){function e(e,t){if(this.users={},this._usersCount=0,this.paddingImageCreatingTask=null,this.proxyRuntime=e,t)for(var n=0,i=t;n<i.length;n++){var o=i[n];this.users[o.userId]={userId:o.userId,nextFrameId:o.nextFrameId,session:o.session,payload:o.payload},this._usersCount++}else this.users[r.AdminObserverId]={userId:r.AdminObserverId,nextFrameId:0,session:"",payload:void 0},this._usersCount++}return e.prototype.hasUser=function(e){return e in this.users},Object.defineProperty(e.prototype,"userIds",{get:function(){var e=[];for(var t in this.users)e.push(parseInt(t));return e.sort()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"usersCount",{get:function(){return this._usersCount},enumerable:!0,configurable:!0}),e.prototype.user=function(e,t){var n=this.users[e];if(n){var r=n.payload;return t||(r=this.proxyRuntime.objectOperator.wrapDisplayer(this.proxyRuntime,r)),{userId:e,session:n.session,payload:r}}},e.prototype.snapshotUsers=function(){for(var e=[],t=0,n=this.userIds;t<n.length;t++){var r=n[t],i=this.users[r];e.push({userId:r,nextFrameId:i.nextFrameId,session:i.session,payload:i.payload})}return e},e.prototype.createImageAuthor=function(e){var t=this,n=this.users[e.userId];if(n){var r=new i.ScopeStorage(e.initializeSlices),a=new o.ImageAuthor(e.userId,r,n.nextFrameId);return Promise.resolve(a)}return new Promise((function(n){t.paddingImageCreatingTask={allocatedUser:e,resolve:n}}))},e.prototype.cancelImageAuthorCreating=function(){this.paddingImageCreatingTask&&(this.paddingImageCreatingTask.resolve(null),this.paddingImageCreatingTask=null)},e.prototype.updateUserNextFrameId=function(e,t){var n=this.users[e];n&&(n.nextFrameId=t)},e.prototype.userEnter=function(e,t,n,r){if(e in this.users||this._usersCount++,this.users[e]={userId:e,nextFrameId:t,session:n,payload:r},this.paddingImageCreatingTask){var a=this.paddingImageCreatingTask.allocatedUser;if(a.userId===e){var s=new i.ScopeStorage(a.initializeSlices),c=new o.ImageAuthor(e,s,t);this.paddingImageCreatingTask.resolve(c),this.paddingImageCreatingTask=null}}this.proxyRuntime.reportUsersChanged(this._usersCount)},e.prototype.userLeave=function(e){e in this.users&&(this._usersCount--,delete this.users[e]),this.proxyRuntime.reportUsersChanged(this._usersCount)},e}();t.ImageUsers=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e,t,n){this.author=e,this.actionFrameHelper=t,this.includesFrameHash=n}return e.prototype.appendScopeSlices=function(e){this.author.appendScopeSlices(e)},e.prototype.createIllusionEventFrame=function(e,t,n,r){var i=this.createEventFrame(e,t,n,r);return this.actionFrameHelper.getIllusionFrameResult(i)},e.prototype.createIllusionInvokerFrame=function(e,t,n,r){var i=this.createInvokerFrame(e,t,n,r);return this.actionFrameHelper.getIllusionFrameResult(i)},e.prototype.createEventFrame=function(e,t,n,i){var o=this.author.createFrameId();return this.actionFrameHelper.serialize(i,{frameId:o,originalFrameId:o,timestamp:n,authorId:this.author.userId,type:r.ActionFrameType.Event,scopeId:i.scopeId,beginObjectId:0,event:e,payload:t,scope:r.EventScope.Custom},this.includesFrameHash)},e.prototype.createInvokerFrame=function(e,t,n,i){var o=this.author.createFrameId();return this.actionFrameHelper.serialize(i,{frameId:o,originalFrameId:o,timestamp:n,authorId:this.author.userId,type:r.ActionFrameType.Invoker,scopeId:i.scopeId,beginObjectId:0,methodId:e,parameters:t},this.includesFrameHash)},e}();t.IllusionFrameGenerator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(11),a=n(21),s=n(72),c=n(18);!function(e){e.Real="real",e.Illusion="illusion"}(t.ImagePhase||(t.ImagePhase={}));var u=function(){function e(e){this.proxyManager=e}return e.prototype.createAccessUpdaterSerialization=function(e){return new o.AccessUpdaterSerialization(this.proxyManager.objectOperator,e)},e.prototype.createWithParameters=function(t){var n=this.findOriginProxyRuntime(t),r=this.proxyManager.createProxyRuntime(t.library,n),i=new c.ImageUsers(r),o=Date.now();r.setupWithParameters(t.constructorScopeId,t.args,o,{logger:t.logger,imageUsers:i,snapshotManager:a.createSnapshotManager(t.library,t.roomUUID),toolsExtra:t.toolsExtra});var u=new s.ImageImplement({frameId:0,timestamp:o,library:t.library,logger:t.logger,proxyRuntime:r,actionFrames:[],imageUsers:i,strategy:e.wrapStrategy(t),callbacks:t.callbacks});return n?r.rootObject.initializeWithOriginRootObject(n.rootObject):r.rootObject.initialize(),u},e.prototype.createWithSnapshot=function(t){var n=this.findOriginProxyRuntime(t),o=this.proxyManager.createProxyRuntime(t.library,n),u=t.snapshotDeserializerVersion;void 0===u&&(u=r.convertToAkkoSerVersion(i.AkkoVersion));var l=o.frameHandler.deserializeSnapshotFrame(t.snapshotFrame,u,t.ignoreHashChecking),p=l.rootObject,d=new c.ImageUsers(o,l.users);o.setupWithRootObject(p,{logger:t.logger,imageUsers:d,snapshotManager:a.createSnapshotManager(t.library,t.roomUUID),toolsExtra:t.toolsExtra});var h=new s.ImageImplement({frameId:l.frameId,timestamp:l.timestamp,library:t.library,logger:t.logger,actionFrames:t.actionFrames,proxyRuntime:o,imageUsers:d,strategy:e.wrapStrategy(t),callbacks:t.callbacks});return n?o.rootObject.initializeWithOriginRootObject(n.rootObject):o.rootObject.initialize(),h},e.wrapStrategy=function(e){var t=e.actionDeserializerVersion;return void 0===t&&(t=r.convertToAkkoSerVersion(i.AkkoVersion)),Object.freeze({roomUUID:e.roomUUID,ignoreHashChecking:e.ignoreHashChecking,includesFrameHash:e.includesFrameHash,deserializerVersion:t})},e.prototype.findOriginProxyRuntime=function(e){var t=e.originalImage;return t?t.proxyRuntime:void 0},e}();t.ImageFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(67))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.idGeneratorWithFrame=function(e){return void 0===e.beginGenerationId?r.createIdentifierGenerator(e.scopeId,e.beginObjectId):r.createV0IdentifierGenerator(e.authorId,e.beginGenerationId)}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(24)),r(n(50));var i=n(5);t.CoreFunctionsMode=i.CoreFunctionsMode,t.ObjectKind=i.ObjectKind,t.DisplayerPhase=i.DisplayerPhase;var o=n(55);t.UpdateEventKind=o.UpdateEventKind;var a=n(8);t.__context=a.__context,t.isAkkoObject=a.isAkkoObject,t.getEnvironment=a.getEnvironment,t.getCurrentTimestamp=a.getCurrentTimestamp,t.getAuthorId=a.getAuthorId,t.hasUser=a.hasUser,t.getUsersCount=a.getUsersCount,t.getUser=a.getUser,t.getUserIds=a.getUserIds,t.getSnapshot=a.getSnapshot,t.getClassReflection=a.getClassReflection,t.getLibrary=a.getLibrary,t.AkkoObject=a.AkkoObject,t.Library=a.Library,t.Environment=a.Environment;var s=n(2);t.createFrameSerialization=s.createFrameSerialization,t.translateToAckFrame=s.translateToAckFrame,t.FramePicker=s.FramePicker,t.ActionFrameType=s.ActionFrameType,t.EventScope=s.EventScope;var c=n(11);t.socketFactory=c.socketFactory,t.serializeAllocatedUser=c.serializeAllocatedUser,t.serializeSessionBuild=c.serializeSessionBuild,t.getKindWithAccessUpdaterBuffer=c.getKindWithAccessUpdaterBuffer,t.deserializeScopeSlices=c.deserializeScopeSlices,t.deserializeAllocatedUser=c.deserializeAllocatedUser,t.deserializeSessionBuild=c.deserializeSessionBuild,t.deserializeOnlineState=c.deserializeOnlineState,t.serializeOnlineState=c.serializeOnlineState,t.serializeScopeSlices=c.serializeScopeSlices,t.AccessUpdaterSerialization=c.AccessUpdaterSerialization,t.LibraryDescriptionSerialization=c.LibraryDescriptionSerialization,t.AccessUpdaterKind=c.AccessUpdaterKind,t.SocketErrorCode=c.SocketErrorCode,t.ScopeStorage=c.ScopeStorage;var u=n(66);t.ImageUsers=u.ImageUsers,t.ImageFactory=u.ImageFactory,t.ImagePhase=u.ImagePhase,t.IllusionFrameGenerator=u.IllusionFrameGenerator,t.ActionFrameHelper=u.ActionFrameHelper,t.ImageAuthor=u.ImageAuthor;var l=n(3);t.contextStack=l.contextStack,t.ForwardMode=l.ForwardMode;var p=n(9);t.ClassReflectionName=p.ClassReflectionName;var d=n(6);t.event=d.event,t.isAkkoDecorator=d.isAkkoDecorator,t.isEventPayload=d.isEventPayload,t.noEffects=d.noEffects,t.transient=d.transient;var h=n(21);t.createSnapshotManager=h.createSnapshotManager;var f=n(4);t.wrapCallbacks=f.wrapCallbacks,t.PhaseNode=f.PhaseNode;var m=n(12);t.getEventWithDescription=m.getEventWithDescription,t.Scope=m.Scope,t.EventPhase=m.EventPhase;var g=n(76);t.createClassStaticMethods=g.createClassStaticMethods,t.ArrayMethodDescriptions=g.ArrayMethodDescriptions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.AdminObserverId=r.AdminObserverId;var i=n(1);t.isBuffer=i.isBuffer,t.createBuffer=i.createBuffer;var o=n(2);t.EventScope=o.EventScope;var a=n(30);t.getResource=a.getResource;var s=n(6);t.event=s.event,t.noEffects=s.noEffects,t.transient=s.transient;var c=n(8);t.__context=c.__context,t.getEnvironment=c.getEnvironment,t.getCurrentTimestamp=c.getCurrentTimestamp,t.getAuthorId=c.getAuthorId,t.hasUser=c.hasUser,t.getUsersCount=c.getUsersCount,t.getUser=c.getUser,t.getUserIds=c.getUserIds,t.getSnapshot=c.getSnapshot,t.Environment=c.Environment},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(26),a=n(10),s=function(){function e(e,t){var n=e.format.anyObjectFormat;this.serialization=e,this.rootClassReflection=t,this.rootObjectFormats=Object.freeze([this.rootClassReflection.objectFormat]),this.oneAnyObjectFormats=Object.freeze([n]),this.twoAnyObjectFormats=Object.freeze([n,n])}return e.prototype.serializeSnapshotFrame=function(e){var t=new i.Writer;return this.serializeFrameHeader(t,e),this.serializeUsers(t,e.users),this.serialization.serialize({writer:t,values:[e.rootObject],objectFormats:this.rootObjectFormats,includesHash:!0}),t.toBuffer()},e.prototype.serializeUsers=function(e,t){var n=[this.serialization.format.anyObjectFormat];e.writeUint32(t.length);for(var r=0,i=t;r<i.length;r++){var o=i[r];e.writeUint32(o.userId),e.writeUint32(o.nextFrameId),e.writeString(o.session),this.serialization.serialize({writer:e,values:[o.payload],objectFormats:n,includesHash:!0})}},e.prototype.deserializeSnapshotFrame=function(e,t,n){var a,s=new i.Reader(e),c=this.deserializeFrameHeader(s);a=t!==i.AkkoSerVersion.V0?this.deserializeUsers(s,t,n):o.deserializeLegacyIdentifierContext(s);var u=this.serialization.deserialize({reader:s,objectFormats:this.rootObjectFormats,ignoreHashChecking:n,version:t})[0];return r(r({},c),{users:a,rootObject:u})},e.prototype.deserializeUsers=function(e,t,n){for(var r=e.readUint32(),i=[],o=[this.serialization.format.anyObjectFormat],a=0;a<r;++a){var s=e.readUint32(),c=e.readUint32(),u=e.readString(),l=this.serialization.deserialize({reader:e,objectFormats:o,ignoreHashChecking:n,version:t})[0];i.push({userId:s,nextFrameId:c,session:u,payload:l})}return Object.freeze(i)},e.prototype.serializeActionFrame=function(e,t){var n=new i.Writer;return this.serializeFrameHeader(n,e),n.writeUint8(e.type),n.writeInt53(e.scopeId),n.writeInt53(e.beginObjectId),a.isInvokerFrame(e)?(n.writeUint32(e.methodId),this.serialization.serialize({writer:n,values:e.parameters,objectFormats:this.rootClassReflection.methods[this.rootClassReflection.methodNames[e.methodId]].parameterFormatObjects,includesHash:t})):a.isEventFrame(e)?(n.writeUint8(e.scope),n.writeString(e.event),this.serialization.serialize({writer:n,values:[e.payload],objectFormats:this.oneAnyObjectFormats,includesHash:t})):a.isEnterFrame(e)?(n.writeString(e.session),this.serialization.serialize({writer:n,values:[e.userPayload,e.connectedPayload],objectFormats:this.twoAnyObjectFormats,includesHash:t})):a.isLeaveFrame(e)&&this.serialization.serialize({writer:n,values:[e.payload],objectFormats:this.oneAnyObjectFormats,includesHash:t}),n.toBuffer()},e.prototype.deserializeActionFrame=function(e,t,n){var o=new i.Reader(e),s=this.deserializeFrameHeader(o),c=o.readUint8(),u=0,l=0,p=void 0;switch(t!==i.AkkoSerVersion.V0&&(u=o.readInt53(),l=o.readInt53()),c){case a.ActionFrameType.Invoker:var d=o.readUint32(),h=this.serialization.deserialize({reader:o,objectFormats:this.rootClassReflection.methods[this.rootClassReflection.methodNames[d]].parameterFormatObjects,ignoreHashChecking:n,version:t});return t===i.AkkoSerVersion.V0&&(p=o.readBigInt()),r(r({},s),{type:c,scopeId:u,beginObjectId:l,beginGenerationId:p,methodId:d,parameters:h});case a.ActionFrameType.Event:var f=o.readUint8(),m=o.readString(),g=this.serialization.deserialize({reader:o,objectFormats:this.oneAnyObjectFormats,ignoreHashChecking:n,version:t})[0];return t===i.AkkoSerVersion.V0&&(p=o.readBigInt()),r(r({},s),{type:c,scopeId:u,beginObjectId:l,beginGenerationId:p,scope:f,event:m,payload:g});case a.ActionFrameType.Ack:return r(r({},s),{type:c,scopeId:u,beginObjectId:l});case a.ActionFrameType.Enter:var y=o.readString(),v=this.serialization.deserialize({reader:o,objectFormats:this.twoAnyObjectFormats,ignoreHashChecking:n,version:t}),b=v[0],A=v[1];return r(r({},s),{type:c,scopeId:u,beginObjectId:l,session:y,userPayload:b,connectedPayload:A});case a.ActionFrameType.Leave:return g=this.serialization.deserialize({reader:o,objectFormats:this.oneAnyObjectFormats,ignoreHashChecking:n,version:t})[0],r(r({},s),{type:c,scopeId:u,beginObjectId:l,payload:g})}},e.prototype.serializeFrameHeader=function(e,t){e.writeUint32(t.frameId),e.writeUint32(t.originalFrameId),e.writeInt53(t.timestamp),e.writeUint32(t.authorId)},e.prototype.deserializeFrameHeader=function(e){return{frameId:e.readUint32(),originalFrameId:e.readUint32(),timestamp:e.readInt53(),authorId:e.readUint32()}},e}();t.FrameSerializationImplement=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeLegacyIdentifierContext=function(e){for(var t=e.readInt32(),n=(e.readInt32(),[]),r=0;r<t;++r){var i=e.readUint32();n.push({userId:i,nextFrameId:0,session:"",payload:void 0})}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(10),o=n(28);function a(e,t){var n=e.getInt32(t);return e.getInt32(t+4)*o.Pow32+n}t.translateToAckFrame=function(e){for(var t=new r.Reader(e),n=new r.Writer,o=0;o<20;++o)n.writeUint8(t.readUint8());return n.writeUint8(i.ActionFrameType.Ack),n.toBuffer()};var s=function(){function e(e){if(e.byteLength<20)throw new Error("Buffer is to short");this.frameBuffer=e}return Object.defineProperty(e.prototype,"frameId",{get:function(){return this.frameBuffer.getUint32(0)},set:function(e){this.frameBuffer.setUint32(0,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originalFrameId",{get:function(){return this.frameBuffer.getUint32(4)},set:function(e){this.frameBuffer.setUint32(4,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){return a(this.frameBuffer,8)},set:function(e){var t=0|e,n=(e-t)/o.Pow32;this.frameBuffer.setInt32(8,t),this.frameBuffer.setInt32(12,n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"authorId",{get:function(){return this.frameBuffer.getUint32(16)},set:function(e){this.frameBuffer.setUint32(16,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.frameBuffer.getUint8(20)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scopeId",{get:function(){return a(this.frameBuffer,21)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beginObjectId",{get:function(){return a(this.frameBuffer,29)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.frameBuffer.getUint8(37)},enumerable:!0,configurable:!0}),e.prototype.fetchEventContent=function(){var e=new r.Reader(this.frameBuffer);if(e.skipBytes(37),this.type===i.ActionFrameType.Event){var t=e.readUint8();return{event:e.readString(),scope:t}}},e}();t.FramePicker=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pow32=Math.pow(2,32),t.Pow16=Math.pow(2,16),t.UInt32Mask=t.Pow32-1,t.UInt16Mask=t.Pow16-1,t.UInt8Mask=255},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.createObject=function(n,r){var i=e.prototype.createObject.call(this,n,r);return t.objectsCollection&&t.objectsCollection.push(i),i},t.startCollection=function(){this.objectsCollection=[]},t.completeCollection=function(){try{if(!this.objectsCollection)return[];for(var e=0,t=this.objectsCollection;e<t.length;e++)delete t[e].__identifier;return this.objectsCollection}finally{this.objectsCollection=void 0}},t.objectsCollection=void 0,t}(n(0).DefaultObjectAdapter);t.ParamsObjectAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(31))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),n(3).contextStack.addListener((function(e,t){r=t&&e.tools?e.tools.extra:void 0})),t.getResource=function(){if(!r)throw new Error("you can not call this function out of Magix");return r.resource}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listeners=[]}return Object.defineProperty(e.prototype,"currentNode",{get:function(){return this._currentNode},enumerable:!0,configurable:!0}),e.prototype.addListener=function(e){this.listeners.push(e)},e.prototype.runWith=function(e,t){var n=this._currentNode;this._currentNode=e,this.dispatch(e,!0);try{return t()}finally{this._currentNode=n,this.dispatch(e,!1),n&&this.dispatch(n,!0)}},e.prototype.dispatch=function(e,t){for(var n=0,r=this.listeners;n<r.length;n++){var i=r[n];try{i(e,t)}catch(e){console.error(e)}}},e}();t.ContextStackImplement=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.SingleForward=0]="SingleForward",e[e.DoubleForward=1]="DoubleForward"}(t.ForwardMode||(t.ForwardMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.transient=r.createDecorator(null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);t.noEffects=r.createDecorator(null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(7),o=function(e){this.eventFilter=new r.EventFilterHub(e).filter};t.isEventPayload=function(e){return"object"==typeof e&&null!==e&&e instanceof o},t.event=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.createDecorator(new o(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventFilterHub=function(e){var t=this;this.filters=[],this.filter=function(e,n,r){for(var i=0,o=t.filters;i<o.length;i++)if((0,o[i])(e,n,r))return!0;return!1};for(var n=[],r=function(e){var t=void 0;if("function"==typeof e)t=e;else if("string"==typeof e)t=function(t){return t===e};else{if(!(e instanceof RegExp))throw new Error("unrecognized condition "+e);t=function(t){return e.test(t)}}n.push(t)},i=0,o=e;i<o.length;i++)r(o[i]);this.filters=Object.freeze(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2);function o(e){switch(e){case i.EventScope.System:return r.System;case i.EventScope.App:return r.App;case i.EventScope.Custom:return r.Custom;default:return r.Magix}}!function(e){e.System="system",e.App="app",e.Custom="custom",e.Magix="magix"}(r=t.Scope||(t.Scope={})),function(e){e.Dispatched="dispatched",e.Updated="updated",e.Canceled="canceled"}(t.EventPhase||(t.EventPhase={})),t.getEventWithDescription=function(e,t){return{event:e.event,payload:e.payload,authorId:e.authorId,scope:o(e.scope),phase:t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Real="real",e.Illusion="illusion",e.NoEffects="noEffects"}(t.Environment||(t.Environment={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(9),o=n(3),a=n(13),s=n(47),c=n(14),u=void 0;o.contextStack.addListener((function(e,t){u=t?e.proxyRuntime.objectOperator:void 0}));var l,p,d=(l=function(){if("undefined"!=typeof window&&void 0!==window.document)return window.atob.bind(window);var e=n(48);if(!e)throw new r.RuntimeError('need install "atob" before launch');return e}(),p=new a.LibraryFactory(l),new r.Initializer({akkoVersion:r.AkkoVersion,akkoObjectBaseClass:c.AkkoObject,libraryFactory:p.create.bind(p),coreFunctions:s.getInitializerCoreFunctions()}));t.__context=d.context,t.getLibrary=d.getLibrary,t.isAkkoObject=function(e){if(!u)throw new Error("can't call isAkkoObject out of Magix");return u.isValidObject(e)||d.isAkkoObject(e)},t.getClassReflection=function e(t){if("function"==typeof t){var n=t[i.ClassReflectionName];if("object"==typeof n&&null!==n)return n}else if(d.isAkkoObject(t))return e(t.constructor)}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(6),a=n(1);t.ClassReflectionPropertyMode=a.ClassReflectionPropertyMode,t.ClassReflectionName="__reflection";var s=function(){function e(e,t,n,o){this.isRootClass=t,this.id=n.classId,this.name=n.clazz.name,this.clazz=n.clazz,this.superClass=n.superClass,this.objectFormat=e.findObjectFormat(n.objectFormatId);for(var a={},s={},c=r([n],o),u=c.length-1;u>=0;--u)for(var l=c[u],p=l.clazz,d=0,h=l.members;d<h.length;d++){var f=h[d];i.isClassProperty(f)?a[f.name]=this.createProperty(f,p,this.objectFormat):i.isClassMethod(f)&&(s[f.name]=this.createMethod(f,p,e))}this.properties=Object.freeze(a),this.methods=Object.freeze(s),this.methodNames=Object.freeze(Object.keys(this.methods))}return e.prototype.createProperty=function(e,t,n){var r=e.decorators.some((function(e){return e===o.transient}));return Object.freeze({name:e.name,mode:e.mode,belongsClass:t,isTransient:r,isPublic:e.isPublic,objectFormat:n.properties[e.name],decorators:e.decorators})},e.prototype.createMethod=function(e,t,n){for(var i=e.name,o=e.decorators,a=[],s=0,c=e.parameters;s<c.length;s++)a.push(n.findObjectFormat(c[s]));return Object.freeze({name:i,belongsClass:t,isPublic:e.isPublic,parameterFormatObjects:Object.freeze(a),decorators:Object.freeze(r(o))})},e}();t.ClassReflectionImplement=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.atob=e}return e.prototype.parse=function(e){for(var t=new String(this.atob(e)),n=r.createBuffer(t.length),i=0;i<t.length;++i)n.setUint8(i,t.charCodeAt(i));return n},e}();t.Base64Parser=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCallbacks=function(e){var t={},n=function(n){var r=e[n];t[n]="function"==typeof r?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return r.apply(t,e)}catch(e){console.error(e)}}:r};for(var r in e)n(r);return Object.freeze(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(e,t){Object.defineProperty(e,"__identifier",{enumerable:!1,configurable:!0,value:t})}var o=function(){function e(e,t){this.foundObjects=[],this.idGenerator=e,this.operator=t}return e.prototype.complete=function(){for(var e=0,t=this.foundObjects;e<t.length;e++)delete t[e].__identifier},e.prototype.bind=function(e){if("object"!=typeof e)return e;if(null===e)return e;if(r.isBuffer(e))return e;if(this.operator.isDisplayerObject(e))return this.operator.copyDisplayer(e);if(e.constructor===Array)return this.bindArray(e);if(e.constructor===Object)return this.bindObject(e);throw new Error("can't let object of "+e.constructor.name+" pass Magix border")},e.prototype.bindArray=function(e){var t=e.__identifier;void 0===t&&(i(e,t=this.idGenerator.generate()),this.foundObjects.push(e));for(var n=0;n<e.length;++n)this.bind(e[n])},e.prototype.bindObject=function(e){var t=e.__identifier;for(var n in void 0===t&&(i(e,t=this.idGenerator.generate()),this.foundObjects.push(e)),e)this.bind(e[n])},e}();t.ObjectLikeBinder=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._phase=e.phase||e.getCurrentPhase(),this.getCurrentPhase=e.getCurrentPhase,this.onPhaseChanged=e.onPhaseChanged}return Object.defineProperty(e.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),e.prototype.touch=function(){var e=this.getCurrentPhase(),t=this._phase;t!==e&&(this._phase=e,this.onPhaseChanged&&this.onPhaseChanged(e,t))},e}();t.PhaseNode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=this;this.paddingPayloadList=null,this.callback=function(e){if(n.paddingPayloadList)n.paddingPayloadList.push(e);else try{n._callback(e)}catch(e){n.logger.error(e)}},this.logger=e,this._callback=t}return Object.defineProperty(e.prototype,"isPadding",{get:function(){return!!this.paddingPayloadList},set:function(e){if(this.isPadding!==e)if(e)this.paddingPayloadList=[];else{for(var t=0,n=this.paddingPayloadList;t<n.length;t++){var r=n[t];try{this._callback(r)}catch(e){this.logger.error(e)}}this.paddingPayloadList=null}},enumerable:!0,configurable:!0}),e}();t.CallbackPaddingNode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a,s,c,u,l,p,d,h,f=n(3);function m(e){r=e.creator,i=e.updater,o=e.wrapper,a=e.unwrapper,s=e.jsxUnwrapper,c=e.getter,u=e.setter,l=e.caller,p=e.remover,d=e.prefix,h=e.postfix}t.getInitializerCoreFunctions=function(){return{creator:function(e){return r(e)},updater:function(e){return i(e)},wrapper:function(e){return o(e)},unwrapper:function(e){return a(e)},jsxUnwrapper:function(e){return s(e)},getter:function(e,t){return c(e,t)},setter:function(e,t,n){return u(e,t,n)},caller:function(e,t,n,r){return l(e,t,n,r)},remover:function(e,t){return p(e,t)},prefix:function(e,t,n){return d(e,t,n)},postfix:function(e,t,n){return h(e,t,n)}}};var g=Object.freeze({creator:function(e){return e},updater:function(e){return e},wrapper:function(e){return e},unwrapper:function(e){return e},jsxUnwrapper:function(e){return e},getter:function(e,t){return e[t]},setter:function(e,t,n){return e[t]=n},caller:function(e,t,n,r){return(r||e)[t].apply(e,n)},remover:function(e,t){return delete e[t]},prefix:function(e,t,n){return e[t]+=n},postfix:function(e,t,n){var r=e[t];return e[t]+=n,r}});m(g),f.contextStack.addListener((function(e,t){m(t?e.coreFunctions:g)}))},function(e,t){e.exports=n(42)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3);function o(){return new Error("you can not call this function out of Magix")}i.contextStack.addListener((function(e,t){r=t&&e.tools?e.tools:void 0})),t.isInMagix=function(){return!!i.contextStack.currentNode},t.getEnvironment=function(){if(!r)throw o();return r.environment},t.getCurrentTimestamp=function(){if(!r)throw o();return r.timestamp},t.getAuthorId=function(){if(!r)throw o();return r.functions.getAuthorId()},t.hasUser=function(e){if(!r)throw o();return r.functions.hasUser(e)},t.getUsersCount=function(){if(!r)throw o();return r.functions.getUsersCount()},t.getUser=function(e){if(!r)throw o();return r.functions.getUser(e)},t.getUserIds=function(){if(!r)throw o();return r.functions.getUserIds()},t.getSnapshot=function(){if(!r)throw o();return r.snapshot}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(51)),r(n(52))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RoomDelete="roomDelete",e.RoomZombie="roomZombie",e.RoomBan="roomBan",e.GatewayAdjust="GatewayAdjust",e.KickByAdmin="kickByAdmin",e.ReplaceByOther="replaceByOther",e.Crash="crash"}(t.KickReason||(t.KickReason={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Transitory="transitory",e.Persistent="persistent",e.Historied="historied"}(t.RoomMode||(t.RoomMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.FlatObject=0]="FlatObject",e[e.AkkoObject=1]="AkkoObject",e[e.Array=2]="Array",e[e.Displayer=3]="Displayer"}(t.ObjectKind||(t.ObjectKind={})),function(e){e[e.Uncommitted=0]="Uncommitted",e[e.Committed=1]="Committed",e[e.Rejected=2]="Rejected"}(t.DisplayerPhase||(t.DisplayerPhase={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Illusion=0]="Illusion",e[e.IllusionRebuild=1]="IllusionRebuild",e[e.Real=2]="Real",e[e.RealAck=3]="RealAck",e[e.Outside=4]="Outside"}(t.CoreFunctionsMode||(t.CoreFunctionsMode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(56))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Inserted=0]="Inserted",e[e.Updated=1]="Updated",e[e.Removed=2]="Removed"}(t.UpdateEventKind||(t.UpdateEventKind={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.serializeAllocatedUser=function(e){var t=new r.Writer;t.writeUint32(e.userId),t.writeUint32(e.initializeSlices.length);for(var n=0,i=e.initializeSlices;n<i.length;n++){var o=i[n];t.writeInt53(o.beginScopeId),t.writeUint32(o.count)}return t.toBuffer()},t.deserializeAllocatedUser=function(e){for(var t=new r.Reader(e),n=t.readUint32(),i=[],o=t.readUint32(),a=0;a<o;++a){var s=t.readInt53(),c=t.readUint32();i.push(Object.freeze({beginScopeId:s,count:c}))}return Object.freeze({userId:n,initializeSlices:Object.freeze(i)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(2),a=n(4),s=n(15),c=function(){function e(e,t){var n=t.format.anyObjectFormat;this.serialization=new i.Serialization({format:t.format,objectAdapter:new o.ParamsObjectAdapter}),this.objectOperator=e,this.oneAnyObjectFormats=Object.freeze([n]),this.twoAnyObjectFormats=Object.freeze([n,n])}return e.prototype.serialize=function(e){var t=new i.Writer,n=i.createIdentifierGenerator(i.NoEffectScopeId),r=new a.ObjectLikeBinder(n,this.objectOperator);t.writeUint8(e.kind);try{switch(e.kind){case s.AccessUpdaterKind.Writable:var o=e.userPayload,c=e.connectedPayload;r.bind(o),r.bind(c),this.serialization.serialize({writer:t,values:[o,c],objectFormats:this.twoAnyObjectFormats,includesHash:!1});break;case s.AccessUpdaterKind.Readonly:var u=e.payload;r.bind(u),this.serialization.serialize({writer:t,values:[u],objectFormats:this.oneAnyObjectFormats,includesHash:!1})}return t.toBuffer()}finally{r.complete()}},e.prototype.deserialize=function(t){try{o.ParamsObjectAdapter.startCollection();var n=new i.Reader(t),r=n.readUint8();switch(r){case s.AccessUpdaterKind.Writable:var a=this.serialization.deserialize({reader:n,objectFormats:this.twoAnyObjectFormats,ignoreHashChecking:!0,version:e.akkoSerVersion});return{kind:r,userPayload:a[0],connectedPayload:a[1]};case s.AccessUpdaterKind.Readonly:return{kind:r,payload:this.serialization.deserialize({reader:n,objectFormats:this.oneAnyObjectFormats,ignoreHashChecking:!0,version:e.akkoSerVersion})[0]};default:throw new Error("invalid kind "+r)}}finally{o.ParamsObjectAdapter.completeCollection()}},e.akkoSerVersion=i.convertToAkkoSerVersion(r.AkkoVersion),e}();t.AccessUpdaterSerialization=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){}return e.prototype.serialize=function(e){var t=new r.Writer;return t.writeString(e.libIdentifier),t.writeString(e.appIdentifier),t.writeString(e.appVersion),t.writeString(e.appHash),t.toBuffer()},e.prototype.deserialize=function(e){var t=new r.Reader(e);return{libIdentifier:t.readString(),appIdentifier:t.readString(),appVersion:t.readString(),appHash:t.readString()}},e}();t.LibraryDescriptionSerialization=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.serializeSessionBuild=function(e){var t=new r.Writer;return t.writeString(e.session),t.writeString(e.sessionToken),t.writeString(e.slice),t.toBuffer()},t.deserializeSessionBuild=function(e){var t=new r.Reader(e),n=t.readString(),i=t.readString(),o=t.readString();return Object.freeze({session:n,sessionToken:i,slice:o})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.serializeOnlineState=function(e){var t=new r.Writer;return t.writeUint32(e.userId),t.writeUint8(e.isOnline?255:0),t.toBuffer()},t.deserializeOnlineState=function(e){var t=new r.Reader(e),n=t.readUint32(),i=!!t.readUint8();return Object.freeze({userId:n,isOnline:i})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){if(this.storageSlices=[],this.usingSlice=void 0,this.nextScopeId=0,e)for(var t=0,n=e;t<n.length;t++)this.appendScopeSlice(n[t])}return e.prototype.allocScopeId=function(){if(this.usingSlice){var e=this.nextScopeId;return e===this.usingSlice.beginScopeId+this.usingSlice.count-1?(this.usingSlice=this.storageSlices.shift(),this.usingSlice&&(this.nextScopeId=this.usingSlice.beginScopeId)):this.nextScopeId++,e}},e.prototype.appendScopeSlice=function(e){this.usingSlice?this.storageSlices.push(e):(this.usingSlice=e,this.nextScopeId=e.beginScopeId)},e}();t.ScopeStorage=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.deserializeScopeSlices=function(e){for(var t=new r.Reader(e),n=[],i=t.readUint32(),o=0;o<i;++o){var a=t.readInt53(),s=t.readUint32();n.push(Object.freeze({beginScopeId:a,count:s}))}return Object.freeze(n)},t.serializeScopeSlices=function(e){var t=new r.Writer;t.writeUint32(e.length);for(var n=0,i=e;n<i.length;n++){var o=i[n];t.writeInt53(o.beginScopeId),t.writeUint32(o.count)}return t.toBuffer()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);t.socketFactory=new r.AkkoSocketFactory(["error","snapshot","action","chunk","session-build","update-online","allocate-user","release-user","allocate-scope","update-access","ban-access","hang-up","library-description"]),function(e){e[e.Undefined=0]="Undefined",e[e.NoUserToRelease=1]="NoUserToRelease",e[e.WritableAccessForbidden=2]="WritableAccessForbidden",e[e.StuffedOfWritableUsers=3]="StuffedOfWritableUsers",e[e.WrongWritablePhase=4]="WrongWritablePhase"}(t.SocketErrorCode||(t.SocketErrorCode={}))},function(e,t){e.exports=n(22)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);t.ImageAuthor=r.ImageAuthor;var i=n(17);t.ActionFrameHelper=i.ActionFrameHelper;var o=n(18);t.ImageUsers=o.ImageUsers;var a=n(19);t.IllusionFrameGenerator=a.IllusionFrameGenerator;var s=n(20);t.ImagePhase=s.ImagePhase,t.ImageFactory=s.ImageFactory},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68);t.createSnapshotManager=function(e,t){return void 0===t&&(t=""),new r.SnapshotManagerImplement(t,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(3),a=n(5),s=n(69),c=null,u=null;o.contextStack.addListener((function(e,t){t&&e.tools?(r=e.coreFunctions,u=e.tools.idGenerator,c=e.proxyRuntime):(r=null,u=null,c=null)}));var l=function(){function e(e,t){this.format=t.format,this.covertIdToClass=t.covertObjectFormatIdToClass,this.description=Object.freeze({roomUUID:e,appIdentifier:t.appIdentifier,appVersion:t.appVersion,appHash:t.appHash,akkoVersion:t.akkoVersion})}return e.prototype.createSnapshot=function(e,t){if(void 0===t&&(t=!1),!o.contextStack.currentNode)throw new Error("can't call createSnapshot out of Magix");var n=r.wrapper(e),a=new i.Writer,s=this.readObjectFormatWith(n),u=t;return a.writeUint8(t?255:0),t&&(a.writeString(this.description.roomUUID),a.writeString(this.description.appIdentifier),a.writeString(this.description.appVersion),a.writeString(this.description.appHash),a.writeString(this.description.akkoVersion)),a.writeUint32(s.id),c.frameHandler.createSerialization(this.format).serialize({writer:a,values:[n],objectFormats:[s],includesHash:u}),a.toBuffer().freeze()},e.prototype.recoverWithSnapshot=function(e,t){if(!o.contextStack.currentNode)throw new Error("can't call recoverWithSnapshot out of Magix");var n=r.wrapper(t),a=new i.Reader(e),l=this.readDescription(a),p=a.readUint32();if(n&&this.readObjectFormatWith(n).id!==p)throw new Error("target's class isn't matching");var d=this.format.findObjectFormat(p),h=this.shouldOverrideTarget(l)?n:void 0;return new s.ObjectPutter({rootObject:h,format:this.format,snapshotObjectFormats:[d],idGenerator:u,proxyRuntime:c,covertIdToClass:this.covertIdToClass}).recoverFrom(a,void 0!==l)},e.prototype.readObjectFormatWith=function(e){var t=c.objectOperator;if(t.kind(e)!==a.ObjectKind.AkkoObject)throw new Error("can't only create snapshot of AkkoObject");return t.getClassReflection(e).objectFormat},e.prototype.readDescription=function(e){if(e.readUint8()){var t=e.readString(),n=e.readString(),r=e.readString(),i=e.readString(),o=e.readString();if(n!==this.description.appIdentifier)throw new Error("invalid snapshot: appIdentifier not matches");if(r!==this.description.appVersion)throw new Error("invalid snapshot: appVersion not matches");if(i!==this.description.appHash)throw new Error("invalid snapshot: appHash not matches");if(o!==this.description.akkoVersion)throw new Error("invalid snapshot: akkoVersion not matches");return{roomUUID:t,appIdentifier:n,appVersion:r,appHash:i,akkoVersion:o}}},e.prototype.shouldOverrideTarget=function(e){return!e||e.roomUUID===this.description.roomUUID},e}();t.SnapshotManagerImplement=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(70),a=n(71),s=function(){function e(e){var t=this;this.assertObjectFormat=function(e){var n=t.proxyRuntime.objectOperator.getClassReflection(e);if(n)return n.objectFormat};var n=new o.ObjectsFlatter(e.proxyRuntime.objectOperator);this.format=e.format,this.snapshotObjectFormats=e.snapshotObjectFormats,this.idGenerator=e.idGenerator,this.proxyRuntime=e.proxyRuntime,this.covertIdToClass=e.covertIdToClass,n.collectValue(e.rootObject),this.floatObjects=n.floatObjects}return e.prototype.recoverFrom=function(t,n){for(var r,o=[],s=new a.OverrideObjectAdapter(this.proxyRuntime,this.covertIdToClass,this.idGenerator,this.floatObjects,(function(e,t,n){return o.push({object:e,tempObject:t,classReflection:n})})),c=!n,u=new i.Serialization({format:this.format,objectAdapter:s,assertObjectFormat:this.assertObjectFormat}).deserialize({reader:t,objectFormats:this.snapshotObjectFormats,ignoreHashChecking:c,version:e.akkoSerVersion})[0],l=0,p=o;l<p.length;l++){var d=p[l],h=d.object,f=d.tempObject;this.proxyRuntime.objectOperator.override(h,f,d.classReflection),f===u&&(r=h)}return r},e.akkoSerVersion=i.convertToAkkoSerVersion(r.AkkoVersion),e}();t.ObjectPutter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.operator=e,this.floatObjects={}}return e.prototype.collectValue=function(e){var t=this;if("object"==typeof e&&null!==e){var n=this.operator.identifier(e);return n in this.floatObjects||(this.floatObjects[n]=e,this.operator.forEach(e,(function(e){t.collectValue(e)}))),n}},e}();t.ObjectsFlatter=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(5),s=n(9),c=function(e){function t(t,n,r,i,a){var s=e.call(this,(function(e,t,n,r){return s.handleDecorateObject(e,t,n,r)}))||this;return s.decorateObjectEnums=Object.freeze([o.ObjectEnum.Object,o.ObjectEnum.Array]),s.proxyRuntime=t,s.idGenerator=r,s.covertIdToClass=n,s.toOverrideObjects=i,s.overrideNodeCatcher=a,s}return i(t,e),t.prototype.createObject=function(t,n){if(n===o.ObjectEnum.HangUpObject)throw new o.DeserializerError("not support hang up object: "+t);return e.prototype.createObject.call(this,t,n)},t.prototype.handleDecorateObject=function(e,t,n,r){var i=e.__identifier,a=this.proxyRuntime.objectOperator,s=this.getClassReflection(t,r),c=this.toOverrideObjects[i];if(!c||!this.isTypeMatch(c,t))switch(t){case o.ObjectType.Array:c=a.createObject(this.idGenerator.generate(),[]);break;case o.ObjectType.DeducedObject:c=a.createObject(this.idGenerator.generate(),{});break;case o.ObjectType.AssertedObject:Object.setPrototypeOf(e,s.clazz.prototype),c=a.createObject(this.idGenerator.generate(),e);break;default:throw new o.DeserializerError("invalid ObjectType "+t)}for(var u=0,l=n;u<l.length;u++){var p=l[u];p.object[p.key]=c}this.overrideNodeCatcher(c,e,s)},t.prototype.isTypeMatch=function(e,t){switch(this.proxyRuntime.objectOperator.kind(e)){case a.ObjectKind.Array:return t===o.ObjectType.Array;case a.ObjectKind.FlatObject:return t===o.ObjectType.DeducedObject;case a.ObjectKind.AkkoObject:return t===o.ObjectType.AssertedObject;default:return!1}},t.prototype.getClassReflection=function(e,t){if(e===o.ObjectType.AssertedObject){if(!t)throw new o.DeserializerError("expect object format");var n=this.covertIdToClass(t.id);if(!n)throw new o.DeserializerError("can't find class by object format id "+t.id);return n[s.ClassReflectionName]}return null},t}(o.DefaultObjectAdapter);t.OverrideObjectAdapter=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(5),c=n(20),u=n(4),l=n(73),p=n(4),d=n(74),h=n(17),f=n(22),m=n(19),g=n(2),y=function(){function e(e){var t=this;if(this.modifiable=!0,this.frameGenerator=null,this.didDestroy=!1,this.assertAppendFrameId=function(e){var n=e.frameId,r=t.triggerInvoker.frameId+1;if(r!==n)throw new Error("find unexpected frame id "+n+", wanna "+r)},this.invokeMethod=function(e,n){t.assertEnableSendActionFrames();var r=void 0,i=Date.now(),o=t.frameGenerator;if(!o)throw new Error("cannot invoke "+e+", frameGenerator is not prepare");var a=o.author.allocateIdentifierGenerator(),c=t.proxyRuntime.block.runWithContinuousUpdated((function(){var c=t.proxyRuntime.createFrameSection();r=t.proxyRuntime.block.runWithMagix({authorId:o.author.userId,mode:s.CoreFunctionsMode.Illusion,frameSection:c,timestamp:i,identifierGenerator:a},(function(){var r,s=t.triggerInvoker.methodNameToId(e);try{r=o.createIllusionInvokerFrame(s,n,i,a)}catch(e){throw t.clientCrashWithError(e),e}try{return t.triggerInvoker.invoke(e,r.illusionFrame.parameters)}finally{t.handleActionFrame(r.frameBuffer,c)}}))}));return t.callbacks.onModified&&c.didUpdated&&t.callbacks.onModified(),r},this.currentPhase=function(){var e=t.branchImageHelper.illusionQueue;return e&&0===e.length?c.ImagePhase.Real:c.ImagePhase.Illusion},this.library=e.library,this.logger=e.logger,this.proxyRuntime=e.proxyRuntime,this.actionFrameHelper=this.createActionFrameHelper(e),this.imageUsers=e.imageUsers,this.strategy=e.strategy,this.callbacks=u.wrapCallbacks(e.callbacks||{}),this.callbacks.onEventFire&&(this.eventFireNode=new u.CallbackPaddingNode(e.logger,this.callbacks.onEventFire),this.eventFireNode.isPadding=!0),this.triggerInvoker=new l.TriggerInvoker({library:this.library,imageUsers:this.imageUsers,proxyRuntime:e.proxyRuntime,onEventFire:this.eventFireNode&&this.eventFireNode.callback,onCatchErrorWhenAppendFrame:this.callbacks.onCatchErrorWhenAppendFrame}),this.triggerInvoker.frameId=e.frameId,this.triggerInvoker.timestamp=e.timestamp,this.proxyRuntime.rootObject.onInvokedTriggerMethod=this.invokeMethod,e.actionFrames)for(var n=0,r=e.actionFrames;n<r.length;n++){var i=this.proxyRuntime.frameHandler.deserializeActionFrame(r[n],this.strategy.deserializerVersion,this.strategy.ignoreHashChecking),o=f.idGeneratorWithFrame(i);this.triggerInvoker.appendAction(i,{authorId:i.authorId,timestamp:i.timestamp,mode:s.CoreFunctionsMode.Real,identifierGenerator:o})}this.phaseNode=new p.PhaseNode({phase:c.ImagePhase.Real,getCurrentPhase:this.currentPhase,onPhaseChanged:this.callbacks.onPhaseChanged}),this.branchImageHelper=new d.BranchImageHelper(this.logger,this.strategy,this.proxyRuntime,this.triggerInvoker,this.assertAppendFrameId,this.callbacks.onReceivedRttReport),this.triggerInvoker.completeInit(),this.eventFireNode&&Promise.resolve().then((function(){return t.eventFireNode.isPadding=!1}))}return e.prototype.createActionFrameHelper=function(e){return new h.ActionFrameHelper(e.library,e.proxyRuntime.objectOperator,e.proxyRuntime.frameHandler,e.strategy.deserializerVersion)},Object.defineProperty(e.prototype,"hasDoubleLines",{get:function(){return this.proxyRuntime.hasDoubleLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trigger",{get:function(){return this.proxyRuntime.rootObject.displayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"phase",{get:function(){return this.phaseNode.phase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userIds",{get:function(){return this.imageUsers.userIds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"usersCount",{get:function(){return this.imageUsers.usersCount},enumerable:!0,configurable:!0}),e.prototype.hasUser=function(e){return this.imageUsers.hasUser(e)},e.prototype.user=function(e){return this.imageUsers.user(e,!1)},Object.defineProperty(e.prototype,"verifiedFrameId",{get:function(){return this.triggerInvoker.frameId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameId",{get:function(){var e=this.triggerInvoker.frameId,t=this.branchImageHelper.illusionQueue;return t&&(e+=t.length),e},set:function(e){var t=this.branchImageHelper.illusionQueue;t&&(e-=t.length),this.triggerInvoker.frameId=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timestamp",{get:function(){return this.triggerInvoker.timestamp},enumerable:!0,configurable:!0}),e.prototype.appendActionFrames=function(e){var t,n,r=this;this.eventFireNode&&(this.eventFireNode.isPadding=!0);try{t=this.proxyRuntime.block.runWithContinuousUpdated((function(){n=r.proxyRuntime.hasDoubleLines?r.proxyRuntime.hasBranch?r.branchImageHelper.appendActionFrames(e):r.branchImageHelper.appendActionFramesWithDoubleMode(e):r.appendActionFramesWithSingleMode(e)})),this.phaseNode.touch()}finally{this.eventFireNode&&(this.eventFireNode.isPadding=!1)}return this.callbacks.onModified&&t.didUpdated&&this.callbacks.onModified(),n},e.prototype.appendScopeSlices=function(e){this.frameGenerator&&this.frameGenerator.appendScopeSlices(e)},e.prototype.appendActionFramesWithSingleMode=function(e){for(var t=void 0,n=0,r=e;n<r.length;n++){var i=this.proxyRuntime.frameHandler.deserializeActionFrame(r[n],this.strategy.deserializerVersion,this.strategy.ignoreHashChecking),o=f.idGeneratorWithFrame(i);this.assertAppendFrameId(i),t=this.triggerInvoker.appendAction(i,{authorId:i.authorId,mode:s.CoreFunctionsMode.Real,timestamp:i.timestamp,identifierGenerator:o})}return t},e.prototype.dispatch=function(e,t){var n=this;this.assertEnableSendActionFrames();var r=Date.now(),i=this.frameGenerator;if(!i)throw new Error("cannot dispatch event "+e+", frameGenerator is not prepare");var o=i.author.allocateIdentifierGenerator(),a=this.proxyRuntime.block.runWithContinuousUpdated((function(){var a=n.proxyRuntime.createFrameSection();n.proxyRuntime.block.runWithMagix({authorId:i.author.userId,mode:s.CoreFunctionsMode.Illusion,timestamp:r,frameSection:a,identifierGenerator:o},(function(){var s;try{s=i.createIllusionEventFrame(e,t,r,o)}catch(e){throw n.clientCrashWithError(e),e}try{return n.triggerInvoker.dispatch(e,s.illusionFrame.payload)}finally{n.handleActionFrame(s.frameBuffer,a)}}))}));this.eventFireNode&&this.eventFireNode.callback({event:e,payload:t,scope:g.EventScope.Custom,authorId:i.author.userId}),this.callbacks.onModified&&a.didUpdated&&this.callbacks.onModified()},e.prototype.handleActionFrame=function(e,t){var n=new g.FramePicker(e);this.branchImageHelper.illusionQueue.pushIllusionActionFrame(n,t),this.phaseNode.touch(),this.callbacks.onGeneratedActionFrame&&this.callbacks.onGeneratedActionFrame(e)},e.prototype.snapshot=function(){var e=this,t=this.frameGenerator?this.frameGenerator.author.userId:a.AdminObserverId,n={frameId:this.frameId,originalFrameId:this.frameId,timestamp:this.timestamp,authorId:t,rootObject:this.proxyRuntime.rootObject.snapshotRootObject(),users:this.imageUsers.snapshotUsers()},r={authorId:t,mode:s.CoreFunctionsMode.Outside,timestamp:n.timestamp,identifierGenerator:a.createIdentifierGenerator(a.NoEffectScopeId)};return this.proxyRuntime.block.runWithMagix(r,(function(){return e.proxyRuntime.frameHandler.serializeSnapshotFrame(n)}))},e.prototype.setAllocatedUser=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return[4,this.imageUsers.createImageAuthor(e)];case 1:return(t=n.sent())&&(this.frameGenerator=new m.IllusionFrameGenerator(t,this.actionFrameHelper,this.strategy.includesFrameHash),this.proxyRuntime.reportObserverIdChanged(e.userId),this.branchImageHelper.setObserverId(t.userId)),[2]}}))}))},e.prototype.removeAllocatedUser=function(){return this.imageUsers.cancelImageAuthorCreating(),this.frameGenerator=null,this.proxyRuntime.reportObserverIdChanged(a.AdminObserverId),this.branchImageHelper.cleanObserverId()},e.prototype.destroy=function(){this.didDestroy||(this.imageUsers.cancelImageAuthorCreating(),this.frameGenerator=null,this.didDestroy=!0,this.proxyRuntime.dispose(),this.phaseNode.touch())},e.prototype.createInvokerFrameBuffer=function(e){var t=this.triggerInvoker.methodNameToId(e.method);if(void 0===t)throw new Error("can't find method "+JSON.stringify(e.method));if(this.triggerInvoker.isNoEffectMethod(e.method))throw new Error("can't create frame for no effects method "+JSON.stringify(e.method));var n=r(r({},this.createFrameHeader(e)),{type:g.ActionFrameType.Invoker,scopeId:e.identifierGenerator.scopeId,methodId:t,parameters:e.parameters});return this.serializeActionFrame(e.identifierGenerator,n,this.strategy.includesFrameHash)},e.prototype.createEventFrameBuffer=function(e){var t=r(r({},this.createFrameHeader(e)),{type:g.ActionFrameType.Event,scopeId:e.identifierGenerator.scopeId,scope:e.scope,event:e.event,payload:e.payload});return this.serializeActionFrame(e.identifierGenerator,t,this.strategy.includesFrameHash)},e.prototype.createEnterFrameBuffer=function(e){var t=r(r({},this.createFrameHeader(e)),{type:g.ActionFrameType.Enter,scopeId:e.identifierGenerator.scopeId,session:e.session,userPayload:e.userPayload,connectedPayload:e.connectedPayload});return this.serializeActionFrame(e.identifierGenerator,t,this.strategy.includesFrameHash)},e.prototype.createLeaveFrameBuffer=function(e){var t=r(r({},this.createFrameHeader(e)),{type:g.ActionFrameType.Leave,scopeId:e.identifierGenerator.scopeId,payload:e.payload});return this.serializeActionFrame(e.identifierGenerator,t,this.strategy.includesFrameHash)},e.prototype.createFrameHeader=function(e){var t=e.frameId,n=e.originalFrameId,r=e.authorId;return{frameId:t,originalFrameId:void 0===n?t:n,timestamp:Date.now(),authorId:r,beginObjectId:0}},e.prototype.serializeActionFrame=function(e,t,n){var r=this;return this.proxyRuntime.block.runWithMagix({authorId:this.frameGenerator?this.frameGenerator.author.userId:a.AdminObserverId,mode:s.CoreFunctionsMode.Outside,timestamp:t.timestamp,identifierGenerator:e},(function(){return r.actionFrameHelper.serialize(e,t,r.strategy.includesFrameHash)}))},e.prototype.assertEnableSendActionFrames=function(){if(this.didDestroy)throw new Error("image was desctroy");var e=this.branchImageHelper.illusionQueue;if((e?e.length:0)>=700)throw this.clientCrashWithError(new Error("illusion queue is overflow")),new Error("can't modify. illusion queue is overflow")},e.prototype.clientCrashWithError=function(e){var t=this;this.callbacks.onClientCrashWithError&&Promise.resolve().then((function(){t.callbacks.onClientCrashWithError(e)}))},e}();t.ImageImplement=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(8),o=n(6),a=n(5),s=function(){function e(t){this.didCompleteInit=!1,this.proxyRuntime=t.proxyRuntime,this.imageUsers=t.imageUsers,this.onEventFire=t.onEventFire,this.onCatchErrorWhenAppendFrame=t.onCatchErrorWhenAppendFrame;var n=i.getClassReflection(t.library.rootClass),r=[],o={},a={};for(var s in n.methods){var c=n.methods[s],u=e.findEventPayloadWithDecorators(c.decorators);u&&r.push(Object.freeze({filter:u.eventFilter,method:s})),a[s]=e.findNoEffectsWithDecorators(c.decorators)}for(var l=0;l<n.methodNames.length;++l)o[n.methodNames[l]]=l;this.methodNames=n.methodNames,this.methodNameToIdMap=Object.freeze(o),this.eventHandlers=Object.freeze(r),this.noEffectsMethods=Object.freeze(a)}return e.prototype.completeInit=function(){this.didCompleteInit=!0},e.prototype.methodNameToId=function(e){return this.methodNameToIdMap[e]},e.prototype.isNoEffectMethod=function(e){return this.noEffectsMethods[e]},e.prototype.dispatch=function(e,t){for(var n=this.proxyRuntime.rootObject.target,i=r.EventScope.Custom,o=0,a=this.eventHandlers;o<a.length;o++){var s=a[o],c=s.method;(0,s.filter)(e,t,i)&&this.proxyRuntime.rootObject.getRootMethod(c).apply(n,[e,t,i])}},e.prototype.invoke=function(e,t){var n=this.proxyRuntime.rootObject.target;return this.proxyRuntime.rootObject.getRootMethod(e).apply(n,t)},e.prototype.appendAction=function(e,t){var n=this;t.mode!==a.CoreFunctionsMode.Real&&t.mode!==a.CoreFunctionsMode.RealAck||this.imageUsers.updateUserNextFrameId(e.authorId,e.originalFrameId+1);var i=!this.isForcesOnIllusionLine(t.mode);try{var o=void 0;return this.proxyRuntime.block.runWithMagix(t,(function(){r.isInvokerFrame(e)?o=n.invokeActionFrame(e):r.isEventFrame(e)?n.handleEventActionFrame(e):r.isEnterFrame(e)?n.handleEnterActionFrame(e):r.isLeaveFrame(e)&&n.handleLeaveActionFrame(e)})),o}catch(t){this.onCatchErrorWhenAppendFrame&&this.onCatchErrorWhenAppendFrame(e.authorId,t)}finally{i&&(this.frameId=e.frameId,this.timestamp=e.timestamp),this.onEventFire&&this.dispatchEventIfNeed(e,this.proxyRuntime.rootObject.observerId,this.onEventFire)}},e.prototype.invokeActionFrame=function(e){var t=e.parameters,n=this.proxyRuntime.rootObject.target;return this.proxyRuntime.rootObject.getRootMethod(this.methodNames[e.methodId]).apply(n,t)},e.prototype.handleEventActionFrame=function(e){if(void 0!==e.beginGenerationId&&e.scope===r.EventScope.System)switch(e.event){case"Enter":this.imageUsers.userEnter(e.authorId,e.originalFrameId+1,"",void 0);break;case"Leave":this.imageUsers.userLeave(e.authorId)}this.invokeEventCallbacks(e.event,e.payload,e.scope)},e.prototype.handleEnterActionFrame=function(e){this.imageUsers.userEnter(e.authorId,e.originalFrameId+1,e.session,e.userPayload),this.invokeEventCallbacks("Enter",e.connectedPayload,r.EventScope.System)},e.prototype.handleLeaveActionFrame=function(e){var t=e.payload;this.imageUsers.userLeave(e.authorId),this.invokeEventCallbacks("Leave",t,r.EventScope.System)},e.prototype.invokeEventCallbacks=function(e,t,n){for(var r=this.proxyRuntime.rootObject.target,i=0,o=this.eventHandlers;i<o.length;i++){var a=o[i],s=a.method;(0,a.filter)(e,t,n)&&this.proxyRuntime.rootObject.getRootMethod(s).apply(r,[e,t,n])}},e.prototype.dispatchEventIfNeed=function(e,t,n){this.didCompleteInit&&(r.isEventFrame(e)?e.authorId!==t&&n({event:e.event,payload:this.proxyRuntime.objectOperator.copyDisplayer(e.payload),scope:e.scope,authorId:e.authorId}):r.isEnterFrame(e)?n({event:"Enter",payload:this.proxyRuntime.objectOperator.copyDisplayer(e.connectedPayload),scope:r.EventScope.System,authorId:e.authorId}):r.isLeaveFrame(e)&&n({event:"Leave",payload:this.proxyRuntime.objectOperator.copyDisplayer(e.payload),scope:r.EventScope.System,authorId:e.authorId}))},e.findEventPayloadWithDecorators=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(o.isAkkoDecorator(r)&&o.isEventPayload(r.payload))return r.payload}},e.findNoEffectsWithDecorators=function(e){for(var t=0,n=e;t<n.length;t++)if(n[t]===o.noEffects)return!0;return!1},e.prototype.isForcesOnIllusionLine=function(e){switch(e){case a.CoreFunctionsMode.Real:case a.CoreFunctionsMode.RealAck:return!1;case a.CoreFunctionsMode.Illusion:case a.CoreFunctionsMode.IllusionRebuild:return!0;case a.CoreFunctionsMode.Outside:return this.proxyRuntime.hasDoubleLines&&this.proxyRuntime.hasBranch}},e}();t.TriggerInvoker=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(75),i=n(5),o=n(22),a=function(){function e(e,t,n,r,i,o){this.logger=e,this.strategy=t,this.proxyRuntime=n,this.triggerInvoker=r,this.assertAppendFrameId=i,this.onReceivedRttReport=o,this.observerId=null,this._illusionQueue=null}return Object.defineProperty(e.prototype,"illusionQueue",{get:function(){return this._illusionQueue},enumerable:!0,configurable:!0}),e.prototype.setObserverId=function(e){if(this._illusionQueue)throw new Error("did set observer ID");this.observerId=e,this._illusionQueue=new r.IllusionQueue(e,this.logger)},e.prototype.cleanObserverId=function(){var e=this;return 0===this._illusionQueue.length?(this.observerId=null,this._illusionQueue=null,Promise.resolve()):new Promise((function(t){e.onIllusionQueueEmpty=function(){e.observerId=null,e._illusionQueue=null,t()}}))},e.prototype.appendActionFramesWithDoubleMode=function(e){for(var t=void 0,n=0,r=e;n<r.length;n++){var a=this.proxyRuntime.frameHandler.deserializeActionFrame(r[n],this.strategy.deserializerVersion,this.strategy.ignoreHashChecking,{mode:i.CoreFunctionsMode.Real}),s=o.idGeneratorWithFrame(a);this.assertAppendFrameId(a),t=this.triggerInvoker.appendAction(a,{authorId:a.authorId,mode:i.CoreFunctionsMode.Real,timestamp:a.timestamp,identifierGenerator:s})}return t},e.prototype.appendActionFrames=function(e){for(var t=this,n=[],r=[],a=!1,s=0,c=e;s<c.length;s++){var u=this._illusionQueue.replaceActionFrame(c[s]);u.isAck||(a=!0);var l={frameBuffer:u.replacedBuffer,frameSection:u.section};a?r.push(l.frameBuffer):n.push(l),this.onReceivedRttReport&&void 0!==u.rttTimeInterval&&this.onReceivedRttReport(u.rttTimeInterval)}this.proxyRuntime.block.runWithDisableObserve((function(){for(var e=0,r=n;e<r.length;e++){var a=r[e],s=a.frameSection,c=t.proxyRuntime.frameHandler.deserializeActionFrame(a.frameBuffer,t.strategy.deserializerVersion,t.strategy.ignoreHashChecking,{mode:i.CoreFunctionsMode.RealAck,frameSection:s}),u=o.idGeneratorWithFrame(c);t.assertAppendFrameId(c),t.triggerInvoker.appendAction(c,{authorId:c.authorId,mode:i.CoreFunctionsMode.RealAck,timestamp:c.timestamp,frameSection:s,identifierGenerator:u}),s.completeACK()}}));var p=void 0;return r.length>0&&(this.proxyRuntime.mergeBranch(),p=this.appendActionFramesWithDoubleMode(r),this._illusionQueue.length>0&&this.rebuildIllusionBranch()),this.proxyRuntime.hasBranch&&0===this._illusionQueue.length&&this.proxyRuntime.hasDoubleLines&&this.proxyRuntime.mergeBranch(),this.onIllusionQueueEmpty&&0===this._illusionQueue.length&&(this.onIllusionQueueEmpty(),this.onIllusionQueueEmpty=void 0),p},e.prototype.rebuildIllusionBranch=function(){var e=this,t=(this.proxyRuntime.forkBranchRuntime(),this._illusionQueue);this._illusionQueue=new r.IllusionQueue(this.observerId,this.logger),t.forFrames((function(t,n){var r=e.proxyRuntime.createFrameSection(n);e._illusionQueue.pushIllusionActionFrame(t,r);var a=e.proxyRuntime.frameHandler.deserializeActionFrame(t.frameBuffer,e.strategy.deserializerVersion,e.strategy.ignoreHashChecking,{mode:i.CoreFunctionsMode.IllusionRebuild,frameSection:r}),s=o.idGeneratorWithFrame(a);e.triggerInvoker.appendAction(a,{authorId:a.authorId,mode:i.CoreFunctionsMode.IllusionRebuild,timestamp:a.timestamp,frameSection:r,identifierGenerator:s}),r.completeRebuild()}))},e}();t.BranchImageHelper=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e,t){this.observerId=e,this.logger=t,this.queue=[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),e.prototype.pushIllusionActionFrame=function(e,t){this.queue.push({frameId:e.originalFrameId,timestamp:e.timestamp,picker:e,section:t})},e.prototype.forFrames=function(e){for(var t=0,n=this.queue;t<n.length;t++){var r=n[t];e(r.picker,r.section,r.frameId,r.timestamp)}},e.prototype.replaceActionFrame=function(e){var t,n=new r.FramePicker(e),i=this.isAckFrame(n),o=void 0,a=void 0;if(i){var s=this.takeIllusionFrame(n.frameId,n.originalFrameId),c=s.picker;o=Date.now()-s.timestamp,c.frameId=n.frameId,c.originalFrameId=n.originalFrameId,c.timestamp=n.timestamp,t=c.frameBuffer,a=s.section}else{if(n.type===r.ActionFrameType.Ack)throw new Error("received others' ACK frame");t=e}return{replacedBuffer:t,isAck:i,rttTimeInterval:o,section:a}},e.prototype.takeIllusionFrame=function(e,t){var n=this.queue.findIndex((function(e){return e.frameId===t}));if(n>0&&this.logger.warn("received frame can't touch first illusion frame"),-1===n)throw new Error("not found frameId "+t+" match to ACK frameId");return this.queue.splice(n,1)[0]},e.prototype.isAckFrame=function(e){switch(e.type){case r.ActionFrameType.Ack:case r.ActionFrameType.Invoker:return e.authorId===this.observerId;case r.ActionFrameType.Event:if(e.scope===r.EventScope.Custom)return e.authorId===this.observerId}return!1},e}();t.IllusionQueue=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(77)),r(n(78))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayMethodDescriptions=Object.freeze([{methodName:"toString",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"toLocaleString",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"join",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"indexOf",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"lastIndexOf",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"every",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"some",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"forEach",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"reduce",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"reduceRight",returnArray:!1,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"concat",returnArray:!0,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"reverse",returnArray:!0,lengthChanged:!1,elementChanged:!0,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"slice",returnArray:!0,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"splice",returnArray:!0,lengthChanged:!0,elementChanged:!0,touchLength:!0,pickTouchedSegment:function(e,t){var n=void 0,r=t[0];if(r>=0&&r<e.length)if(t.length>1){var i=t[1];void 0===i&&(i=0);var o=t.length-2;o<0&&(o=0),o===i?o>0&&(n={beginIndex:r,length:o}):n={beginIndex:r,length:e.length-r}}else n={beginIndex:r,length:e.length-r};return n}},{methodName:"map",returnArray:!0,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"filter",returnArray:!0,lengthChanged:!1,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"sort",returnArray:!0,lengthChanged:!1,elementChanged:!0,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}},{methodName:"push",returnArray:!1,lengthChanged:!0,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:e.length-1,length:1}}},{methodName:"pop",returnArray:!1,lengthChanged:!0,elementChanged:!1,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:e.length,length:1}}},{methodName:"shift",returnArray:!1,lengthChanged:!0,elementChanged:!0,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length+1}}},{methodName:"unshift",returnArray:!1,lengthChanged:!0,elementChanged:!0,touchLength:!0,pickTouchedSegment:function(e){return{beginIndex:0,length:e.length}}}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79);t.createClassStaticMethods=function(){return new r.ClassStaticMethodsImplement([{clazz:Object,proxyList:["assign"],banList:["getPrototypeOf","getOwnPropertyDescriptor","getOwnPropertyNames","create","defineProperty","defineProperties"]},{clazz:Array,proxyList:[],banList:["from"]},{clazz:String,proxyList:["fromCodePoint","fromCharCode"],banList:[]},{clazz:Number,proxyList:["isFinite","isInteger","isNaN","isSafeInteger","parseFloat","parseInt"],banList:[]}])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.nodes={};for(var t={},n=function(e,n,r){var i={},o=e.name;t[o]=Object.freeze({clazz:e,methods:i});for(var a=function(e){i[e]=function(){throw new Error(o+"."+e+" is ban in Magix")}},s=0,c=n;s<c.length;s++)a(c[s]);for(var u=function(e){i[e]=function(){throw new Error(o+"."+e+" is not defined")}},l=0,p=r;l<p.length;l++)u(p[l]);Object.seal(i)},r=0,i=e;r<i.length;r++){var o=i[r];n(o.clazz,o.banList,o.proxyList)}this.nodes=t}return e.prototype.findMethod=function(e,t){var n=this.findNode(e);return n?n.methods[t]:void 0},e.prototype.proxyMethod=function(e,t,n){var r=this.findNode(e);if(!r)throw new Error("invalid class");if(!(t in r.methods))throw new Error("invalid method "+JSON.stringify(t));r.methods[t]=n},e.prototype.findNode=function(e){var t=this.nodes[e.name];if(t&&t.clazz===e)return t},e}();t.ClassStaticMethodsImplement=r}]))},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.typesMap={},this.typeToIndexMap={},this.typesMap=Object.freeze(this.createTypesMap(e)),this.typeToIndexMap=Object.freeze(this.createTypeToIndexMap(this.typesMap))}return e.create=function(t){return new e(t)},e.prototype.createTypesMap=function(e){for(var t={},n=0;n<e.length;++n)t[n]=e[n];return t},e.prototype.createTypeToIndexMap=function(e){var t={};for(var n in e){var r=parseInt(n),i=e[r];if(i in t)throw new Error('find duplicated type "'+i+' in parameters of new TypesMap(...)"');t[i]=r}return t},e.prototype.hasType=function(e){return e in this.typeToIndexMap},e.prototype.findTypeId=function(e){var t=this.typeToIndexMap[e];if(void 0===t)throw new Error("can't find id with type "+e);return t},e.prototype.findTypeById=function(e){var t=this.typesMap[e];if(!t)throw new Error("can't find type with id "+e);return t},e.prototype.extendsTypesMap=function(t){var n=[];for(var r in this.typesMap)n.push(this.typesMap[r]);for(var r in t.typesMap)n.push(t.typesMap[r]);return new e(n)},e}();t.TypesMap=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(6),a=n(2),s=function(){function e(e,t,n,i,s){var c=this;this.receivedWhenNotWorkingBuffer=[],this.remoteHeartbeatTimeout=void 0,this.crashByChannelError=!1,this.isWorking=!1,this.isLimit=!1,this.becameLimitTimestamp=0,this.sendHeartbeat=function(){c.isWorking&&(c.sendHeartbeatDelayer.refreshAndInvokeAfterInterval(c.akkoSocket.params.heartbeatInterval),c.chanel.sendPackage("heartbeat"))},this.handleRemoteHeartbeatTimeout=function(){c.crashByChannelError||(c.crashByChannelError=!0,c.callbacks.onRemoteHeartbeatTimeout())},this.onReceivedPackage=function(e,t){if(!c.crashByChannelError)if(!e&&t)if(c.isWorking)try{c.handleReceivedPackage(t)}finally{c.delayRemoteHeartbeatTimeoutChecking()}else c.receivedWhenNotWorkingBuffer.push(t);else e&&!t&&c.callbacks.onParseMessageFailed(e)},this.akkoSocket=e,this.logger=n,this.chanel=new o.PackagesChannel(i,t,this.onReceivedPackage),this.callbacks=Object.freeze(r({},s)),this.sendHeartbeatDelayer=new a.Delayer(this.sendHeartbeat),this.remoteHeartbeatTimeoutDelayer=new a.Delayer(this.handleRemoteHeartbeatTimeout)}return e.prototype.send=function(e,t){if(this.isWorking)if(t instanceof Array)for(var n=0,r=t;n<r.length;n++)this.sendPackage(e,r[n]);else this.sendPackage(e,t)},e.prototype.sendPackage=function(e,t){if(this.checkBufferedAmountOverflow())throw this.crashByChannelError||(this.crashByChannelError=!0,this.callbacks.onSendingBufferOverflow()),new Error("sending buffer overflow");this.sendHeartbeatDelayer.refreshAndInvokeAfterInterval(this.akkoSocket.params.heartbeatInterval),this.chanel.sendPackage(e,t)},e.prototype.checkBufferedAmountOverflow=function(){var e=!1,t=this.akkoSocket.params,n=t.sendingBufferLimitDuration,r=this.chanel,i=r.bufferedAmount,o=r.maxPackageBytesInLatestThree;if(i>t.sendingBufferCrash+o)e=!0;else if(i>t.sendingBufferLimit+o){var a=Date.now();this.isLimit?a-this.becameLimitTimestamp>n&&(this.isLimit=!1,e=!0):(this.isLimit=!0,this.becameLimitTimestamp=a)}else this.isLimit=!1;return e},e.prototype.dispatchClose=function(e){var t=JSON.stringify(e);this.chanel.sendPackage("close",t)},e.prototype.start=function(){this.isWorking||(this.isWorking=!0,this.delayRemoteHeartbeatTimeoutChecking(),this.sendHeartbeatDelayer.refreshAndInvokeAfterInterval(this.akkoSocket.params.heartbeatInterval),this.chanel.sendPackage("setHeartbeatTimeout",this.akkoSocket.params.heartbeatTimeout),this.cleanReceivedWhenNotWorkingBuffer())},e.prototype.cleanReceivedWhenNotWorkingBuffer=function(){var e=this.receivedWhenNotWorkingBuffer.splice(0,this.receivedWhenNotWorkingBuffer.length);if(e.length>0)try{for(var t=0,n=e;t<n.length;t++)this.handleReceivedPackage(n[t])}finally{this.delayRemoteHeartbeatTimeoutChecking()}},e.prototype.stop=function(){this.isWorking&&(this.isWorking=!1,this.sendHeartbeatDelayer.cancel(),this.remoteHeartbeatTimeoutDelayer.cancel(),this.remoteHeartbeatTimeout=void 0)},e.prototype.handleReceivedPackage=function(t){if(e.sessionEventTypesMap.hasType(t.type)){if("setHeartbeatTimeout"===t.type)"number"==typeof t.data&&t.data>0?this.remoteHeartbeatTimeout=t.data:this.logger.warn("illegal remote heartbeat timeout: "+t.data);else if("close"===t.type){var n=void 0;if("string"==typeof t.data)try{n=JSON.parse(t.data)}catch(e){this.logger.warn("parse close payload as JSON failed: "+e.message)}this.callbacks.onCloseByRemote(n)}}else this.callbacks.onEvent(t.type,t.data)},e.prototype.delayRemoteHeartbeatTimeoutChecking=function(){this.remoteHeartbeatTimeoutDelayer.refreshAndInvokeAfterInterval(void 0===this.remoteHeartbeatTimeout?this.akkoSocket.params.heartbeatTimeout:this.remoteHeartbeatTimeout)},e.sessionEventTypesMap=i.TypesMap.create(["heartbeat","setHeartbeatTimeout","close"]),e}();t.SessionChannel=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(12)),r(n(13)),r(n(14))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.sockets=[],this.logger=e}return Object.defineProperty(e.prototype,"socketsCount",{get:function(){return this.sockets.length},enumerable:!0,configurable:!0}),e.prototype.addSocket=function(e){-1===this.sockets.indexOf(e)&&this.sockets.push(e)},e.prototype.removeSocket=function(e){var t=this.sockets.indexOf(e);-1!==t&&this.sockets.splice(t,1)},e.prototype.forEachSockets=function(e){this.sockets.forEach(e)},e.prototype.emit=function(e,t){for(var n=0,r=this.sockets;n<r.length;n++){var i=r[n];try{i.emit(e,t)}catch(e){this.logger.error(e)}}},e}();t.CombinedSockets=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(5),a=n(1),s=n(3),c=function(){function e(e){this.eventTypesMap=a.SessionChannel.sessionEventTypesMap.extendsTypesMap(i.TypesMap.create(e))}return e.prototype.createSocket=function(t,n,i){return void 0===i&&(i={}),new o.AkkoSocketImplement(t,n,this.eventTypesMap,r(r({},e.defaultSocketParams),i))},e.prototype.createCombinedSockets=function(e){return new s.CombinedSockets(e)},e.defaultSocketParams=Object.freeze({heartbeatInterval:4e4,heartbeatTimeout:12e4,sendingBufferLimit:5242880,sendingBufferLimitDuration:3e4,sendingBufferCrash:104857600,onDisconnect:function(){},onPhaseChanged:function(){}}),e}();t.AkkoSocketFactory=c,function(e){e.Connecting="connecting",e.Connected="connected",e.Disconnecting="disconnecting",e.Disconnected="disconnected"}(t.AkkoSocketPhase||(t.AkkoSocketPhase={})),function(e){e.Normal="normal",e.WebSocketError="webSocketError",e.CommunicationError="communicationError",e.RemoteError="remoteError"}(t.AkkoSocketDisconnectReason||(t.AkkoSocketDisconnectReason={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var c=n(10),u=n(4),l=n(1),p=n(15),d=function(e){function t(t,n,r,i){var a=e.call(this)||this;return a.connectingManager=null,a.connectFailError=void 0,a.onError=function(){a.logger.warn("websocket received error")},a.onCloseByRemote=function(e){if(a._phase===u.AkkoSocketPhase.Connected){a.sessionChannel.stop(),a.closeSocket(1e3),a.updatePhase(u.AkkoSocketPhase.Disconnected);var t=e&&e.error;a.params.onDisconnect(t?{reason:u.AkkoSocketDisconnectReason.RemoteError,message:t,remoteCode:e.errorCode}:{reason:u.AkkoSocketDisconnectReason.Normal,message:e&&e.reason||"ok"})}},a.onClose=function(e){var t=e.code,n=void 0===t?1e3:t,r=e.reason;if(a._phase===u.AkkoSocketPhase.Connected){var i=a.errorMessageWithCode(n)||"disconnected with code "+n+' "'+r+'"';a.sessionChannel.stop(),a.updatePhase(u.AkkoSocketPhase.Disconnected),a.params.onDisconnect({reason:u.AkkoSocketDisconnectReason.WebSocketError,message:i,webSocketCode:n})}},a.socket=t,a.socket.binaryType="arraybuffer",a.logger=n,a.params=Object.freeze(o({},i)),a.sessionChannel=new l.SessionChannel(a,t,n,r,{onCloseByRemote:a.onCloseByRemote,onEvent:function(e,t){return a.dispatchToListeners(e,t)},onRemoteHeartbeatTimeout:function(){return a.onCommunicationErrorMessage("remote heartbeat timeout")},onSendingBufferOverflow:function(){return a.onCommunicationErrorMessage("sending buffer overflow")},onParseMessageFailed:function(e){return a.onCommunicationErrorMessage("parse message failed: "+e.message)}}),a.initializePhaseWithSocketReadyState(),a}return i(t,e),t.prototype.initializePhaseWithSocketReadyState=function(){switch(this.socket.readyState){case c.ReadyState.CONNECTING:this._phase=u.AkkoSocketPhase.Connecting,this.connect();break;case c.ReadyState.OPEN:this._phase=u.AkkoSocketPhase.Connected,this.addSessionListeners(),this.sessionChannel.start();break;default:var e=c.ReadyState[this.socket.readyState];throw e||(e=""+this.socket.readyState),new Error("invalid readyState of WebSocket: "+e)}},Object.defineProperty(t.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),t.prototype.updatePhase=function(e){if(this._phase!==e)try{this.params.onPhaseChanged(e)}finally{this._phase=e}},t.prototype.emit=function(e,t){if(this._phase!==u.AkkoSocketPhase.Connected)throw new Error("AkkoSocket can't emit when phase is "+this.phase);try{this.sessionChannel.send(e,t)}catch(e){throw this.disconnectForceWithCode(1e3),this.params.onDisconnect({reason:u.AkkoSocketDisconnectReason.WebSocketError,message:e.message}),e}},t.prototype.connect=function(){return a(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),this.connectingManager=new p.ConnectingManager(this.socket,this.logger),[4,this.connectingManager.waitToConnected()];case 1:return t.sent(),this.addSessionListeners(),this.sessionChannel.start(),this.updatePhase(u.AkkoSocketPhase.Connected),[3,4];case 2:return e=t.sent(),this.updatePhase(u.AkkoSocketPhase.Disconnected),this.connectFailError=e,[3,4];case 3:return this.connectingManager=null,[7];case 4:return[2]}}))}))},t.prototype.addSessionListeners=function(){this.socket.addEventListener("close",this.onClose),this.socket.addEventListener("error",this.onError)},t.prototype.waitToConnected=function(){if(this.connectFailError)throw this.connectFailError;if(this._phase===u.AkkoSocketPhase.Connected)return Promise.resolve();if(this._phase===u.AkkoSocketPhase.Connecting)return this.connectingManager.waitToConnected();throw new Error("AkkoSocket's phase had became "+this._phase)},t.prototype.disconnect=function(e){return e?this.disconnectWithCodeAndReason({reason:e}):this.disconnectWithCodeAndReason()},t.prototype.disconnectWithErrorDescription=function(e){return this.disconnectWithCodeAndReason({error:e.message,errorCode:e.code})},t.prototype.disconnectForce=function(){this._phase===u.AkkoSocketPhase.Connected&&this.disconnectForceWithCode(1e3)},t.prototype.disconnectForceWithCode=function(e){this.sessionChannel.stop(),this.closeSocket(e),this.updatePhase(u.AkkoSocketPhase.Disconnected)},t.prototype.disconnectWithCodeAndReason=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:if(this.didCallDisconnect)throw new Error("AkkoSocket did call disconnect");switch(this.didCallDisconnect=!0,t=!0,this._phase){case u.AkkoSocketPhase.Disconnecting:case u.AkkoSocketPhase.Disconnected:return[3,1];case u.AkkoSocketPhase.Connecting:return[3,2]}return[3,6];case 1:throw new Error("AkkoSocket can't disconnect when phase is "+this.phase);case 2:return n.trys.push([2,4,,5]),[4,this.waitToConnected()];case 3:return n.sent(),[3,5];case 4:return n.sent(),t=!1,[3,5];case 5:return[3,6];case 6:return t?(this.updatePhase(u.AkkoSocketPhase.Disconnecting),this.sessionChannel.dispatchClose(e),[4,this.waitUtilCloseAndCheckTimeout()]):[3,8];case 7:n.sent()&&this.closeSocket(1e3),this.sessionChannel.stop(),this.updatePhase(u.AkkoSocketPhase.Disconnected),n.label=8;case 8:return[2]}}))}))},t.prototype.waitUtilCloseAndCheckTimeout=function(){var e=this,t=null,n=new Promise((function(e){t=setTimeout((function(){t=null,e(!0)}),3e3)})),r=new Promise((function(t){e.socket.readyState===c.ReadyState.CLOSED?t(!1):e.socket.addEventListener("close",(function(){return t(!1)}))}));return Promise.race([n,r]).then((function(e){return null!==t&&clearTimeout(t),e}))},t.prototype.onCommunicationErrorMessage=function(e){this._phase===u.AkkoSocketPhase.Connected&&(this.disconnectForce(),this.params.onDisconnect({reason:u.AkkoSocketDisconnectReason.CommunicationError,message:e}))},t.prototype.closeSocket=function(e){try{this.socket.close(e)}catch(e){this.logger.error(e)}},t.prototype.errorMessageWithCode=function(e){switch(e){case 1e3:return"CLOSE_NORMAL";case 1001:return"CLOSE_GOING_AWAY";case 1002:return"CLOSE_PROTOCOL_ERROR";case 1003:return"CLOSE_UNSUPPORTED";case 1005:return"CLOSE_NO_STATUS";case 1006:return"CLOSE_ABNORMAL";case 1007:return"Unsupported Data";case 1008:return"Policy Violation";case 1009:return"CLOSE_TOO_LARGE";case 1010:return"Missing Extension";case 1011:return"Internal Error";case 1012:return"Service Restart";case 1013:return"Try Again Later";case 1015:return"TLS Handshake";default:return}},t}(n(2).EventsManagers);t.AkkoSocketImplement=d},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(2),a=n(7),s=function(){function e(e,t,n){var r=this;this.typesMap=e,this.socket=t,this.receiver=n,this.latestThreePackageBytes=[0,0,0],this.nextSelfPackageId=0,this._latestReceivedRemoteId=-1,this.onMessage=function(e){try{if(r.receivedPackageHeadBuffer){var t=r.receivedPackageHeadBuffer,n=i.wrapBuffer(e.data),o=r.parsePackage(t,n);r._latestReceivedRemoteId=Math.max(o.id,r._latestReceivedRemoteId),r.receivedPackageHeadBuffer=void 0,r.receiver(null,o)}else r.receivedPackageHeadBuffer=i.wrapBuffer(e.data)}catch(e){r.receiver(e,null)}},t.binaryType="arraybuffer",t.addEventListener("message",this.onMessage)}return Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return this.socket.bufferedAmount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxPackageBytesInLatestThree",{get:function(){return Math.max.apply(Math,r([0],this.latestThreePackageBytes))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latestReceivedRemoteId",{get:function(){return this._latestReceivedRemoteId},enumerable:!0,configurable:!0}),e.prototype.sendPackage=function(e,t){void 0===t&&(t=0);var n=Object.freeze({id:this.nextSelfPackageId,receivedId:this._latestReceivedRemoteId,type:e,data:t});this.nextSelfPackageId++;var r=this.createPackageHead(n),i=this.wrapPackageData(n.data),o=r.byteLength+i.byteLength;return this.socket.send(r.primitiveBuffer),this.socket.send(i.primitiveBuffer),this.latestThreePackageBytes[0]=this.latestThreePackageBytes[1],this.latestThreePackageBytes[1]=this.latestThreePackageBytes[2],this.latestThreePackageBytes[2]=o,n.id},e.prototype.createPackageHead=function(e){var t=i.createBuffer(18);return o.setInt64(t,0,e.id),o.setInt64(t,8,e.receivedId),t.setUint8(16,this.typesMap.findTypeId(e.type)),t.setUint8(17,a.findDataTypeWith(e.data)),t},e.prototype.wrapPackageData=function(e){if("string"==typeof e){for(var t=new String(e),n=i.createBuffer(2*t.length),r=0;r<t.length;++r)n.setUint16(2*r,65535&t.charCodeAt(r));return n}return"number"==typeof e?(n=i.createBuffer(8),o.setInt64(n,0,e),n):e},e.prototype.parsePackage=function(e,t){var n,r=o.getInt64(e,0),i=o.getInt64(e,8),s=e.getUint8(16),c=e.getUint8(17);switch(c){case a.PackageDataType.String:for(var u=t.byteLength/2,l=[],p=0;p<u;++p)l[p]=t.getUint16(2*p);n=String.fromCharCode.apply(String,l);break;case a.PackageDataType.Integer:n=o.getInt64(t,0);break;case a.PackageDataType.Buffer:n=t;break;default:throw new Error("unrecognized data type "+c)}return Object.freeze({id:r,receivedId:i,type:this.typesMap.findTypeById(s),data:n})},e}();t.PackagesChannel=s},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Buffer=0]="Buffer",e[e.String=1]="String",e[e.Integer=2]="Integer"}(r=t.PackageDataType||(t.PackageDataType={})),t.findDataTypeWith=function(e){switch(typeof e){case"number":return r.Integer;case"string":return r.String;default:return r.Buffer}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.CombinedSockets=r.CombinedSockets;var i=n(9);t.AkkoSocketPhase=i.AkkoSocketPhase,t.AkkoSocketDisconnectReason=i.AkkoSocketDisconnectReason,t.AkkoSocketFactory=i.AkkoSocketFactory},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(4)),r(n(5)),r(n(7)),r(n(6)),r(n(0)),r(n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(t.ReadyState||(t.ReadyState={}))},function(e,t){e.exports=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.invoker=e,this.timer=null,this.invokeWhenTimeout=function(){t.timer=null,t.invoker()}}return e.prototype.refreshAndInvokeAfterInterval=function(e){null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.invokeWhenTimeout,e)},e.prototype.cancel=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e}();t.Delayer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.eventListeners={}}return e.prototype.on=function(e,t){var n=this.eventListeners[e];n||(this.eventListeners[e]=n=[]),-1===n.indexOf(t)&&n.push(t)},e.prototype.off=function(e,t){var n=this.eventListeners[e];if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this.eventListeners[e])}},e.prototype.once=function(e,t){var n=this;this.on(e,(function r(i){try{t(i)}finally{n.off(e,r)}}))},e.prototype.dispatchToListeners=function(e,t){var n=this.eventListeners[e];if(n)for(var r=0,i=n;r<i.length;r++){var o=i[r];try{o(t)}catch(e){console.error(e)}}},e}();t.EventsManagers=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.pow(2,32);t.setInt64=function(e,t,n){var i=n%r,o=(n-i)/r;e.setInt32(t,i),e.setInt32(t+4,o)},t.getInt64=function(e,t){var n=e.getInt32(t);return e.getInt32(t+4)*r+n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=this;this.socket=e,this.logger=t,this.paddingExecutors=[],this.isConnecting=!0,this.onOpen=function(){if(n.isConnecting){n.finishConnecting();for(var e=0,t=n.paddingExecutors.splice(0);e<t.length;e++)t[e].resolve()}},this.onError=function(e){if(n.isConnecting){n.finishConnecting();for(var t=new Error(e.message||"connect failed"),r=0,i=n.paddingExecutors.splice(0);r<i.length;r++)i[r].reject(t)}},this.onTimeout=function(){if(n.isConnecting){n.finishConnecting();for(var e=new Error("timeout"),t=0,r=n.paddingExecutors.splice(0);t<r.length;t++)r[t].reject(e);try{n.socket.close(1e3)}catch(e){n.logger.error(e)}}},e.addEventListener("open",this.onOpen),e.addEventListener("error",this.onError),this.timeoutTimer=setTimeout(this.onTimeout,25e3)}return e.prototype.waitToConnected=function(){var e=this;return new Promise((function(t,n){e.paddingExecutors.push({resolve:t,reject:n})}))},e.prototype.finishConnecting=function(){this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.socket.removeEventListener("open",this.onOpen),this.socket.removeEventListener("error",this.onError),this.isConnecting=!1,this.timeoutTimer=null},e}();t.ConnectingManager=r}]))},function(e,t){e.exports=n("VdUG")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var s,c=n(65),u=n(2),l=n(0),p=n(66),d=n(1),h=n(5),f=n(67),m=n(25),g=n(35),y=n(6),v=n(19),b=n(104),A=n(7),x=n(106),w=n(8);!function(e){e.Desktop="desktop",e.Phone="phone",e.Pad="pad",e.TV="tv"}(s=t.ScreenType||(t.ScreenType={}));var _=function(){function e(t){if(this.assertAppIdentifier(t.appIdentifier),t.deviceType&&t.screenType)this.deviceType=t.deviceType,this.screenType=t.screenType;else if(t.deviceType&&!t.screenType)this.deviceType=t.deviceType,this.screenType=t.deviceType===d.DeviceType.Desktop?s.Desktop:s.Phone;else if(!t.deviceType&&t.screenType)this.deviceType=t.screenType===s.Desktop?d.DeviceType.Desktop:d.DeviceType.Touch,this.screenType=t.screenType;else switch(c.default.deviceType){case"mouseOnly":this.deviceType=d.DeviceType.Desktop,this.screenType=s.Desktop;break;case"touchOnly":this.deviceType=d.DeviceType.Touch,this.screenType=s.Phone;break;case"hybrid":this.deviceType=d.DeviceType.Surface,this.screenType=s.Desktop}this.renderEngine=t.renderEngine===A.RenderEngine.SVG||this.isCanvasRenderEngineAvailable()?t.renderEngine?t.renderEngine:A.RenderEngine.Canvas:A.RenderEngine.SVG,this.pptParams=t.pptParams,this.loggerFactory=new b.WhiteLoggerFactory(t.appIdentifier,t.loggerOptions),this.akkoApp=new l.AkkoApp({appIdentifier:t.appIdentifier,observerAdapter:new p.MobXObserverAdapter,clientVersion:h.environment.sdkVersion,enableAnimationFrame:!0,jsxFactory:u.createElement,escapeObjectFilter:u.isValidElement,reconnectionOptions:t.reconnectionOptions,netStateAdapter:e.netState,convertIdToUrl:t.urlInterrupter||function(e){return e},configsInterrupter:x.configsInterrupter,shuntApiHosts:h.environment.shuntApiHosts,onAkkoSetupFailed:t.onWhiteSetupFailed}),this.preloadDynamicPPT=!!t.preloadDynamicPPT,this.fonts=Object.freeze(r({},t.fonts)),this.handToolKey=t.handToolKey,this.fontFamily=t.fontFamily,this.urlInterrupter=t.urlInterrupter||function(e){return e},this.boundless=new d.Boundless(this.deviceType),this.plugins=this.assertPlugins(t.plugins),this.invisiblePlugins=this.assertInvisiblePlugins(t.invisiblePlugins),this.wrappedComponents=Object.freeze(t.wrappedComponents?a(t.wrappedComponents):[]),this.useMobXState=!!t.useMobXState,this.onlyCallbackRemoteStateModify=!!t.onlyCallbackRemoteStateModify}return e.prototype.joinRoom=function(e,t){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,(n=new w.RoomImplement({logger:this.loggerFactory.createRealtimeLogger(e.uuid),boundless:this.boundless,screenType:this.screenType,renderEngine:this.renderEngine,autoResize:!e.disableAutoResize,plugins:this.plugins,invisiblePlugins:this.mergeArray(this.invisiblePlugins,this.assertInvisiblePlugins(e.invisiblePlugins)),wrappedComponents:this.mergeArray(this.wrappedComponents,e.wrappedComponents),akkoApp:this.akkoApp,preloadDynamicPPT:this.preloadDynamicPPT,userFonts:this.fonts,handToolKey:this.handToolKey,fontFamily:this.fontFamily,cameraBound:this.standardizeCameraBound(e.cameraBound),userPayload:e.userPayload,disableDeviceInputs:!!e.disableDeviceInputs,disableCameraTransform:e.disableCameraTransform,disableEraseImage:!!e.disableEraseImage,onlyCallbackRemoteStateModify:this.onlyCallbackRemoteStateModify,cursorAdapter:e.cursorAdapter,hotKeys:e.hotKeys,rejectWhenReadonlyErrorLevel:e.rejectWhenReadonlyErrorLevel,eraserRadiusCursor:new y.EraserRadiusCursor(this.loggerFactory.createLogger()),urlInterrupter:this.urlInterrupter,pptParams:this.pptParams,useMobXState:this.useMobXState,floatBarOptions:g.standardizeFloatBarOptions(e.floatBar),callbacks:t})).connect({uuid:e.uuid,roomToken:e.roomToken,userPayload:e.userPayload,deviceType:this.deviceType,isWritable:void 0===e.isWritable||!!e.isWritable,disableBezier:e.disableBezier})];case 1:return r.sent(),[2,n]}}))}))},e.prototype.isPlayable=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.akkoApp.searchSlices(e)];case 1:return[2,t.sent().length>0]}}))}))},e.prototype.replayRoom=function(e,t){return i(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,(n=new w.PlayerImplement({logger:this.loggerFactory.createPlayerLogger(),boundless:this.boundless,screenType:this.screenType,renderEngine:this.renderEngine,autoResize:!e.disableAutoResize,plugins:this.plugins,invisiblePlugins:this.mergeArray(this.invisiblePlugins,this.assertInvisiblePlugins(e.invisiblePlugins)),wrappedComponents:this.mergeArray(this.wrappedComponents,e.wrappedComponents),preloadDynamicPPT:this.preloadDynamicPPT,userFonts:this.fonts,handToolKey:this.handToolKey,fontFamily:this.fontFamily,cameraBound:this.standardizeCameraBound(e.cameraBound),onlyCallbackRemoteStateModify:this.onlyCallbackRemoteStateModify,disableCameraTransform:e.disableCameraTransform,cursorAdapter:e.cursorAdapter,eraserRadiusCursor:new y.EraserRadiusCursor(this.loggerFactory.createLogger()),urlInterrupter:this.urlInterrupter,pptParams:this.pptParams,useMobXState:this.useMobXState,callbacks:t})).setupReconstructor({akkoApp:this.akkoApp,mediaURL:e.mediaURL,slice:e.slice,room:e.room,beginTimestamp:e.beginTimestamp,duration:e.duration})];case 1:return r.sent(),[2,n]}}))}))},e.prototype.pptConverter=function(e){return new m.LegacyPPTConverterImplement(e)},e.prototype.standardizeCameraBound=function(e){return void 0===e&&(e={}),r({maxContentMode:w.contentModeScale(10),minContentMode:w.contentModeScale(.1),width:1/0,height:1/0},e)},e.prototype.isCanvasRenderEngineAvailable=function(){var e=document.createElement("canvas");if(void 0===e)return!1;var t=e.getContext("2d");if(null===t)return!1;for(var n=0,r=["setTransform","translate","scale","drawImage","getTransform","resetTransform","clearRect","fillStyle","lineWidth","strokeStyle","lineJoin","lineCap","beginPath","moveTo","quadraticCurveTo","bezierCurveTo","stroke","lineTo","arc","fill","ellipse","setLineDash","strokeRect","closePath"];n<r.length;n++)if(!(r[n]in t))return!1;return!0},e.prototype.assertAppIdentifier=function(e){if(!/^[0-9a-zA-Z\-_]+\/[0-9a-zA-Z\-_]+$/.test(e))throw new Error("find invalid appIdentifier: "+JSON.stringify(e))},e.prototype.assertPlugins=function(e){var t;return e&&(e instanceof v.PluginsImplement?t=e:console.warn("plugins is not instance of Plugins. plugins will not be working. you should call createPlugins() to create it")),t||(t=new v.PluginsImplement({})),t},e.prototype.assertInvisiblePlugins=function(e){var t=[];if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];this.isValidInvisiblePluginClass(i)&&t.push(i)}return Object.freeze(t)},e.prototype.isValidInvisiblePluginClass=function(e){if("string"!=typeof e.kind)return console.warn("invisible plugin class is invalid. expect `public static readonly kind: string = 'xxx';`"),!1;for(var t=e.prototype;null!==t;){if(t===v.InvisiblePlugin.prototype)return!0;t=Object.getPrototypeOf(t)}return console.warn("invisible plugin class is not extends InvisiblePlugin"),!1},e.prototype.mergeArray=function(e,t){var n=a(e);if(t)for(var r=0,i=t;r<i.length;r++){var o=i[r];-1===e.indexOf(o)&&n.push(o)}return n},e.netState=new f.NetState,e}();t.WhiteWebSdk=_},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(26)),r(n(103))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(27),s=n(6);!function(e){e.Dynamic="dynamic",e.Static="static"}(t.PPTKind||(t.PPTKind={})),function(e){e.Waiting="Waiting",e.Converting="Converting"}(t.PPTTaskStatus||(t.PPTTaskStatus={})),function(e){e.Extracting="Extracting",e.Packaging="Packaging",e.GeneratingPreview="GeneratingPreview",e.MediaTranscode="MediaTranscode"}(t.PPTTaskStep||(t.PPTTaskStep={})),t.createPPTTask=function(e){return new c(e)};var c=function(){function e(t){this.pptPromise=null,this.uuid=t.uuid,this.kind=t.kind,this.taskToken=t.taskToken,this.checkProgressInterval=t.checkProgressInterval||e.defaultCheckProgressInterval,this.checkProgressTimeout=t.checkProgressTimeout||e.defaultCheckProgressTimeout,this.callbacks=new s.CallbacksImplement(t.callbacks)}return e.prototype.checkUtilGet=function(){var e=this;return this.pptPromise||(this.pptPromise=this.getPPTResult(),this.pptPromise.then((function(t){e.callbacks.dispatch("onTaskSuccess",(function(e){return e(t)}))})).catch((function(t){e.callbacks.dispatch("onTaskFail",(function(e){return e(t)}))}))),this.pptPromise},e.prototype.getPPTResult=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o;return i(this,(function(a){switch(a.label){case 0:e=!1,t=Date.now(),n=function(){var n,o,a,s;return i(this,(function(i){switch(i.label){case 0:return n=Date.now(),[4,r.fetchProgress(r.uuid,r.kind,r.taskToken)];case 1:switch((o=i.sent()).status){case"Waiting":case"Converting":r.updateProgress(o);break;case"Finished":return e||r.updateProgress(o),[2,{value:r.toPPT(o)}];case"Fail":throw new Error(o.failedReason)}if((a=n+r.checkProgressInterval)>=t+r.checkProgressTimeout)throw new Error("timeout");return o.progress.convertedPageSize>=o.progress.totalPageSize&&(e=!0),(s=a-Date.now())>0?[4,new Promise((function(e){return setTimeout(e,s)}))]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))},r=this,a.label=1;case 1:return[5,n()];case 2:return"object"==typeof(o=a.sent())?[2,o.value]:[3,1];case 3:return[2]}}))}))},e.prototype.updateProgress=function(e){var t=Object.freeze({status:e.status,currentStep:e.progress.currentStep,totalPageSize:e.progress.totalPageSize,convertedPageSize:e.progress.convertedPageSize,convertedPercentage:e.progress.convertedPercentage});this.callbacks.dispatch("onProgressUpdated",(function(e){return e(t)}))},e.prototype.toPPT=function(e){for(var t=e.progress.convertedFileList,n=[],r=0,i=0,o=0;o<t.length;++o){var a=t[o],s={name:""+(o+1),ppt:{src:a.conversionFileUrl,previewURL:a.preview,width:a.width,height:a.height}};r=Math.max(r,a.width),i=Math.max(i,a.height),n.push(s)}return{uuid:this.uuid,kind:this.kind,width:r,height:i,scenes:n}},e.prototype.fetchProgress=function(t,n,a){return r(this,void 0,void 0,(function(){var r,s,c,u;return i(this,(function(i){switch(i.label){case 0:return r="http://ppt-api/v5/services/conversion/tasks/"+t,s=o.stringify({type:n}),[4,e.apiFetch(r+"?"+s,{method:"get",headers:{"content-type":"application/json",token:a}})];case 1:return 200===(c=i.sent()).status?[3,3]:[4,c.json()];case 2:throw u=i.sent(),new Error(u.error.title);case 3:return[4,c.json()];case 4:return[2,i.sent()]}}))}))},e.apiFetch=a.fetcher.fetch("api"),e.defaultCheckProgressInterval=1500,e.defaultCheckProgressTimeout=3e5,e}();t.PPTTaskImplement=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(5);t.fetcher=new r.AkkoFetcher({fetcher:window.fetch.bind(window),retryCount:2,retryLoopsCount:0,configmap:{hosts:{api:i.environment.shuntApiHosts,"ppt-assets":i.environment.hosts.pptAssets,"ppt-api":i.environment.hosts.pptApi}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEquals=function e(t,n){if(typeof t!=typeof n)return!1;if("object"!=typeof t||null===t)return t===n;if(t.constructor!==n.constructor)return!1;if(t.constructor===Object){for(var r in t){if(!(r in n))return!1;if(!e(t[r],n[r]))return!1}for(var r in n)if(!(r in t))return!1;return!0}if(t.constructor===Array){var i=t;if(i.length!==n.length)return!1;for(var o=0;o<i.length;++o)if(!e(t[o],n[o]))return!1;return!0}return!0}},function(e,t,n){"use strict";function r(e){return function(t,n){var r=Math.max(t.width/n.width,t.height/n.height)*e;return Number.isNaN(r)?1:r}}function i(e,t){return function(n,r){var i=Math.min(n.width/(r.width+2*t),n.height/(r.height+2*t))*e;return Number.isNaN(i)||i===1/0?0:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.contentModeScale=function(e){return function(){return e}},t.contentModeAspectFill=function(){return r(1)},t.contentModeAspectFillScale=r,t.contentModeAspectFit=function(){return i(1,0)},t.contentModeAspectFitSpace=function(e){return i(1,e)},t.contentModeAspectFitScale=function(e){return i(e,0)};var o=function(){function e(e,t){this._cameraBound=t,this.cameraman=e.bindCameraman(this.toCameraBorder(t))}return Object.defineProperty(e.prototype,"cameraBound",{get:function(){return this._cameraBound},enumerable:!0,configurable:!0}),e.prototype.setScreenSize=function(e){this.screenSize&&this.screenSize.width===e.width&&this.screenSize.height===e.height||(this.screenSize=e,this.setCameraBound({maxContentMode:this.maxContentMode,minContentMode:this.minContentMode}))},e.prototype.setCameraBound=function(e){this._cameraBound=e,this.cameraman.setCameraBorder(this.toCameraBorder(e))},e.prototype.toCameraBorder=function(e){var t=e.damping,n=e.centerX,r=e.centerY,i=e.width,o=e.height,a=this.boundSize(i,o);this.maxContentMode=e.maxContentMode,this.minContentMode=e.minContentMode;var s=1/0,c=0;return this.screenSize&&(this.maxContentMode&&(s=this.maxContentMode(this.screenSize,a)),this.minContentMode&&(c=this.minContentMode(this.screenSize,a))),function(e){for(var t in e)void 0===e[t]&&delete e[t];return e}({damping:t,centerX:n,centerY:r,width:i,height:o,maxScale:s,minScale:c})},e.prototype.boundSize=function(e,t){return this.cameraman?{width:void 0===e?this.cameraman.cameraBorder.width:e,height:void 0===t?this.cameraman.cameraBorder.height:t}:{width:void 0===e?1/0:e,height:void 0===t?1/0:t}},e}();t.CameraBoundState=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateEmptyImage=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.toDataURL("screenshot")}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function o(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return window.createImageBitmap?[2,window.createImageBitmap(e)]:[2,new Promise((function(t,n){var r=URL.createObjectURL(e),i=document.createElement("img");i.addEventListener("load",(function(){URL.revokeObjectURL(i.src),t(i)})),i.src=r}))]}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCanvasImageSource=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a;return i(this,(function(i){switch(i.label){case 0:t=3,n=null,r=null,a=0,i.label=1;case 1:if(!(a<t))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,fetch(e)];case 3:return n=i.sent(),[3,5];case 4:return i.sent(),r=r,[3,6];case 5:if(200===n.status)return[3,7];throw new Error("fetch "+JSON.stringify(e)+" failed with status "+n.status);case 6:return++a,[3,1];case 7:if(r)throw r;return[4,n.blob()];case 8:return[4,o(i.sent())];case 9:return[2,i.sent()]}}))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Connecting="connecting",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnecting="disconnecting",e.Disconnected="disconnected"}(t.RoomPhase||(t.RoomPhase={})),function(e){e.ThrowError="throwError",e.Warn="warn",e.Ignore="ignore"}(t.RoomErrorLevel||(t.RoomErrorLevel={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(0),s=n(1),c=n(7),u=function(){function e(e){var t=this;this.isReadonlyMode=!1,this.isOverrideWithFreedom=!1,this.overrideDisposer=null,this.previousRectangle=null,this.onCameraUpdate=function(e){e.centerX===t._cameraState.centerX&&e.centerY===t._cameraState.centerY&&e.scale===t._cameraState.scale||(t._cameraState=Object.freeze(r(r({},t._cameraState),e))),t._zoomScale!==t.screen.camera.scale&&(t._zoomScale=t.screen.camera.scale)},this.onSizeUpdate=function(e){e.width===t._cameraState.width&&e.height===t._cameraState.height||(t._cameraState=Object.freeze(r(r({},t._cameraState),e)))},this.applianceManager=e.applianceManager,this.screen=e.screen,this.screen.addCameraUpdatedListener(this.onCameraUpdate),this.screen.addSizeUpdatedListener(this.onSizeUpdate),this._zoomScale=e.screen.camera.scale,this._cameraState=Object.freeze(r(r({},e.screen.camera),{width:e.screen.width,height:e.screen.height})),this.disposers=Object.freeze([o.when((function(){return t.getCurrentMode()===c.ViewMode.Follower}),(function(){return t.refreshCameraRectangle()})),o.when((function(){return t.getCurrentMode()!==c.ViewMode.Follower}),(function(){return t.previousRectangle=null}))])}return Object.defineProperty(e.prototype,"zoomScale",{get:function(){return this._zoomScale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cameraState",{get:function(){return this._cameraState},enumerable:!0,configurable:!0}),e.prototype.release=function(){this.overrideDisposer&&(this.overrideDisposer(),this.overrideDisposer=null);for(var e=0,t=this.disposers;e<t.length;e++)(0,t[e])();this.screen.removeCameraUpdatedListener(this.onCameraUpdate),this.screen.removeSizeUpdatedListener(this.onSizeUpdate)},e.prototype.setReadonlyMode=function(e){this.isReadonlyMode!==e&&(this.isReadonlyMode=e,this.overrideDisposer&&!e&&(this.overrideDisposer(),this.overrideDisposer=null))},e.prototype.overrideWithFreedom=function(e){var t=this;this.isReadonlyMode&&this.isOverrideWithFreedom!==e&&(this.isOverrideWithFreedom=e,e?this.overrideDisposer=o.when((function(){return t.applianceManager.getViewState().mode===c.ViewMode.Freedom}),(function(){t.isReadonlyMode&&t.isOverrideWithFreedom&&(t.isOverrideWithFreedom=!1),t.overrideDisposer=null})):this.overrideDisposer&&(this.overrideDisposer(),this.overrideDisposer=null))},e.prototype.getBroadcastState=function(){var e=this.applianceManager,t=a.copy(e.getBroadcasterId()),n=void 0;if(void 0!==t)for(var r=0,i=e.getMemberDisplayers();r<i.length;r++){var o=i[r];if(o.memberId===t){n=a.copy(o.information);break}}return{mode:this.getCurrentMode(),broadcasterId:t,broadcasterInformation:n}},e.prototype.getCurrentMode=function(){return this.isReadonlyMode&&this.isOverrideWithFreedom?c.ViewMode.Freedom:this.applianceManager.getViewState().mode},e.prototype.refreshCameraRectangle=function(){var e=this.applianceManager.getViewState(),t=e.originX,n=e.originY,i=e.width,o=e.height,a={originX:t,originY:n,width:i,height:o};this.previousRectangle&&this.previousRectangle.originX===t&&this.previousRectangle.originY===n&&this.previousRectangle.width===i&&this.previousRectangle.height===o||(this.screen.adaptRectangle(r(r({},a),{animationMode:s.AnimationMode.Continuous,adapterMode:s.RectangleAdapterMode.Centering})),this.previousRectangle=a)},i([o.observable],e.prototype,"_zoomScale",void 0),i([o.observable],e.prototype,"_cameraState",void 0),i([o.observable],e.prototype,"isReadonlyMode",void 0),i([o.observable],e.prototype,"isOverrideWithFreedom",void 0),i([o.action],e.prototype,"setReadonlyMode",null),i([o.action],e.prototype,"overrideWithFreedom",null),i([o.action],e.prototype,"onCameraUpdate",void 0),i([o.action],e.prototype,"onSizeUpdate",void 0),e}();t.ViewStateObserver=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(91))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);t.FloatBar=r.FloatBar;var i=n(97);t.standardizeFloatBarOptions=i.standardizeFloatBarOptions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.iconURL=function(e){return"https://"+r.environment.hosts.resource+"/resource/float-bar/"+e+".svg"}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.divRef=a.createRef(),n.onMouseDown=function(e){var r=n.divRef.current,i=e.target;r&&!t.isEventFiredOnElement(i,r)&&n.props.onShouldBecomeHide(i)},n}return i(t,e),t.prototype.componentWillMount=function(){document.body.addEventListener("mousedown",this.onMouseDown)},t.prototype.componentWillUnmount=function(){document.body.removeEventListener("mousedown",this.onMouseDown)},t.isEventFiredOnElement=function(e,t){for(;e;){if(e===t)return!0;e=e.parentElement}return!1},t.prototype.render=function(){var e=o(o({},this.props),{ref:this.divRef});return delete e.onShouldBecomeHide,a.createElement("div",o({},e),this.props.children)},t}(a.Component);t.Menu=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.WaitingFirstFrame="waitingFirstFrame",e.Playing="playing",e.Pause="pause",e.Stopped="stop",e.Ended="ended",e.Buffering="buffering"}(t.PlayerPhase||(t.PlayerPhase={})),function(e){e.Directory="directory",e.Freedom="freedom"}(t.ObserverMode||(t.ObserverMode={}))},function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LevelToIndexMap=Object.freeze({debug:0,info:1,warn:2,error:3})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.DefaultLoggerHub=r.DefaultLoggerHub;var i=n(0);t.LevelToIndexMap=i.LevelToIndexMap;var o=n(3);t.createLogger=o.createLogger},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){var t=void 0===e?{}:e,n=t.prefix,i=t.levelMask;this.context=void 0,this.prefix=n,this.levelMaskIndex=r.LevelToIndexMap[i||"info"]}return e.prototype.log=function(e,t){r.LevelToIndexMap[e]>=this.levelMaskIndex&&(this.prefix?console[e](this.prefix,t):console[e](t))},e}();t.DefaultLoggerHub=i},function(e,t,n){"use strict";function r(e,t,n){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];for(var s=0;s<r.length;++s)r[s]=o(r[s]);var c=i(n),u=r.join(" ");e.log(t,u,c)}}function i(e){for(var t=void 0,n=e;n;){var r=n.context;if(r)for(var i in t||(t={}),r)i in t||(t[i]=r[i]);n=n.parent}return t}function o(e){if(e instanceof Error){var t="Error: "+e.message+"\n";return"string"==typeof e.stack?t+e.stack.replace(t,""):t}return String(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createLogger=function(e,t){var n=e;return t&&(n={context:t,parent:e}),function e(t,n){var i={debug:r(t,"debug",n),info:r(t,"info",n),warn:r(t,"warn",n),error:r(t,"error",n),withContext:function(r){return e(t,{context:r,parent:n})}};return Object.defineProperty(i,"context",{enumerable:!1,set:function(e){return n.context=e},get:function(){return n.context}}),Object.freeze(i)}(e,n)}}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(12),n(59),n(64);var r=n(5);t.WhiteVersion=r.environment.sdkVersion,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(24));var i=n(0);t.AkkoVersion=i.AkkoVersion,t.EventScope=i.EventScope,t.EventPhase=i.EventPhase;var o=n(1);t.DeviceType=o.DeviceType,t.AnimationMode=o.AnimationMode,t.CNode=o.CNode;var a=n(19);t.createPlugins=a.createPlugins,t.InvisiblePlugin=a.InvisiblePlugin;var s=n(12);t.setAsyncModuleLoadMode=s.setAsyncModuleLoadMode,t.AsyncModuleLoadMode=s.AsyncModuleLoadMode;var c=n(7);t.ViewMode=c.ViewMode,t.RenderEngine=c.RenderEngine;var u=n(6);t.DefaultHotKeys=u.DefaultHotKeys;var l=n(25);t.createPPTTask=l.createPPTTask,t.PPTKind=l.PPTKind,t.PPTTaskStatus=l.PPTTaskStatus,t.PPTTaskStep=l.PPTTaskStep;var p=n(8);t.contentModeScale=p.contentModeScale,t.contentModeAspectFit=p.contentModeAspectFit,t.contentModeAspectFitScale=p.contentModeAspectFitScale,t.contentModeAspectFitSpace=p.contentModeAspectFitSpace,t.contentModeAspectFill=p.contentModeAspectFill,t.contentModeAspectFillScale=p.contentModeAspectFillScale,t.ScenePathType=p.ScenePathType,t.RoomPhase=p.RoomPhase,t.RoomErrorLevel=p.RoomErrorLevel,t.PlayerPhase=p.PlayerPhase,t.ObserverMode=p.ObserverMode,t.DisplayerConsumer=p.DisplayerConsumer,t.RoomConsumer=p.RoomConsumer,t.PlayerConsumer=p.PlayerConsumer,t.ApplianceNames=p.ApplianceNames},function(e,t){e.exports=n("aaBP")},function(e,t){e.exports=n("6yFf")},function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.valueWithDefault=function(e,t){return void 0===e?t:e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.AkkoFetcher=r.AkkoFetcher},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(4),s=n(5),c=n(0),u=function(){function e(e){var t=new o.HostsRepo(e.configmap),n={};this.fetcher=new s.TimeoutFetcher(e.fetcher),this.regions=t.regions,this.keys=t.keys,this.onIngoreFetchError=e.onIngoreFetchError,this.retryCount=e.retryCount,this.retryLoopsCount=e.retryLoopsCount,this.timeout=c.valueWithDefault(e.timeout,5e3),this.bussySleepDuration=c.valueWithDefault(e.bussySleepDuration,3e3);for(var r=0,i=this.keys;r<i.length;r++){var u=i[r];n[u]=new a.HostsLoop(t.host(u))}this.loops=Object.freeze(n)}return e.prototype.fetch=function(e){var t=this,n=this.parseFetchingContext(e),r=this.loop(n.key);return function(e,i){return t.fetchWithKey(n,r,e,i)}},e.prototype.origin=function(e,t,n,r){var i=this.loop(t),o=i.host(n,r);return/:$/im.test(e)||(e+=":"),this.replaceProtocol(e,i.useSSL)+"//"+o},e.prototype.reportSuccess=function(e,t){this.loop(e).markSuccess(t)},e.prototype.reportFail=function(e,t){this.loop(e).markFail(t)},e.prototype.fetchWithKey=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,a,s,c,u,l,p,d,h,f,m;return i(this,(function(i){switch(i.label){case 0:r=(o&&o.method||"get").toLowerCase(),void 0===(a=e.enableRetry)&&(a=this.checkIsIdempotent(r)),s=a?this.getFetchingCount(e,t):1,c=null,u=0,i.label=1;case 1:if(!(u<s))return[3,8];l=Date.now(),i.label=2;case 2:return i.trys.push([2,6,,7]),p=t.host(e.toRegion,e.fromRegion),d=this.replaceURL(n,p,t.useSSL),[4,this.fetcher.fetch(d,o,e.timeout)];case 3:return h=i.sent(),this.isServerBussyCode(h.status)?u<s-1?[4,new Promise((function(t){return setTimeout(t,e.bussySleepDuration)}))]:[3,5]:(t.markSuccess(Date.now()-l),[2,h]);case 4:i.sent(),i.label=5;case 5:return[3,7];case 6:return f=i.sent(),c=f,t.markFail(Date.now()-l),[3,7];case 7:return++u,[3,1];case 8:throw this.onIngoreFetchError&&c&&this.onIngoreFetchError(c),m="fail to "+r+" "+n,s>1&&(m+=" after "+s+" times retries"),c=c?new Error(m+" and the last Error is: "+c.message):new Error(m)}}))}))},e.prototype.getFetchingCount=function(e,t){var n=void 0,r=void 0;return"number"==typeof e.retryCount&&(n=e.retryCount+1),"number"==typeof e.retryLoopsCount&&(r=(e.retryLoopsCount+1)*t.hostsCount),void 0!==n&&void 0!==r?Math.max(n,r):void 0!==n?n:void 0!==r?r:t.hostsCount},e.prototype.replaceURL=function(e,t,n){var r=new URL(e),i=r.port,o=r.pathname,a=r.search,s=t;return i&&(s+=":"+i),this.replaceProtocol(r.protocol,n)+"//"+s+o+a},e.prototype.parseFetchingContext=function(e){return"string"==typeof e&&(e={key:e}),Object.freeze({key:e.key,enableRetry:e.enableRetry,toRegion:e.toRegion,fromRegion:e.fromRegion,timeout:c.valueWithDefault(e.timeout,this.timeout),retryCount:c.valueWithDefault(e.retryCount,this.retryCount),retryLoopsCount:c.valueWithDefault(e.retryLoopsCount,this.retryLoopsCount),bussySleepDuration:c.valueWithDefault(e.bussySleepDuration,this.bussySleepDuration)})},e.prototype.checkIsIdempotent=function(e){switch(e){case"put":case"options":case"head":case"patch":case"delete":case"get":return!0;default:return!1}},e.prototype.isServerBussyCode=function(e){switch(e){case 503:case 504:return!0;default:return!1}},e.prototype.replaceProtocol=function(e,t){switch(e){case"http:":case"https:":return t?"https:":"http:";case"ws:":case"wss:":return t?"wss:":"ws:";default:return e}},e.prototype.loop=function(e){var t=this.loops[e];if(!t)throw new Error("undefined key "+JSON.stringify(e));return t},e}();t.AkkoFetcher=u},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(e){var t={},n=[];for(var a in e.hosts){var s=this.readStringArray(e.hosts[a]);if(s)t[a]=Object.freeze({hosts:s,useSSL:!0,enableRegion:!1,enablePing:!0});else{var c=e.hosts[a],u=o.valueWithDefault(c.useSSL,!0);t[a]=Object.freeze({hosts:this.readStringArray(c.hosts),useSSL:u,enableRegion:!!c.enableRegion,enablePing:void 0===c.enablePing||c.enablePing})}n.push(a)}this.regions=Object.freeze(i(e.regions||[])),this.keys=Object.freeze(n.sort()),this.hosts=Object.freeze(r({},t))}return e.prototype.readStringArray=function(e){return"string"==typeof e?Object.freeze([e]):e instanceof Array?Object.freeze(i(e)):null},e.prototype.host=function(e){var t=this.hosts[e];if(!t)throw new Error("cannot find host "+JSON.stringify(e));return t},e}();t.HostsRepo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.nextIndex=0,this.enableRegion=e.enableRegion,this.enablePing=e.enablePing,this.useSSL=e.useSSL,this.hosts=e.hosts}return Object.defineProperty(e.prototype,"hostsCount",{get:function(){return this.hosts.length},enumerable:!0,configurable:!0}),e.prototype.host=function(e,t){var n=this.hosts[this.nextIndex];if(this.enableRegion||(e=void 0,t=void 0),t&&(n+="-"+t),e)n+="-"+e;else if(t)throw new Error("expect toRegion");return n},e.prototype.markSuccess=function(e){},e.prototype.markFail=function(e){var t=this.nextIndex+1;t>=this.hosts.length&&(t=0),this.nextIndex=t},e}();t.HostsLoop=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.fetcher=e}return e.prototype.fetch=function(e,t,n){var r=this;return new Promise((function(i,o){var a=setTimeout((function(){a=null,o(new Error("timeout"))}),n);r.fetcher(e,t).then((function(e){null!==a&&(clearTimeout(a),i(e))})).catch((function(e){null!==a&&(clearTimeout(a),o(e))}))}))},e}();t.TimeoutFetcher=r}]))},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t){e.exports=n(21)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(12),o=n(7),a=n(13),s=n(16),c=n(15);t.AkkoObjectStruct=c.AkkoObjectStruct;var u=n(11);t.carryObject=u.carryObject;var l=n(12);t.isFlatObjectProxyNode=l.isFlatObjectProxyNode;var p=n(13);t.isArrayProxyNode=p.isArrayProxyNode;var d=n(7);t.isAkkoObjectProxyNode=d.isAkkoObjectProxyNode;var h=n(16);t.isHangUpObjectProxyNode=h.isHangUpObjectProxyNode;var f=n(3);t.isDisplayerNode=f.isDisplayerNode,t.getPhaseWithDisplayerNode=f.getPhaseWithDisplayerNode;var m=n(45);t.copyDisplayerNode=m.copyDisplayerNode,t.CopierMode=m.CopierMode;var g=n(46);t.copyProxyNode=g.copyProxyNode;var y=n(5);t.isProxyNode=y.isProxyNode,t.unwrapProxy=y.unwrapProxy,t.convertToProxy=y.convertToProxy;var v=n(4);t.findIdentifierWith=v.findIdentifierWith,t.ProxyKind=v.ProxyKind,t.ProxyKey=v.ProxyKey;var b=n(47);t.AkkoDisplayerHolder=b.AkkoDisplayerHolder;var A=n(48);t.ProxyObjectOperator=A.ProxyObjectOperator,t.createFlatObjectProxy=function(e,t,n){return new i.FlatObjectProxyNodeImplement(e,t,n)},t.createAkkoObjectProxy=function(e,t,n,r){return new o.AkkoObjectProxyNodeImplement(e,t,n,r)},t.createArrayProxy=function(e,t,n){return new a.ArrayProxyNodeImplement(e,t,n)},t.createHangUpObjectProxy=function(e,t,n){return new s.HangUpObjectProxyNodeImplement(e,t,n)},t.addListener=function(e,t){if(!r.isDisplayerNode(e))throw new Error("it isn't akko wrapped object");e.__proxy.addListener(t)},t.removeListener=function(e,t){if(!r.isDisplayerNode(e))throw new Error("it isn't akko wrapped object");e.__proxy.removeListener(t)}},function(e,t){e.exports=n(9)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.isDisplayerNode=function(e){return e instanceof i},t.getPhaseWithDisplayerNode=function(e){var t=e.__proxy;return t.didDispose?r.DisplayerPhase.Rejected:t.realTarget?r.DisplayerPhase.Committed:r.DisplayerPhase.Uncommitted};var i=function(e){Object.defineProperty(this,"__proxy",{value:e,writable:!1,enumerable:!1,configurable:!1})};t.DisplayerNodeImplement=i,t.addDisplayerKey=function(e,t,n){void 0===n&&(n=!0),Object.defineProperty(e,t,{enumerable:n,configurable:!0,get:function(){var e=this.__proxy,n=e.proxyRuntime.pullValue(e.displayerTarget()[t]);return e.assertAccessible(),e.touchKey(t),n}})},t.removeDisplayerKey=function(e,t){delete e[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=n(5);t.ProxyKey="__proxy",function(e){e[e.FlatObject=0]="FlatObject",e[e.AkkoObject=1]="AkkoObject",e[e.Array=2]="Array",e[e.HangUpObject=3]="HangUpObject"}(t.ProxyKind||(t.ProxyKind={})),t.findIdentifierWith=function(e){if(r.contextStack.currentNode){if(o.isProxyNode(e))return e.identifier;var n=e[t.ProxyKey];if(!o.isProxyNode(n))throw new Error("identifier not found");return n.identifier}if(i.isDisplayerNode(e))return e.__proxy.identifier;throw"object"!=typeof e?new Error("can not find identifier of "+typeof e):null===e?new Error("can not find identifier of null"):new Error("identifier not found")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),o=n(10),a=n(11),s=!1,c=r.ForwardMode.SingleForward;r.contextStack.addListener((function(e,t){t?(s=e.proxyRuntime.runtime.isForcesOnIllusionLine(e.mode),c=e.forwardMode):(s=!1,c=r.ForwardMode.SingleForward)})),t.isProxyNode=function(e){return e instanceof u},t.convertToProxy=function(e){return"object"!=typeof e||null===e||e instanceof u?e:e[i.ProxyKey]},t.unwrapProxy=function(e){return"object"!=typeof e||null===e?e:e instanceof u?e.target():e};var u=function(){function e(e,t,n){this._didDispose=!1,this.proxyRuntime=e,this.identifier=t,s?this.illuTarget=a.carryObject(this,n):this.realTarget=a.carryObject(this,n)}return Object.defineProperty(e.prototype,"didDispose",{get:function(){return this._didDispose},enumerable:!0,configurable:!0}),e.prototype.assertAccessible=function(){if(this._didDispose)throw new Error("akko wrapped object isn't accessible")},e.prototype.reportChanged=function(e){if(this.listeners)for(var t=0,n=this.listeners;t<n.length;t++)(0,n[t])(e)},e.prototype.getValue=function(e){return this.target()[e]},e.prototype.touchKey=function(e){var t=this.proxyRuntime.observerAdapter;t&&(this.observer||(this.observer=t.create(this.getDebugName())),void 0===e?this.observer.reportObservedIteration():this.observer.reportObservedKey(e))},e.prototype.dispose=function(){this._didDispose=!0,o.currentUpdatedSection().unbindDelegate(this),this._displayer&&(this.releaseDisplayer(this._displayer),delete this._displayer,delete this.observer),delete this.listeners},e.prototype.target=function(){return s?this.illuTarget:this.realTarget},e.prototype.displayerTarget=function(){return this.illuTarget||this.realTarget},Object.defineProperty(e.prototype,"displayer",{get:function(){return this._displayer||(this._displayer=this.createDisplayer()),this._displayer},enumerable:!0,configurable:!0}),e.prototype.addListener=function(e){var t=this.listeners;t||(t=this.listeners=[]),-1===t.indexOf(e)&&t.push(e)},e.prototype.removeListener=function(e){var t=this.listeners;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1),0===t.length&&delete this.listeners}},e.prototype.toString=function(){return this.target().toString()},e.prototype.toLocaleString=function(){return this.target().toLocaleString()},e.prototype.sideTarget=function(){return c!==r.ForwardMode.DoubleForward||s?void 0:this.illuTarget},e}();t.ProxyNodeImplement=u},function(e,t){e.exports=n(3)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(8),s=n(15),c=n(4),u=n(5),l=n(11),p=n(10);t.isAkkoObjectProxyNode=function(e){return e instanceof d};var d=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return o.struct=i,o}return i(t,e),t.prototype.getDebugName=function(){return this.struct.classReflection.name},t.prototype.createDisplayer=function(){return new this.struct.displayerNodeClass(this)},Object.defineProperty(t.prototype,"kind",{get:function(){return c.ProxyKind.AkkoObject},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clazz",{get:function(){return this.struct.classReflection.clazz},enumerable:!0,configurable:!0}),t.prototype.updateDisplayer=function(e){},t.prototype.reportChanged=function(t){e.prototype.reportChanged.call(this,t);var n=this.observer;if(n)for(var r in t){var i=t[r];n.reportChanged(r,i.value,i.kind)}},t.prototype.converge=function(){var e=this.realTarget;if(e){for(var t={},n=0,r=this.struct.serializableValueProperties;n<r.length;n++){var i=r[n];i in e&&(t[i]=e[i])}Object.setPrototypeOf(t,this.struct.classReflection.clazz.prototype),this.replaceIlluTarget(t)}},t.prototype.replaceIlluTarget=function(e){var t=this.illuTarget||this.realTarget,n=l.carryObject(this,e);this.illuTarget=n;for(var r=p.currentUpdatedSection(),i=0,o=this.struct.serializableValueProperties;i<o.length;i++){var a=o[i],s=a in t,c=a in n;c&&!s?r.addProperty(this,a,n[a]):!c&&s?r.removeProperty(this,a):c&&s&&n[a]!==t[a]&&r.setProperty(this,a,n[a])}},t.prototype.getMethod=function(e){return this.target()[e]},t.prototype.touchKey=function(t){switch(this.struct.getPropertyReadableKind(t)){case s.PropertyReadableKind.ReadValue:case s.PropertyReadableKind.CanNotReadPrivateValue:e.prototype.touchKey.call(this,t)}},t.prototype.callOutside=function(e,t){var n,r,i=this;switch(this.assertAccessible(),this.struct.getMethodCallableKind(e)){case s.MethodCallableKind.NoEffects:var c=this.proxyRuntime.runtime,u=this.proxyRuntime.noEffectsIdGenerator,l={authorId:null===c.observerId?o.AdminObserverId:c.observerId,mode:a.CoreFunctionsMode.Outside,timestamp:Date.now(),identifierGenerator:u};r=c.runWithMagix(l,(function(){var n=i.target(),r=n[e],o=i.proxyRuntime.pushValues(u,t,!1);return r.apply(n,o)}));break;case s.MethodCallableKind.Modifiable:if(!this.struct.classReflection.isRootClass)throw new Error("can only call modifiable methods of trigger object");r=this.proxyRuntime.rootObject.onInvokedTriggerMethod(e,t);break;case s.MethodCallableKind.EventReceiver:throw new Error("can't invoke event receiver. you should call dispatch()");case s.MethodCallableKind.Private:throw new Error("can't invoke private method");default:(n=void 0)[e].apply(n,t)}return this.proxyRuntime.pullValue(r)},t.prototype.setValue=function(e,t){var n=this.target();if(this.struct.isValueProperty(e)){var r=n[e],i=e in n;n[e]=t,i?r!==t&&p.currentUpdatedSection().setProperty(this,e,t):p.currentUpdatedSection().addProperty(this,e,t);var o=this.sideTarget();return o&&(o[e]=t),t}return n[e]=t},t.prototype.postfix=function(e,t){var n=this.target();if(this.struct.isValueProperty(e)){var r=n[e],i=e in n,o=n[e]+=t;i?r!==o&&p.currentUpdatedSection().setProperty(this,e,o):p.currentUpdatedSection().addProperty(this,e,o);var a=this.sideTarget();return a&&(a[e]=o),o}return n[e]+=t},t.prototype.prefix=function(e,t){var n=this.target(),r=n[e];if(this.struct.isValueProperty(e)){var i=e in n,o=n[e]+=t;i?r!==o&&p.currentUpdatedSection().setProperty(this,e,o):p.currentUpdatedSection().addProperty(this,e,o);var a=this.sideTarget();a&&(a[e]=o)}else n[e]+=t;return r},t.prototype.removeKey=function(e){if(this.struct.isValueProperty(e)){var t=this.target(),n=e in t;if(n){delete t[e],p.currentUpdatedSection().removeProperty(this,e);var r=this.sideTarget();r&&delete r[e]}return n}return!1},t.prototype.releaseDisplayer=function(e){},t}(u.ProxyNodeImplement);t.AkkoObjectProxyNodeImplement=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25);t.CoreFunctionsSwitcher=r.CoreFunctionsSwitcher,t.CoreFunctionsMode=r.CoreFunctionsMode;var i=n(42);t.createBranchRuntime=i.createBranchRuntime},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(14),o=n(1);function a(e){if("object"==typeof e&&null!==e){if(o.isProxyNode(e))return e;var t=e[o.ProxyKey];return o.isProxyNode(t)?t:void 0}}function s(e){return e instanceof r.AkkoObject?e.__proxy:e}t.findProxyNode=a,t.standardizeValue=s;var c=function(){function e(){}return e.prototype.updater=function(e){return e},e.prototype.getter=function(e,t){var n=a(e);return n?n.getValue(t):e[t]},e.prototype.caller=function(e,t,n,a){if("function"==typeof e){if(r.ClassReflectionName in e)return e[t].apply(e,n);if(s=i.classStaticMethods.findMethod(e,t))return s.apply(e,n);if("function"==typeof Function.prototype[t])return e[t].apply(e,n);throw new Error("can't call "+e.name+"."+t+", it's not supported")}var s=void 0,c=void 0;return a&&(s=a[t]),o.isProxyNode(e)?(c=e.target(),s||(s=e.getMethod(t))):(c=e,s||(s=e[t])),s.apply(c,n)},e.prototype.setter=function(e,t,n){var r=a(e);return n=s(n),r?r.setValue(t,n):e[t]=n},e.prototype.prefix=function(e,t,n){var r=a(e);if(r)return r.prefix(t,n);e[t]+=n},e.prototype.postfix=function(e,t,n){var r=a(e);if(r)return r.postfix(t,n);var i=e[t];return e[t]+=n,i},e.prototype.remover=function(e,t){var n=a(e);if(n)return n.removeKey(t);delete e[t]},e.prototype.wrapper=function(e){return"object"!=typeof e||null===e?e:e[o.ProxyKey]||e},e.prototype.unwrapper=function(e){return o.isProxyNode(e)?e.target():e},e.prototype.jsxUnwrapper=function(e){return(new i.JsxUnwrapper).unwrap(e)},e}();t.CommonCoreFunctions=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(33))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.carryObject=function(e,t){return Object.defineProperty(t,r.ProxyKey,{enumerable:!1,writable:!1,configurable:!0,value:e}),t}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=n(21),s=n(4);t.isFlatObjectProxyNode=function(e){return e instanceof c};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"kind",{get:function(){return s.ProxyKind.FlatObject},enumerable:!0,configurable:!0}),t.prototype.covertToAkkoObjectProxyNode=function(e){var t=this.realTarget,n=this.illuTarget;return this.struct=this.proxyRuntime.getAkkoObjectStruct(e),this._displayer=void 0,Object.setPrototypeOf(this,o.AkkoObjectProxyNodeImplement.prototype),Object.setPrototypeOf(t,e.clazz.prototype),n&&Object.setPrototypeOf(n,e.clazz.prototype),this},t}(a.PureObjectProxyNode);t.FlatObjectProxyNodeImplement=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(10),c=n(44),u=n(4),l=n(5),p=n(11),d=n(20);t.isArrayProxyNode=function(e){return e instanceof h};var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDebugName=function(){return"Array"},t.prototype.createDisplayer=function(){return new c.ArrayDisplayerNode(this)},t.createArrayValidMethods=function(){var e=void 0,t=void 0,n=void 0;a.contextStack.addListener((function(r,i){i&&r.tools?(e=r.tools.idGenerator,t=r.coreFunctions.updater,n=r.coreFunctions.creator):(e=void 0,t=void 0,n=void 0)}));for(var r=function(t,r){return t===r?t[u.ProxyKey]:n(r,e.generate())},i={},o=function(e,n,o,a,c,l){var p=Array.prototype[e],h=o||a;i[e]=function(){for(var i=[],f=0;f<arguments.length;f++)i[f]=arguments[f];var m=this,g=m.length,y=m[u.ProxyKey],v=p.apply(m,i);if(h&&!d.enableModify(y))throw new Error("Magix is frozen, you can't call Array."+e+"()");var b=l&&l(m,i);if(o&&y.refreshLength(g,m),b)for(var A=Math.min(m.length,b.beginIndex+b.length),x=y.sideTarget(),w=s.currentUpdatedSection(),_=b.beginIndex;_<A;++_){if(a){var S=m[_];x&&(x[_]=S),w.setProperty(y,_,S)}y.touchKey(_)}return c&&y.touchKey(),h&&t(y),n?r(m,v):v}},c=0,l=a.ArrayMethodDescriptions;c<l.length;c++){var p=l[c];o(p.methodName,p.returnArray,p.lengthChanged,p.elementChanged,p.touchLength,p.pickTouchedSegment)}return Object.freeze(i)},Object.defineProperty(t.prototype,"kind",{get:function(){return u.ProxyKind.Array},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clazz",{get:function(){return Array},enumerable:!0,configurable:!0}),t.prototype.updateDisplayer=function(e){var t=this._displayer,n=e.length;t&&n&&c.ArrayDisplayerNode.refreshLength(t,n.value)},t.prototype.reportChanged=function(t){e.prototype.reportChanged.call(this,t);var n=this.observer;if(n){var r=t.length;for(var i in r&&n.reportChanged("length",r.value,r.kind),t){var o=t[i],a=o.kind,s=o.value;o.isIndex&&n.reportChanged(parseInt(i),s,a)}}},t.prototype.converge=function(){this.realTarget&&this.replaceIlluTarget(o(this.realTarget))},t.prototype.replaceIlluTarget=function(e){var t=this.illuTarget||this.realTarget,n=p.carryObject(this,e);this.illuTarget=n;for(var r=Math.min(t.length,n.length),i=s.currentUpdatedSection(),o=0;o<r;++o)t[o]!==n[o]&&i.setProperty(this,o,n[o]);this.refreshLength(t.length,n)},t.prototype.getMethod=function(e){return t.arrayValidMethods[e]},t.prototype.getValue=function(e){return"number"==typeof e?this.target()[e]:"length"===e?this.target().length:void 0},t.prototype.setValue=function(e,t){var n=this.target(),r=n.length;if("number"==typeof e){if(e>=0){var i=n[e]=t,o=this.sideTarget();return this.refreshLength(r,n),o&&(o[e]=t),i}return t}return n[e]},t.prototype.removeKey=function(e){return!1},t.prototype.prefix=function(e,t){if("number"==typeof e){var n=this.target(),r=this.sideTarget(),i=n.length,o=n[e]+=t;return this.refreshLength(i,n),r&&(r[e]=o),o}},t.prototype.postfix=function(e,t){if("number"==typeof e){var n=this.target(),r=this.sideTarget(),i=n.length,o=n[e],a=n[e]+=t;return this.refreshLength(i,n),r&&(r[e]=a),o}},t.prototype.releaseDisplayer=function(e){},t.prototype.refreshLength=function(e,t){if(e!==t.length){var n=this.sideTarget(),r=s.currentUpdatedSection();if(e>t.length){n&&n.splice(t.length);for(var i=t.length;i<e;++i)r.removeProperty(this,i)}else for(i=e;i<t.length;++i)n&&(n[i]=t[i]),r.addProperty(this,i,t[i]);r.setProperty(this,"length",t.length)}},t.arrayValidMethods=t.createArrayValidMethods(),t}(l.ProxyNodeImplement);t.ArrayProxyNodeImplement=h},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(18)),r(n(28)),r(n(35)),r(n(36)),r(n(37))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a,s=n(6),c=n(2),u=n(0),l=n(8),p=n(3);!function(e){e[e.ReadValue=0]="ReadValue",e[e.ReadByGetter=1]="ReadByGetter",e[e.CanNotReadGetter=2]="CanNotReadGetter",e[e.CanNotReadPrivateValue=3]="CanNotReadPrivateValue",e[e.CanNotReadPrivateGetter=4]="CanNotReadPrivateGetter"}(o=t.PropertyReadableKind||(t.PropertyReadableKind={})),function(e){e[e.NoEffects=0]="NoEffects",e[e.Modifiable=1]="Modifiable",e[e.Private=2]="Private",e[e.EventReceiver=3]="EventReceiver"}(a=t.MethodCallableKind||(t.MethodCallableKind={}));var d=function(){function e(e){this.valuePropertiesSet={},this.classReflection=e;var t=[],n=[],r=[],i={};for(var o in e.properties){var a=e.properties[o],c=a.mode===s.ClassReflectionPropertyMode.Value,l=a.decorators.some((function(e){return e===u.noEffects})),p=a.decorators.some((function(e){return e===u.transient}));c&&(i[o]=!0,p?t.push(o):n.push(o)),a.isPublic&&(c||l)&&r.push(o)}this.transientValueProperties=Object.freeze(t),this.serializableValueProperties=Object.freeze(n),this.copyableProperties=Object.freeze(r),this.displayerNodeClass=this.createAkkoDisplayerNodeClass(e),this.valuePropertiesSet=Object.freeze(i),this.propertyKinds=this.createPropertyReadableKinds(e),this.methodKinds=this.createMethodCallableKinds(e)}return e.prototype.isValueProperty=function(e){return e in this.valuePropertiesSet},e.prototype.getPropertyReadableKind=function(e){return this.propertyKinds[e]},e.prototype.getMethodCallableKind=function(e){return this.methodKinds[e]},e.prototype.getValueOutsideFromProxyNode=function(e,t){switch(this.propertyKinds[t]){case o.ReadValue:case o.ReadByGetter:return e.proxyRuntime.pullValue(this.getValueFromProxyNode(e,t));case o.CanNotReadGetter:throw new Error("can't read property "+JSON.stringify(t)+" unless it has @noEffects");case o.CanNotReadPrivateValue:case o.CanNotReadPrivateGetter:throw new Error("can't read private property "+JSON.stringify(t));default:return}},e.prototype.getValueFromProxyNode=function(e,t){switch(e.assertAccessible(),this.propertyKinds[t]){case o.ReadValue:case o.CanNotReadPrivateValue:var n=e.displayerTarget()[t];return e.touchKey(t),n;case o.ReadByGetter:var r=e.proxyRuntime.runtime,i=e.proxyRuntime.noEffectsIdGenerator,a={authorId:null===r.observerId?c.AdminObserverId:r.observerId,mode:l.CoreFunctionsMode.Outside,timestamp:Date.now(),identifierGenerator:i};return r.runWithMagix(a,(function(){return e.target()[t]}));default:return}},e.prototype.createAkkoDisplayerNodeClass=function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(p.DisplayerNodeImplement),n=function(e){Object.defineProperty(t.prototype,e,{enumerable:!1,configurable:!1,get:function(){var t=this.__proxy,n=t.struct;return t.assertAccessible(),n.getValueOutsideFromProxyNode(t,e)}})};for(var r in e.properties)n(r);var o=function(e){t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.__proxy.callOutside(e,t)}};for(var a in e.methods)o(a);return t},e.prototype.createPropertyReadableKinds=function(e){var t={};for(var n in e.properties){var r=e.properties[n];t[n]=r.isPublic?r.mode===s.ClassReflectionPropertyMode.Value?o.ReadValue:r.decorators.some((function(e){return e===u.noEffects}))?o.ReadByGetter:o.CanNotReadGetter:r.mode===s.ClassReflectionPropertyMode.Value?o.CanNotReadPrivateValue:o.CanNotReadPrivateGetter}return Object.freeze(t)},e.prototype.createMethodCallableKinds=function(e){var t={};for(var n in e.methods){var r=e.methods[n];t[n]=r.isPublic?r.decorators.some((function(e){return u.isAkkoDecorator(e)&&u.isEventPayload(e.payload)}))?a.EventReceiver:r.decorators.some((function(e){return e===u.noEffects}))?a.NoEffects:a.Modifiable:a.Private}return Object.freeze(t)},e}();t.AkkoObjectStruct=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(21);t.isHangUpObjectProxyNode=function(e){return e instanceof s};var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectFormatId",{get:function(){return this._objectFormatId},enumerable:!0,configurable:!0}),t.prototype.setHangMetadata=function(e){if(this._version||this._objectFormatId)throw new Error("did set version");this._version=e.version,this._objectFormatId=e.objectFormatId},Object.defineProperty(t.prototype,"kind",{get:function(){return o.ProxyKind.HangUpObject},enumerable:!0,configurable:!0}),t}(a.PureObjectProxyNode);t.HangUpObjectProxyNodeImplement=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(23)),r(n(50)),r(n(51))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(27),o=n(0),a=n(8),s=function(){function e(e){this.observerId=r.AdminObserverId,this._hasDoubleLines=!1,this._branchRuntime=null,this.logger=e.logger,this.proxyRuntime=e.proxyRuntime,this.imageUsers=e.imageUsers,this.toolsExtra=e.toolsExtra,this.snapshotManager=e.snapshotManager}return Object.defineProperty(e,"coreFunctionsSwitcher",{get:function(){return this._coreFunctionsSwitcher||(this._coreFunctionsSwitcher=new a.CoreFunctionsSwitcher),this._coreFunctionsSwitcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasDoubleLines",{get:function(){return this._hasDoubleLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"branchRuntime",{get:function(){return this._branchRuntime},enumerable:!0,configurable:!0}),e.prototype.changeToDoubleLines=function(){this._hasDoubleLines=!0},e.prototype.forkBranchRuntime=function(){return this._branchRuntime=a.createBranchRuntime(this.logger),this._branchRuntime},e.prototype.releaseBranchRuntime=function(){this._branchRuntime&&(this._branchRuntime=null)},e.prototype.getForwardMode=function(){return!this._hasDoubleLines||this._branchRuntime?o.ForwardMode.SingleForward:o.ForwardMode.DoubleForward},e.prototype.runWithMagix=function(t,n){var r=t.authorId,a=this.getEnvironment(t.mode),s=this.getForwardMode(),c=e.coreFunctionsSwitcher.switchCoreFunctions(t.mode),u=Object.freeze({idGenerator:t.identifierGenerator,environment:a,timestamp:t.timestamp,snapshot:this.snapshotManager,extra:this.toolsExtra,functions:new i.MagixFunctionsImplement({observerId:this.observerId,environment:a,authorId:r,coreFunctions:c,roomObserver:this.proxyRuntime.roomObserver,imageUsers:this.imageUsers})});return o.contextStack.runWith({mode:t.mode,coreFunctions:c,frameSection:t.frameSection,proxyRuntime:this.proxyRuntime,forwardMode:s,tools:u},n)},e.prototype.runWithSerialization=function(t,n){var r=this.getForwardMode(),i=e.coreFunctionsSwitcher.switchCoreFunctions(t.mode);return o.contextStack.runWith({mode:t.mode,coreFunctions:i,frameSection:t.frameSection,proxyRuntime:this.proxyRuntime,forwardMode:r},n)},e.prototype.isForcesOnIllusionLine=function(e){switch(e){case a.CoreFunctionsMode.Real:case a.CoreFunctionsMode.RealAck:return!1;case a.CoreFunctionsMode.Illusion:case a.CoreFunctionsMode.IllusionRebuild:return!0;case a.CoreFunctionsMode.Outside:return this._hasDoubleLines&&!!this._branchRuntime}},e.prototype.getEnvironment=function(e){switch(e){case a.CoreFunctionsMode.Illusion:case a.CoreFunctionsMode.IllusionRebuild:return o.Environment.Illusion;case a.CoreFunctionsMode.Real:case a.CoreFunctionsMode.RealAck:return o.Environment.Real;case a.CoreFunctionsMode.Outside:return o.Environment.NoEffects}},e}();t.Runtime=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.wrapObject=function(e,t,n){return t.constructor===Object?r.createFlatObjectProxy(e,n,t):r.createArrayProxy(e,n,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=n(8);function a(e){return r.scopeIdWith(e.identifier)===r.NoEffectScopeId}function s(){return!0}t.enableModify=s,i.contextStack.addListener((function(e,n){t.enableModify=n&&e.tools&&e.mode===o.CoreFunctionsMode.Outside?a:s}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(10),c=n(3),u=n(5),l=n(11),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.getDebugName=function(){return"Object"},t.prototype.createDisplayer=function(){var e=new c.DisplayerNodeImplement(this);for(var t in this.displayerTarget())c.addDisplayerKey(e,t);return e},t.prototype.updateDisplayer=function(e){var t=this._displayer;if(t)for(var n in e)switch(e[n].kind){case a.UpdateEventKind.Inserted:c.addDisplayerKey(t,n);break;case a.UpdateEventKind.Removed:c.removeDisplayerKey(t,n)}},t.prototype.reportChanged=function(t){e.prototype.reportChanged.call(this,t);var n=this.observer;if(n)for(var r in t){var i=t[r];n.reportChanged(r,i.value,i.kind)}},Object.defineProperty(t.prototype,"clazz",{get:function(){return Object},enumerable:!0,configurable:!0}),t.prototype.converge=function(){this.realTarget&&this.replaceIlluTarget(o({},this.realTarget))},t.prototype.replaceIlluTarget=function(e){var t=this.illuTarget||this.realTarget,n=l.carryObject(this,e);this.illuTarget=n;var r=s.currentUpdatedSection();for(var i in n){var o=n[i];i in t?t[i]!==o&&r.setProperty(this,i,o):r.addProperty(this,i,o)}for(var i in t)i in n||r.removeProperty(this,i)},t.prototype.getMethod=function(e){return this.target()[e]},t.prototype.setValue=function(e,t){var n=this.target(),r=this.sideTarget(),i=n[e],o=e in n;return n[e]=t,o?i!==t&&s.currentUpdatedSection().setProperty(this,e,t):s.currentUpdatedSection().addProperty(this,e,t),r&&(r[e]=t),t},t.prototype.prefix=function(e,t){var n=this.target(),r=this.sideTarget(),i=n[e],o=e in n,a=n[e]+=t;return o?i!==a&&s.currentUpdatedSection().setProperty(this,e,a):s.currentUpdatedSection().addProperty(this,e,a),r&&(r[e]=a),a},t.prototype.postfix=function(e,t){var n=this.target(),r=this.sideTarget(),i=n[e],o=e in n,a=n[e]+=t;return o?i!==a&&s.currentUpdatedSection().setProperty(this,e,a):s.currentUpdatedSection().addProperty(this,e,a),r&&(r[e]=a),i},t.prototype.removeKey=function(e){var t=this.target(),n=e in t;if(n){delete t[e];var r=this.sideTarget();s.currentUpdatedSection().removeProperty(this,e),r&&delete r[e]}return n},t.prototype.releaseDisplayer=function(e){},t}(u.ProxyNodeImplement);t.PureObjectProxyNode=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(17),o=n(1),a=n(14);t.createElement=a.createElement;var s=n(52);t.isAkkoWrappedObjectAccessible=s.isAkkoWrappedObjectAccessible,t.isInstanceOf=s.isInstanceOf,t.findClassId=s.findClassId,t.findClass=s.findClass;var c=n(1);t.findIdentifierWith=c.findIdentifierWith,t.isAkkoObjectProxyNode=c.isAkkoObjectProxyNode,t.isArrayProxyNode=c.isArrayProxyNode,t.isDisplayerNode=c.isDisplayerNode,t.isFlatObjectProxyNode=c.isFlatObjectProxyNode,t.isProxyNode=c.isProxyNode,t.createProxyManager=function(e){return void 0===e&&(e={}),new i.ProxyManagerImplement(e)},t.copy=function(e){return r.contextStack.currentNode?o.copyProxyNode(e):o.copyDisplayerNode(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(24),o=n(1),a=function(){function e(e,t){this.assertObjectFormat=function(e){if(o.isAkkoObjectProxyNode(e))return e.struct.classReflection.objectFormat},this.proxyRuntime=e,this.objectAdapter=i.createProxyObjectAdapter(t,e),this.frameSerialization=i.createProxyFrameSerialization(t,this.objectAdapter)}return e.prototype.serializeSnapshotFrame=function(e){return this.frameSerialization.serializeSnapshotFrame(e)},e.prototype.serializeActionFrame=function(e,t){return this.frameSerialization.serializeActionFrame(e,t)},e.prototype.deserializeSnapshotFrame=function(e,t,n){return this.frameSerialization.deserializeSnapshotFrame(e,t,n)},e.prototype.deserializeActionFrame=function(e,t,n,r){var i=this;return r?this.proxyRuntime.runtime.runWithSerialization(r,(function(){return i.frameSerialization.deserializeActionFrame(e,t,n)})):this.frameSerialization.deserializeActionFrame(e,t,n)},e.prototype.createSerialization=function(e){return new r.Serialization({format:e,objectAdapter:this.objectAdapter,assertObjectFormat:this.assertObjectFormat})},e}();t.ProxyFrameHandlerImplement=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(1),a=n(49);t.createProxyObjectAdapter=function(e,t){return new a.ProxyObjectAdapter(t,e.covertObjectFormatIdToClass)},t.createProxyFrameSerialization=function(e,t){var n=r.getClassReflection(e.rootClass),a=new i.Serialization({format:e.format,objectAdapter:t,assertObjectFormat:function(e){return o.isAkkoObjectProxyNode(e)?e.struct.classReflection.objectFormat:void 0}});return r.createFrameSerialization(a,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(26),a=n(38),s=n(39),c=n(40),u=n(41);!function(e){e[e.Illusion=0]="Illusion",e[e.IllusionRebuild=1]="IllusionRebuild",e[e.Real=2]="Real",e[e.RealAck=3]="RealAck",e[e.Outside=4]="Outside"}(r=t.CoreFunctionsMode||(t.CoreFunctionsMode={}));var l=function(){function e(){var t=this;this.illusion=e.bind(new o.IllusionCoreFunctions),this.illusionRebuild=e.bind(new a.IllusionRebuildCoreFunctions),this.real=e.bind(new s.RealCoreFunctions),this.realAck=e.bind(new c.RealAckCoreFunctions),this.outside=e.bind(new u.OutsideCoreFunctions),this.currentCoreFunctions=this.illusion,i.contextStack.addListener((function(e,n){return t.currentCoreFunctions.onContextUpdate(e,n)}))}return e.prototype.switchCoreFunctions=function(e){switch(e){case r.Illusion:this.currentCoreFunctions=this.illusion;break;case r.IllusionRebuild:this.currentCoreFunctions=this.illusionRebuild;break;case r.Real:this.currentCoreFunctions=this.real;break;case r.RealAck:this.currentCoreFunctions=this.realAck;break;case r.Outside:this.currentCoreFunctions=this.outside}return this.currentCoreFunctions},e.bind=function(e){return Object.freeze({creator:e.creator.bind(e),updater:e.updater.bind(e),wrapper:e.wrapper.bind(e),unwrapper:e.unwrapper.bind(e),jsxUnwrapper:e.jsxUnwrapper.bind(e),getter:e.getter.bind(e),setter:e.setter.bind(e),caller:e.caller.bind(e),remover:e.remover.bind(e),prefix:e.prefix.bind(e),postfix:e.postfix.bind(e),onContextUpdate:e.onContextUpdate.bind(e)})},e}();t.CoreFunctionsSwitcher=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(9),s=n(1),c=void 0,u=void 0,l=void 0,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onContextUpdate=function(e,t){t?(c=e.tools&&e.tools.idGenerator,u=e.frameSection,l=e.proxyRuntime):(c=void 0,u=void 0,l=void 0)},t.prototype.creator=function(e,t){var n;if(void 0===t&&(t=c.generate()),e.constructor===Array)n=s.createArrayProxy(l,t,e);else if(e.constructor===Object)n=s.createFlatObjectProxy(l,t,e);else{var r=e.constructor[o.ClassReflectionName];if("object"!=typeof r||null===r)throw new Error("can't find __reflection");var i=l.getAkkoObjectStruct(r);n=s.createAkkoObjectProxy(l,t,e,i)}return u.addCreatedObject(n),n},t.prototype.updater=function(e){return s.isProxyNode(e)&&u.illusionUpdateProxyNode(e),e},t.prototype.setter=function(e,t,n){var r=a.findProxyNode(e);return n=a.standardizeValue(n),r?(u.illusionUpdateProxyNode(r),r.setValue(t,n)):e[t]=n},t.prototype.prefix=function(e,t,n){var r=a.findProxyNode(e);if(r)return u.illusionUpdateProxyNode(r),r.prefix(t,n);e[t]+=n},t.prototype.postfix=function(e,t,n){var r=a.findProxyNode(e);if(r)return u.illusionUpdateProxyNode(r),r.postfix(t,n);var i=e[t];return e[t]+=n,i},t.prototype.remover=function(e,t){var n=a.findProxyNode(e);if(n)return u.illusionUpdateProxyNode(n),n.removeKey(t);delete e[t]},t}(a.CommonCoreFunctions);t.IllusionCoreFunctions=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.usersCache={},this.observerId=e.observerId,this.environment=e.environment,this.authorId=e.authorId,this.core=e.coreFunctions,this.roomObserver=e.roomObserver,this.imageUsers=e.imageUsers}return e.prototype.getAuthorId=function(){return this.environment===r.Environment.NoEffects&&this.observerId===this.authorId&&this.roomObserver.reportObservedSelfUserId(),this.authorId},e.prototype.hasUser=function(e){return this.environment===r.Environment.NoEffects&&this.roomObserver.reportObservedUsers(),this.imageUsers.hasUser(e)},e.prototype.getUsersCount=function(){return this.environment===r.Environment.NoEffects&&this.roomObserver.reportObservedUsers(),this.imageUsers.usersCount},e.prototype.getUser=function(e){var t;return this.imageUsers.hasUser(e)&&((t=this.usersCache[e])||(t=this.usersCache[e]=this.core.creator(this.imageUsers.user(e,!0)))),this.environment===r.Environment.NoEffects&&this.roomObserver.reportObservedUsers(),t},e.prototype.getUserIds=function(){return this.userIdsCache||(this.userIdsCache=this.core.creator(this.imageUsers.userIds)),this.environment===r.Environment.NoEffects&&this.roomObserver.reportObservedUsers(),this.userIdsCache},e}();t.MagixFunctionsImplement=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=n(2),s=n(0),c=n(29),u=n(18),l=n(30),p=n(17),d=n(31),h=n(32),f=n(1),m=function(){function e(e,t,n,i){var o=i.observerAdapter,s=i.escapeObjectFilter,c=i.jsxFactory;this.objectOperator=e,this.library=t,this.observerAdapter=o,this.escapeObjectFilter=s||function(){return!1},this.jsxFactory=c,this.roomObserver=new l.RoomObserver(o),this.noEffectsIdGenerator=a.createIdentifierGenerator(a.NoEffectScopeId),this.frameHandler=new p.ProxyFrameHandlerImplement(this,this.library),this.structMap=n&&n.library===this.library?r({},n.structMap):{}}return Object.defineProperty(e.prototype,"runtime",{get:function(){return this._runtime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"block",{get:function(){return this.proxyBlock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rootObject",{get:function(){return this._rootObject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasDoubleLines",{get:function(){return this._runtime.hasDoubleLines},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasBranch",{get:function(){return!!this._runtime.branchRuntime},enumerable:!0,configurable:!0}),e.prototype.forkBranchRuntime=function(){this._runtime.forkBranchRuntime()},e.prototype.mergeBranch=function(){var e=this._runtime;e.branchRuntime.syncTwoBranches(),e.releaseBranchRuntime()},e.prototype.reportUsersChanged=function(e){this.roomObserver.reportUsersChanged(e)},e.prototype.reportObserverIdChanged=function(e){this._runtime.observerId=e,this.roomObserver.reportSelfUserIdChanged(e)},e.prototype.createFrameSection=function(e){var t=this._runtime;t.hasDoubleLines||((new d.ProxyObjectCopier).copyProxyNode(this._rootObject.snapshotRootObject()),t.changeToDoubleLines());var n=t.branchRuntime;n||(n=t.forkBranchRuntime());var r=void 0;return e&&(r=e.takeCreatedProxyNodes()),n.createFrameSection(r)},e.prototype.setupWithParameters=function(e,t,n,r){var o=this;this.setupRuntime(r);var c=a.AdminObserverId,u=a.createIdentifierGenerator(e),l=this.pushValues(u,t,!0),d=this.runtime.runWithMagix({authorId:c,mode:s.CoreFunctionsMode.Real,timestamp:n,identifierGenerator:u},(function(){var e;return new((e=o.library.rootClass).bind.apply(e,i([void 0],l)))})).__proxy;this._rootObject=new p.ProxyRootObjectImplement(this._runtime,d,this.observerAdapter)},e.prototype.setupWithRootObject=function(e,t){if(this.setupRuntime(t),!f.isAkkoObjectProxyNode(e))throw new Error("rootObject should be AkkoObjectProxyNode");this._rootObject=new p.ProxyRootObjectImplement(this._runtime,e,this.observerAdapter)},e.prototype.setupRuntime=function(e){if(this._runtime)throw new Error("did bind runtime params");this._runtime=new u.Runtime({logger:e.logger,imageUsers:e.imageUsers,snapshotManager:e.snapshotManager,proxyRuntime:this,toolsExtra:e.toolsExtra}),this.proxyBlock=new h.ProxyBlockImplement(this._runtime,this.observerAdapter)},e.prototype.pullValue=function(e){return"object"!=typeof e||null===e?e:f.isProxyNode(e)?e.displayer:o.isBuffer(e)?e.readonly?e:e.slice():this.escapeObjectFilter(e)?e:void 0},e.prototype.pushValues=function(e,t,n){var r=[],i=new c.ProxyWrapper(this,e,n);try{for(var o=0;o<t.length;++o)r[o]=i.wrap(t[o]);return r}finally{i.complete()}},e.prototype.getAkkoObjectStruct=function(e){var t=this.structMap[e.id];return t||(t=this.structMap[e.id]=new f.AkkoObjectStruct(e)),t},e.prototype.dispose=function(){},e}();t.ProxyRuntimeImplement=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(0),o=n(1),a=n(19);function s(e,t){Object.defineProperty(e,"__identifier",{enumerable:!1,configurable:!0,value:t})}var c=void 0;i.contextStack.addListener((function(e,t){c=t?e.coreFunctions.creator:void 0}));var u=function(){function e(e,t,n){this.proxyRuntime=e,this.identifierGenerator=t,this.banFunction=n,this.proxyNodes={},this.modifyObjects=[]}return e.prototype.complete=function(){for(var e=0,t=this.modifyObjects;e<t.length;e++)delete t[e].__identifier},e.prototype.wrap=function(e){if(this.banFunction&&"function"==typeof e)throw new Error("can't wrap function");if("object"!=typeof e)return e;if(null===e)return e;if(r.isBuffer(e))return e;if(o.isDisplayerNode(e))throw new Error("can't let displayer node pass Magix border");if(e.constructor===Array)return this.wrapArray(e);if(e.constructor===Object)return this.wrapObject(e);throw new Error("can't let object of "+e.constructor.name+" pass Magix border")},e.prototype.wrapArray=function(e){var t,n=e.__identifier;if(void 0===n){s(e,n=this.identifierGenerator.generate());for(var r=(t=this.createProxyNode([],n)).target(),i=0;i<e.length;++i)r[i]=this.wrap(e[i]);this.proxyNodes[n]=t,this.modifyObjects.push(e)}else t=this.proxyNodes[n];return t},e.prototype.wrapObject=function(e){var t,n=e.__identifier;if(void 0===n){s(e,n=this.identifierGenerator.generate());for(var r=(t=this.createProxyNode({},n)).target(),i=0,o=Object.keys(e).sort();i<o.length;i++){var a=o[i];r[a]=this.wrap(e[a])}this.proxyNodes[n]=t,this.modifyObjects.push(e)}else t=this.proxyNodes[n];return t},e.prototype.createProxyNode=function(e,t){return c?c(e,t):a.wrapObject(this.proxyRuntime,e,t)},e}();t.ProxyWrapper=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){e&&(this.observer=e.create("room observer"))}return e.prototype.reportSelfUserIdChanged=function(t){this.observer&&this.observer.reportChanged(e.selfUserId,t,r.UpdateEventKind.Updated)},e.prototype.reportUsersChanged=function(t){this.observer&&this.observer.reportChanged(e.users,t,r.UpdateEventKind.Updated)},e.prototype.reportObservedSelfUserId=function(){this.observer&&this.observer.reportObservedKey(e.selfUserId)},e.prototype.reportObservedUsers=function(){this.observer&&this.observer.reportObservedKey(e.users)},e.selfUserId="userId",e.users="users",e}();t.RoomObserver=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(e,t){Object.defineProperty(e,r.ProxyKey,{enumerable:!1,writable:!1,configurable:!0,value:t})}var o=function(){function e(){this.didTouchedSet={}}return e.prototype.copyProxyNode=function(e){var t=e.identifier;this.didTouchedSet[t]||(this.didTouchedSet[t]=!0,r.isAkkoObjectProxyNode(e)?this.copyAkkoObjectProxyNode(e):r.isFlatObjectProxyNode(e)?this.copyFlatObjectProxyNode(e):r.isArrayProxyNode(e)&&this.copyArrayProxyNode(e))},e.prototype.copyAkkoObjectProxyNode=function(e){var t=e.realTarget;if(t){var n={};for(var o in t){var a=Object.getOwnPropertyDescriptor(t,o);if(a&&!a.get&&!a.set){var s=t[o];r.isProxyNode(s)&&this.copyProxyNode(s),n[o]=s}}i(n,e),Object.setPrototypeOf(n,e.struct.classReflection.clazz.prototype),e.illuTarget=n}},e.prototype.copyFlatObjectProxyNode=function(e){var t=e.realTarget;if(t){var n={};for(var o in t){var a=t[o];r.isProxyNode(a)&&this.copyProxyNode(a),n[o]=a}i(n,e),e.illuTarget=n}},e.prototype.copyArrayProxyNode=function(e){var t=e.realTarget;if(t){for(var n=[],o=0;o<t.length;++o)if(o in t){var a=t[o];r.isProxyNode(a)&&this.copyProxyNode(a),n[o]=a}i(n,e),e.illuTarget=n}},e}();t.ProxyObjectCopier=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=function(){function e(e,t){this.runtime=e,this.observerAdapter=t}return e.prototype.runWithMagix=function(e,t){return this.runtime.runWithMagix(e,t)},e.prototype.runWithDisableObserve=function(e){var t=r.currentUpdatedSection();try{return t.disable=!0,e()}finally{t.disable=!1}},e.prototype.runWithContinuousUpdated=function(e){var t;return this.observerAdapter?this.observerAdapter.observeUpdate((function(){t=r.runWithUpdatedSection(e)})):t=r.runWithUpdatedSection(e),t},e}();t.ProxyBlockImplement=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=new(function(){function e(){}return e.prototype.addProperty=function(e,t,n){},e.prototype.removeProperty=function(e,t){},e.prototype.setProperty=function(e,t,n){},e.prototype.unbindDelegate=function(e){},e.prototype.callbackDelegates=function(){return{didUpdated:!1}},e}());t.currentUpdatedSection=function(){return i},t.runWithUpdatedSection=function(e){var t=i,n=new r.UpdatedSectionImplement;try{return i=n,e(),n.callbackDelegates(),{didUpdated:n.didUpdated}}finally{i=t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){this.disable=!1,this.delegates={},this.unbindsDelegated={},this.updatedObjects={},this._didUpdated=!1}return Object.defineProperty(e.prototype,"didUpdated",{get:function(){return this._didUpdated},enumerable:!0,configurable:!0}),e.prototype.callbackDelegates=function(){for(var e in this.delegates)if(e in this.unbindsDelegated)delete this.delegates[e];else{var t=this.delegates[e],n=this.updatedObjects[e];t.updateDisplayer(n)}for(var e in this.delegates)(t=this.delegates[e]).reportChanged(n=this.updatedObjects[e])},e.prototype.unbindDelegate=function(e){this.disable||(this.unbindsDelegated[e.identifier]=!0)},e.prototype.addProperty=function(e,t,n){if(!this.disable&&(this._didUpdated=!0,!e.didDispose)){var i=this.getBufferObject(e),o=i[t];if(o)switch(o.value=n,o.kind){case r.UpdateEventKind.Removed:o.kind=r.UpdateEventKind.Updated;break;case r.UpdateEventKind.Inserted:o.kind=r.UpdateEventKind.Inserted;break;case r.UpdateEventKind.Updated:o.kind=r.UpdateEventKind.Updated}else i[t]={kind:r.UpdateEventKind.Inserted,value:n,isIndex:"number"==typeof t}}},e.prototype.setProperty=function(e,t,n){if(!this.disable&&(this._didUpdated=!0,!e.didDispose)){var i=this.getBufferObject(e),o=i[t];if(o)switch(o.value=n,o.kind){case r.UpdateEventKind.Removed:o.kind=r.UpdateEventKind.Updated;break;case r.UpdateEventKind.Inserted:o.kind=r.UpdateEventKind.Inserted;break;case r.UpdateEventKind.Updated:o.kind=r.UpdateEventKind.Updated}else i[t]={kind:r.UpdateEventKind.Updated,value:n,isIndex:"number"==typeof t}}},e.prototype.removeProperty=function(e,t){if(!this.disable&&(this._didUpdated=!0,!e.didDispose)){var n=this.getBufferObject(e),i=n[t];if(i)switch(i.kind){case r.UpdateEventKind.Removed:break;case r.UpdateEventKind.Inserted:delete n[t];break;case r.UpdateEventKind.Updated:i.kind=r.UpdateEventKind.Removed,i.value=void 0}else n[t]={kind:r.UpdateEventKind.Removed,value:void 0,isIndex:"number"==typeof t}}},e.prototype.getBufferObject=function(e){var t=e.identifier,n=this.updatedObjects[t];return n||(this.delegates[t]=e,this.updatedObjects[t]=n={}),n},e}();t.UpdatedSectionImplement=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1);t.classStaticMethods=r.createClassStaticMethods(),t.classStaticMethods.proxyMethod(Object,"assign",(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>0){var r=t[0];r&&i.isProxyNode(r)&&(e=r)}for(var o=0;o<t.length;++o)t[o]=i.unwrapProxy(t[o]);var a=Object.assign.apply(this,t),s=a[i.ProxyKey];return e&&e!==s&&(s=e,i.carryObject(e,a)),s})),t.classStaticMethods.proxyMethod(String,"fromCodePoint",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)e[n]=i.unwrapProxy(e[n]);return String.fromCodePoint.apply(this,e)})),t.classStaticMethods.proxyMethod(String,"fromCharCode",(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)e[n]=i.unwrapProxy(e[n]);return String.fromCharCode.apply(this,e)})),t.classStaticMethods.proxyMethod(Number,"isFinite",Number.isFinite),t.classStaticMethods.proxyMethod(Number,"isInteger",Number.isInteger),t.classStaticMethods.proxyMethod(Number,"isNaN",Number.isNaN),t.classStaticMethods.proxyMethod(Number,"isSafeInteger",Number.isSafeInteger),t.classStaticMethods.proxyMethod(Number,"parseFloat",Number.parseFloat),t.classStaticMethods.proxyMethod(Number,"parseInt",Number.parseInt)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=void 0;r.contextStack.addListener((function(e,t){i=t?e.proxyRuntime.jsxFactory:void 0})),t.createElement=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!i)throw r.contextStack.currentNode?new Error("can't create JSX. you didn't set jsxFactory"):new Error("can't create JSX. maybe you called it out of Magix");return i.apply(void 0,e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(1),o=function(){function e(){this.unwrappedMap={}}return e.prototype.unwrap=function(e){return i.isProxyNode(e)?this.unwrapProxyNode(e):r.isBuffer(e)?e.readonly?e:e.slice():e},e.prototype.unwrapProxyNode=function(e){if(i.isAkkoObjectProxyNode(e))return e.displayer;var t=e.identifier,n=this.unwrappedMap[t];if(!n){var r=e.target();if(i.isFlatObjectProxyNode(e))for(var o in this.unwrappedMap[t]=n={},r)n[o]=this.unwrap(r[o]);else if(i.isArrayProxyNode(e)){this.unwrappedMap[t]=n=[];for(var a=0;a<r.length;++a)n[a]=this.unwrap(r[a])}}return n},e}();t.JsxUnwrapper=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(9),s=n(1),c=void 0,u=void 0,l=void 0,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onContextUpdate=function(e,t){t?(c=e.tools&&e.tools.idGenerator,u=e.frameSection,l=e.proxyRuntime):(c=void 0,u=void 0,l=void 0)},t.prototype.creator=function(e,t){void 0===t&&(t=c.generate());var n=u.illusionTakeCreatedObject(t,e);if(n)n.replaceIlluTarget(e);else if(e.constructor===Array)n=s.createArrayProxy(l,t,e);else if(e.constructor===Object)n=s.createFlatObjectProxy(l,t,e);else{var r=e.constructor[o.ClassReflectionName];if("object"!=typeof r||null===r)throw new Error("can't find __reflection");var i=l.getAkkoObjectStruct(r);n=s.createAkkoObjectProxy(l,t,e,i)}return u.addCreatedObject(n),n},t.prototype.updater=function(e){return s.isProxyNode(e)&&u.illusionUpdateProxyNode(e),e},t.prototype.setter=function(e,t,n){var r=a.findProxyNode(e);return n=a.standardizeValue(n),r?(u.illusionUpdateProxyNode(r),r.setValue(t,n)):e[t]=n},t.prototype.prefix=function(e,t,n){var r=a.findProxyNode(e);if(r)return u.illusionUpdateProxyNode(r),r.prefix(t,n);e[t]+=n},t.prototype.postfix=function(e,t,n){var r=a.findProxyNode(e);if(r)return u.illusionUpdateProxyNode(r),r.postfix(t,n);var i=e[t];return e[t]+=n,i},t.prototype.remover=function(e,t){var n=a.findProxyNode(e);if(n)return u.illusionUpdateProxyNode(n),n.removeKey(t);delete e[t]},t}(a.CommonCoreFunctions);t.IllusionRebuildCoreFunctions=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0),s=n(9),c=n(1),u=void 0,l=a.ForwardMode.SingleForward,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onContextUpdate=function(e,t){t?(u=e.tools&&e.tools.idGenerator,o=e.proxyRuntime,l=e.forwardMode):(u=void 0,o=void 0,l=a.ForwardMode.SingleForward)},t.prototype.creator=function(e,t){var n;if(void 0===t&&(t=u.generate()),e.constructor===Array)n=c.createArrayProxy(o,t,e);else if(e.constructor===Object)n=c.createFlatObjectProxy(o,t,e);else{var r=e.constructor[a.ClassReflectionName];if("object"!=typeof r||null===r)throw new Error("can't find __reflection");var i=o.getAkkoObjectStruct(r);n=c.createAkkoObjectProxy(o,t,e,i)}return l===a.ForwardMode.DoubleForward&&n.converge(),n},t.prototype.wrapper=function(e){if("object"!=typeof e||null===e)return e;var t=e[c.ProxyKey];return t?(l===a.ForwardMode.DoubleForward&&t.converge(),t):e},t}(s.CommonCoreFunctions);t.RealCoreFunctions=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(9),s=n(1),c=void 0,u=void 0,l=void 0,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onContextUpdate=function(e,t){t?(c=e.tools&&e.tools.idGenerator,u=e.frameSection,l=e.proxyRuntime):(c=void 0,u=void 0,l=void 0)},t.prototype.creator=function(e,t){void 0===t&&(t=c.generate());var n=u.realTakeCreatedObject(t,e);if(n)n.realTarget=s.carryObject(n,e);else if(e.constructor===Array)(n=s.createArrayProxy(l,t,e)).converge(),u.realUpdateProxyNode(n);else if(e.constructor===Object)(n=s.createFlatObjectProxy(l,t,e)).converge(),u.realUpdateProxyNode(n);else{var r=e.constructor[o.ClassReflectionName];if("object"!=typeof r||null===r)throw new Error("can't find __reflection");var i=l.getAkkoObjectStruct(r);(n=s.createAkkoObjectProxy(l,t,e,i)).converge(),u.realUpdateProxyNode(n)}return n},t.prototype.wrapper=function(e){if("object"!=typeof e||null===e)return e;var t=e[s.ProxyKey];return t?(t.illuTarget||(t.converge(),u.realUpdateProxyNode(t)),t):e},t.prototype.updater=function(e){return s.isProxyNode(e)&&u.realUpdateProxyNode(e),e},t.prototype.setter=function(e,t,n){var r=a.findProxyNode(e);return n=a.standardizeValue(n),r?(u.realUpdateProxyNode(r),r.setValue(t,n)):e[t]=n},t.prototype.prefix=function(e,t,n){var r=a.findProxyNode(e);if(r)return u.realUpdateProxyNode(r),r.prefix(t,n);e[t]+=n},t.prototype.postfix=function(e,t,n){var r=a.findProxyNode(e);if(r)return u.realUpdateProxyNode(r),r.postfix(t,n);var i=e[t];return e[t]+=n,i},t.prototype.remover=function(e,t){var n=a.findProxyNode(e);if(n)return u.realUpdateProxyNode(n),n.removeKey(t);delete e[t]},t}(a.CommonCoreFunctions);t.RealAckCoreFunctions=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(0),s=n(9),c=n(20),u=n(1),l=void 0;function p(e,t){if(c.enableModify(e))return!0;var n=a.getClassReflection(e.target());if(n){var r=n.properties[t];if(r&&r.isTransient)return!0}return!1}var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onContextUpdate=function(e,t){t?(l=e.tools&&e.tools.idGenerator,o=e.proxyRuntime):(l=void 0,o=void 0)},t.prototype.creator=function(e,t){var n;if(void 0===t&&(t=l.generate()),e.constructor===Array)n=u.createArrayProxy(o,t,e);else if(e.constructor===Object)n=u.createFlatObjectProxy(o,t,e);else{var r=e.constructor[a.ClassReflectionName];if("object"!=typeof r||null===r)throw new Error("can't find __reflection");var i=o.getAkkoObjectStruct(r);n=u.createAkkoObjectProxy(o,t,e,i)}return n},t.prototype.getter=function(e,t){var n=s.findProxyNode(e);if(n){var r=n.getValue(t);return n.touchKey(t),r}return e[t]},t.prototype.unwrapper=function(e){return u.isProxyNode(e)?(e.touchKey(),e.target()):e},t.prototype.setter=function(e,t,n){var r=s.findProxyNode(e);if(r&&p(r,t))return n=s.standardizeValue(n),r?r.setValue(t,n):e[t]=n;throw new Error("Magix is frozen, you can't modify anything")},t.prototype.prefix=function(e,t,n){var r=s.findProxyNode(e);if(r&&p(r,t)){var i=r.prefix(t,n);return r.touchKey(t),i}throw new Error("Magix is frozen, you can't modify anything")},t.prototype.postfix=function(e,t,n){var r=s.findProxyNode(e);if(r&&p(r,t)){var i=r.postfix(t,n);return r.touchKey(t),i}throw new Error("Magix is frozen, you can't modify anything")},t.prototype.remover=function(e,t){var n=s.findProxyNode(e);if(n&&p(n,t))return n.removeKey(t);throw new Error("Magix is frozen, you can't modify anything")},t}(s.CommonCoreFunctions);t.OutsideCoreFunctions=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(43),o=n(1);function a(e,t){return!(e===t||(Number.isNaN(e)?Number.isNaN(t):r.isBuffer(e)&&r.isBuffer(t)&&e.isEqualsTo(t)))}t.createBranchRuntime=function(e){return new s(e)};var s=function(){function e(e){this.logger=e,this.updatedProxyNodes=i.createUniteSet(),this.noConvergentRealNodes={},this.noConvergentIllusionNodes={}}return e.prototype.createFrameSection=function(e){return new c(this,this.updatedProxyNodes.createSubSet(),e)},e.prototype.syncTwoBranches=function(){for(var e in this.updatedProxyNodes.release((function(e){e.converge()})),this.noConvergentIllusionNodes){var t=this.noConvergentIllusionNodes[e];t!==this.noConvergentRealNodes[e]&&t.converge(),delete this.noConvergentIllusionNodes[e]}for(var e in this.noConvergentRealNodes)this.noConvergentRealNodes[e].converge(),delete this.noConvergentRealNodes[e]},e.prototype.isUpdatedProxyNode=function(e){return this.updatedProxyNodes.hasElement(e)},e.prototype.isNoConvergentIllusionProxyNode=function(e){return e in this.noConvergentIllusionNodes},e.prototype.isNoConvergentRealProxyNode=function(e){return e in this.noConvergentRealNodes},e.prototype.addNoConvergentIllusionProxyNode=function(e){this.logger.warn("found no convergent illusion object: "+e.identifier),this.noConvergentIllusionNodes[e.identifier]=e},e.prototype.addNoConvergentRealProxyNode=function(e){this.logger.warn("found no convergent real object: "+e.identifier),this.noConvergentRealNodes[e.identifier]=e},e}();t.BranchRuntimeImplement=s;var c=function(){function e(e,t,n){void 0===n&&(n={}),this.createdProxyNodes={},this.branch=e,this.illuUpdatedProxyNodes=t,this.realUpdatedProxyNodes={},this.legacyCreatedProxyNodes=n}return e.prototype.takeCreatedProxyNodes=function(){try{return this.createdProxyNodes}finally{this.createdProxyNodes={}}},e.prototype.illusionUpdateProxyNode=function(e){this.branch.isNoConvergentIllusionProxyNode(e.identifier)||this.illuUpdatedProxyNodes.add(e)},e.prototype.realUpdateProxyNode=function(e){this.branch.isNoConvergentRealProxyNode(e.identifier)||this.branch.isUpdatedProxyNode(e)||(this.realUpdatedProxyNodes[e.identifier]=e)},e.prototype.addCreatedObject=function(e){e.identifier in this.createdProxyNodes||(this.createdProxyNodes[e.identifier]=e),this.illuUpdatedProxyNodes.add(e)},e.prototype.illusionTakeCreatedObject=function(e,t){return this.takeCreatedObject(e,t,this.legacyCreatedProxyNodes)},e.prototype.realTakeCreatedObject=function(e,t){var n=this.takeCreatedObject(e,t,this.createdProxyNodes);return n&&!this.branch.isUpdatedProxyNode(n)&&(this.realUpdatedProxyNodes[e]=n),n},e.prototype.takeCreatedObject=function(e,t,n){var r=n[e];return r&&(delete n[e],(o.isArrayProxyNode(r)&&t.constructor!==Array||o.isFlatObjectProxyNode(r)&&t.constructor!==Object||o.isAkkoObjectProxyNode(r)&&t.constructor!==r.struct.classReflection.clazz)&&(r.dispose(),r=void 0)),r},e.prototype.completeRebuild=function(){for(var e in this.legacyCreatedProxyNodes)this.legacyCreatedProxyNodes[e].dispose(),delete this.legacyCreatedProxyNodes[e]},e.prototype.completeACK=function(){var t=this;for(var n in this.realUpdatedProxyNodes){var r=this.realUpdatedProxyNodes[n];e.isShallowEquals(r)||this.branch.addNoConvergentRealProxyNode(r),delete this.realUpdatedProxyNodes[n]}for(var n in this.illuUpdatedProxyNodes.release((function(n){n.realTarget&&!e.isShallowEquals(n)&&t.branch.addNoConvergentIllusionProxyNode(n)})),this.createdProxyNodes)this.createdProxyNodes[n].dispose(),delete this.createdProxyNodes[n]},e.isShallowEquals=function(e){var t=e.realTarget,n=e.illuTarget;if(!t||!n)return!1;switch(e.kind){case o.ProxyKind.Array:var r=t,i=n;if(r.length!==i.length)return!1;for(var s=0;s<r.length;++s)if(a(r[s],i[s]))return!1;return!0;case o.ProxyKind.FlatObject:case o.ProxyKind.HangUpObject:for(var c in t){if(!(c in n))return!1;if(a(n[c],t[c]))return!1}for(var c in n)if(!(c in t))return!1;return!0;case o.ProxyKind.AkkoObject:for(var u=0,l=e.struct.serializableValueProperties;u<l.length;u++){if((c=l[u])in t!=c in n)return!1;if(a(t[c],n[c]))return!1}return!0}},e}();t.BranchFrameSectionImplement=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUniteSet=function(){return new r};var r=function(){function e(){this.counterSet={},this.elementSet={}}return e.prototype.hasElement=function(e){var t=this.elementSet[e.identifier];return!!t&&t===e},e.prototype.createSubSet=function(){return new i(this)},e.prototype.release=function(e){for(var t in this.elementSet)e&&e(this.elementSet[t]),delete this.counterSet[t],delete this.elementSet[t]},e.prototype.add=function(e){var t=e.identifier;return t in this.counterSet?++this.counterSet[t]:(this.elementSet[t]=e,this.counterSet[t]=1)},e.prototype.remove=function(e){var t=this.counterSet[e];return void 0===t?t=0:0==--t&&(delete this.counterSet[e],delete this.elementSet[e]),t},e}();t.UniteSetImplement=r;var i=function(){function e(e){this.uniteSet=e,this.elementSet={}}return e.prototype.add=function(e){var t=e.identifier;t in this.elementSet||(this.elementSet[t]=e,this.uniteSet.add(e))},e.prototype.release=function(e){for(var t in this.elementSet){var n=this.elementSet[t],r=this.uniteSet.remove(t);e&&0===r&&e(n),delete this.elementSet[t]}},e}();t.ChildSetImplement=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=function(e){function t(t){for(var n=e.call(this,t)||this,r=t.displayerTarget(),i=0;i<r.length;++i)o.addDisplayerKey(n,i);return n}return i(t,e),t.refreshLength=function(e,t){for(var n=t;n in e;)o.removeDisplayerKey(e,n),n++;if(n===t)for(n=t-1;n>=0&&!(n in e);)o.addDisplayerKey(e,n),n--},t.unwrapToPureArray=function(e){if(e instanceof t){for(var n=e.__proxy.displayerTarget().length,r=new Array(n),i=0;i<n;++i)r[i]=e[i];return r}return e},t.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=t.unwrapToPureArray(this),i=0;i<e.length;++i)e[i]=t.unwrapToPureArray(e[i]);return Array.prototype.concat(r,e)},t.prototype.every=function(e,t){var n=this,r=this.__proxy.proxyRuntime;return Array.prototype.every.call(this.__proxy.displayerTarget(),(function(i,o){return e.call(t,r.pullValue(i),o,n)}))},t.prototype.filter=function(e,t){var n=this,r=this.__proxy.proxyRuntime;return Array.prototype.filter.call(this.__proxy.displayerTarget(),(function(i,o){return e.call(t,r.pullValue(i),o,n)}))},t.prototype.find=function(e,t){var n=this,r=this.__proxy.proxyRuntime,i=Array.prototype.find.call(this.__proxy.displayerTarget(),(function(i,o){return e.call(t,r.pullValue(i),o,n)}));return r.pullValue(i)},t.prototype.findIndex=function(e,t){var n=this,r=this.__proxy.proxyRuntime;return Array.prototype.findIndex.call(this.__proxy.displayerTarget(),(function(i,o){return e.call(t,r.pullValue(i),o,n)}))},t.prototype.forEach=function(e,t){var n=this,r=this.__proxy.proxyRuntime;Array.prototype.forEach.call(this.__proxy.displayerTarget(),(function(i,o){e.call(t,r.pullValue(i),o,n)}))},t.prototype.indexOf=function(e,t){return o.isDisplayerNode(e)&&(e=e.__proxy),Array.prototype.indexOf.call(this.__proxy.displayerTarget(),e,t)},t.prototype.lastIndexOf=function(e,t){return o.isDisplayerNode(e)&&(e=e.__proxy),Array.prototype.lastIndexOf.call(this.__proxy.displayerTarget(),e,t)},t.prototype.join=function(e){return Array.prototype.join.call(this.__proxy.displayerTarget(),e)},t.prototype.map=function(e,t){var n=this,r=this.__proxy.proxyRuntime;return Array.prototype.map.call(this.__proxy.displayerTarget(),(function(i,o){return e.call(t,r.pullValue(i),o,n)}))},t.prototype.reduce=function(e,t){var n=this,r=this.__proxy.proxyRuntime,i=t;return Array.prototype.reduce.call(this.__proxy.displayerTarget(),(function(t,o,a){return i!==t&&(t=r.pullValue(t)),i=e(t,r.pullValue(o),a,n)}),t)},t.prototype.reduceRight=function(e,t){var n=this,r=this.__proxy.proxyRuntime,i=t;return Array.prototype.reduceRight.call(this.__proxy.displayerTarget(),(function(t,o,a){return i!==t&&(t=r.pullValue(t)),i=e(t,r.pullValue(o),a,n)}),t)},t.prototype.slice=function(e,t){for(var n=this.__proxy.proxyRuntime,r=Array.prototype.slice.call(this.__proxy.displayerTarget(),e,t),i=0;i<r.length;++i)r[i]=n.pullValue(r[i]);return r},t.prototype.some=function(e,t){var n=this,r=this.__proxy.proxyRuntime;return Array.prototype.some.call(this.__proxy.displayerTarget(),(function(i,o){return e.call(t,r.pullValue(i),o,n)}))},t.prototype.toString=function(){return Array.prototype.toString.apply(this.__proxy.displayerTarget())},t.prototype.copyWithin=function(){t.throwImmutableError()},t.prototype.fill=function(){t.throwImmutableError()},t.prototype.pop=function(){t.throwImmutableError()},t.prototype.push=function(){t.throwImmutableError()},t.prototype.reverse=function(){t.throwImmutableError()},t.prototype.shift=function(){t.throwImmutableError()},t.prototype.splice=function(){t.throwImmutableError()},t.prototype.unshift=function(){t.throwImmutableError()},t.prototype.sort=function(){t.throwImmutableError()},t.prototype.entries=function(){t.throwBanMethodError()},t.prototype.keys=function(){t.throwBanMethodError()},t.prototype.values=function(){t.throwBanMethodError()},t.throwImmutableError=function(){throw new Error("it is immutable")},t.throwBanMethodError=function(){throw new Error("ban method")},t}(o.DisplayerNodeImplement);t.ArrayDisplayerNode=a,Object.defineProperty(a.prototype,"length",{enumerable:!1,configurable:!0,get:function(){var e=this.__proxy,t=e.proxyRuntime.pullValue(e.displayerTarget().length);return e.touchKey("length"),t}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6),o=n(3),a=n(12),s=n(7),c=n(13),u=n(5);!function(e){e[e.ExportsPropertyMode=0]="ExportsPropertyMode",e[e.SerializablePropertyMode=1]="SerializablePropertyMode"}(r=t.CopierMode||(t.CopierMode={})),t.copyDisplayerNode=function(e,t,n){return void 0===t&&(t=r.ExportsPropertyMode),new l(t,n).copyValue(e)};var l=function(){function e(e,t){this.mode=e,this.creator=t,this.copedObjectMap={}}return e.prototype.copyValue=function(e){return o.isDisplayerNode(e)?this.copyProxyNode(e.__proxy):u.isProxyNode(e)?this.copyProxyNode(e):e},e.prototype.copyProxyNode=function(e){var t=e.identifier,n=this.copedObjectMap[t];if(!n){var r=e.displayerTarget();if(a.isFlatObjectProxyNode(e)){var i={};for(var o in this.copedObjectMap[t]=n=i,r)i[o]=this.copyInsideValue(e.proxyRuntime,r[o])}else if(s.isAkkoObjectProxyNode(e)){var u=e.struct;i=this.createAkkoObject(u.classReflection.clazz),this.copedObjectMap[t]=n=i;for(var l=0,p=this.getPropertiesToCopy(e);l<p.length;l++)i[o=p[l]]=this.copyInsideValue(e.proxyRuntime,u.getValueFromProxyNode(e,o))}else if(c.isArrayProxyNode(e)){var d=r.length,h=[];this.copedObjectMap[t]=n=h;for(var f=0;f<d;++f)h[f]=this.copyInsideValue(e.proxyRuntime,r[f])}}return n},e.prototype.getPropertiesToCopy=function(e){switch(this.mode){case r.ExportsPropertyMode:return e.struct.copyableProperties;case r.SerializablePropertyMode:return e.struct.serializableValueProperties}},e.prototype.createAkkoObject=function(e){return this.creator?this.creator(e):{}},e.prototype.copyInsideValue=function(e,t){return"object"!=typeof t||null===t?t:u.isProxyNode(t)?this.copyProxyNode(t):i.isBuffer(t)?t.readonly?t:t.slice():e.escapeObjectFilter(t)?t:void 0},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),o=n(5),a=n(12),s=n(7),c=n(13),u=n(16);i.contextStack.addListener((function(e,t){r=t&&e.tools?e.coreFunctions:null})),t.copyProxyNode=function(e){return(new l).copyValue(e)};var l=function(){function e(){this.copedObjectMap={}}return e.prototype.copyValue=function(e){return o.isProxyNode(e)?this.copyProxyNode(e):e},e.prototype.copyProxyNode=function(e){var t=e.identifier,n=this.copedObjectMap[t];if(!n)if(a.isFlatObjectProxyNode(e)||u.isHangUpObjectProxyNode(e)){var i=r.creator({});for(var o in this.copedObjectMap[t]=n=i,r.unwrapper(e)){var l=this.copyValue(r.getter(e,o));r.setter(n,o,l)}}else if(s.isAkkoObjectProxyNode(e)){var p=e.struct,d={};Object.setPrototypeOf(d,p.classReflection.clazz.prototype),i=r.creator(d),this.copedObjectMap[t]=n=i;for(var h=0,f=p.serializableValueProperties;h<f.length;h++)l=this.copyValue(r.getter(e,o=f[h])),r.setter(i,o,l)}else{if(!c.isArrayProxyNode(e))throw new Error("invalid proxy node");var m=r.getter(e,"length"),g=r.creator([]);this.copedObjectMap[t]=n=g;for(var y=0;y<m;++y)l=this.copyValue(r.getter(e,y)),r.setter(g,y,l)}return n},e}()},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(0),c=n(8),u=n(4),l=n(15),p=n(3),d=function(){function e(e,t){var n=this;this.didDispose=!1,this.onAkkoProxyNodeUpdated=function(e){if(n.observer)for(var t in e){var r=e[t];n.observer.reportChanged(t,r.value,r.kind)}},this.struct=e.struct,this.observerAdapter=t,this._akkoProxyNode=e,this.displayer=this.createDisplayer(e),this._akkoProxyNode.addListener(this.onAkkoProxyNodeUpdated),this.valueProperties=Object.freeze(o(this.struct.transientValueProperties,this.struct.serializableValueProperties))}return e.prototype.dispose=function(){this.didDispose||(this._akkoProxyNode.removeListener(this.onAkkoProxyNodeUpdated),this.didDispose=!0)},Object.defineProperty(e.prototype,"akkoProxyNode",{get:function(){return this._akkoProxyNode},set:function(e){var t=this;this._akkoProxyNode!==e&&(this._akkoProxyNode.removeListener(this.onAkkoProxyNodeUpdated),this.observerAdapter?this.observerAdapter.observeUpdate((function(){t.compareAndReportUpdated(t._akkoProxyNode,e),t._akkoProxyNode=e})):(this.compareAndReportUpdated(this._akkoProxyNode,e),this._akkoProxyNode=e))},enumerable:!0,configurable:!0}),e.prototype.compareAndReportUpdated=function(e,t){if(this.observer){for(var n=e.displayerTarget(),r=t.displayerTarget(),i=0,o=this.valueProperties;i<o.length;i++){var a=o[i],c=a in n,l=a in r;c&&!l?this.observer.reportChanged(a,void 0,s.UpdateEventKind.Removed):!c&&l?this.observer.reportChanged(a,r[a],s.UpdateEventKind.Inserted):n[a]!==r[a]&&this.observer.reportChanged(a,r[a],s.UpdateEventKind.Updated)}this.observer.reportChanged(u.ProxyKey,t,s.UpdateEventKind.Updated)}},e.prototype.createDisplayer=function(e){var t=this,n=e.struct.classReflection,r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(p.DisplayerNodeImplement),o=function(e){Object.defineProperty(r.prototype,e,{enumerable:!1,configurable:!1,get:function(){return t.getProperty(e)}})};for(var a in n.properties)o(a);var s=function(e){r.prototype[e]=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.invokeMethod(e,n)}};for(var c in n.methods)s(c);return new r(e)},e.prototype.getProperty=function(e){var t=this,n=void 0,r=this.akkoProxyNode.proxyRuntime;switch(this.struct.getPropertyReadableKind(e)){case l.PropertyReadableKind.ReadValue:n=r.pullValue(this.akkoProxyNode.displayerTarget()[e]),this.touchKey(e);break;case l.PropertyReadableKind.ReadByGetter:var i=r.runtime,o=r.noEffectsIdGenerator,s={authorId:null===i.observerId?a.AdminObserverId:i.observerId,mode:c.CoreFunctionsMode.Outside,timestamp:Date.now(),identifierGenerator:o};n=i.runWithMagix(s,(function(){return t.akkoProxyNode.target()[e]})),this.touchKey(u.ProxyKey),n=r.pullValue(n);break;case l.PropertyReadableKind.CanNotReadGetter:throw new Error("can't read property "+JSON.stringify(e)+" unless it has @noEffects");case l.PropertyReadableKind.CanNotReadPrivateValue:case l.PropertyReadableKind.CanNotReadPrivateGetter:throw new Error("can't read private property "+JSON.stringify(e))}return n},e.prototype.invokeMethod=function(e,t){var n=this.akkoProxyNode.callOutside(e,t);return this.touchKey(u.ProxyKey),n},e.prototype.touchKey=function(e){var t=this.observerAdapter;t&&(this.observer||(this.observer=t.create("AkkoDisplayerHolder")),this.observer.reportObservedKey(e))},e}();t.AkkoDisplayerHolder=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(1),a=null;r.contextStack.addListener((function(e,t){a=t?e.coreFunctions:null}));var s=function(){function e(){}return e.prototype.isValidObject=function(e){return o.isAkkoObjectProxyNode(e)},e.prototype.isDisplayerObject=function(e){return o.isDisplayerNode(e)},e.prototype.identifier=function(e){return e.identifier},e.prototype.kind=function(e){if(o.isAkkoObjectProxyNode(e))return r.ObjectKind.AkkoObject;if(o.isFlatObjectProxyNode(e))return r.ObjectKind.FlatObject;if(o.isArrayProxyNode(e))return r.ObjectKind.Array;if(o.isDisplayerNode(e))return r.ObjectKind.Displayer;throw new Error("unrecognized proxy node")},e.prototype.forEach=function(e,t){if(o.isFlatObjectProxyNode(e)){var n=e.target();for(var r in n)t(n[r],r)}else if(o.isArrayProxyNode(e)){n=e.target();for(var i=0;i<n.length;++i)t(n[i],i)}else if(o.isAkkoObjectProxyNode(e)){n=e.target();for(var a=0,s=e.struct.serializableValueProperties;a<s.length;a++)t(n[r=s[a]],r)}},e.prototype.createObject=function(e,t){return a.creator(t,e)},e.prototype.wrapDisplayer=function(e,t){return t.displayer},e.prototype.unwrapDisplayer=function(e,t){return t.__proxy},e.prototype.getClassReflection=function(e){var t=e;if(o.isDisplayerNode(t)&&(t=t.__proxy),o.isAkkoObjectProxyNode(t))return t.struct.classReflection},e.prototype.override=function(e,t,n){if(o.isFlatObjectProxyNode(e)){for(var r in a.unwrapper(e))r in t||a.remover(e,r);for(var r in t)a.setter(e,r,t[r])}else if(o.isArrayProxyNode(e)){var i=t,s=a.getter(e,"length");i.length>s&&a.caller(e,"splice",[s]);for(var c=0;c<i.length;++c)a.setter(e,c,i[c])}else if(o.isAkkoObjectProxyNode(e)){for(var u=e.proxyRuntime.getAkkoObjectStruct(n),l=0,p=u.transientValueProperties;l<p.length;l++)a.remover(e,r=p[l]);for(var d=0,h=u.serializableValueProperties;d<h.length;d++)a.setter(e,r=h[d],t[r])}},e.prototype.displayerPhase=function(e){if(o.isDisplayerNode(e))return i.getPhaseWithDisplayerNode(e);throw new Error("it isn't akko wrapped object")},e.prototype.copyDisplayer=function(e){return i.copyDisplayerNode(e)},e}();t.ProxyObjectOperator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(1),a=n(19),s=void 0;r.contextStack.addListener((function(e,t){s=t?e.coreFunctions.creator:void 0}));var c=function(){function e(e,t){this.decorateObjectEnums=Object.freeze([i.ObjectEnum.Object]),this.proxyRuntime=e,this.covertIdToClass=t}return e.prototype.createObject=function(e,t){if(t===i.ObjectEnum.HangUpObject)return o.createHangUpObjectProxy(this.proxyRuntime,e,{});var n=t===i.ObjectEnum.Array?[]:{};return s?s(n,e):a.wrapObject(this.proxyRuntime,n,e)},e.prototype.findIdentifier=function(e){var t=e.identifier;if(void 0===t)throw o.isProxyNode(e)?new Error("can't find identifier of proxy node"):new Error("object should be proxy node");return t},e.prototype.findHangUpMetadata=function(e){if(!o.isHangUpObjectProxyNode(e))throw new Error("it's not hang up object");return e},e.prototype.checkObjectEnum=function(e){switch(e.kind){case o.ProxyKind.Array:return i.ObjectEnum.Array;case o.ProxyKind.AkkoObject:case o.ProxyKind.FlatObject:return i.ObjectEnum.Object;case o.ProxyKind.HangUpObject:return i.ObjectEnum.HangUpObject;default:throw new Error("unrecognized object")}},e.prototype.keys=function(e){return Object.keys(e.target())},e.prototype.length=function(e){return o.isArrayProxyNode(e)?e.target().length:void 0},e.prototype.hasKey=function(e,t){return t in e.target()},e.prototype.getValue=function(e,t){return e.target()[t]},e.prototype.setValue=function(e,t,n){e.setValue(t,n)},e.prototype.completeHangUpObject=function(e,t){o.isHangUpObjectProxyNode(e)&&e.setHangMetadata(t)},e.prototype.decorateObject=function(e,t,n,a,s){if(a&&t===i.ObjectType.AssertedObject){var c=this.covertIdToClass(a.id);if(!c)throw new i.DeserializerError("can't find class by object format id "+a.id);var u=c[r.ClassReflectionName];o.isFlatObjectProxyNode(e)&&e.covertToAkkoObjectProxyNode(u)}},e}();t.ProxyObjectAdapter=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n){this.runtime=e,this.rootObject=t,this.observerAdapter=n}return e.prototype.initialize=function(){this.holder=new r.AkkoDisplayerHolder(this.rootObject,this.observerAdapter)},e.prototype.initializeWithOriginRootObject=function(e){this.holder=e.holder,this.holder.akkoProxyNode=this.rootObject},Object.defineProperty(e.prototype,"observerId",{get:function(){return this.runtime.observerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayer",{get:function(){return this.holder.displayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this.rootObject.target()},enumerable:!0,configurable:!0}),e.prototype.getRootMethod=function(e){return this.rootObject.getMethod(e)},e.prototype.snapshotRootObject=function(){return this.rootObject},e}();t.ProxyRootObjectImplement=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(14),a=function(){function e(e){this.params=Object.freeze(r({},e)),this.objectOperator=new i.ProxyObjectOperator}return e.prototype.createProxyRuntime=function(e,t){return new o.ProxyRuntimeImplement(this.objectOperator,e,t,{escapeObjectFilter:this.params.escapeObjectFilter,jsxFactory:this.params.jsxFactory,observerAdapter:this.params.observerAdapter})},e}();t.ProxyManagerImplement=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1);function o(e){switch(typeof e){case"function":return e;case"object":if(null!==e)return function(e){var t=e.__proxy;switch(function(e){if(i.isAkkoObjectProxyNode(e))return r.ObjectKind.AkkoObject;if(i.isFlatObjectProxyNode(e))return r.ObjectKind.FlatObject;if(i.isArrayProxyNode(e))return r.ObjectKind.AkkoObject;if(i.isDisplayerNode(e))return r.ObjectKind.Displayer;throw new Error("unrecognized proxy node")}(t)){case r.ObjectKind.FlatObject:return Object;case r.ObjectKind.Array:return Array;case r.ObjectKind.AkkoObject:return function(e){var t=e;if(i.isDisplayerNode(t)&&(t=t.__proxy),i.isAkkoObjectProxyNode(t))return t.struct.classReflection}(t).clazz}return e.constructor}(e)}}t.isAkkoWrappedObjectAccessible=function(e){if(!i.isDisplayerNode(e))throw new Error("it isn't akko wrapped object");return r.DisplayerPhase.Rejected!==i.getPhaseWithDisplayerNode(e)},t.isInstanceOf=function(e,t){return i.isDisplayerNode(e)?e.__proxy.displayerTarget()instanceof t:i.isProxyNode(e)?e.displayerTarget()instanceof t:e instanceof t},t.findClassId=function(e){var t=o(e);if(t===Object)return-1;if(t===Array)return-2;if(void 0===t)return-3;var n=t[r.ClassReflectionName];return n?n.id:-3},t.findClass=o}]))},function(e,t){e.exports=n("bdgK")},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){e.exports=n(2)},function(e,t,n){"use strict";function r(e){return"string"==typeof e?parseFloat(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.EmuToPt=12700,t.EmuToPx=9525,t.STPercentage100=1e5,t.FontToPt=100,t.DefaultTopPadding=45720,t.DefaultLeftPadding=91440,t.Degree=6e4,t.PaddingWebFix=4.5*t.EmuToPt,t.DefatultHeightLine=1,t.parseSTPercentage=function(e){return r(e)/t.STPercentage100},t.toPt=function(e){return r(e)/t.EmuToPt+"pt"},t.toDeg=function(e){return e/t.Degree},t.toNumber=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(38),o=n(39),a=n(40),s=function(){function e(e,t){this.picker=t,this.resourceType=e}return e.prototype.parse=function(e){return new u(this.picker,null,0,i.xml2js(e,{compact:!1,captureSpacesBetweenElements:!0}),this.resourceType)},e}();t.XMLNodeRuntime=s;var c=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.tagNames=e}return e.prototype.execute=function(e){return void 0!==this.tagNames.find((function(t){return t===e}))},e.prototype.toString=function(){return this.tagNames.join(" or ")},e}();t.TagOrExpr=c;var u=function(){function e(t,n,i,o,s){this.picker=t,this.parent=n,this.index=i,this.resourceType=s,this.name=o.name,this.type=o.type,this.attr=new a.LocalAttributes(this.name,Object.freeze(r({},o.attributes))),this.extraAttr=t?new a.ExtraAttributes(this,t,s):new a.EmptyAttributes(this.name);var c=[];if(o.elements)for(var u=0;u<o.elements.length;++u){var l=o.elements[u];"text"===l.type?this.text=l.text:c.push(new e(t,this,u,l,s))}this.elements=Object.freeze(c)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elements[0]},enumerable:!0,configurable:!0}),e.prototype.displayer=function(e){return o.createXMLNodeDisplayer(this,e)},e.prototype.elementWithName=function(e){for(var t=0,n=this.elements;t<n.length;t++){var r=n[t];if(r.name===e)return r}},e.prototype.extraElementWithName=function(e){if(this.picker&&this.name)return this.cachedXMLMap||(this.cachedXMLMap={}),this.picker.getChild(this.name,e,this,this.cachedXMLMap,this.resourceType)},e.prototype.elementsWithName=function(e){for(var t=[],n=0,r=this.elements;n<r.length;n++){var i=r[n];i.name===e&&t.push(i)}return t},e.prototype.childElementOptional=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.searchChildElement(e),r=n.xml,i=n.found;return i?r:void 0},e.prototype.childElement=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.searchChildElement(e),r=n.xml,i=n.found;if(i)return r;"string"==typeof this.name&&e.unshift(this.name);var o=e.join(" -> "),a=e.findIndex((function(e){return e===r.name})),s=e.splice(a+1)[0],c=e.join(" -> ");throw new Error("can't find child "+o+": lack of child "+s+" from "+c)},e.prototype.searchChildElement=function(e){for(var t=this,n=0;n<e.length;++n){for(var r=e[n],i=t,o=0,a=t.elements;o<a.length;o++){var s=a[o];if("string"==typeof r){if(s.name===r){t=s;break}}else if(r.execute(s.name)){t=s;break}}if(i===t)return{xml:t,found:!1}}return{xml:t,found:!0}},e.prototype.hasChildElementWithName=function(e){for(var t=0,n=this.elements;t<n.length;t++)if(n[t].name===e)return!0;return!1},e.prototype.parentElement=function(e){var t=this.parentElementOptional(e);if(t)return t;throw new Error("can't find parent "+e+" from "+this.name)},e.prototype.parentElementOptional=function(e){for(var t=this.parent;t;){if("string"==typeof e){if(t.name===e)return t}else if(e.execute(t.name))return t;t=t.parent}},e}()},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(6),a=n(8),s=n(1);t.None=a("#FFFFFF").alpha(0),t.UNDEFINED=a("#FFFFFF").alpha(0);var c=function(){function e(){this.fillColor=t.None.hsl()}return e.prototype.setFillColor=function(e){this.fillColor=e},e.prototype.hsl=function(){return this.fillColor.hsl()},e.prototype.rgb=function(){return this.fillColor.rgb()},e}();t.GroupFill=c;var u=function(){function e(e){this.alphaModFix=1,this.resId=e.childElement("a:blip").attr.getString("r:embed"),this.tile=void 0!==e.childElementOptional("a:tile");var t=e.childElement("a:blip").childElementOptional("a:alphaModFix");void 0!==t&&(this.alphaModFix=s.parseSTPercentage(t.attr.getNumber("amt")))}return e.prototype.getResId=function(){return this.resId},e.prototype.getAlphaModFix=function(){return this.alphaModFix},e.prototype.hsl=function(){return t.None.hsl()},e.prototype.rgb=function(){return t.None.rgb()},e}();t.ImageFill=u;var l=function(){function e(e,t,n){this.colors=[],this.rotation=0,this.path=void 0;var a=e.childElement("a:gsLst").elementsWithName("a:gs");if(this.colors=a.sort((function(e,t){return e.attr.getNumber("pos")/s.STPercentage100-t.attr.getNumber("pos")/s.STPercentage100})).map((function(e){return{stop:e.attr.getNumber("pos")/s.STPercentage100,color:p(e.childElement(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],o.ALL_COLOR_TYPE)))),t,n)}})),e.hasChildElementWithName("a:lin")&&(this.rotation=s.toDeg(e.childElement("a:lin").attr.getNumber("ang",0))),e.hasChildElementWithName("a:path")){var c=e.childElement("a:path"),u=c.attr.getString("path"),l=c.childElement("a:fillToRect"),d=l.attr.getNumber("l",0),h=l.attr.getNumber("t",0),f=l.attr.getNumber("b",0),m=l.attr.getNumber("r",0);this.path={path:u,fillToRect:{left:d,top:h,bottom:f,right:m}}}}return e.prototype.getGradientPath=function(){return this.path},e.prototype.getColors=function(){return this.colors},e.prototype.getRotation=function(){return this.rotation},e.prototype.hsl=function(){return this.colors&&this.colors.length>0&&this.colors[0].color?this.colors[0].color.hsl():t.None.hsl()},e.prototype.rgb=function(){return this.colors&&this.colors.length>0&&this.colors[0].color?this.colors[0].color.rgb():t.None.rgb()},e}();function p(e,t,n){if(e.attr.has("val")){var r=e.childElementOptional("a:alpha"),i=e.childElementOptional("a:shade"),c=e.childElementOptional("a:tint"),u=e.childElementOptional("a:lumMod"),l=e.childElementOptional("a:satMod"),p=e.childElementOptional("a:satOff"),h=e.childElementOptional("a:lumOff"),f=e.childElementOptional("a:hueMod"),m=e.childElementOptional("a:hueOff");switch(e.name){case"a:prstClr":return d(a(e.attr.getString("val")),r,i,u,c,l,h,p,f,m);case"a:srgbClr":return d(a("#"+e.attr.getString("val")),r,i,u,c,l,h,p,f,m);case"a:schemeClr":var g=e.attr.getString("val");return"phClr"===g&&(g=n.attr.getString("val")),d(a("#"+o.getSchemeClr(g,t)),r,i,u,c,l,h,p,f,m);case"a:hslClr":var y=e.attr.getNumber("hue")/s.Degree,v=e.attr.getNumber("sat")/s.STPercentage100,b=e.attr.getNumber("lum")/s.STPercentage100;return d(a({h:y,s:v,l:b}),r,i,u,c,l,h);case"a:scrgbClr":var A=255*e.attr.getNumber("r")/s.STPercentage100,x=255*e.attr.getNumber("g")/s.STPercentage100,w=255*e.attr.getNumber("b")/s.STPercentage100;return d(a({r:A,g:x,b:w}),r,i,u,c,l,h);case"a:sysClr":return d(a("#"+e.attr.getString("lastClr")),r,i,u,c,l,h,p,f,m);default:return}}}function d(e,t,n,r,i,o,c,u,l,p){if(i&&(e=e.mix(a("white"),1-i.attr.getNumber("val")/s.STPercentage100)),n&&(e=e.mix(a("black"),1-n.attr.getNumber("val")/s.STPercentage100)),o){var d=e.hsl().object(),h=d.h,f=d.s,m=d.l,g=f*o.attr.getNumber("val")/s.STPercentage100;e=a({l:m,s:g,h:h})}if(u){var y=e.hsl().object();h=y.h,f=y.s,m=y.l,g=u.attr.getNumber("val")/s.STPercentage100*100+f,e=a({l:m,s:g,h:h})}if(r){var v=e.hsl().object(),b=(h=v.h,f=v.s,(m=v.l)*r.attr.getNumber("val")/s.STPercentage100);e=a({l:b,s:f,h:h})}if(c){var A=e.hsl().object();h=A.h,f=A.s,m=A.l,b=c.attr.getNumber("val")/s.STPercentage100*100+m,e=a({l:b,s:f,h:h})}if(l){var x=e.hsl().object(),w=(f=x.s,m=x.l,(h=x.h)*l.attr.getNumber("val")/s.STPercentage100);e=a({l:m,s:f,h:w})}if(p){var _=e.hsl().object();h=_.h,f=_.s,m=_.l,w=p.attr.getNumber("val")/s.Degree+h,e=a({l:m,s:f,h:w})}return t&&(e=e.alpha(t.attr.getNumber("val")/s.STPercentage100)),e}t.GradientColor=l,t.getColor=p;var h=function(){function e(e){this.placeHolderColor=e}return e.prototype.read=function(e,n){if(void 0===e)return t.UNDEFINED;switch(e.name){case"a:noFill":return t.None;case"a:solidFill":return p(e.childElement(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],o.ALL_COLOR_TYPE)))),n,this.placeHolderColor);case"a:gradFill":return new l(e,n,this.placeHolderColor);case"a:blipFill":return void 0!==e.childElement("a:blip").attr.getStringOptional("r:embed")?new u(e):t.None;case"a:grpFill":return new c;case"a:pattFill":default:return t.UNDEFINED}},e}();t.FillOrLineFillReader=h,t.ensureColor=function(e){return e instanceof u||void 0===e?"none":e.rgb().string()}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(3),a=n(6);t.Parser=function(e,t){this.animation=e,this.context=t,this.shapeAnimationParams=y(e.spId,t)};var s=n(51);t.AnimParser=s.AnimParser;var c=n(52);t.AnimRotateParser=c.AnimRotateParser;var u=n(53);t.AnimScaleParser=u.AnimScaleParser;var l=n(54);t.AnimEffectParser=l.AnimEffectParser;var p=n(55);t.AnimColorParser=p.AnimColorParser;var d=n(56);t.AnimSetParser=d.AnimSetParser;var h=n(57);t.AnimCmdParser=h.AnimCmdParser;var f=n(58);t.AnimMotionParser=f.AnimMotionParser;var m,g=n(10);function y(e,t){var n=t.shapeParamsIndex[parseInt(e)];return n?{ppt_x:n.rectangle.x/t.slideWidth,ppt_y:n.rectangle.y/t.slideHeight,ppt_w:n.rectangle.width/t.slideWidth,ppt_h:n.rectangle.height/t.slideHeight}:{ppt_x:0,ppt_y:0,ppt_w:.5,ppt_h:.5}}function v(e,t,n){var s,c=e.childElement(new i.TagOrExpr("p:strVal","p:fltVal","p:clrVal","p:intVal"));switch(s="p:clrVal"===c.name?o.getColor(c.childElement(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],a.ALL_COLOR_TYPE)))),n.slideContext):c.attr.getString("val"),c.name){case"p:strVal":return"num"===t?{attrValue:s=s.replace(/#/g,"$"),attrValueType:m.formulaType}:{attrValue:s,attrValueType:m.stringType};case"p:fltVal":return{attrValue:parseFloat(s),attrValueType:m.floatType};case"p:clrVal":return{attrValue:s,attrValueType:m.colorType};case"p:intVal":return{attrValue:parseInt(s),attrValueType:m.intType};default:return{attrValue:s,attrValueType:m.stringType}}}t.TimeFilter=g.TimeFilter,t.TimeFilterResolver=g.TimeFilterResolver,function(e){e[e.floatType=0]="floatType",e[e.stringType=1]="stringType",e[e.colorType=2]="colorType",e[e.intType=3]="intType",e[e.formulaType=4]="formulaType"}(m=t.AnimatedAttrValueType||(t.AnimatedAttrValueType={})),t.toShapeParams=y,t.parseBehaviorAttr=function(e){var t=e.childElement("p:cTn"),n=t.childElementOptional("p:stCondLst","p:cond"),r=0;n&&(r=n.attr.getNumber("delay"));var i,o=t.attr.getStringOptional("dur");i=void 0===o?1:"indefinite"===o?-1:parseInt(o);var a=t.attr.getStringOptional("fill"),s=t.attr.getStringOptional("tmFilter"),c=e.childElementOptional("p:attrNameLst"),u=[];return c&&c.elementsWithName("p:attrName").forEach((function(e){u.push(e.text)})),{duration:i,delay:r,animationAttrNames:u,timeFilter:s,fill:a}},t.getValueHolderOptional=function(e,t,n){if(void 0!==e)return v(e,t,n)},t.getValueHolder=v},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),s=n(12),c=n(4),u=n(23),l=function(e){function t(t,n,r,i,o){var a=e.call(this)||this;if(a.playingSoundEffecting=!1,a.animeId=t.animation.id,a.sequenceIndex=t.animation.sequenceIndex,a.shapeId=t.animation.spId,a.atomAnimeId=t.props.animeId,a.delay=t.props.delay+i,a.duration=t.props.duration,a.parentAnimeDelay=t.animation.delay+i,a.sequenceBeginAt=i,a.parentAnimeDuration=t.animation.duration,a.parentAnimeAutoRev=t.animation.autoRev,a.autoRev=t.props.autoRev,a.fill=t.props.fill,a.presetClass=t.animation.presetClass,a.presetID=t.animation.presetID,a.repeatCount=t.animation.repeatCount,a.repeatEndCondition=t.animation.repeatEndCondition,a.animeIndex=o,a.eventSourceId=void 0===t.animation.eventSourceShapeId?s.mainSequenceEventSourceId:t.animation.eventSourceShapeId,a.animatedValueAttrs=t.props.animatedValueAttrs,a.shapeParam=r.shapeParamsIndex[parseInt(a.shapeId)],a.shapeAnimationParams=c.toShapeParams(a.shapeId,r),a.soundEffectId=t.animation.soundEffectId,void 0!==a.animatedValueAttrs){var u=a.animatedValueAttrs;a.formulas=u.slice(0,u.length-1).map((function(e,t){var i=u[t],o=u[t+1];void 0!==u[t].formula&&(o.formula=i.formula);var s=a.parseValue(i,n,r),c=a.parseValue(o,n,r);return{from:s.value,to:c.value,startProcessRate:i.time,endProcessRate:o.time,formula:s.formula,fromType:s.type,toType:c.type}}))}return a}return i(t,e),t.prototype.createState=function(e,t,n){if(this.shouldPlaySoundEffecting(e),e===this.sequenceBeginAt&&(this.ended=!1),!0===this.ended&&!1===this.stateCache.playingSoundEffecting)return this.stateCache;if(void 0===this.repeatCount||"none"===this.repeatCount){!0===this.parentAnimeAutoRev?e>=this.parentAnimeDelay+2*this.parentAnimeDuration&&(this.ended=!0):!0===this.autoRev?e>=this.delay+2*this.duration&&(this.ended=!0):e>=this.delay+this.duration&&(this.ended=!0);var r=this.getAutoRevEffectiveTime(e);return this.getState(r,t)}var i=this.getRepeatEffectiveTime(e,n);return r=this.getAutoRevEffectiveTime(i),this.getState(r,t)},t.prototype.getRepeatEffectiveTime=function(e,t){var n=this.parentAnimeDuration;return!0===this.parentAnimeAutoRev&&(n=2*this.parentAnimeDuration),"indefinite"===this.repeatCount?(void 0===this.loopStartTime&&(this.loopStartTime=t),(t-this.loopStartTime+this.sequenceBeginAt-this.parentAnimeDelay)%n+this.parentAnimeDelay):Math.floor((e-this.parentAnimeDelay)/n)>=this.repeatCount?(this.ended=!0,this.delay+this.duration-1):(e-this.parentAnimeDelay)%n+this.parentAnimeDelay},t.prototype.getAutoRevEffectiveTime=function(e){var t;if(!0===this.parentAnimeAutoRev){var n=(r=this.delay)+this.duration;t=e>(o=(i=this.parentAnimeDelay+this.parentAnimeDuration+(this.parentAnimeDelay+this.parentAnimeDuration-n))+this.duration)?r:e>i&&e<=o?r+o-e:e>n&&e<=n?n:e}else if(!0===this.autoRev){var r,i,o;t=e>(o=(i=n=(r=this.delay)+this.duration)+this.duration)?r:e>i&&e<=o?r+o-e:e}else t=e;return t},t.prototype.parseValue=function(e,t,n){return void 0!==e.formula?{value:e.attrValue,type:"formula",formula:u.parse(e.formula).compile()}:e.attrValueType===c.AnimatedAttrValueType.formulaType?{value:u.parse(e.attrValue).compile(),type:"variableFormula"}:{value:this.translateAttrValue(e.attrValue,t,n),type:"static"}},t.prototype.translateAttrValue=function(e,t,n){if(!e)return e;if(!this.shapeParam)throw new Error("not found shape "+this.shapeId+" data");return e},t.prototype.cacluateAttr=function(e,t,n){var r;if(void 0!==e){var i=(t-e.startProcessRate)/(e.endProcessRate-e.startProcessRate),a=o(o({},n),{$ppt_x:this.shapeAnimationParams.ppt_x,$ppt_y:this.shapeAnimationParams.ppt_y,$ppt_w:this.shapeAnimationParams.ppt_w,$ppt_h:this.shapeAnimationParams.ppt_h,pi:Math.PI});if("variableFormula"===e.fromType){var s=e.from.evaluate(a);r=s+(("variableFormula"===e.toType?e.to.evaluate(a):e.to)-s)*i}else if("formula"===e.fromType){var c=e.from+(e.to-e.from)*i;r=e.formula.evaluate(o(o({},a),{$:c}))}else r=(s=e.from)+(("variableFormula"===e.toType?e.to.evaluate(a):e.to)-s)*i;return r}},t.prototype.getExcutingFormula=function(e,t){for(var n,r=0;r<t.length;r++)if(r+1===t.length){if(t[r].startProcessRate<=e){n=t[r];break}}else if(t[r].startProcessRate<=e&&t[r+1].startProcessRate>e){n=t[r];break}return n},t.prototype.shouldPlaySoundEffecting=function(e){this.readyToPlaySoundEffect===a.SoundEffectPlayState.Ready?this.readyToPlaySoundEffect=a.SoundEffectPlayState.Playing:this.readyToPlaySoundEffect===a.SoundEffectPlayState.Playing?(this.playingSoundEffecting=!0,this.readyToPlaySoundEffect=a.SoundEffectPlayState.Stop):this.playingSoundEffecting=!1},t}(a.CacheTimingAnime);t.AtomTimingAnime=l},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(21);function a(e){var t={},n=e.childElementOptional("a:latin"),r=e.childElementOptional("a:ea"),i=e.childElementOptional("a:cs");n&&(t.latin=""===n.attr.getString("typeface")?[]:[n.attr.getString("typeface")]),r&&(t.ea=""===r.attr.getString("typeface")?[]:[r.attr.getString("typeface")]),i&&(t.cs=""===i.attr.getString("typeface")?[]:[i.attr.getString("typeface")]);var o=e.elementsWithName("a:font").filter((function(e){return["Hans","Hant","Jpan","Hang"].includes(e.attr.getString("script"))})).map((function(e){return e.attr.getString("typeface")}));return t.ea=void 0!==t.ea?t.ea.concat(o):o,t}function s(e){return e.theme.childElement("a:theme","a:themeElements","a:fontScheme")}function c(e){var t=[];return void 0!==e.latin&&t.concat(e.latin),void 0!==e.ea&&t.concat(e.ea),void 0!==e.cs&&t.concat(e.cs),t}t.getSchemeClr=function(e,t){if(t.masterThemeColorMapping[e]){var n="a:"+t.masterThemeColorMapping[e];return(r=t.theme.childElementOptional("a:theme","a:themeElements","a:clrScheme",n,"a:srgbClr"))?r.attr.getString("val"):(i=t.theme.childElementOptional("a:theme","a:themeElements","a:clrScheme",n,"a:sysClr"))?i.attr.getString("lastClr"):e}var r,i;return(r=t.theme.childElementOptional("a:theme","a:themeElements","a:clrScheme",n="a:"+e,"a:srgbClr"))?r.attr.getString("val"):(i=t.theme.childElementOptional("a:theme","a:themeElements","a:clrScheme",n,"a:sysClr"))?i.attr.getString("lastClr"):e},t.getMajorFont=function(e){var t=s(e).childElementOptional("a:majorFont");return void 0===t?{}:a(t)},t.getMinorFont=function(e){var t=s(e).childElementOptional("a:minorFont");return void 0===t?{}:a(t)},t.parseAndLoadThemeFont=function(e,t){return"none"!==e?c(a(s(t).childElement("a:"+e+"Font"))).filter((function(e){return!e.startsWith("+")&&""!==e})).map((function(e){return o.loadFont(e,t.userFonts),e})):[]},t.getFontList=c,t.ALL_FILL_TYPE=["a:blipFill","a:gradFill","a:grpFill","a:noFill","a:pattFill","a:solidFill"],t.ALL_COLOR_TYPE=["a:hslClr","a:schemeClr","a:srgbClr","a:scrgbClr","a:sysClr","a:prstClr"],t.mergeShapeStyle=function(e,n){var o=n.theme.childElement("a:theme","a:themeElements","a:fmtScheme"),a=e.childElement("a:effectRef"),c=a.childElement(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],t.ALL_COLOR_TYPE)))),u=a.attr.getNumber("idx"),l=o.childElement("a:effectStyleLst").elements[u-1],p=e.childElement("a:fillRef"),d=p.childElement(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],t.ALL_COLOR_TYPE)))),h=p.attr.getNumber("idx"),f=o.childElement("a:fillStyleLst").elements[h-1],m=e.childElement("a:fontRef"),g=m.attr.getString("idx"),y=void 0;"none"!==g&&(y=s(n).childElement("a:"+g+"Font"));var v=e.childElement("a:lnRef"),b=v.childElement(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],t.ALL_COLOR_TYPE)))),A=v.attr.getNumber("idx");return{effect:{xml:l,phClr:c},fill:{xml:f,phClr:d},font:{xml:y,fontRef:m},ln:{xml:o.childElement("a:lnStyleLst").elements[A-1],phClr:b}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){this.delay=e,this.duration=t,this.timeFilter=n,this.fill=r}return Object.defineProperty(e.prototype,"rate",{get:function(){return this._rate},enumerable:!0,configurable:!0}),e.prototype.caclulate=function(e){var t;return t=e<this.delay?"beforePlay":e<this.delay+this.duration?(e-this.delay)/this.duration:"hold"===this.fill?1:"end",this.timeFilter&&"number"==typeof t&&(t=this.timeFilter.filter(t)),this._rate=t,this},e}();t.LinearRateCaculator=r;var i=function(){function e(e,t,n){this.delay=e,this.duration=t,this.fill=n}return Object.defineProperty(e.prototype,"rate",{get:function(){return this._rate},enumerable:!0,configurable:!0}),e.prototype.caclulate=function(e){return this._rate=e<this.delay?"beforePlay":e<this.delay+this.duration?0:"hold"===this.fill?1:"end",this},e}();t.DiscreteRateCaculator=i},function(e,t){e.exports=n(47)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n(48),o=n(12),a=n(49),s=n(24),c=n(12);t.mainSequenceEventSourceId=c.mainSequenceEventSourceId;var u=n(24);t.AnimationsCombiner=u.AnimationsCombiner,t.createSlideAnimations=function(e,t){var n=new i.AnimationsCollector(e).collect(),c=new o.SequenceParser(n).parse(),u=a.decomposeSlideAnimations(n,t),l=function(e,t,n){var i={};for(var o in e)i[o]=new r.AnimationManager({id:o,animes:e[o],sequences:t,mergerConstructor:r.ShapeAnimeMerger,presetStyle:n[o]});return i}(new s.AnimationsCombiner(u,c,t).combine(),c,a.getPresetShapeStyle(u,c,t)),p={};return c.forEach((function(e){p[e.key]=e.value.sequencesCount})),Object.freeze({animationManagers:Object.freeze(l),sequences:c,loopAnimationBeginAt:void 0,sequenceAnimesCounts:p})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.timeFilterNodes=e}return e.prototype.filter=function(e){var t=this,n=this.timeFilterNodes.slice(0,this.timeFilterNodes.length-1).map((function(e,n){return[t.timeFilterNodes[n],t.timeFilterNodes[n+1]]})).filter((function(t){return t[0].timeInput<=e&&t[1].timeInput>=e}))[0],r=n[0],i=n[1];return(e-r.timeInput)/(i.timeInput-r.timeInput)*(i.timeOutput-r.timeOutput)+r.timeOutput},e}();t.TimeFilter=r;var i=function(){function e(){}return e.prototype.resolve=function(e){return new r(this.standardizationTokenSplit(e).split(";").map((function(e){var t=e.split(","),n=t[1];return{timeInput:parseFloat(t[0]),timeOutput:parseFloat(n)}})))},e.prototype.standardizationTokenSplit=function(e){return e.replace(/\s+/g,"")},e}();t.TimeFilterResolver=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9);t.createSlideAnimations=r.createSlideAnimations;var i=n(74);t.AnimationProvider=i.AnimationProvider;var o=n(75);t.ShapeAnimation=o.ShapeAnimation,t.TextAnimation=o.TextAnimation},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n(16);t.mainSequenceEventSourceId="-1";var o=function(){function e(e){this.animations=e,this.sequenceAnimations=new i.LinkedMap}return e.prototype.parse=function(){if(0===this.animations.length)return new i.LinkedMap;this.splitIntoSequenceAnimations();var e=this.countSequencesDurationList(),t=this.checkSequenceAutoPlayFirstSequence(),n=new i.LinkedMap;return this.sequenceAnimations.forEach((function(i){var o=i.key,a=new r.Sequence({durationList:e[o],autoPlayFirstSequence:t[o]});n.put(i.key,a)})),n},e.prototype.splitIntoSequenceAnimations=function(){for(var e=0,n=this.animations;e<n.length;e++){var r=n[e],i=void 0;"mainSeq"===r.sequenceType?void 0===this.sequenceAnimations.get(i=t.mainSequenceEventSourceId)&&this.sequenceAnimations.insertToHeader(i,[]):void 0===this.sequenceAnimations.get(i=r.eventSourceShapeId)&&this.sequenceAnimations.put(i,[]);var o=this.sequenceAnimations.get(i)[r.sequenceIndex];void 0===o&&(o=this.sequenceAnimations.get(i)[r.sequenceIndex]=[]),o.push(r)}},e.prototype.countSequencesDurationList=function(){var e=this,t={};return this.sequenceAnimations.forEach((function(n){t[n.key]=e.countDurationList(n.value)})),t},e.prototype.countDurationList=function(e){for(var t=[],n=0,r=e;n<r.length;n++){for(var i=0,o=0,a=r[n];o<a.length;o++){var s=a[o],c=void 0;c="indefinite"===s.repeatCount||"none"===s.repeatCount?s.duration:s.duration*s.repeatCount,!0===s.autoRev&&(c*=2);var u=s.delay+c;i<u&&(i=u)}t.push(i)}return t},e.prototype.checkSequenceAutoPlayFirstSequence=function(){var e=this,n={};return this.sequenceAnimations.forEach((function(r){n[r.key]=r.key===t.mainSequenceEventSourceId&&e.checkAutoPlayFirstSequence(r.value)})),n},e.prototype.checkAutoPlayFirstSequence=function(e){var t=e[0];return!(!t||"clickEffect"===t[0].nodeType)},e}();t.SequenceParser=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31);t.FormulaRegistry=r.FormulaRegistry,t.FormulaEval=r.FormulaEval;var i=n(88);t.LumiaFactory=i.LumiaFactory,t.LumiaContext=i.LumiaContext,t.getPresetShapeDefinition=i.getPresetShapeDefinition;var o=n(89);t.Lumia=o.Lumia},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){void 0===e&&(e="keyval-store"),void 0===t&&(t="keyval"),this.storeName=t,this._dbp=new Promise((function(n,r){var i=indexedDB.open(e,1);i.onerror=function(){return r(i.error)},i.onsuccess=function(){return n(i.result)},i.onupgradeneeded=function(){i.result.createObjectStore(t)}}))}return e.prototype._withIDBStore=function(e,t){var n=this;return this._dbp.then((function(r){return new Promise((function(i,o){var a=r.transaction(n.storeName,e);a.oncomplete=function(){return i()},a.onabort=a.onerror=function(){return o(a.error)},t(a.objectStore(n.storeName))}))}))},e}();function o(){return r||(r=new i),r}t.Store=i,t.get=function(e,t){var n;return void 0===t&&(t=o()),t._withIDBStore("readonly",(function(t){n=t.get(e)})).then((function(){return n.result}))},t.set=function(e,t,n){return void 0===n&&(n=o()),n._withIDBStore("readwrite",(function(n){n.put(t,e)}))},t.del=function(e,t){return void 0===t&&(t=o()),t._withIDBStore("readwrite",(function(t){t.delete(e)}))},t.clear=function(e){return void 0===e&&(e=o()),e._withIDBStore("readwrite",(function(e){e.clear()}))},t.keys=function(e){void 0===e&&(e=o());var t=[];return e._withIDBStore("readonly",(function(e){(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}})).then((function(){return t}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41);t.SlidePlayer=r.SlidePlayer;var i=n(45);t.AnimationManager=i.AnimationManager;var o=n(46);t.Sequence=o.Sequence;var a=n(47);t.ShapeAnimeMerger=a.ShapeAnimeMerger},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){if(this.linkedMap={},this.length=0,this.head=void 0,this.tail=void 0,this.pointer=void 0,void 0!==e){this.length=e.length;for(var t=0;t<e.length;t++){var n={key:e[t].key,value:e[t].value,prevKey:0===t?void 0:e[t-1].key,nextKey:t===e.length-1?void 0:e[t+1].key};0===t&&(this.head=n),t===e.length-1&&(this.tail=n),this.linkedMap[e[t].key]=n}this.pointer=e[0].key}}return e.prototype.getPointer=function(){return this.pointer},e.prototype.setPointer=function(e){void 0!==this.linkedMap[e]&&(this.pointer=e)},e.prototype.get=function(e){return void 0===this.linkedMap[e]?void 0:this.linkedMap[e].value},e.prototype.getPointerNode=function(){if(void 0!==this.pointer)return this.linkedMap[this.pointer]},e.prototype.getByPointer=function(){if(void 0!==this.pointer){var e=this.linkedMap[this.pointer];return this.pointer=e.nextKey,e.value}},e.prototype.resetPointer=function(){this.pointer=this.head?this.head.key:void 0},e.prototype.put=function(e,t,n){this.remove(e);var r={key:e,value:t,prevKey:void 0===this.tail?void 0:this.tail.key,nextKey:void 0};void 0===this.head&&(this.head=r),void 0!==this.tail&&(this.tail.nextKey=r.key),this.tail=r,this.linkedMap[e]=r,this.length=this.length+1,1===this.length?this.pointer=r.key:void 0!==n?this.pointer=n:void 0===this.pointer&&(this.pointer=r.key)},e.prototype.insertToHeader=function(e,t,n){this.remove(e);var r=!1;this.length>0&&this.head.key===this.pointer&&(r=!0);var i={key:e,value:t,prevKey:void 0,nextKey:void 0===this.head?void 0:this.head.key};void 0===this.tail&&(this.tail=i),void 0!==this.head&&(this.head.prevKey=i.key),this.head=i,this.linkedMap[e]=i,this.length=this.length+1,1===this.length?this.pointer=i.key:void 0!==n?this.pointer=n:r&&(this.pointer=i.key)},e.prototype.remove=function(e){var t=this.linkedMap[e];void 0!==t&&(1===this.length?(this.head=void 0,this.tail=void 0,this.length=0,this.pointer=void 0,delete this.linkedMap[e]):(void 0===t.prevKey?this.head=this.linkedMap[t.nextKey]:this.linkedMap[t.prevKey].nextKey=t.nextKey,void 0===t.nextKey?this.tail=this.linkedMap[t.prevKey]:this.linkedMap[t.nextKey].prevKey=t.prevKey,this.pointer===e&&(this.pointer=t.nextKey),this.length=this.length-1,delete this.linkedMap[e]))},e.prototype.forEach=function(e){if(this.length>0)for(var t=this.head.key,n=0;void 0!==t;)e(this.linkedMap[t],n),n++,t=this.linkedMap[t].nextKey},e.prototype.haxNext=function(){return void 0!==this.pointer&&void 0!==this.linkedMap[this.pointer].nextKey},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPointToEnd=function(){return void 0===this.pointer&&0!==this.length},e}();t.LinkedMap=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),a=n(14),s=n(33),c=function(){function e(e){this.resourceScheme=e}return e.prototype.loadLumiaPSD=function(t,n){return r(this,void 0,void 0,(function(){var r,c;return i(this,(function(i){switch(i.label){case 0:return c="https://convertcdn.netless.link/publicFiles/xml/PresetShapeDefinitions.xml",this.resourceScheme&&(c=c.replace(/^[a-zA-z]+[^\:\/\/]/,this.resourceScheme)),!1!==t?[3,2]:[4,o.fetchText(c,n)];case 1:return r=i.sent(),[3,6];case 2:return[4,a.get("PresetShapeDefinitions")];case 3:return void 0!==(r=i.sent())?[3,6]:[4,o.fetchText(c,n)];case 4:return r=i.sent(),[4,a.set("PresetShapeDefinitions",r)];case 5:i.sent(),i.label=6;case 6:return e.presetShapeDefinitons=new s.XMLNodeRuntime("slide").parse(r).childElement("presetShapeDefinitons"),[2]}}))}))},e.prototype.preLoad=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,a,s;return i(this,(function(i){switch(i.label){case 0:return[4,this.fetchAllResourceUrl(t,n,o.logger)];case 1:r=i.sent(),a=0,i.label=2;case 2:return a<r.length?[4,this.preloadOnePage(e,s=a+1,r[a])]:[3,5];case 3:i.sent(),o.preloadProgress&&o.preloadProgress((s/r.length).toFixed(2)),i.label=4;case 4:return a++,[3,2];case 5:return[2]}}))}))},e.prototype.preloadOnePage=function(e,t,n){return r(this,void 0,void 0,(function(){var r,o,a,s;return i(this,(function(i){switch(i.label){case 0:for(r=[],o=0,a=Object.keys(n);o<a.length;o++)r.push(this.cacheResource(e,s=a[o],n[s],t));return[4,Promise.all(r)];case 1:return i.sent(),[2]}}))}))},e.buildCacheKey=function(e,t,n,r){return e+"-"+t+"-"+n+"-"+r},e.prototype.cacheResource=function(t,n,o,a){return r(this,void 0,void 0,(function(){var r,s,c,u,l,p,d,h;return i(this,(function(i){switch(i.label){case 0:if(!(Object.keys(o).length>0))return[3,2];for(r=Object.keys(o),s=[],c=0,u=r;c<u.length;c++)p=e.buildCacheKey(t,a,n,l=u[c]),(d=o[l]).endsWith(".mp4")||(h=d,this.resourceScheme&&(h=d.replace(/^[a-zA-z]+[^\:\/\/]/,this.resourceScheme)),s.push(this.fetchResource(h,p)));return[4,Promise.all(s)];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},e.prototype.fetchResource=function(e,t){return r(this,void 0,void 0,(function(){var n,r,o;return i(this,(function(i){switch(i.label){case 0:return[4,a.get(t)];case 1:if(void 0!==(n=i.sent())&&n instanceof Blob)return[3,8];i.label=2;case 2:return i.trys.push([2,6,,7]),[4,fetch(e)];case 3:return[4,i.sent().blob()];case 4:return n=i.sent(),[4,this.blobToArrayBuffer(n)];case 5:return r=i.sent(),a.set(t,r),[3,7];case 6:return o=i.sent(),console.debug("cache fail",o),[3,7];case 7:return[3,8];case 8:return[2]}}))}))},e.prototype.blobToArrayBuffer=function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("loadend",(function(){t(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(e)}))},e.prototype.fetchAllResourceUrl=function(e,t,n){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){switch(i.label){case 0:for(r=[],a=1;a<=t;a++)r.push(o.fetchJSON(e+"/resources/resource"+a+".json",n));return[4,Promise.all(r)];case 1:return[2,i.sent()]}}))}))},e.prototype.fetchOnePageResource=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,o.fetchJSON(e+"/resources/resource"+t+".json",n)];case 1:return[2,r.sent()]}}))}))},e}();t.ResourcePreLoader=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);function i(e){if(e){var t=e.childElementOptional(new r.TagOrExpr("p:nvSpPr","p:nvCxnSpPr"));if(t){var n=t.childElementOptional("p:nvPr","p:ph");if(n){var i=n.attr.getStringOptional("idx"),o=n.attr.getStringOptional("type");return"title"!==o&&"ctrTitle"!==o||(i=i||"0"),{idx:i,type:o}}}}}function o(e,n,r){var i=n.masterIndex.txStyle[e];return i||(i=r?n.masterIndex.txStyle[t.BODY_TEXT_STYLE]:n.masterIndex.txStyle[t.DEFAULT_TEXT_STYLE]),i}function a(e){return e.main.childElementOptional("p:presentation","p:defaultTextStyle")}function s(e){switch(e){case"ctrTitle":case"title":return"title";case"dt":return"dt";case"ftr":return"ftr";case"sldNum":return"sldNum";default:return"body"}}t.DEFAULT_TEXT_STYLE="other",t.BODY_TEXT_STYLE="body",t.isMajor=function(e){switch(e){case"title":case"ctrTitle":return!0;default:return!1}},t.getRelationshipPlaceHolder=function(e,n,r){var c,u=function(e){var t=!1,n=e.childElementOptional("p:nvSpPr");return n&&n.childElement("p:cNvSpPr").attr.getBooleanOptional("txBox")&&(t=!0),t}(e),l=!0;if("master"===r)return(c=i(e))?{placeHolderType:h=c.type||t.BODY_TEXT_STYLE,masterShape:e,masterStyleXML:o(h,n,u),allShape:[e],isTextBox:u,hasPlaceHolder:l}:(l=!1,{allShape:[e],masterStyleXML:a(n),isTextBox:u,hasPlaceHolder:l});if("layout"===r){if(!(m=i(e)))return l=!1,{allShape:[e],masterStyleXML:a(n),isTextBox:u,hasPlaceHolder:l};var p=s(h=m.type||t.BODY_TEXT_STYLE),d=[e];return(g=n.masterIndex.typeIndex[p])&&d.push(g),{allShape:d,placeHolderType:p,layoutShape:e,masterShape:g,masterStyleXML:o(p,n,u),isTextBox:u,hasPlaceHolder:l}}if(!(c=i(e)))return l=!1,{allShape:[e],masterStyleXML:a(n),isTextBox:u,hasPlaceHolder:l};(function(e){return void 0!==e&&void 0!==e.idx&&"4294967295"===e.idx})(c)&&(c.idx="1");var h,f=void 0;if(c.idx?(f=n.layoutIndex.idxIndex[c.idx],c.type&&void 0===f&&(f=n.layoutIndex.typeIndex[c.type])):c.type&&(f=n.layoutIndex.typeIndex[c.type]),f){var m;if(m=i(f)){p=s(h=m.type||t.BODY_TEXT_STYLE);var g=n.masterIndex.typeIndex[p];return d=[e],f&&d.push(f),g&&d.push(g),{allShape:d,placeHolderType:p,layoutShape:f,masterShape:g,masterStyleXML:o(p,n,u),isTextBox:u,hasPlaceHolder:l}}throw new Error("layout ph not existed.")}return p=s(h=c.type||t.BODY_TEXT_STYLE),d=[e],(g=n.masterIndex.typeIndex[p])&&d.push(g),{allShape:d,placeHolderType:p,layoutShape:e,masterShape:g,masterStyleXML:o(p,n,u),isTextBox:u,hasPlaceHolder:l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.toPt=r.toPt,t.EmuToPt=r.EmuToPt,t.EmuToPx=r.EmuToPx,t.toNumber=r.toNumber;var i=n(20);t.Slide=i.Slide,t.sequenceIndexesKey=i.sequenceIndexesKey,t.disabelAutoPlayKey=i.disabelAutoPlayKey,t.playLastStepKey=i.playLastStepKey,t.RenderMode=i.RenderMode;var o=n(94);t.loadPPT=o.loadPPT;var a=n(9);t.mainSequenceEventSourceId=a.mainSequenceEventSourceId},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(36);t.Slide=r.Slide,t.sequenceIndexesKey=r.sequenceIndexesKey,t.disabelAutoPlayKey=r.disabelAutoPlayKey,t.playLastStepKey=r.playLastStepKey,t.RenderMode=r.RenderMode;var i=n(13);t.FormulaEval=i.FormulaEval,t.FormulaRegistry=i.FormulaRegistry,t.getPresetShapeDefinition=i.getPresetShapeDefinition,t.LumiaContext=i.LumiaContext,t.LumiaFactory=i.LumiaFactory;var o=n(35);t.parsingShapeXML=o.parsingShapeXML;var a=n(22);t.parsingShapeGroupXML=a.parsingShapeGroupXML},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(14);t.DefaultFonts={"Arial Rounded MT Bold":"https://cdnedge.herewhite.com/ArialRoundedMTBold.ttf",Arial:"https://cdnedge.herewhite.com/arial.ttf","Cooper Black":"https://cdnedge.herewhite.com/COOPBL.ttf",Calibri:"https://cdnedge.herewhite.com/Calibri.ttf","\u5fae\u8f6f\u96c5\u9ed1":"https://cdnedge.herewhite.com/msyh.ttf","\u534e\u6587\u65b0\u9b4f":"https://cdnedge.herewhite.com/HuaWenXinWei-1.ttf","\u96c5\u75de-\u7b80":"https://cdnedge.herewhite.com/yuppy.ttf","\u9ed1\u4f53":"https://cdnedge.herewhite.com/simhei.ttf","\u6977\u4f53":"https://cdnedge.herewhite.com/simkai.ttf",Heiti:"https://cdnedge.herewhite.com/simhei.ttf",Aharoni:"https://cdnedge.herewhite.com/Aharoni.ttf","Aharoni Bold":"https://cdnedge.herewhite.com/Aharoni%20Bold.ttf"},t.convertFontByOS=function(e){return""};var a=new Map;t.loadFont=function(e,n){return r(this,void 0,void 0,(function(){var r,s,c,u,l;return i(this,(function(i){switch(i.label){case 0:return a.has(e)?[2]:(a.set(e,!0),[4,o.get(e)]);case 1:if(void 0===(r=i.sent()))return[3,6];u=new FontFace(e,r),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,u.load()];case 3:return i.sent(),document.fonts.add(u),[3,5];case 4:return s=i.sent(),console.error(e+" load error font",s),[3,5];case 5:return[2];case 6:return n&&n[e]?c=n[e]:t.DefaultFonts[e]&&(c=t.DefaultFonts[e]),c?[4,fetch(c,{cache:"force-cache"})]:[3,9];case 7:return[4,i.sent().arrayBuffer()];case 8:r=i.sent(),i.label=9;case 9:if(!r)return[3,14];u=new FontFace(e,r),i.label=10;case 10:return i.trys.push([10,12,,13]),[4,u.load()];case 11:return i.sent(),document.fonts.add(u),o.set(e,r),[3,13];case 12:return l=i.sent(),console.error(e+" load error font",l),[3,13];case 13:return[3,15];case 14:a.set(e,!1),i.label=15;case 15:return[2]}}))}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(11),c=n(3),u=n(1),l=n(26),p=n(27),d=n(76),h=n(84),f=n(86),m=n(91),g=n(92),y=n(93),v=n(35),b=n(2);function A(e,t,n,r){var i=e.childElementOptional("p:grpSpPr","a:xfrm"),o=0,a=0,s=0,l=0,p=1,d=1,h=void 0;e.extraAttr.getOptional("fillColor")&&(h=e.extraAttr.getColor("fillColor"))instanceof c.GroupFill&&h.setFillColor(r.fillColor);var f=!1,m=!1,g=0,y={x:0,y:0,width:t?t.slideWidth:0,height:t?t.slideHeight:0};if(i){var v=e.childElementOptional("p:grpSpPr","a:xfrm","a:chExt"),b=e.childElementOptional("p:grpSpPr","a:xfrm","a:ext"),A=e.childElementOptional("p:grpSpPr","a:xfrm","a:chOff");s=v?v.attr.getNumber("cx"):0,l=v?v.attr.getNumber("cy"):0,p=0!==s&&b?b.attr.getNumber("cx")/s:1,d=0!==s&&b?b.attr.getNumber("cy")/l:1,o=A?-A.attr.getNumber("x"):0,a=A?-A.attr.getNumber("y"):0,g=i.attr.getNumber("rot",0)/u.Degree,f=i.attr.getBoolean("flipV",!1),m=i.attr.getBoolean("flipH",!1);var x=e.childElementOptional("p:grpSpPr","a:xfrm","a:off");y={x:x?x.attr.getNumber("x"):0,y:x?x.attr.getNumber("y"):0,width:b?b.attr.getNumber("cx"):0,height:b?b.attr.getNumber("cy"):0}}return{rectangle:y,borderStyle:{},opacity:1,tailor:void 0,flipV:f,flipH:m,transform:{translateX:o,translateY:a,scaleX:p,scaleY:d,rotate:g,fillColor:h},parentGroupShapeId:n,fillColor:h}}t.parsingShapeGroupXML=A;var x=function(e){function t(n){var r=e.call(this,n)||this;if(r.eventSourceId=void 0,r.shapeMap=new l.MapNode(A),r.renderShape=function(e,t,n,i,o,s){return a.createElement(v.ShapeWrapper,{key:""+n,shapeXML:t,slideContext:r.props.slideContext,animeContext:r.props.animeContext,shapeGroupTransform:i,sequences:r.props.sequences,eventSourceId:r.eventSourceId,onEventSourceClick:r.props.onEventSourceClick,onHyperLinkClick:r.props.onHyperLinkClick,zIndex:r.zIndex(e,t),resourceType:r.props.resourceType,flipH:s},(function(e){return a.createElement(y.Shape,{width:e.width,slideContext:r.props.slideContext,height:e.height,slideIndex:r.props.slideContext.slideIndex,fillColor:e.fillColor,groupFillColor:o.fillColor,borderStyle:e.borderStyle,shapeGroupTransform:e.shapeGroupTransform,shapeXML:t,resourceLoader:r.props.slideContext.resourceLoader,resourceType:r.props.resourceType,flipH:e.flipH})}))},r.renderPicture=function(e,t,n,i,o){return a.createElement(v.ShapeWrapper,{key:""+n,shapeXML:t,slideContext:r.props.slideContext,animeContext:r.props.animeContext,sequences:r.props.sequences,shapeGroupTransform:i,eventSourceId:r.eventSourceId,onEventSourceClick:r.props.onEventSourceClick,onHyperLinkClick:r.props.onHyperLinkClick,zIndex:r.zIndex(e,t),resourceType:r.props.resourceType},(function(e){return r.renderPictureContent(t,e,r.props.slideContext.resourceLoader,i)}))},r.renderGraph=function(e,t,n){return a.createElement(v.ShapeWrapper,{key:""+n,shapeXML:t,slideContext:r.props.slideContext,animeContext:r.props.animeContext,sequences:r.props.sequences,eventSourceId:r.eventSourceId,onEventSourceClick:r.props.onEventSourceClick,onHyperLinkClick:r.props.onHyperLinkClick,zIndex:r.zIndex(e,t),resourceType:r.props.resourceType},(function(e){return a.createElement(d.Graph,{slideContext:r.props.slideContext,width:e.width,height:e.height,rotate:e.rotate,borderStyle:e.borderStyle,fillColor:e.fillColor,key:""+n,graphXML:t})}))},r.renderShapeGroup=function(e,n,i,o,s){var c=r.zIndex(e,n);return a.createElement(t,{key:""+i,slideRef:r.props.slideRef,slideContext:r.props.slideContext,animeContext:r.props.animeContext,zIndex:c,shapeGroupXML:n,sequences:r.props.sequences,resourceType:r.props.resourceType,onEventSourceClick:r.props.onEventSourceClick,onHyperLinkClick:r.props.onHyperLinkClick,shapeGroupTransform:o,flipH:s,meidaStates:r.props.meidaStates,disableAnimation:r.props.disableAnimation,onMediaChange:r.props.onMediaChange,onMediaPlay:r.props.onMediaPlay,onMediaPause:r.props.onMediaPause,onMediaPlayError:r.props.onMediaPlayError,userId:r.props.userId,mediaSlideActionUserIds:r.props.mediaSlideActionUserIds,rtcClient:r.props.rtcClient})},void 0!==n.eventSourceId)r.eventSourceId=n.eventSourceId;else{var i=r.props.shapeGroupXML.extraAttr.getString("spId");n.sequences&&void 0!==n.sequences.get(i)&&void 0!==r.props.onEventSourceClick&&(r.eventSourceId=i)}return r.player=a.createRef(),r}return i(t,e),t.prototype.transformWithAnimation=function(e,t){return t?{translateX:p.get(t,"translateX",0),translateY:p.get(t,"translateY",0),scaleX:p.get(t,"scaleX",1),scaleY:p.get(t,"scaleY",1),rotate:p.get(t,"rotate",0)}:{translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0}},t.prototype.transformWithShapeParams=function(e,t){var n=0;return t.rotate&&"number"==typeof t.rotate&&(n=t.rotate),{translateX:t.translateX,translateY:t.translateY,scaleX:e.flipH?-t.scaleX:t.scaleX,scaleY:e.flipV?-t.scaleY:t.scaleY,rotate:n}},t.prototype.transform=function(e,t){var n=this.transformWithAnimation(e.transform,t);this.props.shapeGroupTransform&&(n.rotate=this.props.shapeGroupTransform.rotate+n.rotate);var r=this.transformWithShapeParams(e,n),i=r.translateY,o=r.scaleX,a=r.scaleY,s=r.rotate;return"translate("+u.toPt(r.translateX)+", "+u.toPt(i)+") scale("+o+","+a+") rotate("+(u.toDeg(s)+e.transform.rotate)+"deg)"},t.prototype.opacity=function(e,t){return void 0===t&&(t=1),p.get(e,"opacity",t)},t.prototype.visible=function(e){return p.get(e,"visible",!0)},t.prototype.render=function(){var e,t,n,r,i=this,o=this.shapeMap.map(this.props.shapeGroupXML,this.props.slideContext,this.props.shapeGroupTransform),c=this.props.shapeGroupXML.extraAttr.getString("spId");return this.props.shapeGroupTransform?(e=u.toPt((o.rectangle.x+this.props.shapeGroupTransform.translateX)*this.props.shapeGroupTransform.scaleX),t=u.toPt((o.rectangle.y+this.props.shapeGroupTransform.translateY)*this.props.shapeGroupTransform.scaleY),n=u.toPt(o.rectangle.width*this.props.shapeGroupTransform.scaleX),r=u.toPt(o.rectangle.height*this.props.shapeGroupTransform.scaleY)):(e=u.toPt(o.rectangle.x),t=u.toPt(o.rectangle.y),n=u.toPt(o.rectangle.width),r=u.toPt(o.rectangle.height)),a.createElement(s.ShapeAnimation,{spId:c,animeContext:this.props.animeContext,children:function(s){return i.playEffectSound(s)&&i.player.current&&i.player.current.play().catch((function(){})),a.createElement("div",{className:"spGoupId-"+c,style:{position:"absolute",left:e,top:t,transform:i.transform(o,s),width:n,height:r,zIndex:i.props.zIndex,opacity:i.opacity(s,o.opacity),display:i.visible(s)?void 0:"none"}},a.createElement("audio",{src:i.getSoundEffectUrl(i.props.slideContext.resourceLoader,s),ref:i.player,controls:!1}),i.renderShapeGroupContent(o))}})},t.prototype.renderShapeGroupContent=function(e){var t=this,n=this.props.shapeGroupXML,r=n.elementsWithName("p:sp"),i=n.elementsWithName("p:cxnSp"),s=n.elementsWithName("p:pic"),c=n.elementsWithName("p:graphicFrame"),u=n.elementsWithName("p:grpSp"),l=o({},e.transform),p=this.props.shapeGroupTransform;p&&(l.rotate+=p.rotate,l.scaleX*=p.scaleX,l.scaleY*=p.scaleY);var d=!!this.props.flipH!==e.flipH;return a.createElement(a.Fragment,null,r.map((function(r,i){return t.renderShape(n,r,i,l,e,d)})),i.map((function(r,i){return t.renderShape(n,r,i,l,e,d)})),s.map((function(r,i){return t.renderPicture(n,r,i,l,e)})),c.map((function(e,r){return t.renderGraph(n,e,r)})),u.map((function(e,r){return t.renderShapeGroup(n,e,r,l,d)})))},t.prototype.parseMediaRef=function(e,t){if(t){var n=t.childElementOptional(new b.TagOrExpr("a:videoFile","a:audioFile"));if(n){var r="a:videoFile"===n.name?"video":"audio",i=n.attr.getString("r:link"),o=e.loadURL(this.props.resourceType,i);if(o)return{resURL:o,mediaType:r};var a=t.childElementOptional("p:extLst","p:ext");if(a&&"{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}"===a.attr.getString("uri")){var s=a.childElement("p14:media"),c=s.attr.getStringOptional("r:link"),u=s.attr.getStringOptional("r:embed"),l=c||u||"unknow";if(s.hasChildElementWithName("p14:trim")){var p=s.childElement("p14:trim"),d=p.attr.getNumberOptional("st"),h=p.attr.getNumberOptional("end");return d&&(d/=1e3),h&&(h/=1e3),{resURL:e.loadURL(this.props.resourceType,l),mediaType:r,startTime:d,endTime:h}}return{resURL:e.loadURL(this.props.resourceType,l),mediaType:r}}}}},t.prototype.renderPictureContent=function(e,t,n,r){var i,s,c=t.width,u=t.height,l=t.fillColor,p=t.borderStyle,d=t.margin,g=t.play,y=t.stop,v=e.childElement("p:nvPicPr","p:nvPr"),b=e.childElement("p:nvPicPr","p:cNvPr").attr.getString("id"),A=this.parseMediaRef(n,v),x=e.childElementOptional("p:blipFill","a:blip"),w=o({},d);r?(i=c*r.scaleX,s=u*r.scaleY,w.left*=r.scaleX,w.right*=r.scaleX,w.top*=r.scaleY,w.bottom*=r.scaleY):(i=c,s=u);var _=this.props.meidaStates?this.props.meidaStates[b]:void 0;if(A&&"video"===A.mediaType)return a.createElement(m.Video,{width:i,logger:this.props.logger,slideRef:this.props.slideRef,startTimePerfix:A.startTime?A.startTime:0,play:1===g,stop:1===y,height:s,fillColor:l,borderStyle:p,videoURL:A.resURL,shapeId:b,mediaState:_,resourceLoader:n,disableAnimation:this.props.disableAnimation,onMediaChange:this.props.onMediaChange,onMediaPlay:this.props.onMediaPlay,onMediaPause:this.props.onMediaPause,onMediaPlayError:this.props.onMediaPlayError,userId:this.props.userId,mediaSlideActionUserIds:this.props.mediaSlideActionUserIds,rtcClient:this.props.rtcClient});if(A&&"audio"===A.mediaType)return a.createElement(h.Audio,{width:i,logger:this.props.logger,slideRef:this.props.slideRef,startTimePerfix:A.startTime?A.startTime:0,play:1===g,stop:1===y,height:s,fillColor:l,borderStyle:p,audioURL:A.resURL,shapeId:b,mediaState:_,resourceLoader:n,disableAnimation:this.props.disableAnimation,onMediaChange:this.props.onMediaChange,onMediaPlay:this.props.onMediaPlay,onMediaPause:this.props.onMediaPause,onMediaPlayError:this.props.onMediaPlayError,userId:this.props.userId,mediaSlideActionUserIds:this.props.mediaSlideActionUserIds,rtcClient:this.props.rtcClient});if(x){var S=x.attr.getStringOptional("r:embed");if(void 0===S)return null;var T=n.loadURL(this.props.resourceType,S);return a.createElement(f.Image,{width:i,uuid:this.props.slideContext.uuid,resourceType:this.props.resourceType,resId:S,height:s,slideIndex:this.props.slideContext.slideIndex,fillColor:l,borderStyle:p,imageURL:T,margin:w,imageXML:e,preload:this.props.slideContext.preload})}return null},t.prototype.zIndex=function(e,t){var n=t.extraAttr.getStringOptional("spId");if("string"==typeof n){var r=new g.ZOrderIndexer(e).indexBySpId();if(n in r)return r[n]}return 999},t.prototype.getSoundEffectUrl=function(e,t){return void 0!==t&&void 0!==t.soundEffectId&&"slide"===this.props.resourceType?e.loadURL(this.props.resourceType,t.soundEffectId):void 0},t.prototype.playEffectSound=function(e){return void 0!==e&&void 0!==e.playingSoundEffecting&&e.playingSoundEffecting},t}(a.Component);t.ShapeGroup=x},function(e,t){e.exports=n(48)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66),i=n(16),o=function(){function e(e,t,n){this.animations=e,this.sequences=t,this.context=n}return e.prototype.combine=function(){return this.createTimingAnimes()},e.prototype.createSequenceTimingAnimesLinkMap=function(e){var t,n={};for(t in e){var r=e[t];void 0!==r&&(n[t]=new i.LinkedMap(r))}return n},e.prototype.createTimingAnimes=function(){var e,t={};for(var n in this.animations){var r={},i=this.animations[n];if(void 0!==i)for(var o in i){var a=this.createSequenceTimingAnimes(i[o],this.sequences.get(o));void 0!==r?r[o]=a:((e={})[o]=a,r=e)}t[n]=r}return t},e.prototype.createSequenceTimingAnimes=function(e,t){var n=this,r={};return e.forEach((function(e,i){e.forEach((function(e,o){var a=e.animeProps,s=e.atomAnimeProps,c=t.range(i);s.forEach((function(e){var t;for(t in e){var s=n.createAtomTimingAnime(t,e[t],a,c.beginAt,o);if(void 0!==s)if(void 0!==r[t]){var u=r[t].find((function(e){return e.key===""+i}));void 0!==u?u.value.push(s):r[t].push({key:""+i,value:[s]})}else r[t]=[{key:""+i,value:[s]}]}}))}))})),this.createSequenceTimingAnimesLinkMap(r)},e.prototype.createAtomTimingAnime=function(e,t,n,i,o){switch(e){case"translateX":case"translateY":return new r.TranslateTimingAnime({props:t,animation:n},e,this.context,i,o);case"scaleX":case"scaleY":case"ppt_w":case"ppt_h":return new r.ScaleTimingAnime({props:t,animation:n},e,this.context,i,o);case"rotate":return new r.RotateTimeAnime({props:t,animation:n},e,this.context,i,o);case"opacity":return new r.OpacityTimingAnime({props:t,animation:n},e,this.context,i,o);case"visible":return new r.VisibleTimingAnime({props:t,animation:n},e,this.context,i,o);case"play":case"stop":return new r.MediaTimingAnime({props:t,animation:n},e,this.context,i,o);case"fillcolor":return new r.ColorTimingAnime({props:t,animation:n},e,this.context,i,o);default:return void console.warn("can not resolve attribute "+e)}},e}();t.AnimationsCombiner=o},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Ready=0]="Ready",e[e.Playing=1]="Playing",e[e.Stop=2]="Stop"}(r=t.SoundEffectPlayState||(t.SoundEffectPlayState={}));var i=function(){function e(){this.readyToPlaySoundEffect=r.Stop,this.cacheProgressTime=void 0,this.stateCache=void 0}return e.prototype.isStateEquals=function(e,t){return e===t},e.prototype.prepareToPlay=function(){this.readyToPlaySoundEffect=r.Ready},e.prototype.state=function(e,t,n){return this.stateCache=this.createState(e,t,n),this.cacheProgressTime=e,this.stateCache},e.prototype.resetCache=function(){this.ended=!1,this.stateCache=void 0,this.loopStartTime=void 0,this.cacheProgressTime=void 0,this.readyToPlaySoundEffect=r.Stop},e}();t.CacheTimingAnime=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.mapper=e}return e.prototype.map=function(e,t,n){return this.buffer&&this.buffer.source===e||(this.buffer={source:e,target:this.mapper(e,t,void 0,n)}),this.buffer.target},e}();t.MapNode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){var r;if(e&&(r=e[t]),void 0===r&&(r=n),void 0===r)throw new Error("can't get "+JSON.stringify(t)+" from object");return r}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(29),c=n(1),u=n(78),l=function(){function e(){this.indexByLevel=new Map,this.startAtByLevel=new Map}return e.prototype.get=function(e,t,n){var r=e.extraAttr.getNumber("level");if(this.indexByLevel.has(r)||(this.indexByLevel.set(r,0),this.startAtByLevel.set(r,-1)),t!==this.startAtByLevel.get(r))this.indexByLevel.set(r,0),this.startAtByLevel.set(r,t);else{var i=this.indexByLevel.get(r);n&&(i++,this.indexByLevel.set(r,i))}return this.indexByLevel.get(r)},e.prototype.reset=function(){this.indexByLevel=new Map,this.startAtByLevel=new Map},e}();t.BuIndexCounter=l;var p=function(e){function t(t){var n=e.call(this,t)||this;n.buIndexCounter=new l,n.bodyPrXML=n.props.txBodyXML.childElement("a:bodyPr"),n.paragraphXMLs=n.props.txBodyXML.elementsWithName("a:p");var r=n.bodyPrXML.extraAttr.getString("anchor","t"),i=n.bodyPrXML.extraAttr.getString("wrap","square");n.isTextWrap="square"===i,n.spcFirstLastPara=n.bodyPrXML.extraAttr.getBoolean("spcFirstLastPara",!1),n.anchorCtr=n.bodyPrXML.extraAttr.getBoolean("anchorCtr",!1),n.bodyPrXML.extraAttr.getNumber("numCols",1),n.paddingLeft=s.isCenter(r)?0:n.bodyPrXML.extraAttr.getNumber("lIns",c.DefaultLeftPadding);var a=n.bodyPrXML.extraAttr.getNumber("tIns",c.DefaultTopPadding);n.paddingRight=s.isCenter(r)?0:n.bodyPrXML.extraAttr.getNumber("rIns",c.DefaultLeftPadding);var u=n.bodyPrXML.extraAttr.getNumber("bIns",c.DefaultTopPadding),p=void 0;return n.props.flipH&&(p="scale(-1, 1)"),n.rectStyle=n.props.insideTable?{position:"relative",left:0,top:0,width:c.toPt(n.props.width),minHeight:c.toPt(n.props.height),transform:p}:{position:"absolute",left:c.toPt(void 0===n.props.left?0:n.props.left),top:c.toPt(void 0===n.props.right?0:n.props.right),width:c.toPt(n.props.width),height:c.toPt(n.props.height),transform:p},n.rectStyle=o(o({},n.rectStyle),{display:"inline-flex",flexDirection:"column",alignItems:"center",justifyContent:s.toFlexAlign(r),zIndex:9999,paddingLeft:c.toPt(n.paddingLeft),paddingTop:c.toPt(a),paddingRight:c.toPt(n.paddingRight),paddingBottom:c.toPt(u),boxSizing:"border-box",whiteSpace:n.isTextWrap?"normal":"nowrap"}),n}return i(t,e),t.prototype.render=function(){var e=this,t=this.paragraphXMLs.map((function(t,n){return e.renderParagraph(t,e.bodyPrXML,n,e.spcFirstLastPara,0===n,n===e.paragraphXMLs.length-1,e.isTextWrap)}));return this.buIndexCounter.reset(),a.createElement("div",{className:"txBoby",style:this.rectStyle},a.createElement("ol",{style:{width:c.toPt(this.props.width-this.paddingLeft-this.paddingRight),marginBlockEnd:0,marginBlockStart:0,paddingBlockStart:0,paddingBlockEnd:0,marginInlineEnd:0,marginInlineStart:0,paddingInlineStart:0,paddingInlineEnd:0,margin:0,padding:0,whiteSpace:this.isTextWrap?"normal":"nowrap"}},t))},t.prototype.renderParagraph=function(e,t,n,r,i,o,s){var c=e.elements.find((function(e){return"a:r"===e.name}));return a.createElement(u.Paragraph,{key:""+n,slideContext:this.props.slideContext,isTextWrap:s,width:this.props.width,height:this.props.height,paragraphIndex:n,firstRangeXML:c,buIndexCounter:this.buIndexCounter,paragraphXML:e,bodyPrXML:t,round:0,spcFirstLastPara:r,isFirst:i,isLast:o,resourceType:this.props.resourceType})},t}(a.Component);t.TxBody=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.standardizeColor=function(e,t){e=e.replace("#","");var n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return"number"==typeof t?"rgba("+n+","+r+","+i+","+t+")":"rgb("+n+","+r+","+i+")"},t.toFlexAlign=function(e){switch(e){case"b":return"flex-end";case"ctr":return"center";default:return"flex-start"}},t.isCenter=function(e){return"center"===e||"ctr"===e},t.toTextAlign=function(e){switch(e){case"l":return"left";case"r":return"right";case"ctr":return"center";case"just":case"dist":return"justify";default:return"left"}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(85),c=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.onPlayClick=function(e){e.stopPropagation(),this.props.onPlayClick()},t.prototype.onPauseClick=function(e){e.stopPropagation(),this.props.onPauseClick()},t.prototype.formatTime=function(e){var t="00:00";if(e){var n=Math.floor(e/60),r=1===n.toString().length?"0"+n:n,i=Math.floor(e%60);t=r+":"+(1===i.toString().length?"0"+i:i)}return t},t.prototype.onBarClick=function(e){e.stopPropagation(),this.props.duration&&this.props.onSeekClick(Math.floor(e.nativeEvent.offsetX/e.currentTarget.clientWidth*this.props.duration))},t.prototype.componentDidMount=function(){this.controllerPortal=document.getElementById("netless-media-controller-portal")},t.prototype.renderController=function(e){return a.createElement("div",{className:"ppt-event-source",style:o({background:"#FFFFFF",borderRadius:50,height:50,width:300,display:this.props.display?"flex":"none",flexDirection:"row",alignItems:"center"},this.props.style),ref:this.props.controllerRef},a.createElement("div",{className:"ppt-event-source",style:{marginLeft:15,marginRight:10,fontSize:0,height:20,display:this.props.playing?"none":"block"},onClick:this.onPlayClick.bind(this)},a.createElement("img",{style:{height:20},src:this.props.resourceLoader.replaceProtocolByresourceScheme("https://convertcdn.netless.link/publicFiles/icon/play.png")})),a.createElement("div",{className:"ppt-event-source",style:{marginLeft:15,marginRight:10,fontSize:0,height:20,display:this.props.playing?"block":"none"},onClick:this.onPauseClick.bind(this)},a.createElement("img",{style:{height:20},src:this.props.resourceLoader.replaceProtocolByresourceScheme("https://convertcdn.netless.link/publicFiles/icon/pause.png")})),a.createElement("div",{style:{width:100},className:"timer"},a.createElement("span",{className:"current"},this.formatTime(this.props.currentTime)),a.createElement("span",null,"/"),a.createElement("span",{className:"total"},this.formatTime(this.props.duration))),a.createElement("div",{className:"ppt-event-source",style:{flex:1,position:"relative",marginRight:10},onMouseDown:this.onBarClick.bind(this)},a.createElement("div",{style:{background:"#D9D9D9",position:"relative",height:10,display:"flex"},className:"total"},a.createElement("div",{style:{background:"#4F4F4F",top:0,left:0,height:10,flex:e},className:"played"}))))},t.prototype.render=function(){var e=0;return this.props.duration&&(e=this.props.currentTime/this.props.duration),this.controllerPortal?s.createPortal(this.renderController(e),this.controllerPortal):this.renderController(e)},t}(a.Component);t.MediaController=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(e){return e/r.Degree*(Math.PI/180)}t.FormulaRegistry={"*/":function(e,t,n){return e*t/n},"+-":function(e,t,n){return e+t-n},"+/":function(e,t,n){return(e+t)/n},"?:":function(e,t,n){return e>0?t:n},abs:function(e){return Math.abs(e)},at2:function(e,t){return Math.atan2(t,e)*(180/Math.PI)*r.Degree},cat2:function(e,t,n){return e*Math.cos(Math.atan2(n,t))},cos:function(e,t){return e*Math.cos(i(t))},max:function(e,t){return e>t?e:t},min:function(e,t){return e<t?e:t},mod:function(e,t,n){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2)+Math.pow(n,2))},pin:function(e,t,n){return t<e?e:t>n?n:t},sat2:function(e,t,n){return e*Math.sin(Math.atan2(n,t))},sin:function(e,t){return e*Math.sin(i(t))},sqrt:function(e){return Math.sqrt(e)},tan:function(e,t){return e*Math.tan(i(t))},val:function(e){return e}};var o=function(){function e(e){this.expr=e}return e.prototype.standardizationTokenSplit=function(e){return e.replace(/\s+/g," ")},e.prototype.eval=function(e){var n=this.standardizationTokenSplit(this.expr).split(" "),r=n.slice(1,n.length).map((function(t){return isNaN(Number(t))?e.getRequiredVariable(t):parseInt(t)}));if(void 0===t.FormulaRegistry[n[0]])throw new Error("Formula "+n[0]+" not supported");return t.FormulaRegistry[n[0]].apply(t.FormulaRegistry,r)},e}();t.FormulaEval=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function o(e,t,n,o){return r(this,void 0,void 0,(function(){return i(this,(function(r){return window&&window.postMessage({name:"pptDataLoadError",src:e,event:"PPT data load failed",status:t},"*"),n&&n.error("fetch "+JSON.stringify(e)+" failed with "+t+" : ",o),[2]}))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchText=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,fetch(e)];case 1:return n=i.sent(),[3,3];case 2:throw r=i.sent(),o(e,-1,t,r),new Error("fetch "+JSON.stringify(e)+" error with no response");case 3:return 200===n.status?[3,5]:[4,n.text()];case 4:throw a=i.sent(),o(e,n.status,t,new Error(a)),new Error("fetch "+JSON.stringify(e)+" failed with "+n.status);case 5:return[4,n.text()];case 6:return[2,i.sent()]}}))}))},t.fetchJSON=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,fetch(e,{headers:{"content-type":"application/json",Accept:"application/json"}})];case 1:return n=i.sent(),[3,3];case 2:throw r=i.sent(),o(e,-1,t,r),new Error("fetch "+JSON.stringify(e)+" error with no response");case 3:return 200===n.status?[3,5]:[4,n.text()];case 4:throw a=i.sent(),o(e,n.status,t,new Error(a)),new Error("fetch "+JSON.stringify(e)+" failed with "+n.status);case 5:return[4,n.json()];case 6:return[2,i.sent()]}}))}))},t.fetchResourceFailedCallback=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.XMLNodeRuntime=r.XMLNodeRuntime;var i=n(34);t.Pickers=i.Pickers},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.attributePickers={},this.childPickers={}}return e.prototype.createPickers=function(){return new o(this.attributePickers,this.childPickers)},e.prototype.bindAttributePicker=function(e,t,n){this.bindPicker(e,t,n,this.attributePickers)},e.prototype.bindChildPicker=function(e,t,n){this.bindPicker(e,t,n,this.childPickers)},e.prototype.bindPicker=function(e,t,n,r){"string"==typeof e&&(e=[e]),"string"==typeof t&&(t=[t]);for(var i=0,o=e;i<o.length;i++)this.bindPickerWithAttributeNames(o[i],t,n,r)},e.prototype.bindPickerWithAttributeNames=function(e,t,n,r){var i=r[e];if(i||(i=r[e]={}),"object"==typeof i)for(var o=0,a=t;o<a.length;o++)i[a[o]]=n},e}();t.PickersModule=r;var i=function(){function e(e){this.pickers=e}return e.prototype.forEach=function(e,t){var n=this.pickers[e];if(n)for(var r in n)"*"!==r&&t(r)},e.prototype.has=function(e,t){var n=this.pickers[e];return!!n&&(t in n||"*"in n)},e.prototype.get=function(e,t,n,r,i,o){var a=this.pickers[t];if(a){var s=a[n];if(s||(s=a["*"]),s)return s(r,e,n,i,o)}},e}(),o=function(){function e(e,t){this.attributePickers=new i(e),this.childPickers=new i(t)}return e.prototype.forEachAttributes=function(e,t){this.attributePickers.forEach(e,t)},e.prototype.hasAttribute=function(e,t){return this.attributePickers.has(e,t)},e.prototype.getAttribute=function(e,t,n,r,i){if(this.context)return this.attributePickers.get(this.context,e,t,n,r,i)},e.prototype.getChild=function(e,t,n,r,i){if(this.context)return this.childPickers.get(this.context,e,t,n,r,i)},e}();t.Pickers=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=n(0),c=n(11),u=n(1),l=n(26),p=n(27),d=n(3);function h(e,t,n,r){var i={x:e.extraAttr.getNumber("x"),y:e.extraAttr.getNumber("y"),width:e.extraAttr.getNumber("width"),height:e.extraAttr.getNumber("height")},o=e.hasChildElementWithName("p:txBody")&&e.childElement("p:txBody").childElement("a:p").hasChildElementWithName("a:r"),a=e.extraAttr.getBoolean("hidden"),s=e.extraAttr.getBoolean("flipV"),c=!o&&e.extraAttr.getBoolean("flipH"),l=e.extraAttr.getNumberOptional("rot"),p={color:e.extraAttr.getColor("borderColor"),width:e.extraAttr.getNumber("borderWidth"),type:e.extraAttr.getString("borderType"),strokeDashArray:e.extraAttr.getString("borderStrokeDashArray")},h=void 0;e.extraAttr.getOptional("fillColor")&&(h=e.extraAttr.getColor("fillColor"))instanceof d.GroupFill&&h.setFillColor(r.fillColor);var f=e.childElementOptional("p:blipFill","a:srcRect"),m=void 0;if(f){var g=u.parseSTPercentage(f.attr.getNumber("l",0)),y=u.parseSTPercentage(f.attr.getNumber("r",0)),v=u.parseSTPercentage(f.attr.getNumber("t",0)),b=u.parseSTPercentage(f.attr.getNumber("b",0)),A=i.width/(1-g-y),x=i.height/(1-v-b);m={width:A,height:x,margin:{left:A*g,top:x*v,right:A*y,bottom:x*b}}}var w=e.childElementOptional("p:nvSpPr","p:cNvPr","a:hlinkClick"),_=e.childElementOptional("p:nvPicPr","p:cNvPr","a:hlinkClick"),S=void 0;return w&&"ppaction://hlinksldjump"===w.attr.getStringOptional("action")?S=w.attr.getStringOptional("r:id"):_&&"ppaction://hlinksldjump"===_.attr.getStringOptional("action")&&(S=_.attr.getStringOptional("r:id")),{rectangle:i,borderStyle:p,fillColor:h,tailor:m,flipV:s,flipH:c,rotate:l,parentGroupShapeId:n,hidden:a,hyperLinkDestination:S}}t.parsingShapeXML=h;var f=function(e){function t(t){var n=e.call(this,t)||this;return n.shapeMap=new l.MapNode(h),n.eventSourceId=void 0,n.spId=n.props.shapeXML.extraAttr.getString("spId"),n.resourceType=n.props.resourceType,n.player=s.createRef(),n.shapeWrapperParams=n.shapeMap.map(n.props.shapeXML,void 0,n.props.shapeGroupTransform),void 0!==t.eventSourceId?n.eventSourceId=t.eventSourceId:t.sequences&&void 0!==t.sequences.get(n.spId)&&void 0!==n.props.onEventSourceClick&&(n.eventSourceId=n.spId),n}return i(t,e),t.prototype.transformWithAnimation=function(e){return e?{translateX:p.get(e,"translateX",0),translateY:p.get(e,"translateY",0),scaleX:p.get(e,"scaleX",1),scaleY:p.get(e,"scaleY",1),rotate:p.get(e,"rotate",0)}:{translateX:0,translateY:0,scaleX:1,scaleY:1,rotate:0}},t.prototype.transformWithShapeParams=function(e,t){var n=0;return t.rotate&&"number"==typeof t.rotate&&(n=t.rotate),{translateX:t.translateX,translateY:t.translateY,scaleX:e.flipH?-t.scaleX:t.scaleX,scaleY:e.flipV?-t.scaleY:t.scaleY,rotate:n}},t.prototype.transform=function(e,t){var n=this.transformWithAnimation(t),r=this.transformWithShapeParams(e,n),i=r.translateY,o=r.scaleX,a=r.scaleY,s=(e.rotate||0)+r.rotate;return o<0&&(s=-s),a<0&&(s=-s),"translate("+u.toPt(r.translateX)+", "+u.toPt(i)+") scale("+o+","+a+") rotate("+u.toDeg(s)+"deg)"},t.prototype.opacity=function(e){return p.get(e,"opacity",1)},t.prototype.visible=function(e){return p.get(e,"visible",!0)},t.prototype.requestBasicAnimation=function(e,t){return e.fillColor&&e.fillColor instanceof a&&(e.fillColor=p.get(t,"fillcolor",e.fillColor)),e.play=p.get(t,"play",0),e.stop=p.get(t,"stop",0),e},t.prototype.render=function(){var e,t,n,r,i,o=this;return this.props.shapeGroupTransform?(e=u.toPt((this.shapeWrapperParams.rectangle.x+this.props.shapeGroupTransform.translateX)*this.props.shapeGroupTransform.scaleX),t=u.toPt((this.shapeWrapperParams.rectangle.y+this.props.shapeGroupTransform.translateY)*this.props.shapeGroupTransform.scaleY),n=u.toPt(this.shapeWrapperParams.rectangle.width*this.props.shapeGroupTransform.scaleX),r=u.toPt(this.shapeWrapperParams.rectangle.height*this.props.shapeGroupTransform.scaleY)):(e=u.toPt(this.shapeWrapperParams.rectangle.x),t=u.toPt(this.shapeWrapperParams.rectangle.y),n=u.toPt(this.shapeWrapperParams.rectangle.width),r=u.toPt(this.shapeWrapperParams.rectangle.height)),!0===this.shapeWrapperParams.hidden&&(i="none"),s.createElement(c.ShapeAnimation,this.shapeWrapperParams.hyperLinkDestination||void 0!==this.eventSourceId?{spId:this.spId,animeContext:this.props.animeContext,children:function(a){o.playEffectSound(a)&&o.player.current&&o.player.current.play().catch((function(){}));var c=o.getSoundEffectUrl(o.props.slideContext.resourceLoader,a);return s.createElement("div",{className:"spId-"+o.spId+" ppt-event-source",style:{position:"absolute",display:i||(o.visible(a)?void 0:"none"),zIndex:o.props.zIndex,left:e,top:t,width:n,height:r,transform:o.transform(o.shapeWrapperParams,a),opacity:o.opacity(a),backfaceVisibility:"hidden"},onClick:o.onClick.bind(o)},c&&s.createElement("audio",{src:c,ref:o.player,controls:!1}),o.renderShape(o.requestBasicAnimation(o.shapeWrapperParams,a)))}}:{spId:this.spId,animeContext:this.props.animeContext,children:function(a){return o.playEffectSound(a)&&o.player.current&&o.player.current.play().catch((function(){})),s.createElement("div",{className:"spId-"+o.spId,style:{position:"absolute",display:i||(o.visible(a)?void 0:"none"),zIndex:o.props.zIndex,left:e,top:t,width:n,height:r,transform:o.transform(o.shapeWrapperParams,a),opacity:o.opacity(a),backfaceVisibility:"hidden"}},s.createElement("audio",{src:o.getSoundEffectUrl(o.props.slideContext.resourceLoader,a),ref:o.player,controls:!1}),o.renderShape(o.requestBasicAnimation(o.shapeWrapperParams,a)))}})},t.prototype.onClick=function(){return this.shapeWrapperParams.hyperLinkDestination?this.props.onHyperLinkClick?this.props.onHyperLinkClick(this.shapeWrapperParams.hyperLinkDestination):void 0:void 0!==this.eventSourceId&&this.props.onEventSourceClick?this.props.onEventSourceClick(this.eventSourceId):void 0},t.prototype.getSoundEffectUrl=function(e,t){return void 0!==t&&void 0!==t.soundEffectId&&"slide"===this.props.resourceType?e.loadURL(this.props.resourceType,t.soundEffectId):void 0},t.prototype.playEffectSound=function(e){return void 0!==e&&void 0!==e.playingSoundEffecting&&e.playingSoundEffecting},t.prototype.renderShape=function(e){var t=e.tailor,n={left:0,right:0,top:0,bottom:0},r=e.rectangle;return t&&(r=o(o({},e.rectangle),{width:t.width,height:t.height}),n=t.margin),this.renderChildren({play:e.play,stop:e.stop,width:r.width,height:r.height,borderStyle:e.borderStyle,fillColor:e.fillColor,rotate:e.rotate,margin:n,shapeGroupTransform:this.props.shapeGroupTransform,flipH:!!this.props.flipH!==e.flipH})},t.prototype.renderChildren=function(e){return"function"==typeof this.props.children?this.props.children(e):this.props.children},t}(s.Component);t.ShapeWrapper=f},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(37),u=n(22),l=n(11),p=n(9);t.sequenceIndexesKey="sequenceIndexes",t.disabelAutoPlayKey="disableAutoPlay",t.playLastStepKey="playLastStep",function(e){e[e.Normal=0]="Normal",e[e.Preview=1]="Preview"}(a=t.RenderMode||(t.RenderMode={}));var d=function(e){function t(t){var n=e.call(this,t)||this;return n.slide=s.createRef(),n.currentSlideKey=n.props.data.uuid+"-"+n.props.data.index,n.initSlideStates(),n.changeStep.bind(n),n}return i(t,e),t.prototype.componentDidCatch=function(e,t){console.error("catched error: ",e),this.props.data.logger&&this.props.data.logger.error("catched ppt: "+this.props.data.uuid+", index: "+this.props.data.index+", user: "+this.props.userId+" render error : ",e)},t.prototype.initSlideStates=function(){var e=this.props.data.animations.sequences,t={};e.forEach((function(n){var r=n.key;t[r]=r===p.mainSequenceEventSourceId&&e.get(r).autoPlayFirstSequence?1:0}));var n={};void 0!==this.props.pptState&&(n=this.props.pptState);var r=n[this.currentSlideKey];if(r&&void 0!==r.sequenceSteps){t=o(o({},t),r.sequenceSteps);var i=r.sequenceSteps[p.mainSequenceEventSourceId];0===i&&e.get(p.mainSequenceEventSourceId).autoPlayFirstSequence&&!1===this.props.pptState.disableAutoPlay?(t[p.mainSequenceEventSourceId]=i=1,this.props.stateAdapter.setState(this.props.data.uuid,this.props.data.index,this.composeSlideStateIntoPPTState(t))):t[p.mainSequenceEventSourceId]=void 0!==i&&i<0?i=void 0===this.props.data.animations.sequenceAnimesCounts[p.mainSequenceEventSourceId]?void 0:this.props.data.animations.sequenceAnimesCounts[p.mainSequenceEventSourceId]+1+i:i}this.state=this.composeSlideStateIntoPPTState(t)},t.prototype.composeSlideStateIntoPPTState=function(e,t){var n,r;return o(o({},this.props.pptState),void 0!==t?((n={})[this.currentSlideKey]={sequenceSteps:e},n.uuid=this.props.data.uuid,n.pageIndex=this.props.data.index,n.disableAutoPlay=t,n):((r={})[this.currentSlideKey]={sequenceSteps:e},r.uuid=this.props.data.uuid,r.pageIndex=this.props.data.index,r))},t.prototype.UNSAFE_componentWillReceiveProps=function(e){void 0!==e.pptState&&this.setState(e.pptState)},t.prototype.changeStep=function(e){var t,n,r=this.state[this.currentSlideKey].sequenceSteps,i=r[p.mainSequenceEventSourceId];if(void 0===i||void 0===this.props.data.animations.sequenceAnimesCounts[p.mainSequenceEventSourceId]||0===this.props.data.animations.sequenceAnimesCounts[p.mainSequenceEventSourceId])return e>0?(this.setDisableAutoPlay(!1),this.props.stateAdapter.onPageToNext?this.props.stateAdapter.onPageToNext():void 0):e<0?(this.setPrevPageToLastStep(),this.props.stateAdapter.onPageToPrev?this.props.stateAdapter.onPageToPrev():void 0):void 0;var a=this.props.data.animations;i<0&&(i=this.props.data.animations.sequenceAnimesCounts[p.mainSequenceEventSourceId]+i+1);var s=i+e;return s<0?(this.setPrevPageToLastStep(),this.props.stateAdapter.onPageToPrev?this.props.stateAdapter.onPageToPrev():void 0):s>=a.sequenceAnimesCounts[p.mainSequenceEventSourceId]+1?(this.setDisableAutoPlay(!1),this.props.stateAdapter.onPageToNext?this.props.stateAdapter.onPageToNext():void 0):void this.props.stateAdapter.setState(this.props.data.uuid,this.props.data.index,1===i&&0===s?this.composeSlideStateIntoPPTState(o(o({},r),((t={})[p.mainSequenceEventSourceId]=s,t)),!0):this.composeSlideStateIntoPPTState(o(o({},r),((n={})[p.mainSequenceEventSourceId]=s,n)),!1))},t.prototype.setPrevPageToLastStep=function(){var e,t,n,r;if(0!==this.props.data.index){var i,a=this.props.data.uuid+"-"+(this.props.data.index-1),s=this.props.pptState[a];i=o(o({},this.props.pptState),void 0!==s?((e={})[a]=o(o({},s),{sequenceSteps:o(o({},s.sequenceSteps),(t={},t[p.mainSequenceEventSourceId]=-1,t))}),e.uuid=this.props.data.uuid,e.pageIndex=this.props.data.index-1,e.disableAutoPlay=!1,e):((n={})[a]={sequenceSteps:(r={},r[p.mainSequenceEventSourceId]=-1,r)},n.uuid=this.props.data.uuid,n.pageIndex=this.props.data.index-1,n.disableAutoPlay=!1,n)),this.props.stateAdapter.setState(this.props.data.uuid,this.props.data.index-1,i)}},t.prototype.setDisableAutoPlay=function(e){this.props.stateAdapter.setState(this.props.data.uuid,this.props.data.index,this.composeSlideStateIntoPPTState(this.state[this.currentSlideKey].sequenceSteps,e))},t.prototype.sequenceStep=function(){var e=this,t=this.state[this.currentSlideKey].sequenceSteps,n={};return void 0===t?{}:(this.props.data.animations.sequences.forEach((function(r){var i=r.key,o=t[i];void 0!==o&&(i===p.mainSequenceEventSourceId&&e.props.data.animations.sequenceAnimesCounts[i]>0&&o<0&&(o=e.props.data.animations.sequenceAnimesCounts[i]+o+1),n[i]=Math.min(o,e.props.data.animations.sequenceAnimesCounts[i]+1),n[i]=Math.max(n[i],0))})),n)},t.prototype.onHyperLinkClick=function(e){var t=this.props.data.slideRefIndex[e];if(t&&t.endsWith(".xml")){var n=t.match(/slide(\S*).xml/);null!==n&&this.props.stateAdapter.onPageJumpTo&&this.props.stateAdapter.onPageJumpTo(this.props.data.uuid,parseInt(n[1]))}},t.prototype.onEventSourceClick=function(e){var t,n,r=this.props.data.animations.sequences.get(e),i=this.state[this.currentSlideKey],a=i.sequenceSteps[e];void 0!==a&&(n=void 0!==r&&e!==p.mainSequenceEventSourceId&&a>=r.sequencesCount?0:a+1,this.props.stateAdapter.setState(this.props.data.uuid,this.props.data.index,this.composeSlideStateIntoPPTState(o(o({},i.sequenceSteps),((t={})[e]=n,t)))))},t.prototype.setMediaState=function(e,t){var n,r,i,a,s,c,u,l,p,d,h,f,m,g;if(void 0===this.props.pptState||void 0===this.props.pptState.mediaStates)(n={})[this.currentSlideKey]=((r={})[t]=e,r),m=n,void 0!==this.props.userId&&((i={})[this.currentSlideKey]=((a={})[t]=this.props.userId,a),g=i);else{var y=this.props.pptState.mediaStates[this.currentSlideKey];void 0===y?((s={})[t]=e,y=s):y[t]=e,void 0!==this.props.userId&&(void 0!==this.state.mediaActionUserIds?g=o(o({},this.state.mediaActionUserIds),void 0!==this.state.mediaActionUserIds[this.currentSlideKey]?((c={})[this.currentSlideKey]=o(o({},this.state.mediaActionUserIds[this.currentSlideKey]),((u={})[t]=this.props.userId,u)),c):((l={})[this.currentSlideKey]=((p={})[t]=this.props.userId,p),l)):((d={})[this.currentSlideKey]=((h={})[t]=this.props.userId,h),g=d)),m=o(o({},this.props.pptState.mediaStates),((f={})[this.currentSlideKey]=y,f))}this.props.stateAdapter.setState(this.props.data.uuid,this.props.data.index,o(o({},this.props.pptState),{mediaStates:m,mediaActionUserIds:g}))},t.prototype.componentDidUpdate=function(e,t){var n=this,r=t[this.currentSlideKey].sequenceSteps,i=this.state[this.currentSlideKey].sequenceSteps,a=function(e){if(e!==p.mainSequenceEventSourceId&&void 0!==r[e]&&0!==r[e]&&0===i[e])return setTimeout((function(){var t;n.props.stateAdapter.setState(n.props.data.uuid,n.props.data.index,n.composeSlideStateIntoPPTState(o(o({},r),((t={})[e]=i[e]+1,t))))}),80),{value:void 0}};for(var s in r){var c=a(s);if("object"==typeof c)return c.value}},t.prototype.onMediaPlay=function(e,t,n){void 0!==window&&window.postMessage({shapeId:e,mediaType:t,action:"play"},"*"),this.props.callbacks&&this.props.callbacks.onMediaPlay&&this.props.callbacks.onMediaPlay(e,t)},t.prototype.onMediaPause=function(e,t,n){void 0!==this.props.userId&&void 0!==this.state.mediaActionUserIds&&void 0!==this.state.mediaActionUserIds[this.currentSlideKey]&&this.state.mediaActionUserIds[this.currentSlideKey][e]===this.props.userId&&this.setMediaState({playing:!1,currentTime:n},e),void 0!==window&&window.postMessage({shapeId:e,mediaType:t,action:"pause"},"*"),this.props.callbacks&&this.props.callbacks.onMediaPause&&this.props.callbacks.onMediaPause(e,t)},t.prototype.render=function(){var e,t,n=this,r=this.props.data,i=r.slideXML.childElement("p:sld","p:cSld","p:spTree"),o=r.masterXML.childElement("p:sldMaster","p:cSld","p:spTree"),p=r.layoutXML.childElement("p:sldLayout","p:cSld","p:spTree"),d=r.slideXML.childElement("p:sld","p:cSld"),h={uuid:r.uuid,resourceLoader:r.resourceLoader,slideWidth:r.width,slideHeight:r.height,slideIndex:r.index+1,preload:r.preload},f=this.props.disableAnimation;void 0!==this.props.renderMode&&this.props.renderMode===a.Preview&&(f=!0);var m=null===(t=null===(e=this.props.pptState)||void 0===e?void 0:e.mediaStates)||void 0===t?void 0:t[this.currentSlideKey];return s.createElement(c.Background,{className:this.props.className,slideContext:h,slideRef:this.slide,cSld:d,resourceLoader:r.resourceLoader},s.createElement("div",{id:"netless-media-controller-portal",style:{position:"absolute",zIndex:1e3}}),s.createElement(u.ShapeGroup,{slideRef:this.slide,slideContext:h,shapeGroupXML:o,resourceType:"master",disableAnimation:f,zIndex:0}),s.createElement(u.ShapeGroup,{slideRef:this.slide,slideContext:h,shapeGroupXML:p,resourceType:"layout",disableAnimation:f,zIndex:1}),s.createElement(l.AnimationProvider,{slideAnimations:r.animations,sequenceSteps:this.sequenceStep(),renderChildren:function(e){var t,o;return s.createElement(u.ShapeGroup,{shapeGroupXML:i,userId:n.props.userId,logger:r.logger,slideRef:n.slide,slideContext:h,resourceType:"slide",zIndex:2,animeContext:e,onEventSourceClick:n.onEventSourceClick.bind(n),onHyperLinkClick:n.onHyperLinkClick.bind(n),sequences:r.animations.sequences,meidaStates:m,mediaSlideActionUserIds:null===(o=null===(t=n.props.pptState)||void 0===t?void 0:t.mediaActionUserIds)||void 0===o?void 0:o[n.currentSlideKey],disableAnimation:f,onMediaChange:n.setMediaState.bind(n),onMediaPlay:n.onMediaPlay.bind(n),onMediaPlayError:n.props.callbacks?n.props.callbacks.onMediaPlayError:void 0,onMediaPause:n.onMediaPause.bind(n),rtcClient:n.props.data.rtcClient})},disableAnimation:f}))},t}(s.Component);t.Slide=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(3),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e={position:"relative",width:a.toPt(this.props.slideContext.slideWidth),height:a.toPt(this.props.slideContext.slideHeight),overflow:"hidden"};return o.createElement("div",{ref:this.props.slideRef,className:this.props.className,style:e},this.renderImage(this.props.slideContext.slideWidth,this.props.slideContext.slideHeight),this.props.children)},t.prototype.renderImage=function(e,t){var n=this.props.cSld.extraAttr.getStringOptional("backgroundResId"),r=this.props.cSld.extraAttr.getStringOptional("backgroundImageResourceType");if(n&&r){var i=this.props.cSld.extraElementWithName("getBackgroundImageFill");if(void 0===i||void 0===i.childElementOptional("a:blip"))return null;var c=i.childElement("a:blip").childElementOptional("a:alphaModFix"),u=!!i.childElementOptional("a:tile"),l=1;c&&(l=a.parseSTPercentage(c.attr.getNumber("amt")));var p=this.props.resourceLoader.loadURL(r,n),d={position:"absolute",left:0,top:0,width:a.toPt(e),height:a.toPt(t),opacity:l,backgroundImage:"url("+p+")",backgroundSize:u?"auto":a.toPt(e)+" "+a.toPt(t)};return o.createElement("div",{style:d})}var h=this.props.cSld.extraAttr.getColorOptional("backgroundColor");return h?o.createElement("div",{style:{position:"absolute",left:0,top:0,width:a.toPt(e),height:a.toPt(t),backgroundColor:s.ensureColor(h)}}):null},t}(o.Component);t.Background=c},function(e,t){e.exports=n(49)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n=[];e.attr.forEach((function(t){var r=e.attr.getOptional(t);n.push("string"==typeof r?t+"="+JSON.stringify(r):t+"="+r)}));var r="";return t&&(r+="["+e.index+"] "),r+="<"+e.name,n.length>0&&(r+=" "+n.join(" ")),r+">"}Object.defineProperty(t,"__esModule",{value:!0}),t.createXMLNodeDisplayer=function(e,t){var n;return void 0===t&&(t=!1),(n={})[i(e,t)]=function e(t,n){var o=function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n].name||"";if(i in t)return!0;t[i]=!0}return!1}(t.elements)||n;if(t.elements.length>0){for(var a={},s=o&&t.elements.length>1,c=0,u=t.elements;c<u.length;c++){var l=u[c],p=i(l,s),d=e(l,n);a[p]=void 0===l.text?d:r(r({},d),{body:l.text})}return a}return null}(e,t),n}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.tagName=e}return e.prototype.get=function(e,t){return this.assignDefaultValue(e,this.getOptional(e),t)},e.prototype.getString=function(e,t){return this.assignDefaultValue(e,this.getStringOptional(e),t)},e.prototype.getNumber=function(e,t){return this.assignDefaultValue(e,this.getNumberOptional(e),t)},e.prototype.getBoolean=function(e,t){return this.assignDefaultValue(e,this.getBooleanOptional(e),t)},e.prototype.getColor=function(e,t){return this.assignDefaultValue(e,this.getColorOptional(e),t)},e.prototype.getColorOptional=function(e){return this.getOptional(e)},e.prototype.getStringOptional=function(e){var t=this.getOptional(e);return"number"==typeof t&&(t=""+t),t},e.prototype.getNumberOptional=function(e){var t=this.getOptional(e);if("string"!=typeof t||(t=parseInt(t),!Number.isNaN(t)))return t},e.prototype.getBooleanOptional=function(e){var t=this.getOptional(e);return"true"===t||"1"===t||"on"===t?t=!0:"false"===t||"0"===t||"off"===t?t=!1:void 0!==t&&(t=!!t),t},e.prototype.assignDefaultValue=function(e,t,n){if(void 0===t&&(t=n),void 0===t)throw new Error("can't find attribute "+JSON.stringify(e)+" from "+this.tagName);return t},e}(),a=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.length=function(){return 0},t.prototype.forEach=function(e){},t.prototype.getOptional=function(e){},t.prototype.has=function(e){return!1},t}(o);t.EmptyAttributes=a;var s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.attributes=n,r}return i(t,e),t.prototype.length=function(){return Object.keys(this.attributes).length},t.prototype.forEach=function(e){for(var t in this.attributes)e(t)},t.prototype.has=function(e){return e in this.attributes},t.prototype.getOptional=function(e){return this.attributes[e]},t}(o);t.LocalAttributes=s;var c=function(e){function t(t,n,r){var i=e.call(this,t.name)||this;return i.xml=t,i.picker=n,i.resourceType=r,i}return i(t,e),t.prototype.length=function(){return-1},t.prototype.forEach=function(e){void 0!==this.tagName&&this.picker.forEachAttributes(this.tagName,e)},t.prototype.has=function(e){return void 0!==this.getOptional(e)},t.prototype.getOptional=function(e){var t;return this.cachedValues&&e in this.cachedValues?t=this.cachedValues[e]:void 0!==this.tagName&&(this.cachedXMLMap||(this.cachedXMLMap={}),t=this.picker.getAttribute(this.tagName,e,this.xml,this.cachedXMLMap,this.resourceType),this.cachedValues||(this.cachedValues={}),this.cachedValues[e]=t),t},t}(o);t.ExtraAttributes=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),i=n(9),o=function(){function e(e){var t=this;this._loopTimestamp=Date.now(),this.onTick=function(e){for(var n in t._loopTimestamp=e,t.player.isPlayingSequence){var r=t._progressTimestamp[n]+(e-t.deviceTimestamp[n]);r>=t.playToTimestamp[n]?(t._progressTimestamp[n]=t.playToTimestamp[n],t.player.setPlayingSequence(!1,n)):t._progressTimestamp[n]=r,t.deviceTimestamp[n]=e}t.onAnimationFrame()},this.sequence=e.sequence,this.onAnimationFrame=e.onAnimationFrame,this.player=new a(e.sequence,this.onTick);var n={},r={},o={},s={};e.sequence.forEach((function(t){var a=t.key;if(void 0!==e.sequenceSteps&&0!==e.sequenceSteps[a]&&void 0!==e.sequenceSteps[a]){var c=e.sequenceSteps[a];n[a]=a===i.mainSequenceEventSourceId?c>=t.value.stepCount?t.value.endAt:e.sequence.get(a).autoPlayFirstSequence&&1===c?0:t.value.range(c-1).endAt:c>=t.value.stepCount?t.value.endAt:t.value.range(c-1).endAt,o[a]=c}else n[a]=0,o[a]=0;r[a]=0,s[a]=0})),this._progressTimestamp=n,this.playToTimestamp=r,this._sequenceSteps=o,this.deviceTimestamp=s}return Object.defineProperty(e.prototype,"state",{get:function(){return{progressTimestamp:this._progressTimestamp,loopTimestamp:this._loopTimestamp,hasLoopAnimation:this.player.isPlayingLoop}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"progressTimestamp",{get:function(){return this._progressTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loopTimestamp",{get:function(){return this._loopTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sequenceIndex",{get:function(){return this._sequenceSteps},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlayingLoop",{get:function(){return this.player.isPlayingLoop},set:function(e){this.player.isPlayingLoop=e},enumerable:!0,configurable:!0}),e.prototype.pause=function(){for(var e in this.player.isPlayingSequence)this.player.setPlayingSequence(!1,e);this.player.isPlayingLoop=!1},e.prototype.seekToStep=function(e,t,n){e===this.sequence.get(t).stepCount?void 0!==this.sequence.get(t)&&(this._progressTimestamp[t]=this.sequence.get(t).endAt,this.playToTimestamp[t]=this.sequence.get(t).endAt,this._sequenceSteps[t]=e,this.player.setPlayingSequence(!1,t),n||this.onAnimationFrame()):0===e?void 0!==this.sequence.get(t)&&void 0!==this.sequence.get(t).range(e)&&(this._progressTimestamp[t]=this.sequence.get(t).range(e).beginAt,this.playToTimestamp[t]=this.sequence.get(t).range(e).beginAt,this._sequenceSteps[t]=e,this.player.setPlayingSequence(!1,t),n||this.onAnimationFrame()):void 0!==this.sequence.get(t)&&void 0!==this.sequence.get(t).range(e-1)&&(this._progressTimestamp[t]=this.sequence.get(t).range(e-1).endAt,this.playToTimestamp[t]=this.sequence.get(t).range(e-1).endAt,this._sequenceSteps[t]=e,this.player.setPlayingSequence(!1,t),n||this.onAnimationFrame())},e.prototype.playToStep=function(e,t){if(0===e)this.seekToStep(e,t);else{var n=this.sequence.get(t).range(e-1);this._progressTimestamp[t]=n.beginAt,this._sequenceSteps[t]=e,this.deviceTimestamp[t]=Date.now(),this.playToTimestamp[t]=n.endAt,this.player.setPlayingSequence(!0,t)}},e}();t.SlidePlayer=o;var a=function(){function e(e,t){this.isPlaying=!1,this._isPlayingLoop=!1;var n={},r={};e.forEach((function(e){var t=e.key;n[t]=!1,r[t]=!1})),this._isPlayingSequence=r,this.invoker=t}return Object.defineProperty(e.prototype,"isPlayingSequence",{get:function(){return this._isPlayingSequence},set:function(e){this._isPlayingSequence=e,this.refreshPlayingState()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlayingLoop",{get:function(){return this._isPlayingLoop},set:function(e){this._isPlayingLoop=e,this.refreshPlayingState()},enumerable:!0,configurable:!0}),e.prototype.setPlayingSequence=function(e,t){this._isPlayingSequence[t]=e,this.refreshPlayingState()},e.prototype.refreshPlayingState=function(){var t=!1;for(var n in this._isPlayingSequence)if(!0===this._isPlayingSequence[n]||!0===this._isPlayingLoop){t=!0;break}!this.isPlaying&&t?r.addAnimation(e.priority,this.invoker):this.isPlaying&&!t&&r.removeAnimation(e.priority,this.invoker),this.isPlaying=t},e.priority=0,e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43);t.addAnimation=r.addAnimation,t.removeAnimation=r.removeAnimation,t.addAfterAnimationsInvoker=r.addAfterAnimationsInvoker,t.removeAfterAnimationsInvoker=r.removeAfterAnimationsInvoker},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44);t.addAnimation=r.addAnimation,t.removeAnimation=r.removeAnimation,t.removeAfterAnimationsInvoker=r.removeAfterAnimationsInvoker,t.addAfterAnimationsInvoker=r.addAfterAnimationsInvoker},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function i(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function o(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.addAnimation=function(e,t){a.addAnimation(e,t)},t.removeAnimation=function(e,t){a.removeAnimation(e,t)},t.addAfterAnimationsInvoker=function(e){a.addAfterAnimationsInvoker(e)},t.removeAfterAnimationsInvoker=function(e){a.removeAfterAnimationsInvoker(e)};var a=new(function(){function e(){var e=this;this.animationPriorities=[],this.animations={},this.afterAnimationsInvokers=[],this.animationId=null,this.isInAnimationFrame=!1,this.onAnimationFrame=function(){try{var t=Date.now();e.isInAnimationFrame=!0;for(var n=0,i=e.animationPriorities;n<i.length;n++)for(var o=0,a=r(e.animations[i[n]]);o<a.length;o++)(0,a[o])(t);for(var s=0,c=r(e.afterAnimationsInvokers);s<c.length;s++)(0,c[s])(t);e.animationId=e.animationPriorities.length>0?window.requestAnimationFrame(e.onAnimationFrame):null}finally{e.isInAnimationFrame=!1}}}return e.prototype.addAnimation=function(e,t){var n=this.animations[e],r=!1;n||(n=this.animations[e]=[],this.animationPriorities.push(e),this.animationPriorities.sort(),r=1===this.animationPriorities.length),o(n,t),r&&null===this.animationId&&(this.animationId=window.requestAnimationFrame(this.onAnimationFrame))},e.prototype.removeAnimation=function(e,t){var n=this.animations[e];n&&(i(n,t),0===n.length&&(delete this.animations[e],i(this.animationPriorities,e),0!==this.animationPriorities.length||this.isInAnimationFrame||null===this.animationId||(window.cancelAnimationFrame(this.animationId),this.animationId=null)))},e.prototype.addAfterAnimationsInvoker=function(e){o(this.afterAnimationsInvokers,e)},e.prototype.removeAfterAnimationsInvoker=function(e){i(this.afterAnimationsInvokers,e)},e}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=function(){function e(e){this.playingLoop=!1,this.executionStacks={},this.id=e.id,this.animes=e.animes,this.sequences=e.sequences,this.presetStyle=e.presetStyle,this.createMerger=this.createMergerCreator(e.mergerConstructor)}return e.prototype.createMergerCreator=function(e){var t=this;return this.currentShapeState=this.presetStyle,function(n,r,i){return new e(n,Object.assign({},t.presetStyle,r),i)}},e.prototype.animeState=function(e){for(var t in this.animes)this.filterSequenceIntoExecutionStacks(this.animes[t],this.sequences.get(t),e,t);var n={},r=function(e){var t=[];if(i.executionStacks[e].isEmpty())return"continue";i.executionStacks[e].forEach((function(e){t=t.concat(e.value)})),n[e]=t},i=this;for(var o in this.executionStacks)r(o);return this.currentShapeState=this.createMerger(n,this.currentShapeState,this.setPlayingLoop.bind(this)).state(e),Object.assign({},this.presetStyle,this.currentShapeState)},e.prototype.setPlayingLoop=function(e){this.playingLoop=e},e.prototype.filterSequenceIntoExecutionStacks=function(e,t,n,r){var i,o=t.sequenceStepOfTimestamp(n.progressTimestamp[r]),a=o.sequenceIndex,s=a===o.step;for(i in e){var c=e[i],u=c.getPointerNode();if(void 0!==u)if(u.key===""+a)(l=c.getByPointer()).forEach((function(e){return e.prepareToPlay()})),this.pushIntoExcutionStack(l,i,parseInt(u.key),r);else{if(!(parseInt(u.key)<a)){if(void 0===u.prevKey)continue;if(parseInt(u.prevKey)>a){this.popOutofExcutionStack(i,parseInt(u.prevKey),r),c.setPointer(u.prevKey);continue}continue}do{l=c.getByPointer(),parseInt(u.key)===a&&l.forEach((function(e){return e.prepareToPlay()})),this.pushIntoExcutionStack(l,i,parseInt(u.key),r),u=c.getPointerNode()}while(void 0!==u&&parseInt(u.key)<=a)}else{var l,p=c.tail;if(void 0===p)continue;if(parseInt(p.key)>a){this.popOutofExcutionStack(i,parseInt(p.key),r),c.setPointer(p.key);continue}s&&(l=p.value).forEach((function(e){e.resetCache(),e.prepareToPlay()}))}}},e.prototype.popOutofExcutionStack=function(e,t,n){var r=n+"_"+t;if(void 0!==this.executionStacks[e]){var i=this.executionStacks[e].get(r);void 0!==i&&i.forEach((function(e){return e.resetCache()})),this.executionStacks[e].remove(r)}},e.prototype.pushIntoExcutionStack=function(e,t,n,i){var o=i+"_"+n;void 0===this.executionStacks[t]?this.executionStacks[t]=new r.LinkedMap([{key:o,value:e}]):this.executionStacks[t].put(o,e)},e}();t.AnimationManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=e.durationList;this.autoPlayFirstSequence=e.autoPlayFirstSequence,this.ranges=this.createRanges(t),this.endAt=this.countEndAt()}return e.prototype.createRanges=function(e){for(var t=[],n=0,r=0;r<e.length;++r){var i=n+e[r];t.push(Object.freeze({beginAt:n,endAt:i,index:r})),n=i}return t},e.prototype.countEndAt=function(){return this.ranges.length>0?this.ranges[this.ranges.length-1].endAt:0},e.prototype.range=function(e){return this.ranges[e]},e.prototype.sequenceStepOfTimestamp=function(e){for(var t=0,n=0,r=0;r<this.ranges.length;++r){var i=this.ranges[r];if(e<i.beginAt)break;e===i.beginAt?(t=r,n=r):(t=r+1,n=r)}return{sequenceIndex:n,step:t}},Object.defineProperty(e.prototype,"sequencesCount",{get:function(){return this.ranges.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stepCount",{get:function(){return this.ranges.length+1},enumerable:!0,configurable:!0}),e}();t.Sequence=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.atomAnimes=e,this.playingLoopCallback=n,void 0!==t&&(this._from=t)}return e.prototype.state=function(e){var t,n=this,r={},i=!1,o=void 0,a=void 0;for(t in this.atomAnimes){var s=this.atomAnimes[t].map((function(t){"indefinite"===t.repeatCount&&0!==e.progressTimestamp[t.eventSourceId]&&(i=!0);var r=t.state(e.progressTimestamp[t.eventSourceId],n._from,e.loopTimestamp);return void 0!==r.soundEffectId&&(o=r.soundEffectId),void 0!==r.playingSoundEffecting&&(a=r.playingSoundEffecting),r})),c=this.merge(t,s);void 0!==c&&(r[t]=c)}return this.mergePPTAttributeToScale(r),this.playingLoopCallback&&this.playingLoopCallback(i),r.soundEffectId=o,r.playingSoundEffecting=a,r},e.prototype.mergePPTAttributeToScale=function(e){return void 0!==e.ppt_w&&(e.scaleX=void 0===e.scaleX?e.ppt_w:e.scaleX*e.ppt_w),void 0!==e.ppt_h&&(e.scaleY=void 0===e.scaleY?e.ppt_h:e.scaleY*e.ppt_h),e},e.prototype.merge=function(e,t){switch(e){case"scaleX":case"scaleY":case"ppt_w":case"ppt_h":var n;return t.forEach((function(e){void 0!==e.value&&(void 0===n||"absolute"===e.animeType?n=e.value:n*=e.value)})),void 0===n?void 0:n;case"translateX":case"translateY":var r;return t.forEach((function(e){void 0!==e.value&&(void 0===r||e.startTimestamp>=r.startTimestamp)&&(r=e)})),void 0===r?void 0:r.value;case"rotate":var i;return t.forEach((function(e){void 0!==e.value&&(void 0===i?i=e.value:i+=e.value)})),void 0===i?void 0:i;case"opacity":var o;return t.forEach((function(e){void 0!==e.value&&(void 0===o||e.startTimestamp>=o.startTimestamp)&&(o=e)})),void 0===o?void 0:o.value;case"fillcolor":var a;return t.forEach((function(e){void 0!==e.value&&(void 0===a||e.startTimestamp>=a.startTimestamp)&&(a=e)})),void 0===a?void 0:a.value;case"visible":var s;return t.forEach((function(e){void 0!==e.value&&(s=e)})),void 0===s?void 0:s.value;case"play":case"stop":var c;return t.forEach((function(e){void 0!==e.value&&(void 0===c||e.startTimestamp>=c.startTimestamp)&&(c=e)})),void 0===c?void 0:c.value;default:return}},e}();t.ShapeAnimeMerger=r},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=function(){function e(e){this.slideXML=e,this.animations=[]}return e.prototype.collect=function(){var e=this.slideXML.childElementOptional("p:sld","p:timing","p:tnLst","p:par","p:cTn","p:childTnLst");if(e)for(var t=e.elementsWithName("p:seq"),n=0;n<t.length;++n){var r=t[n],i=r.childElement("p:cTn").attr.getString("nodeType");this.searchAndIndexParXMLs(r,i,[n],0,void 0)}return this.animations},e.prototype.searchAndIndexParXMLs=function(e,t,n,i,o){var a,s=e.childElementOptional("p:cTn","p:childTnLst"),c=s?s.elementsWithName("p:par"):[],u=e.childElementOptional("p:cTn","p:stCondLst","p:cond");if(u){var l=u.attr.getOptional("delay"),p=u.childElementOptional("p:tgtEl","p:spTgt");p&&(o=p.attr.getString("spid")),a=l?"number"==typeof l?l:parseInt(l)||0:0}else a=0;if(0===c.length)this.handleLeafParXML(e,t,n,i,o);else for(var d=0;d<c.length;++d)this.searchAndIndexParXMLs(c[d],t,r(n,[d]),a+i,o)},e.prototype.handleLeafParXML=function(e,t,n,r,o){var a=e.childElementOptional("p:cTn","p:childTnLst"),s=e.childElement("p:cTn"),c=e.childElementOptional("p:cTn","p:stCondLst","p:cond"),u=a?a.element.childElement("p:cBhvr","p:tgtEl","p:spTgt").attr.getString("spid"):"",l=Number.MIN_SAFE_INTEGER;(a?a.elements:[]).forEach((function(e){var t=0,n=e.childElementOptional("p:cBhvr","p:cTn","p:stCondLst","p:cond");n&&(t=n.attr.getNumberOptional("delay")||0);var r=e.childElement("p:cBhvr","p:cTn").attr.getNumberOptional("dur");void 0===r&&(r=1),r+t>l&&(l=r+t)}));var p=a?a.element.childElementOptional("p:cBhvr","p:tgtEl","p:spTgt","p:txEl",new i.TagOrExpr("p:pRg","charRg")):void 0,d=p&&p.attr.getStringOptional("st"),h=p&&p.attr.getStringOptional("end"),f=p&&("p:pRg"===p.name?"paragraph":"char"),m=void 0,g=s.childElementOptional("p:endCondLst");void 0!==g&&"onNext"===g.childElement("p:cond").attr.getStringOptional("evt")&&(m="onNext");var y=s.attr.get("repeatCount","none");"indefinite"!==y&&"none"!==y&&0==(y/=1e3)&&(y="none");var v=s.attr.getStringOptional("presetClass");v||(v="entr");var b=Object.freeze({eventSourceShapeId:o,spId:u,sequenceType:t,animationXML:a,sequenceIndex:n[1],parallelIndex:n[3],start:d,end:h,textElement:f,isLoop:s.attr.has("repeatCount"),id:s.attr.getStringOptional("id")||"",presetClass:v,presetID:s.attr.getStringOptional("presetID")||"",presetSubtype:s.attr.getStringOptional("presetSubtype"),repeatCount:y,repeatEndCondition:m,nodeType:s.attr.getStringOptional("nodeType")||"afterEffect",delay:c?(c.attr.getNumberOptional("delay")||0)+r:r,duration:l,autoRev:s.attr.getBoolean("autoRev",!1),soundEffectId:this.parseAnimeSoundEffect(e)});this.animations.push(b)},e.prototype.parseAnimeSoundEffect=function(e){var t=e.childElementOptional("p:cTn","p:subTnLst","p:audio");return void 0===t?void 0:t.childElement("p:cMediaNode","p:tgtEl","p:sndTgt").attr.getString("r:embed")},e}();t.AnimationsCollector=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(50),a=n(12);function s(e,t){var n=[];return e.forEach((function(e){var r={animeProps:e,atomAnimeProps:c(e,t)};void 0===n[e.sequenceIndex]?n[e.sequenceIndex]=[r]:n[e.sequenceIndex].push(r)})),n}function c(e,t){var n=[];return e.animationXML?(e.animationXML.elements.forEach((function(r){if(o.AnimeRegistry[r.name]){var i=o.AnimeRegistry[r.name](r,e,t);void 0!==i&&n.push(i)}else console.error("unsupport "+r.name+" animation")})),n):n}t.decomposeSlideAnimations=function(e,t){return function(e,t){var n,r={};for(var i in e)for(var o in e[i]){var a=s(e[i][o],t);void 0===r[i]?r[i]=((n={})[o]=a,n):r[i][o]=a}return r}(function(e){var t={},n={};e.forEach((function(e){void 0===n[e.spId]?n[e.spId]=[e]:n[e.spId].push(e)}));var r=function(e){t[e]={},n[e].forEach((function(n){var r,i;if("mainSeq"===n.sequenceType)i=a.mainSequenceEventSourceId;else{if("interactiveSeq"!==n.sequenceType)return console.error("not support sequenceType :",n.sequenceType),t;if(void 0===n.eventSourceShapeId)return console.error("interactiveSeq anime "+n.id+" dont have eventSourceShapeId"),t;i=n.eventSourceShapeId}void 0===t[e]?t[e]=((r={})[i]=[n],r):void 0===t[e][i]?t[e][i]=[n]:t[e][i].push(n)}))};for(var i in n)r(i);return t}(e),t)},t.getPresetShapeStyle=function(e,t,n){var o={},a=function(a){var s;s=void 0===n.shapeParamsIndex[parseInt(a)]?{translateX:0,translateY:0,scaleX:1,scaleY:1,opacity:1,visible:!0,rotate:0,fillcolor:i({r:0,g:0,b:0}),play:0,stop:0}:{translateX:0,translateY:0,scaleX:1,scaleY:1,opacity:void 0===n.shapeParamsIndex[parseInt(a)].opacity?1:n.shapeParamsIndex[parseInt(a)].opacity,visible:!0,rotate:0,fillcolor:n.shapeParamsIndex[parseInt(a)].fillColor||i({r:0,g:0,b:0}),play:0,stop:0};var c={},u=void 0,l=void 0;t.forEach((function(t,n){if(void 0===u&&(u=e[a][t.key]))for(var r=0,i=u;r<i.length;r++){var o=i[r];if(void 0===l&&void 0!==o){l=o[0];break}}})),void 0!==l&&"entr"===l.animeProps.presetClass&&(c={visible:!1}),o[a]=r(r({},s),c)};for(var s in e)a(s);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.AnimeRegistry={"p:animMotion":function(e,t,n){return new r.AnimMotionParser(t,n).parse(e)},"p:set":function(e,t,n){return new r.AnimSetParser(t,n).parse(e)},"p:animEffect":function(e,t,n){return new r.AnimEffectParser(t,n).parse(e)},"p:anim":function(e,t,n){return new r.AnimParser(t,n).parse(e)},"p:animClr":function(e,t,n){return new r.AnimColorParser(t,n).parse(e)},"p:animRot":function(e,t,n){return new r.AnimRotateParser(t,n).parse(e)},"p:animScale":function(e,t,n){return new r.AnimScaleParser(t,n).parse(e)},"p:cmd":function(e,t,n){return new r.AnimCmdParser(t,n).parse(e)}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(4),s=n(1),c=n(10),u={"style.rotation":"rotate","style.visibility":"opacity"};t.AnimePropMap={ppt_x:"translateX",ppt_y:"translateY",rotateX:"rotateX",rotateY:"rotateY",opacity:"opacity"};var l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.parse=function(e){var n,r,i=e.childElement("p:cBhvr","p:cTn").attr.getNumber("id"),s=e.childElement("p:cBhvr","p:cTn").attr.getBooleanOptional("autoRev"),l=e.childElement("p:cBhvr"),p=a.parseBehaviorAttr(l),d=e.attr.getString("calcmode"),h=e.attr.getString("valueType"),f=a.getValueHolderOptional(e.childElementOptional("p:from"),h,this.context),m=a.getValueHolderOptional(e.childElementOptional("p:to"),h,this.context),g=a.getValueHolderOptional(e.childElementOptional("p:by"),h,this.context),y=e.attr.getStringOptional("from")||(f?f.attrValue:void 0),v=e.attr.getStringOptional("to")||(m?m.attrValue:void 0),b=e.attr.getStringOptional("by")||(g?g.attrValue:void 0),A=void 0;p.timeFilter&&(A=(new c.TimeFilterResolver).resolve(p.timeFilter));var x=t.AnimePropMap[p.animationAttrNames[0]]||p.animationAttrNames[0];if(u[x]&&(x=u[x]),y||v||b)return(n={})[x]={animeId:""+i,type:"lin"===d?"linear":"discrete",from:this.translateAttrValue(y,x,this.context),to:this.translateAttrValue(v,x,this.context),by:this.translateAttrValue(b,x,this.context),duration:p.duration,delay:this.animation.delay+p.delay,fill:p.fill,timeFilter:A,autoRev:s},n;var w=e.childElementOptional("p:tavLst");if(w){var _,S,T=this.parseAnimatedValueAttr(w,h,this.context),P=T[0],C=T[T.length-1];return _=void 0!==P.formula?o.parse(P.formula).compile():P.attrValueType===a.AnimatedAttrValueType.formulaType?o.parse(P.attrValue).compile():this.translateAttrValue(P.attrValue,x,this.context),S=void 0!==C.formula?o.parse(C.formula).compile():C.attrValueType===a.AnimatedAttrValueType.formulaType?o.parse(C.attrValue).compile():this.translateAttrValue(C.attrValue,x,this.context),(r={})[x]={animeId:i,type:"lin"===d?"linear":"discrete",from:_,to:S,duration:p.duration,delay:this.animation.delay+ +p.delay,fill:p.fill,timeFilter:A,animatedValueAttrs:T,autoRev:s},r}throw console.warn("anime has not even attr driver"),new Error("anime has not even attr driver")},n.prototype.translateAttrValue=function(e,t,n){if(!e)return e;var r=n.shapeParamsIndex[parseInt(this.animation.spId)];if(!r)throw new Error("not found shape "+this.animation.spId+" data");switch(t){case"translateX":return e*n.slideWidth-r.rectangle.x;case"translateY":return e*n.slideHeight-r.rectangle.y;case"scaleX":return e*n.slideWidth/r.rectangle.width;case"scaleY":return e*n.slideHeight/r.rectangle.height;default:return e}},n.prototype.parseAnimatedValueAttr=function(e,t,n){return e.elementsWithName("p:tav").map((function(e){var r=e.childElement("p:val"),i=a.getValueHolder(r,t,n),o=i.attrValue,c=i.attrValueType,u=e.attr.getStringOptional("fmla");return{time:s.parseSTPercentage(e.attr.getNumber("tm")),formula:u?u.replace(/#/g,"$"):u,attrValueType:c,attrValue:o}}))},n}(a.Parser);t.AnimParser=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(10),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(e){var t=e.childElement("p:cBhvr","p:cTn").attr.getNumber("id"),n=e.childElement("p:cBhvr","p:cTn").attr.getBooleanOptional("autoRev"),r=o.getValueHolderOptional(e.childElementOptional("p:by"),"num",this.context),i=e.attr.getStringOptional("by")||(r?r.attrValue:void 0),s=e.childElement("p:cBhvr"),c=o.parseBehaviorAttr(s),u=void 0;return c.timeFilter&&(u=(new a.TimeFilterResolver).resolve(c.timeFilter)),{rotate:{animeId:""+t,type:"linear",by:i.toString(),duration:c.duration,delay:this.animation.delay+c.delay,timeFilter:u,fill:c.fill,autoRev:n}}},t}(o.Parser);t.AnimRotateParser=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(1),s=n(10),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(e){var t=e.childElement("p:cBhvr","p:cTn").attr.getNumber("id"),n=e.childElement("p:cBhvr","p:cTn").attr.getBooleanOptional("autoRev"),r=this.resolveAttrDriver(e.childElementOptional("p:from")),i=this.resolveAttrDriver(e.childElementOptional("p:to")),a=this.resolveAttrDriver(e.childElementOptional("p:by")),c=e.childElement("p:cBhvr"),u=o.parseBehaviorAttr(c),l=void 0;return u.timeFilter&&(l=(new s.TimeFilterResolver).resolve(u.timeFilter)),{scaleX:{animeId:""+t,type:"linear",from:r?this.resolveScaleAttrValue(r.x):void 0,to:i?this.resolveScaleAttrValue(i.x):void 0,by:a?this.resolveScaleAttrValue(a.x):void 0,duration:u.duration,delay:this.animation.delay+u.delay,timeFilter:l,fill:u.fill,autoRev:n},scaleY:{animeId:""+t,type:"linear",from:r?this.resolveScaleAttrValue(r.y):void 0,to:i?this.resolveScaleAttrValue(i.y):void 0,by:a?this.resolveScaleAttrValue(a.y):void 0,duration:u.duration,delay:this.animation.delay+u.delay,timeFilter:l,fill:u.fill,autoRev:n}}},t.prototype.resolveScaleAttrValue=function(e){return parseFloat(e)/a.STPercentage100},t.prototype.resolveAttrDriver=function(e){return e?{x:e.attr.getString("x"),y:e.attr.getString("y")}:void 0},t}(o.Parser);t.AnimScaleParser=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(10),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(e){var t=e.childElement("p:cBhvr","p:cTn").attr.getBooleanOptional("autoRev"),n=e.childElement("p:cBhvr","p:cTn").attr.getNumber("id"),r=e.childElement("p:cBhvr"),i=o.parseBehaviorAttr(r),s=e.attr.getStringOptional("transition"),c=void e.attr.getStringOptional("filter");return i.timeFilter&&(c=(new a.TimeFilterResolver).resolve(i.timeFilter)),s?"in"===s?{opacity:{animeId:""+n,type:"linear",from:0,to:1,fill:i.fill,duration:i.duration,delay:this.animation.delay+i.delay,timeFilter:c,autoRev:t}}:{opacity:{animeId:""+n,type:"linear",from:1,to:0,fill:i.fill,duration:i.duration,delay:this.animation.delay+i.delay,timeFilter:c,autoRev:t}}:void 0},t}(o.Parser);t.AnimEffectParser=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=n(4),c=n(3),u=n(6),l=n(1),p=n(2),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(e){var t,n,r=e.childElement("p:cBhvr","p:cTn").attr.getNumber("id"),i=e.childElement("p:cBhvr","p:cTn").attr.getBooleanOptional("autoRev"),o=e.attr.getString("clrSpc"),a=(e.attr.getStringOptional("dir"),this.resolveColorBy(o,this.context.slideContext,e.childElementOptional("p:by"))),c=this.resolveColor(this.context.slideContext,e.childElementOptional("p:to")),u=e.childElement("p:cBhvr"),l=s.parseBehaviorAttr(u),p=l.animationAttrNames[0];if("fillcolor"===p)return a?((t={})[p]={animeId:""+r,by:a,duration:l.duration,delay:this.animation.delay+l.delay,fill:l.fill,type:"colorByLinear",autoRev:i},t):c?((n={})[p]={animeId:""+r,to:c,duration:l.duration,delay:this.animation.delay+l.delay,fill:l.fill,type:"colorLinear",autoRev:i},n):void 0},t.prototype.resolveColor=function(e,t){if(t){var n=t.childElementOptional(new p.TagOrExpr("p:rgb","p:hsl"));if(!n){var r=t.childElement(new(p.TagOrExpr.bind.apply(p.TagOrExpr,o([void 0],u.ALL_COLOR_TYPE))));return c.getColor(r,e)}switch(n.name){case"p:rgb":return a({r:n.attr.getNumber("r"),g:n.attr.getNumber("g"),b:n.attr.getNumber("b")});case"p:hsl":return a({h:n.attr.getNumber("h")/l.Degree,s:n.attr.getNumber("s")/l.STPercentage100*100,l:n.attr.getNumber("l")/l.STPercentage100*100})}}},t.prototype.resolveColorBy=function(e,t,n){if(n){var r=n.childElementOptional(new p.TagOrExpr("p:rgb","p:hsl"));if(!r){var i=n.childElement(new(p.TagOrExpr.bind.apply(p.TagOrExpr,o([void 0],u.ALL_COLOR_TYPE))));return this.colorToColorPatch(c.getColor(i,t))}switch(r.name){case"p:rgb":return{r:r.attr.getNumber("r"),g:r.attr.getNumber("g"),b:r.attr.getNumber("b"),clrSpc:"rgb"};case"p:hsl":return{h:r.attr.getNumber("h")/l.Degree,s:r.attr.getNumber("s")/l.STPercentage100*100,l:r.attr.getNumber("l")/l.STPercentage100*100,clrSpc:"hsl"}}}},t.prototype.colorToColorPatch=function(e){if(e){var t=e.rgb().object();return{r:t.r,g:t.g,b:t.b,clrSpc:"rgb"}}},t}(s.Parser);t.AnimColorParser=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(e){var t=e.childElement("p:cBhvr","p:cTn").attr.getNumber("id"),n=e.childElement("p:cBhvr","p:cTn").attr.getBooleanOptional("autoRev"),r=e.childElement("p:cBhvr"),i=o.parseBehaviorAttr(r),a=o.getValueHolderOptional(e.childElementOptional("p:to"),"str",this.context);switch(i.animationAttrNames[0]){case"style.visibility":return{visible:{animeId:""+t,type:"discrete",from:void 0,to:!a||"hidden"!==a.attrValue,fill:i.fill,duration:i.duration,delay:this.animation.delay+i.delay,autoRev:n}};case"style.opacity":return{opacity:{animeId:""+t,type:"discrete",from:void 0,to:parseFloat(a.attrValue.toString()),fill:i.fill,duration:i.duration,delay:this.animation.delay+i.delay,autoRev:n}};default:return}},t}(o.Parser);t.AnimSetParser=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(e){var t=e.childElement("p:cBhvr","p:cTn").attr.getNumber("id"),n=(e.attr.getString("type"),e.attr.getString("cmd"),e.childElement("p:cBhvr")),r=o.parseBehaviorAttr(n);return{play:{animeId:""+t,type:"discrete",duration:1,delay:this.animation.delay+r.delay,from:0,to:1,fill:r.fill},stop:{animeId:""+t,type:"discrete",duration:1===r.duration?9999999:r.duration,delay:this.animation.delay+r.delay,from:0,to:1,fill:r.fill}}},t}(o.Parser);t.AnimCmdParser=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(59),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.parse=function(e){var t=e.childElement("p:cBhvr","p:cTn").attr.getNumber("id"),n=e.childElement("p:cBhvr","p:cTn").attr.getBooleanOptional("autoRev"),r=e.attr.getString("path"),i=e.childElement("p:cBhvr","p:cTn").attr.getNumber("dur"),s=e.childElement("p:cBhvr"),c=o.parseBehaviorAttr(s),u=a.createCurve(r);return{translateX:{animeId:""+t,type:"linear",duration:i,delay:this.animation.delay+c.delay,fill:c.fill,curve:u,autoRev:n},translateY:{animeId:""+t,type:"linear",duration:i,delay:this.animation.delay+c.delay,fill:c.fill,curve:u,autoRev:n}}},t}(o.Parser);t.AnimMotionParser=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60);t.createCurve=r.createCurve},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(61),o=n(62),a=n(63),s=n(64);function c(e){var t=e.controller,n=e.end;return{x:n.x+(n.x-t.x),y:n.y+(n.y-t.y)}}function u(e,t,n){if(t.length!==n)throw new Error("invalid path: sign "+e+" should have "+n+" points ("+2*n+" number)")}function l(e){if(!e)throw new Error("invalid path: expect M")}t.createCurve=function(e){for(var t=[],n=void 0,p=void 0,d=void 0,h=0,f=i.parsePathToNodes(e);h<f.length;h++){var m=f[h],g=m.sign,y=m.points;switch(g){case"M":u(g,y,1),n=y[0],p=y[0],d=void 0;break;case"L":u(g,y,1),l(p),t.push(new a.Straight(p,y[0])),p=y[0],d=void 0;break;case"Z":u(g,y,0),l(p),t.push(new a.Straight(p,n)),p=n,d=void 0;break;case"C":u(g,y,3),l(p),t.push(new s.BezierCurve(p,y[0],y[1],y[2])),d={controller:y[1],end:y[2]},p=y[2];break;case"S":if(!d)throw new Error("invalid path: expect C or S before S");u(g,y,2),l(p);var v=c(d);t.push(new s.BezierCurve(p,v,y[0],y[1])),d={controller:y[0],end:y[1]},p=y[1];break;case"Q":u(g,y,2),l(p),t.push(new s.BezierCurve(p,y[0],y[1])),d={controller:y[0],end:y[1]},p=y[1];break;case"T":if(!d)throw new Error("invalid path: expect Q or T before T");u(g,y,1),l(p),d={controller:v=c(d),end:y[0]},d={controller:v,end:y[0]},p=y[0];break;case"E":break;default:throw new Error("invalid path: unrecognized sign "+JSON.stringify(g))}}return new(o.CurveGroup.bind.apply(o.CurveGroup,r([void 0],t)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePathToNodes=function(e){for(var t=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];if(""===i);else if(1===i.length)t.push(i);else{var o=i[0];/[a-zA-Z]/.test(o)?(t.push(o),t.push(i.substring(1))):t.push(i)}}return t}(e.split(/,|\s/i)),n=[],r=void 0,i=void 0,o=void 0,a=0,s=t;a<s.length;a++){var c=s[a];if(/^[a-zA-Z]$/.test(c)){if(void 0!==o)throw new Error("invalid path: lack of number");void 0!==r&&n.push({sign:r,points:i}),r=c,i=[]}else{var u=parseFloat(c);if(Number.isNaN(u))throw new Error("invalid path: unrecognized number "+JSON.stringify(c));void 0===o?o=u:(i.push({x:o,y:u}),o=void 0)}}if(void 0!==o)throw new Error("invalid path: lack of number");return void 0!==r&&n.push({sign:r,points:i}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("expect 1 curve minimum");for(var r=[],i=0,o=0,a=t;o<a.length;o++){var s=a[o];r.push(s.rectangle),i+=s.length}this.curves=Object.freeze(t),this.length=i,this.rectangle=e.unionRectangles(r)}return e.prototype.get=function(e){for(var t,n=0,r=0,i=0,o=this.curves;i<o.length;i++){var a=o[i];if(t=a,r=n,e<n+a.length)break;n+=a.length}return t.get(e-r)},e.unionRectangles=function(e){for(var t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,o=0,a=e;o<a.length;o++){var s=a[o];s.left<t&&(t=s.left),s.right>n&&(n=s.right),s.top<r&&(r=s.top),s.bottom>i&&(i=s.bottom)}return Object.freeze({left:t,right:n,top:r,bottom:i})},e}();t.CurveGroup=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.beginX=e.x,this.beginY=e.y,this.deltaX=t.x-e.x,this.deltaY=t.y-e.y,this.length=Math.sqrt(this.deltaX*this.deltaX+this.deltaY*this.deltaY),this.rectangle=Object.freeze({left:Math.min(e.x,t.x),right:Math.max(e.x,t.x),top:Math.min(e.y,t.y),bottom:Math.max(e.y,t.y)})}return e.prototype.get=function(e){var t=e/this.length;return t=Math.max(0,t),t=Math.min(1,t),{x:this.beginX+t*this.deltaX,y:this.beginY+t*this.deltaY}},e}();t.Straight=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65),i=function(){function e(e,t,n,i){this.bezier=new r([e,t,n,i]),this.length=this.bezier.length(),this.rectangle=this.createRectangle()}return e.prototype.createRectangle=function(){var e=this.bezier.bbox();return Object.freeze({left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max})},e.prototype.get=function(e){var t=e/this.length;return t=Math.max(0,t),t=Math.min(1,t),this.bezier.get(t)},e}();t.BezierCurve=i},function(e,t){e.exports=n(50)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25);t.CacheTimingAnime=r.CacheTimingAnime;var i=n(5);t.AtomTimingAnime=i.AtomTimingAnime;var o=n(67);t.ColorTimingAnime=o.ColorTimingAnime;var a=n(68);t.MediaTimingAnime=a.MediaTimingAnime;var s=n(69);t.RotateTimeAnime=s.RotateTimeAnime;var c=n(70);t.ScaleTimingAnime=c.ScaleTimingAnime;var u=n(71);t.VisibleTimingAnime=u.VisibleTimingAnime;var l=n(72);t.OpacityTimingAnime=l.OpacityTimingAnime;var p=n(73);t.TranslateTimingAnime=p.TranslateTimingAnime},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=n(5),s=n(7),c=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i,o)||this;return a.tempFrom=void 0,a.to=t.props.to,a.by=t.props.by,a.timeFilter=t.props.timeFilter,a.animeType="relative",a.rateCaculator=new s.LinearRateCaculator(a.delay,a.duration,a.timeFilter,a.fill),a}return i(t,e),t.prototype.getState=function(e,t){var n,r,i=this.rateCaculator.caclulate(e).rate;if("number"!=typeof i)return{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting};if(n=i,void 0===this.tempFrom?this.tempFrom=t:void 0===this.tempFrom[this.attrName]&&(this.tempFrom[this.attrName]=t[this.attrName]),(r=void 0!==this.tempFrom?this.tempFrom.fillcolor:o({r:0,g:0,b:0}))instanceof o||(r=o({r:0,g:0,b:0})),void 0!==this.to){var a=r.rgb().object(),s=this.to.rgb().object(),c=a.r+n*(s.r-a.r),u=a.g+n*(s.g-a.g),l=a.b+n*(s.b-a.b);return{value:o({r:c,g:u,b:l}),animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}}if(r instanceof o||(r=o({r:0,g:0,b:0})),"rgb"===this.by.clrSpc)return c=(a=r.rgb().object()).r+n*this.by.r,{value:o({r:c,g:u=a.g+n*this.by.g,b:l=a.b+n*this.by.b}),animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting};var p=(a=r.hsl().object()).h+n*this.by.h;return{value:o({h:p,s:a.s+n*this.by.s,l:a.l+n*this.by.l}),animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}},t}(a.AtomTimingAnime);t.ColorTimingAnime=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(7),s=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i,o)||this;return s.attrName=n,s.from=t.props.from,s.to=t.props.to,s.animeType="absolute",s.rateCaculator=new a.DiscreteRateCaculator(s.delay,s.duration,s.fill),s}return i(t,e),t.prototype.getState=function(e){var t=this.rateCaculator.caclulate(e).rate;return"number"!=typeof t?{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay}:{value:1===t?this.to:this.from,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay}},t}(o.AtomTimingAnime);t.MediaTimingAnime=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(7),s=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i,o)||this;return s.timeFilter=t.props.timeFilter,s.by=t.props.by,s.animeType="relative",s.rateCaculator=new a.LinearRateCaculator(s.delay,s.duration,s.timeFilter,s.fill),s}return i(t,e),t.prototype.getState=function(e){var t,n=this.rateCaculator.caclulate(e).rate;if("number"!=typeof n)return{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting};if(t=n,void 0!==this.formulas){var r=this.getExcutingFormula(t,this.formulas),i=void 0;if(void 0!==r){var o=r.from;i=o+(t-r.startProcessRate)/(r.endProcessRate-r.startProcessRate)*(r.to-o)}else i=void 0;return{value:i,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}}return{value:t*this.by,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}},t}(o.AtomTimingAnime);t.RotateTimeAnime=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(7),s=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i,o)||this;return s.tempFrom=void 0,s.attrName=n,s.timeFilter=t.props.timeFilter,s.from=t.props.from,s.to=t.props.to,s.by=t.props.by,s.context=r,s.animeType=void 0!==t.props.to?"absolute":"relative",s.rateCaculator=new a.LinearRateCaculator(s.delay,s.duration,s.timeFilter,s.fill),s}return i(t,e),t.prototype.getState=function(e,t){var n,r=this.rateCaculator.caclulate(e).rate;if("number"!=typeof r)return{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting};if(n=r,void 0===this.tempFrom?this.tempFrom=t:void 0===this.tempFrom[this.attrName]&&(this.tempFrom[this.attrName]=t[this.attrName]),void 0!==this.formulas){void 0===this.currentShapeParams&&void 0!==this.tempFrom&&(this.currentShapeParams={ppt_w:void 0===this.tempFrom.scaleX?this.shapeAnimationParams.ppt_w:this.tempFrom.scaleX*this.shapeAnimationParams.ppt_w,ppt_h:void 0===this.tempFrom.scaleY?this.shapeAnimationParams.ppt_h:this.tempFrom.scaleY*this.shapeAnimationParams.ppt_h,ppt_x:this.shapeAnimationParams.ppt_x,ppt_y:this.shapeAnimationParams.ppt_y});var i=this.getExcutingFormula(n,this.formulas),o=this.cacluateAttr(i,n,this.currentShapeParams);if(void 0===o)return{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting};var a=void 0;return"ppt_w"===this.attrName?a=o/this.shapeAnimationParams.ppt_w:"scaleX"===this.attrName?a=o:"ppt_h"===this.attrName?a=o/this.shapeAnimationParams.ppt_h:"scaleY"===this.attrName&&(a=o),{value:a,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}}if(void 0!==this.by)return{value:(s=1)+n*(this.by-s),animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting};var s=void 0;return{value:(s=void 0!==this.from?this.from:void 0!==this.tempFrom?"scaleX"===this.attrName?this.tempFrom.scaleX:"scaleY"===this.attrName?this.tempFrom.scaleY:1:1)+n*(this.to-s),animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}},t}(o.AtomTimingAnime);t.ScaleTimingAnime=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(7),s=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i,o)||this;return s.tempFrom=void 0,s.animeType="absolute",s.to=t.props.to,s.rateCaculator=new a.LinearRateCaculator(s.delay,s.duration,void 0,s.fill),s}return i(t,e),t.prototype.getState=function(e,t){void 0===this.tempFrom?this.tempFrom=t:void 0===this.tempFrom.visible&&(this.tempFrom.visible=t.visible);var n=this.rateCaculator.caclulate(e).rate;if(void 0!==this.formulas){if("number"!=typeof n)return{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting};var r=this.getExcutingFormula(n,this.formulas);return{value:void 0!==r?n<r.endProcessRate?"hidden"!==r.from:"hidden"!==r.to:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}}return"number"==typeof n?{value:n>0?this.to:this.tempFrom.visible,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}:{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}},t}(o.AtomTimingAnime);t.VisibleTimingAnime=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(7),s=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i,o)||this;return s.tempFrom=void 0,s.timeFilter=t.props.timeFilter,s.type=t.props.type,s.from=t.props.from,s.to=t.props.to,s.animeType="absolute",s.rateCaculator="discrete"===s.type?new a.DiscreteRateCaculator(s.delay,s.duration,s.fill):new a.LinearRateCaculator(s.delay,s.duration,s.timeFilter,s.fill),s}return i(t,e),t.prototype.getState=function(e,t){var n,r,i=this.rateCaculator.caclulate(e).rate;return"number"!=typeof i?{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}:(n=i,void 0===this.tempFrom?this.tempFrom=t:void 0===this.tempFrom.opacity&&(this.tempFrom.opacity=t.opacity),"discrete"===this.type?{value:1===n?this.to:this.tempFrom.opacity,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}:{value:(r=void 0!==this.from?this.from:void 0!==this.tempFrom?this.tempFrom.opacity:1)+n*(this.to-r),animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting})},t}(o.AtomTimingAnime);t.OpacityTimingAnime=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(7),s=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i,o)||this;return s.tempFrom=void 0,s.slideWidth=r.slideWidth,s.slideHeight=r.slideHeight,s.attrName=n,s.timeFilter=t.props.timeFilter,s.from=t.props.from,s.to=t.props.to,s.curve=t.props.curve,s.animeType="absolute",s.rateCaculator=new a.LinearRateCaculator(s.delay,s.duration,s.timeFilter,s.fill),s}return i(t,e),t.prototype.getState=function(e,t){var n,r,i=this.rateCaculator.caclulate(e).rate;if("number"!=typeof i)return{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting};if(n=i,void 0===this.tempFrom?this.tempFrom=t:void 0===this.tempFrom[this.attrName]&&(this.tempFrom[this.attrName]=t[this.attrName]),void 0!==this.curve){var o=this.curve.get(n*this.curve.length);return"translateX"===this.attrName?{value:o.x*this.slideWidth,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}:{value:o.y*this.slideHeight,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}}if(void 0!==this.formulas){void 0===this.currentShapeParams&&void 0!==this.tempFrom&&(this.currentShapeParams={ppt_w:this.shapeAnimationParams.ppt_w,ppt_h:this.shapeAnimationParams.ppt_h,ppt_x:void 0===this.tempFrom.translateX?this.shapeAnimationParams.ppt_x:this.tempFrom.translateX/this.slideWidth+this.shapeAnimationParams.ppt_x,ppt_y:void 0===this.tempFrom.translateY?this.shapeAnimationParams.ppt_y:this.tempFrom.translateY/this.slideHeight+this.shapeAnimationParams.ppt_y});var a=this.getExcutingFormula(n,this.formulas),s=this.cacluateAttr(a,n,this.currentShapeParams);return void 0===s?{value:void 0,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}:"translateX"===this.attrName?{value:s*this.slideWidth-this.shapeParam.rectangle.x,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}:{value:s*this.slideHeight-this.shapeParam.rectangle.y,animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}}return{value:(r=void 0!==this.from?this.from:void 0!==this.tempFrom?"translateX"===this.attrName?this.tempFrom.translateX:this.tempFrom.translateY:0)+n*(this.to-r),animeType:this.animeType,fill:this.fill,presetClass:this.presetClass,startTimestamp:this.delay,soundEffectId:this.soundEffectId,playingSoundEffecting:this.playingSoundEffecting}},t}(o.AtomTimingAnime);t.TranslateTimingAnime=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(15),c=n(9),u=function(e){function t(t){var n=e.call(this,t)||this;return n.key=n.createNewKey(),n}return i(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.slideAnimations!==e.slideAnimations&&(this.key=this.createNewKey())},t.prototype.createNewKey=function(){return Date.now()+":"+Math.floor(1e4*Math.random())},t.prototype.sequenceStep=function(){var e=o({},this.props.sequenceSteps),t={};for(var n in e){var r=Math.max(this.props.sequenceSteps[n],0);r=Math.min(r,this.props.slideAnimations.sequences.get(n).stepCount),t[n]=r}return t},t.prototype.render=function(){return[a.createElement(l,{key:this.key,slideAnimations:this.props.slideAnimations,sequenceSteps:this.sequenceStep(),renderChildren:this.props.renderChildren,disableAnimation:this.props.disableAnimation})]},t}(a.Component);t.AnimationProvider=u;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.slideAnimations=t.slideAnimations,n.player=new s.SlidePlayer({sequence:n.slideAnimations.sequences,loopAnimationBeginAt:n.slideAnimations.loopAnimationBeginAt,sequenceSteps:t.sequenceSteps,onAnimationFrame:function(){return n.setState(n.player.state)}}),n.state=o(o({},n.player.state),{animationManagers:n.slideAnimations.animationManagers}),n}return i(t,e),t.prototype.componentDidMount=function(){var e=!1;for(var t in this.state.animationManagers)if(!0===this.state.animationManagers[t].playingLoop){e=!0;break}for(var n in this.player.isPlayingLoop=e,this.props.sequenceSteps)this.props.disableAnimation?(this.player.isPlayingLoop=!1,this.player.seekToStep(this.props.sequenceSteps[n],n)):n===c.mainSequenceEventSourceId&&this.props.slideAnimations.sequences.get(n).autoPlayFirstSequence&&1===this.props.sequenceSteps[n]?this.player.playToStep(this.props.sequenceSteps[n],n):this.player.seekToStep(this.props.sequenceSteps[n],n)},t.prototype.componentWillUnmount=function(){this.player.pause()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=!1;for(var n in e.slideAnimations.animationManagers)if(!0===e.slideAnimations.animationManagers[n].playingLoop){t=!0;break}for(var r in this.player.isPlayingLoop=t,this.props.sequenceSteps)this.props.disableAnimation?(this.player.isPlayingLoop=!1,this.player.seekToStep(this.props.sequenceSteps[r],r)):this.props.sequenceSteps[r]!==e.sequenceSteps[r]&&(e.disableAnimation||this.props.sequenceSteps[r]+1!==e.sequenceSteps[r]?(0===e.sequenceSteps[r]&&(this.player.isPlayingLoop=!1),this.player.seekToStep(e.sequenceSteps[r],r)):this.player.playToStep(e.sequenceSteps[r],r))},t.prototype.UNSAFE_componentWillUpdate=function(){if(this.props.disableAnimation)this.player.isPlayingLoop=!1;else{var e=!1;for(var t in this.state.animationManagers)if(!0===this.state.animationManagers[t].playingLoop){e=!0;break}this.player.isPlayingLoop=e}},t.prototype.render=function(){return this.props.renderChildren(this.state)},t}(a.Component)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(t){var n=e.call(this,t)||this;return n.manager=t.animationManagers[t.id],n}return i(t,e),t.prototype.render=function(){return this.props.children(this.manager?this.manager.animeState(this.props):void 0)},t}(o.Component),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this;return this.props.animeContext?o.createElement(a,{id:this.props.spId,animationManagers:this.props.animeContext.animationManagers,progressTimestamp:this.props.animeContext.progressTimestamp,loopTimestamp:this.props.animeContext.loopTimestamp,hasLoopAnimation:this.props.animeContext.hasLoopAnimation,children:function(t){return e.props.children(t)}}):this.props.children(void 0)},t}(o.Component);t.ShapeAnimation=s,t.TextAnimation=function(e){return e.animeContext?o.createElement(a,{id:e.spId+":"+e.textElement+":"+e.start+":"+e.end,animationManagers:e.animeContext.animationManagers,progressTimestamp:e.animeContext.progressTimestamp,loopTimestamp:e.animeContext.loopTimestamp,hasLoopAnimation:e.animeContext.hasLoopAnimation,children:function(t){return e.children(t)}}):null}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(77),c=n(81),u=n(82),l=n(83),p=function(e){function t(t){var n=e.call(this,t)||this;return n.uri=n.props.graphXML.childElement("a:graphic","a:graphicData").attr.getString("uri"),n}return i(t,e),t.prototype.render=function(){var e=t.subGraphClassWithURI(this.uri);return a.createElement(e,o({},this.props))},t.subGraphClassWithURI=function(e){switch(e){case"http://schemas.openxmlformats.org/drawingml/2006/table":return s.TableGraph;case"http://schemas.openxmlformats.org/drawingml/2006/chart":return c.ChartGraph;case"http://schemas.openxmlformats.org/drawingml/2006/diagram":return u.DiagramGraph;default:return console.debug("Unsupported graph",e),l.Unsupported}},t}(a.Component);t.Graph=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(3),s=n(1),c=n(28),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this,t=this.props.graphXML.childElement("a:graphic","a:graphicData","a:tbl"),n=t.childElement("a:tblGrid").elementsWithName("a:gridCol"),r=t.elementsWithName("a:tr"),i=r.map((function(e,t){return e.attr.getNumber("h")})),a=r.map((function(t,r){var a=t.attr.getNumber("h"),s=t.elementsWithName("a:tc").map((function(e,t){return n[t].attr.getNumber("w")})),c=t.elementsWithName("a:tc").map((function(t,o){var c=n[o].attr.getNumber("w");return e.renderCol(t,r,o,c,a,s,i)}));return o.createElement("tr",{key:"tr-"+r},c)}));return o.createElement("table",{style:{borderCollapse:"collapse"}},o.createElement("tbody",null,a))},t.prototype.renderCol=function(e,t,n,r,i,u,l){var p=e.childElement("a:tcPr"),d=p.extraAttr.getColor(t+"-"+n+"-fillColor",a.UNDEFINED),h=(p.extraAttr.getColorOptional(t+"-"+n+"-fontColor"),p.extraAttr.getStringOptional(t+"-"+n+"-fontFamily")),f=p.extraAttr.getBoolean(t+"-"+n+"-isBold",!1),m=p.extraAttr.getBoolean(t+"-"+n+"-isItalic",!1),g=p.extraAttr.getString(t+"-"+n+"-bottomBorderStyle","none"),y=p.extraAttr.getNumber(t+"-"+n+"-bottomBorderWidth",0),v=p.extraAttr.getColorOptional(t+"-"+n+"-bottomBorderColor",a.UNDEFINED),b=p.extraAttr.getString(t+"-"+n+"-topBorderStyle","none"),A=p.extraAttr.getNumber(t+"-"+n+"-topBorderWidth",0),x=p.extraAttr.getColorOptional(t+"-"+n+"-topBorderColor",a.UNDEFINED),w=p.extraAttr.getString(t+"-"+n+"-leftBorderStyle","none"),_=p.extraAttr.getNumber(t+"-"+n+"-leftBorderWidth",0),S=p.extraAttr.getColorOptional(t+"-"+n+"-leftBorderColor",a.UNDEFINED),T=p.extraAttr.getString(t+"-"+n+"-rightBorderStyle","none"),P=p.extraAttr.getNumber(t+"-"+n+"-rightBorderWidth",0),C=p.extraAttr.getColorOptional(t+"-"+n+"-rightBorderColor",a.UNDEFINED),E=e.childElementOptional("a:txBody");if(void 0===E)return null;var k=e.attr.getNumber("gridSpan",1),O=e.attr.getNumber("rowSpan",1),M=e.attr.getBoolean("hMerge",!1),N=e.attr.getBoolean("vMerge",!1),I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return[].concat.apply([],e).reduce((function(e,t){return e+t}),0)}(u.slice(n,n+k));return M||N?null:o.createElement("td",{colSpan:k,rowSpan:O,style:{position:"relative",fontFamily:h&&h,fontWeight:f?500:400,fontStyle:m?"italic":"normal",borderBottomStyle:g,borderTopStyle:b,borderLeftStyle:w,borderRightStyle:T,borderBottomWidth:s.toPt(y),borderTopWidth:s.toPt(A),borderLeftWidth:s.toPt(_),borderRightWidth:s.toPt(P),borderBottomColor:a.ensureColor(v),borderTopColor:a.ensureColor(x),borderLeftColor:a.ensureColor(S),borderRightColor:a.ensureColor(C),maxWidth:s.toPt(I),height:s.toPt(i),backgroundColor:a.ensureColor(d),boxSizing:"border-box"},key:"tc-"+t+"-"+n,className:"tc-"+t+"-"+n},o.createElement(c.TxBody,{slideContext:this.props.slideContext,insideTable:!0,width:I,height:i,txBodyXML:E,resourceType:"slide"}))},t}(o.Component);t.TableGraph=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(3),c=n(29),u=n(1),l=n(79),p=n(80),d=function(e){function t(t){var n=e.call(this,t)||this;n.runElements=t.paragraphXML.elements.filter((function(e){return["a:fld","a:r","a:br","a:endParaRPr"].includes(e.name)})),n.biggestFontSize=o(n.runElements).filter((function(e){return"a:r"===e.name})).map((function(e){return e.extraAttr.getNumber("sz",0)})).sort((function(e,t){return e-t}))[0],n.fontScale=.01;var r=n.props.bodyPrXML.childElementOptional("a:normAutofit");if(r&&(n.fontScale=u.parseSTPercentage(r.attr.getNumber("fontScale",u.STPercentage100))/100),n.buChar=n.props.paragraphXML.extraElementWithName("bu"),n.indent=n.props.paragraphXML.extraAttr.getNumber("indent"),n.marL=n.props.paragraphXML.extraAttr.getNumber("marL",0),n.lineHeightInXml=n.props.paragraphXML.extraAttr.get("lineHeight"),"number"!=typeof n.lineHeightInXml)n.lineHeight=parseFloat(n.lineHeightInXml)*n.fontScale*100+"pt";else{var i=n.getBigestLineHeight(o(n.runElements),n.lineHeightInXml,n.fontScale);n.lineHeight=void 0===i?void 0:i+"pt"}return n.buClr=n.props.paragraphXML.extraAttr.getColorOptional("buClr"),n.noneBuChar=void 0===n.buChar||"a:buNone"===n.buChar.name,n.paddingBottom=n.getPaddingBottom(n.props.paragraphXML.extraAttr.getStringOptional("a:spcAft"),n.biggestFontSize),n.paddingBottom=n.getPaddingTop(n.props.paragraphXML.extraAttr.getStringOptional("a:spcBef"),n.biggestFontSize),n.align=n.props.paragraphXML.extraAttr.getStringOptional("algn"),n}return i(t,e),t.prototype.render=function(){var e,t=this,n=this.props.paragraphXML.extraAttr.getBoolean("placeHolderType");if("slide"!==this.props.resourceType&&n)return a.createElement("div",{key:""+this.props.paragraphIndex});var r=this.runElements.map((function(n,r){var i=t.renderRunOrBrOrEnd(n,t.props.paragraphIndex,r,t.fontScale,t.lineHeightInXml,t.indent,t.props.firstRangeXML,e);return e=n,i})),i=0;if(this.props.firstRangeXML){if(this.buChar&&"a:buNone"!==this.buChar.name){var o=this.props.firstRangeXML.extraAttr.getNumber("sz",0),p=this.props.firstRangeXML.extraAttr.getString("fontType","");r.unshift(a.createElement("span",{key:"bu-"+ ++i,style:{display:"inline-block",position:"absolute",color:s.ensureColor(void 0!==this.buClr?this.buClr:this.props.firstRangeXML.extraAttr.getColorOptional("color")),fontSize:o*this.fontScale+"pt",lineHeight:this.lineHeight,fontFamily:p,textIndent:u.toPt(this.indent)}},a.createElement(l.Bullet,{paragraphXML:this.props.paragraphXML,firstRangeXML:this.props.firstRangeXML,buXML:this.buChar,buIndexCounter:this.props.buIndexCounter})))}}else{o=0;var d=this.props.paragraphXML.childElementOptional("a:endParaRPr");if(d){var h=d.extraAttr.getNumberOptional("sz");o=void 0===h?0:h}else o=this.props.paragraphXML.extraAttr.getNumber("sz",0);r.push(a.createElement("span",{key:"end-"+ ++i,style:{display:"block",lineHeight:this.lineHeight,fontSize:o*this.fontScale+"pt"}},a.createElement("br",null)))}return this.buChar&&"a:buNone"===this.buChar.name&&this.props.buIndexCounter.reset(),a.createElement("li",{key:""+this.props.paragraphIndex,className:"Paragraph-"+this.props.paragraphIndex,style:{whiteSpace:this.props.isTextWrap?"normal":"nowrap",paddingTop:this.paddingTop,paddingBottom:this.paddingBottom,marginLeft:u.toPt(this.props.paragraphXML.extraAttr.getNumber("marL")),marginRight:u.toPt(this.props.paragraphXML.extraAttr.getNumber("marR",0)),lineHeight:"1pt",listStyleType:"none",textAlign:c.toTextAlign(this.align)}},r)},t.prototype.getPaddingBottom=function(e,t){return this.props.isLast&&!this.props.spcFirstLastPara?"0pt":this.getPadding(e,t)},t.prototype.getPaddingTop=function(e,t){return this.props.isFirst&&!this.props.spcFirstLastPara?"0pt":this.getPadding(e,t)},t.prototype.getPadding=function(e,t){if(e){if(-1!==e.indexOf("pt"))return e;if(t)return t*parseFloat(e)/100+"pt"}return"0pt"},t.prototype.renderRunOrBrOrEnd=function(e,t,n,r,i,o,s,c){return a.createElement(p.Run,{key:t+"-"+n,isTextWrap:this.props.isTextWrap,paragraphHasRange:void 0!==s,rNodeOrBrNode:e,fontScale:r,runIndex:n,indent:0===n&&this.noneBuChar&&0!==this.marL?o:void 0,slideIndex:this.props.slideContext.slideIndex,prevElement:c,lineHeight:i,align:this.align?this.align:"l"})},t.prototype.getBigestLineHeight=function(e,t,n){var r=void 0;return e.forEach((function(e){switch(e.name){case"a:fld":case"a:r":case"a:br":case"a:endParaRPr":var i=1.2*e.extraAttr.getNumber("sz",0)*t*n;(void 0===r||r<i)&&(r=i)}})),r},t}(a.Component);t.Paragraph=d},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){switch(this.props.buXML.name){case"a:buChar":return this.props.buIndexCounter.reset(),this.renderBuChar(this.props.buXML.attr.getString("char"));case"a:buAutoNum":return this.renderAutoNum(this.props.buXML);case"a:buNone":case"a:buBlip":return this.props.buIndexCounter.reset(),""}},t.prototype.renderAutoNum=function(e){var t=e.attr.getString("type"),n=e.attr.getNumber("startAt",1),r=this.props.buIndexCounter.get(this.props.paragraphXML,n,this.props.firstRangeXML)+n;switch(t){case"alphaLcParenBoth":return"("+(r+9).toString(36)+")";case"alphaLcParenR":return(r+9).toString(36)+")";case"alphaLcPeriod":return(r+9).toString(36)+".";case"alphaUcParenBoth":return"("+(r+9).toString(36).toUpperCase()+")";case"alphaUcParenR":return(r+9).toString(36).toUpperCase()+")";case"alphaUcPeriod":return(r+9).toString(36).toUpperCase()+".";case"arabicParenBoth":return"("+r+")";case"arabicParenR":return r+")";case"arabicPeriod":return r+".";case"arabicPlain":return""+r;case"ea1JpnChsDbParenBoth":return"("+r.toLocaleString("zh-Hans-CN-u-nu-hanidec")+")";case"ea1JpnChsDbParenR":return r.toLocaleString("zh-Hans-CN-u-nu-hanidec")+")";case"ea1JpnChsDbPeriod":return r.toLocaleString("zh-Hans-CN-u-nu-hanidec")+".";case"ea1JpnChsDbPlain":return""+r.toLocaleString("zh-Hans-CN-u-nu-hanidec");case"romanLcParenBoth":return"("+this.romanize(r).toLowerCase()+")";case"romanLcParenR":return this.romanize(r).toLowerCase()+")";case"romanLcPeriod":return this.romanize(r).toLowerCase()+".";case"romanUcParenBoth":return"("+this.romanize(r)+")";case"romanUcParenR":return this.romanize(r)+")";case"romanUcPeriod":return this.romanize(r)+".";default:return r+"."}},t.prototype.romanize=function(e){var t={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},n="";for(var r in t)for(;e>=t[r];)n+=r,e-=t[r];return n},t.prototype.renderBuChar=function(e){switch(e){case"l":return"\u2022";case"\xfc":return"\u2713";case"\u2022":return"\u2022";case"\u2013":return"\u2013";case"v":return"\u2756";case"u":return"\u25c6";case"&":return"\ud83d\udd6e";default:return e}},t}(n(0).Component);t.Bullet=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(3),s=n(1),c=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.hasUnderLine=function(e){switch(e){case"none":return"none";default:return"underline"}},t.prototype.render=function(){var e=this;return this.props.text?o.createElement("span",{style:{display:"inline-flex",justifyContent:"space-between",backgroundColor:a.ensureColor(this.props.highlightColor),textDecoration:this.hasUnderLine(this.props.underLineStyle),width:"100%"}},Array.from(this.props.text).map((function(t,n){return o.createElement("span",0===n&&e.props.indent?{key:"run-text-"+n,style:{display:e.props.indent?"inline-block":"inline",lineHeight:e.props.lineHeight,whiteSpace:e.props.isTextWrap?"pre-wrap":"pre",fontSize:e.props.fontSize+"pt",fontFamily:e.props.fontFamily,fontWeight:e.props.isBold?500:400,color:a.ensureColor(e.props.color),fontStyle:e.props.isItalic?"italic":"normal",letterSpacing:e.props.letterSpacing/100+"pt",textIndent:e.props.indent?s.toPt(e.props.indent):0}}:{key:"run-text-"+n,style:{display:"inline",lineHeight:e.props.lineHeight,whiteSpace:e.props.isTextWrap?"pre-wrap":"pre",fontSize:e.props.fontSize+"pt",fontFamily:e.props.fontFamily,fontWeight:e.props.isBold?500:400,color:a.ensureColor(e.props.color),fontStyle:e.props.isItalic?"italic":"normal",letterSpacing:e.props.letterSpacing/100+"pt"}},t)}))):null},t}(o.Component),u=function(e){function t(t){var n=e.call(this,t)||this;n.defaultPtSize=18;var r,i=n.props.rNodeOrBrNode.extraAttr.getNumberOptional("sz");return r=void 0===i?n.defaultPtSize:i,n.lineHeight="string"==typeof n.props.lineHeight?n.props.lineHeight:r*n.props.fontScale*1.2*n.props.lineHeight+"pt",n.fontSize=r*n.props.fontScale+"pt",n}return i(t,e),t.prototype.render=function(){switch(this.props.rNodeOrBrNode.name){case"a:fld":case"a:r":return this.renderText();case"a:br":return o.createElement("span",{key:"br-"+this.props.runIndex,style:{lineHeight:this.lineHeight,fontSize:this.fontSize}},o.createElement("br",null));case"a:endParaRPr":if(this.props.prevElement&&"a:br"===this.props.prevElement.name)return o.createElement("span",{key:"endParaRPr-"+this.props.runIndex,style:{lineHeight:this.lineHeight,display:"inline",fontSize:this.fontSize}},o.createElement("br",null));default:return null}},t.prototype.hasUnderLine=function(e){switch(e){case"none":return"none";default:return"underline"}},t.prototype.renderText=function(){var e=void 0,t=this.props.rNodeOrBrNode,n=t.attr.getStringOptional("type");if(n)switch(n){case"slidenum":e=this.props.slideIndex;break;default:e=new Date(Date.now()).toLocaleDateString()}var r=t.childElementOptional("a:t");if(void 0===r)return o.createElement("span",null);var i,u,l,p=t.extraAttr.getBoolean("b",!1),d=t.extraAttr.getString("u","none"),h=t.extraAttr.getNumber("spc",0),f=t.extraAttr.getBoolean("i",!1),m=t.extraAttr.getColorOptional("color"),g=t.extraAttr.getNumber("sz",0)*this.props.fontScale,y=t.extraAttr.getString("fontType",""),v=t.extraAttr.getColorOptional("highlight",void 0),b=t.childElementOptional("a:rPr");return void 0!==b&&(i=b.attr.getNumberOptional("baseline")),u=void 0===i?e||r.text:i>0?o.createElement("sup",{style:{fontSize:"small",verticalAlign:40+i/s.STPercentage100*100+"%"}},e||r.text):i<0?o.createElement("sub",{style:{fontSize:"small",verticalAlign:0+i/s.STPercentage100*100+"%"}},e||r.text):e||r.text,l="string"==typeof this.props.lineHeight?this.props.lineHeight:1.2*g*this.props.lineHeight+"pt","dist"===this.props.align?o.createElement(c,{fontSize:g,text:""+u,lineHeight:l,indent:this.props.indent,isTextWrap:this.props.isTextWrap,isBold:p,isItalic:f,underLineStyle:d,fontFamily:y,letterSpacing:h,color:m,highlightColor:v}):o.createElement("span",{key:"run-"+this.props.runIndex,style:{display:this.props.indent?"inline-block":"inline",lineHeight:l,whiteSpace:this.props.isTextWrap?"pre-wrap":"pre",backgroundColor:a.ensureColor(v),fontSize:g+"pt",textDecoration:this.hasUnderLine(d),fontFamily:y,fontWeight:p?500:400,color:a.ensureColor(m),fontStyle:f?"italic":"normal",letterSpacing:h/100+"pt",overflowWrap:"break-word",textIndent:this.props.indent?s.toPt(this.props.indent):0}},u)},t}(o.Component);t.Run=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return o.createElement("div",null)},t}(o.Component);t.ChartGraph=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return o.createElement("div",null)},t}(o.Component);t.DiagramGraph=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return o.createElement("div",null)},t}(o.Component);t.Unsupported=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(30),c=function(e){function t(t){var n=e.call(this,t)||this;return n.videoIntervalId=void 0,n.player=o.createRef(),n.controller=o.createRef(),n.state=t.mediaState?{displayController:!1,playing:t.mediaState.playing,currentTime:t.mediaState.currentTime,volume:1,duration:0,controllerPositionTop:0,controllerPositionLeft:0}:{displayController:!1,playing:!1,currentTime:0,volume:1,duration:0,controllerPositionTop:0,controllerPositionLeft:0},n.state.playing&&n.hasControl(n.props.mediaSlideActionUserIds,n.props.userId)&&n.syncPlayTimeLoop(),n}return i(t,e),t.prototype.componentWillUnmount=function(){this.pauseAudio(),this.stopSyncPlayTime()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t;!0!==this.props.disableAnimation?void 0!==this.props.mediaState&&this.props.mediaState.playing===e.mediaState.playing&&this.props.mediaState.currentTime===e.mediaState.currentTime||(this.hasControl(e.mediaSlideActionUserIds,e.userId)||this.stopSyncPlayTime(),void 0===this.props.mediaState&&void 0!==e.mediaState?void 0===this.props.mediaState&&void 0!==e.mediaState&&(this.player.current&&(this.pauseAudio(),this.player.current.currentTime=e.mediaState.currentTime,!0===e.mediaState.playing?this.playAudio():this.pauseAudio()),this.setState(e.mediaState)):void 0!==this.props.mediaState&&void 0!==e.mediaState?this.player.current&&(this.props.mediaState.playing?Math.abs(e.mediaState.currentTime-this.player.current.currentTime)>1.5&&(this.player.current.currentTime=e.mediaState.currentTime,e.mediaState.playing&&(null===(t=this.props.rtcClient)||void 0===t||t.setAudioMixingPosition(Math.floor(1e3*this.player.current.currentTime)))):this.player.current.currentTime=e.mediaState.currentTime,this.state.playing&&!e.mediaState.playing?this.pauseAudio():!this.state.playing&&e.mediaState.playing&&this.playAudio(),this.setState({playing:e.mediaState.playing,currentTime:e.mediaState.currentTime})):(!1===this.props.play&&!0===e.play&&this.player.current&&(!0===e.stop?(this.pauseAudio(),this.setState({playing:!1})):(this.player.current.currentTime=e.startTime?this.props.startTimePerfix+e.startTime:this.props.startTimePerfix,this.playAudio(),this.setState({playing:!0}))),!1===this.props.stop&&!0===e.stop&&this.player.current&&(this.pauseAudio(),this.setState({playing:!1})))):this.player.current&&this.pauseAudio()},t.prototype.mixAudio=function(e,t){var n,r,i=this;this.state.playing?(null===(n=this.props.rtcClient)||void 0===n||n.setAudioMixingPosition(Math.floor(1e3*e)),t()):null===(r=this.props.rtcClient)||void 0===r||r.startAudioMixing(this.props.audioURL,!0,!1,1,(function(n,r){var o,a;714===n?(null===(o=i.props.logger)||void 0===o||o.error("rtc mixing error : "+r),console.error("rtc mixing error :",r)):(null===(a=i.props.rtcClient)||void 0===a||a.setAudioMixingPosition(Math.floor(1e3*e)),i.audioMixing=!0,t())}))},t.prototype.playAudio=function(){this.player.current&&(void 0!==this.props.rtcClient?this.mixAudio(this.player.current.currentTime,this.playLocalAudio.bind(this)):this.playLocalAudio())},t.prototype.playLocalAudio=function(){var e=this,t=this.player.current.play();void 0!==t&&t.then((function(){})).catch((function(t){e.props.logger?e.props.logger.error("play audio exception: "+t):console.error(t),e.props.onMediaPlayError&&e.props.onMediaPlayError(e.props.shapeId,"audio",t)}))},t.prototype.stopMixAudio=function(e){var t=this;this.props.rtcClient.stopAudioMixing((function(n,r){var i;714===n?(null===(i=t.props.logger)||void 0===i||i.error("rtc mixing error : "+r),console.error(" stop audio mixing error :",r)):(t.audioMixing=!1,e())}))},t.prototype.pauseAudio=function(){var e=this;this.player.current&&(void 0!==this.props.rtcClient?this.stopMixAudio((function(){return e.player.current.pause()})):this.player.current.pause())},t.prototype.syncPlayTimeLoop=function(e){var t=this;this.props.onMediaChange&&(this.syncPlayTime(e),this.videoIntervalId=window.setInterval((function(){t.syncPlayTime()}),1e3))},t.prototype.syncPlayTime=function(e){if(this.player.current){var t=e||this.state.currentTime,n=t;this.player.current&&t>=this.player.current.duration&&(n=0),this.props.onMediaChange({playing:!0,currentTime:n},this.props.shapeId)}},t.prototype.stopSyncPlayTime=function(){this.videoIntervalId&&clearInterval(this.videoIntervalId)},t.prototype.onPlayClick=function(){this.stopSyncPlayTime(),this.syncPlayTimeLoop()},t.prototype.onPauseClick=function(){this.stopSyncPlayTime(),this.props.onMediaChange&&this.props.onMediaChange({playing:!1,currentTime:this.state.currentTime},this.props.shapeId)},t.prototype.onSeekClick=function(e){this.stopSyncPlayTime(),this.syncPlayTimeLoop(e)},t.prototype.onMediaPlay=function(){this.props.onMediaPlay&&this.props.onMediaPlay(this.props.shapeId,"audio",this.state.currentTime)},t.prototype.onMediaPause=function(){this.stopSyncPlayTime(),this.props.onMediaPause&&this.props.onMediaPause(this.props.shapeId,"audio",this.state.currentTime)},t.prototype.onMouseOver=function(e){if(!0!==this.state.displayController){var t=e.target.getBoundingClientRect(),n=t.x,r=t.y,i=t.height,o=this.props.slideRef.current.getBoundingClientRect(),a=o.x,s=o.y,c=o.width,u=o.height,l=getComputedStyle(this.controller.current),p=c/parseFloat(getComputedStyle(this.props.slideRef.current).width),d=0,h=0;null!==l&&null!==l.width&&(d=parseInt(l.width)*p),null!==l&&null!==l.height&&(h=parseInt(l.height)*p),this.setState({displayController:!0,controllerPositionTop:(r+i-h<s?0:r+i>s+u?u-h:r+i-s-h)/p,controllerPositionLeft:(n<a?0:a+c<n+d?c-d:n-a)/p})}},t.prototype.onMediaCanPlay=function(){!0!==this.props.disableAnimation?this.props.mediaState&&this.props.mediaState.playing&&(this.props.rtcClient&&!this.audioMixing||!0===this.player.current.paused&&(this.player.current.currentTime=this.props.mediaState.currentTime,this.playAudio())):this.pauseAudio()},t.prototype.hasControl=function(e,t){return!(!e||void 0===t)&&e[this.props.shapeId]===t},t.prototype.render=function(){var e=this;return o.createElement("div",{style:{position:"relative"},onMouseLeave:function(){return e.setState({displayController:!1})}},o.createElement("img",{className:"ppt-event-source",src:this.props.resourceLoader.replaceProtocolByresourceScheme("https://convertcdn.netless.link/publicFiles/icon/audio.png"),style:{width:a.toPt(this.props.width),height:a.toPt(this.props.height)},onMouseOver:this.onMouseOver.bind(this),alt:""}),o.createElement("audio",{src:this.props.audioURL,ref:this.player,muted:!!this.props.rtcClient,onPlay:this.onMediaPlay.bind(this),onPause:this.onMediaPause.bind(this),onLoadedMetadata:function(){return e.setState({duration:e.player.current.duration})},onTimeUpdate:function(){return e.setState({currentTime:e.player.current.currentTime})},onLoadedMetadataCapture:function(){"ios"===window.__platform&&e.onMediaCanPlay()},onCanPlay:function(){"ios"!==window.__platform&&e.onMediaCanPlay()},onError:function(t){if(e.props.logger){var n="";null!==t.target.error&&(n=t.target.error.message),e.props.logger.error("load meidia : "+e.props.audioURL+" error, details: "+n)}}}),o.createElement(s.MediaController,{controllerRef:this.controller,style:{position:"absolute",top:this.state.controllerPositionTop,left:this.state.controllerPositionLeft,zIndex:1},resourceLoader:this.props.resourceLoader,mediaRef:this.player,display:this.state.displayController,playing:this.state.playing,duration:this.state.duration,currentTime:this.state.currentTime,onPlayClick:this.onPlayClick.bind(this),onPauseClick:this.onPauseClick.bind(this),onSeekClick:this.onSeekClick.bind(this)}))},t}(o.Component);t.Audio=c},function(e,t){e.exports=n(14)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(1),u=n(2),l=n(87),p=n(17),d=n(14),h=function(e){function t(t){var n=e.call(this,t)||this;return n.spId="",n.spId=t.imageXML.extraAttr.getString("spId"),n.state={imageURL:""},n}return i(t,e),t.prototype.identification=function(){return this.props.slideIndex+"-"+this.spId+"-"},t.prototype.UNSAFE_componentWillMount=function(){return o(this,void 0,void 0,(function(){var e,t,n;return a(this,(function(r){switch(r.label){case 0:return t=p.ResourcePreLoader.buildCacheKey((e=this.props).uuid,e.slideIndex,e.resourceType,e.resId),!0!==this.props.preload?[3,2]:[4,d.get(t)];case 1:return void 0!==(n=r.sent())?this.setState({imageURL:URL.createObjectURL(this.arrayBufferToBlob(n))}):console.warn(t+" can't cached"),[3,3];case 2:this.setState({imageURL:this.props.imageURL}),r.label=3;case 3:return[2]}}))}))},t.prototype.arrayBufferToBlob=function(e){return new Blob([e])},t.prototype.onError=function(e){},t.prototype.render=function(){var e=this.props.imageXML.childElementOptional("p:blipFill","a:stretch","a:fillRect"),t=(e?e.attr.getNumber("l",0)/c.STPercentage100:0)*this.props.width,n=(e?e.attr.getNumber("b",0)/c.STPercentage100:0)*this.props.height,r=(e?e.attr.getNumber("r",0)/c.STPercentage100:0)*this.props.width,i=(e?e.attr.getNumber("t",0)/c.STPercentage100:0)*this.props.height;return void 0===this.props.imageXML.childElementOptional("p:spPr",new u.TagOrExpr("a:prstGeom","a:custGeom"))?s.createElement("img",{src:this.state.imageURL,style:{width:c.toPt(this.props.width),height:c.toPt(this.props.height)},onError:this.onError.bind(this),alt:""}):s.createElement(l.LumiaClipping,{slideIndex:this.props.slideIndex,borderStyle:this.props.borderStyle,width:this.props.width-this.props.margin.left-this.props.margin.right,height:this.props.height-this.props.margin.top-this.props.margin.bottom,shapeXML:this.props.imageXML,spId:this.spId},s.createElement("image",{preserveAspectRatio:"none",xlinkHref:this.state.imageURL,href:this.state.imageURL,x:c.toPt(-this.props.margin.left+t),y:c.toPt(-this.props.margin.top+i),width:c.toPt(this.props.width-t-r),height:c.toPt(this.props.height-i-n),clipPath:"url(#clippath-"+this.identification()+")",onError:this.onError.bind(this)}))},t}(s.Component);t.Image=h},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(13),s=n(1),c=n(3),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.identification=function(){return this.props.slideIndex+"-"+this.props.spId+"-"},t.prototype.render=function(){var e,t=this,n=this.props.shapeXML.childElementOptional("p:spPr","a:prstGeom"),r=this.props.shapeXML.childElementOptional("p:spPr","a:custGeom"),i=new a.LumiaContext({w:this.props.width,h:this.props.height}),u="";if(n){var l=n.attr.getString("prst");this.injectAdjustValue(n,i),e=a.getPresetShapeDefinition(l)}else{if(!r)return console.error("Lumia can not render this clipping",this.props.shapeXML.displayer()),null;console.debug("Lumia custom shape is render "),e=r,u="a:"}var p=(new a.LumiaFactory).renderLumiaPath(e,i,u).map((function(e,n){return o.createElement("path",{key:"path"+n,d:e,fill:c.ensureColor(t.props.fillColor),height:s.toPt(t.props.height),width:s.toPt(t.props.width),stroke:c.ensureColor(t.props.borderStyle.color),strokeWidth:s.toPt(t.props.borderStyle.width),strokeDasharray:t.props.borderStyle.strokeDashArray})}));return o.createElement("svg",{style:{position:"absolute",width:s.toPt(this.props.width),height:s.toPt(this.props.height),overflow:"visible"}},o.createElement("defs",null,o.createElement("clipPath",{id:"clippath-"+this.identification()},p)),this.props.children,p)},t.prototype.injectAdjustValue=function(e,t){var n=e.childElementOptional("a:avLst");n&&n.elementsWithName("a:gd").forEach((function(e){var n=e.attr.getString("fmla"),r=new a.FormulaEval(n).eval(t),i=e.attr.getString("name");t.setVariable(i,r)}))},t}(o.Component);t.LumiaClipping=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(1),o=n(17),a=function(){function e(e){this.foundStartPostion=!1,this.variablesMap=e,this.injectConstant()}return e.prototype.injectConstant=function(){this.setVariable("3cd4",162e5),this.setVariable("3cd8",81e5),this.setVariable("5cd8",135e5),this.setVariable("7cd8",189e5),this.setVariable("b",new r.FormulaEval("val h").eval(this)),this.setVariable("cd2",108e5),this.setVariable("cd4",54e5),this.setVariable("cd8",27e5),this.setVariable("hc",new r.FormulaEval("*/ w 1.0 2.0").eval(this)),this.setVariable("hd2",new r.FormulaEval("*/ h 1.0 2.0").eval(this)),this.setVariable("hd3",new r.FormulaEval("*/ h 1.0 3.0").eval(this)),this.setVariable("hd4",new r.FormulaEval("*/ h 1.0 4.0").eval(this)),this.setVariable("hd5",new r.FormulaEval("*/ h 1.0 5.0").eval(this)),this.setVariable("hd6",new r.FormulaEval("*/ h 1.0 6.0").eval(this)),this.setVariable("hd8",new r.FormulaEval("*/ h 1.0 8.0").eval(this)),this.setVariable("l",0),this.setVariable("ls",new r.FormulaEval("max w h").eval(this)),this.setVariable("r",new r.FormulaEval("val w").eval(this)),this.setVariable("ss",new r.FormulaEval("min w h").eval(this)),this.setVariable("ssd2",new r.FormulaEval("*/ ss 1.0 2.0").eval(this)),this.setVariable("ssd4",new r.FormulaEval("*/ ss 1.0 4.0").eval(this)),this.setVariable("ssd6",new r.FormulaEval("*/ ss 1.0 6.0").eval(this)),this.setVariable("ssd8",new r.FormulaEval("*/ ss 1.0 8.0").eval(this)),this.setVariable("ssd16",new r.FormulaEval("*/ ss 1.0 16.0").eval(this)),this.setVariable("ssd32",new r.FormulaEval("*/ ss 1.0 32.0").eval(this)),this.setVariable("t",0),this.setVariable("vc",new r.FormulaEval("*/ h 1.0 2.0").eval(this)),this.setVariable("wd2",new r.FormulaEval("*/ w 1.0 2.0").eval(this)),this.setVariable("wd3",new r.FormulaEval("*/ w 1.0 3.0").eval(this)),this.setVariable("wd4",new r.FormulaEval("*/ w 1.0 4.0").eval(this)),this.setVariable("wd5",new r.FormulaEval("*/ w 1.0 5.0").eval(this)),this.setVariable("wd6",new r.FormulaEval("*/ w 1.0 6.0").eval(this)),this.setVariable("wd8",new r.FormulaEval("*/ w 1.0 8.0").eval(this)),this.setVariable("wd10",new r.FormulaEval("*/ w 1.0 10.0").eval(this)),this.setVariable("wd12",new r.FormulaEval("*/ w 1.0 12.0").eval(this)),this.setVariable("wd32",new r.FormulaEval("*/ w 1.0 32.0").eval(this))},e.prototype.getVariable=function(e,t){return void 0!==this.variablesMap[e]?this.variablesMap[e]:t},e.prototype.getRequiredVariable=function(e){if(void 0!==this.variablesMap[e])return this.variablesMap[e];throw new Error(e+" is required")},e.prototype.setVariable=function(e,t){this.variablesMap[e]=t},e.prototype.setVariableIfNotExist=function(e,t){void 0===this.variablesMap[e]&&(this.variablesMap[e]=t)},e.prototype.isNumeric=function(e){return/^-{0,1}\d+$/.test(e)},e.prototype.accessValue=function(e){return this.isNumeric(e)?parseInt(e):this.getRequiredVariable(e)},e.prototype.setLatestPostion=function(e,t){this.latestPostionX=e,this.latestPostionY=t,this.foundStartPostion||(this.startPostionX=e,this.startPostionY=t,this.foundStartPostion=!0)},e.prototype.getLatestPostion=function(){return{x:this.latestPostionX,y:this.latestPostionY}},e.prototype.getStartPostion=function(){return{x:this.startPostionX,y:this.startPostionY}},e.prototype.inspect=function(){console.debug(JSON.stringify(this.variablesMap))},e}();t.LumiaContext=a;var s=function(){function e(){}return e.prototype.renderLumiaPath=function(e,t,n){var i=this;void 0===n&&(n="");var o=e.childElementOptional(n+"avLst");o&&o.elementsWithName(n+"gd").forEach((function(e){var n=e.attr.getString("fmla"),i=new r.FormulaEval(n).eval(t),o=e.attr.getString("name");t.setVariableIfNotExist(o,i)}));var a=e.childElementOptional(n+"gdLst");a&&a.elementsWithName(n+"gd").forEach((function(e){var n=e.attr.getString("fmla"),i=new r.FormulaEval(n).eval(t),o=e.attr.getString("name");t.setVariable(o,i)})),e.childElementOptional(n+"ahLst"),e.childElementOptional(n+"cxnLst");var s=e.childElementOptional(n+"rect");s?(t.setVariable("rectLeft",t.accessValue(s.attr.getString("l"))),t.setVariable("rectTop",t.accessValue(s.attr.getString("t"))),t.setVariable("rectRight",t.accessValue(s.attr.getString("r"))),t.setVariable("rectBottom",t.accessValue(s.attr.getString("b")))):(t.setVariable("rectLeft",t.accessValue("l")),t.setVariable("rectTop",t.accessValue("t")),t.setVariable("rectRight",t.accessValue("r")),t.setVariable("rectBottom",t.accessValue("b")));var u=e.childElement(n+"pathLst").elementsWithName(n+"path"),l=[];return u.forEach((function(e){if(!1!==e.attr.getBooleanOptional("stroke")){var r=i.calcPathScale(e,t),o=r.pathWidthScale,a=r.pathHeightScale,s=e.elements.map((function(e){return new c(e,n,o,a).generate(t)}));l.push(s.join(" "))}})),l},e.prototype.calcPathScale=function(e,t){var n=e.attr.getNumberOptional("w"),r=e.attr.getNumberOptional("h"),i=1,o=1;return n&&(i=t.accessValue("w")/n),r&&(o=t.accessValue("h")/r),{pathWidthScale:i,pathHeightScale:o}},e}();t.LumiaFactory=s;var c=function(){function e(e,t,n,r){this.actionXML=e,this.namespace=t,this.pathWidthScale=n,this.pathHeightScale=r}return e.prototype.xUnitTransformAndPathScale=function(e){return e*this.pathWidthScale/i.EmuToPx},e.prototype.yUnitTransformAndPathScale=function(e){return e*this.pathHeightScale/i.EmuToPx},e.prototype.generate=function(e){var t=this,n=this.actionXML.elementsWithName(this.namespace+"pt").map((function(e){return{x:e.attr.getString("x"),y:e.attr.getString("y")}})).map((function(n){return{x:t.getPtValue(n,e,"x"),y:t.getPtValue(n,e,"y")}})),r=n.length>0?n[0].x:0,o=n.length>0?n[0].y:0,a=n.length>1?n[1].x:0,s=n.length>1?n[1].y:0,c=n.length>2?n[2].x:0,u=n.length>2?n[2].y:0;switch(this.actionXML.name){case this.namespace+"moveTo":return e.setLatestPostion(r,o),["M",this.xUnitTransformAndPathScale(r),this.yUnitTransformAndPathScale(o)].join(" ");case this.namespace+"lnTo":return e.setLatestPostion(r,o),["L",this.xUnitTransformAndPathScale(r),this.yUnitTransformAndPathScale(o)].join(" ");case this.namespace+"arcTo":var l=e.accessValue(this.actionXML.attr.getString("wR")),p=e.accessValue(this.actionXML.attr.getString("hR")),d=e.accessValue(this.actionXML.attr.getString("stAng"))/i.Degree,h=e.accessValue(this.actionXML.attr.getString("swAng"))/i.Degree,f=e.getLatestPostion(),m=this.getSvgArc(l,p,d,h,f.x,f.y);return h>=360?(e.setLatestPostion(m.endX,m.endY),["A",this.xUnitTransformAndPathScale(m.radiusX),this.yUnitTransformAndPathScale(m.radiusY),m.xAxisRotation,m.largeArcFlag,m.sweepFlag,this.xUnitTransformAndPathScale(m.endX)+2*this.xUnitTransformAndPathScale(m.radiusX),this.yUnitTransformAndPathScale(m.endY),"A",this.xUnitTransformAndPathScale(m.radiusX),this.yUnitTransformAndPathScale(m.radiusY),m.xAxisRotation,m.largeArcFlag,m.sweepFlag,this.xUnitTransformAndPathScale(m.endX),this.yUnitTransformAndPathScale(m.endY)].join(" ")):(e.setLatestPostion(m.endX,m.endY),["A",this.xUnitTransformAndPathScale(m.radiusX),this.yUnitTransformAndPathScale(m.radiusY),m.xAxisRotation,m.largeArcFlag,m.sweepFlag,this.xUnitTransformAndPathScale(m.endX),this.yUnitTransformAndPathScale(m.endY)].join(" "));case this.namespace+"cubicBezTo":return e.setLatestPostion(c,u),["C",this.xUnitTransformAndPathScale(r),this.yUnitTransformAndPathScale(o),this.xUnitTransformAndPathScale(a),this.yUnitTransformAndPathScale(s),this.xUnitTransformAndPathScale(c),this.yUnitTransformAndPathScale(u)].join(" ");case this.namespace+"quadBezTo":return e.setLatestPostion(n[1].x,n[1].y),["Q",this.xUnitTransformAndPathScale(r),this.yUnitTransformAndPathScale(o),this.xUnitTransformAndPathScale(a),this.yUnitTransformAndPathScale(s)].join(" ");case this.namespace+"close":return e.setLatestPostion(e.getStartPostion().x,e.getStartPostion().y),"Z";default:throw new Error("unknow "+this.actionXML.name)}},e.prototype.getPtValue=function(e,t,n){return t.accessValue(e[n])},e.prototype.getSvgArc=function(e,t,n,r,i,o){var a,s,c,u=e,l=t;if(0===r)a=i,s=o,c=0;else if(360===r)a=i,s=o,c=1;else{var p=-(n+r),d=this.getCoordinateOnEllipse(-n,u,l),h=i-d.x,f=o+d.y,m=this.getCoordinateOnEllipse(p,u,l);a=m.x+h,s=f-m.y,c=r>=-360&&r<-180?1:r>=-180&&r<0||r>0&&r<180?0:1}return{radiusX:u,radiusY:l,xAxisRotation:0,largeArcFlag:c,sweepFlag:r>0?1:0,endX:a,endY:s}},e.prototype.getCoordinateOnEllipse=function(e,t,n){var r,i,o=e%360;if(o%180==0)r=Math.cos(o*(Math.PI/180))*t,i=0;else if(o%90==0)r=0,i=Math.sin(o*(Math.PI/180))*n;else{var a=this.getTanDeg(o);r=t*n/Math.sqrt(Math.pow(n,2)+Math.pow(t*a,2)),(o>90&&o<270||o<-90&&o>-270)&&(r=-r),i=a*r}return{x:r,y:i}},e.prototype.getTanDeg=function(e){var t=e*Math.PI/180;return Math.tan(t)},e}();t.getPresetShapeDefinition=function(e){return o.ResourcePreLoader.presetShapeDefinitons.childElementOptional(e)||(console.warn(e+" not include preset shape."),o.ResourcePreLoader.presetShapeDefinitons.childElement("rect"))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(13),s=n(19),c=n(90),u=n(3),l=function(e){function t(t){var n=e.call(this,t)||this;return n.spId=t.spId,n.graphType="p:sp"===t.shapeXML.name?"shape":"connection",n.prestGeomXML=n.props.shapeXML.extraElementWithName("a:prstGeom"),n.custGeomXML=n.props.shapeXML.extraElementWithName("a:custGeom"),n}return i(t,e),t.prototype.identification=function(){return this.props.slideIndex+"-"+this.props.spId+"-"},t.prototype.render=function(){var e,t=this,n=new a.LumiaContext({w:this.props.width,h:this.props.height}),r="";if(this.prestGeomXML){var i=this.prestGeomXML.attr.getString("prst");this.injectAdjustValue(this.prestGeomXML,n),e=a.getPresetShapeDefinition(i)}else{if(!this.custGeomXML)return console.error("Lumia can not render this shape",this.props.shapeXML.displayer()),null;e=this.custGeomXML,r="a:"}var l,p=c.ArrowStyle.none,d=c.ArrowStyle.none,h=this.props.shapeXML.childElementOptional("p:spPr","a:ln","a:headEnd"),f=this.props.shapeXML.childElementOptional("p:spPr","a:ln","a:tailEnd");if(h){var m=h.attr.getString("type","none");p=c.fromString(m)}f&&(m=f.attr.getString("type","none"),d=c.fromString(m));var g=[],y=0,v=void 0,b=void 0;this.props.fillColor instanceof u.GradientColor?(g=this.props.fillColor.getColors(),y=this.props.fillColor.getRotation(),v=this.props.fillColor.getGradientPath(),l="url(#"+this.identification()+"-gradient-fill)"):this.props.fillColor instanceof u.ImageFill?b=this.props.fillColor.getResId():l=u.ensureColor(this.props.fillColor instanceof u.GroupFill?this.props.groupFillColor:this.props.fillColor);var A=null;g.length>0&&(A=o.createElement(v?"radialGradient":"linearGradient",{id:this.identification()+"-gradient-fill",gradientTransform:"rotate("+y+")"},g.map((function(e,t){return o.createElement("stop",{key:"index-"+e.stop,offset:e.stop,stopColor:u.ensureColor(e.color)})}))));var x=(new a.LumiaFactory).renderLumiaPath(e,n,r).map((function(e,n){return o.createElement("path",{key:"path"+n,d:e,fill:void 0!==b?"none":l,height:s.toPt(t.props.height),width:s.toPt(t.props.width),stroke:u.ensureColor(t.props.borderStyle.color),strokeWidth:s.toPt(t.props.borderStyle.width),strokeDasharray:t.props.borderStyle.strokeDashArray,markerStart:"url(#"+t.identification()+"-"+c.ArrowStyle[p]+"-start)",markerEnd:"url(#"+t.identification()+"-"+c.ArrowStyle[d]+"-end)"})})),w=n.accessValue("rectLeft"),_=n.accessValue("rectTop"),S=n.accessValue("rectRight")-n.accessValue("rectLeft"),T=n.accessValue("rectBottom")-n.accessValue("rectTop"),P=o.Children.map(this.props.children,(function(e){return o.cloneElement(e,{left:w,right:_,width:S,height:T})}));return o.createElement(o.Fragment,null,P,this.renderSVG(x,A,b))},t.prototype.renderSVG=function(e,t,n){var r=null,i=null;if(n){var a=this.props.fillColor.getAlphaModFix();r=o.createElement("clipPath",{id:"clippath-"+this.identification()},e);var c=this.props.resourceLoader.loadURL(this.props.resourceType,n);i=o.createElement("image",{xlinkHref:c,href:c,width:s.toPt(this.props.width),height:s.toPt(this.props.height),opacity:a,clipPath:"url(#clippath-"+this.identification()+")",preserveAspectRatio:"none"})}var l,p,d="connection"===this.graphType&&this.props.borderStyle.color||"shape"===this.graphType;return l=s.toNumber(this.props.height)/s.EmuToPx<1?"1px":s.toPt(this.props.height),p=s.toNumber(this.props.width)/s.EmuToPx<1?"1px":s.toPt(this.props.width),d?o.createElement("svg",{style:{position:"absolute",width:p,height:l,overflow:"visible"}},o.createElement("defs",null,r,t,o.createElement("marker",{id:this.identification()+"-arrow-end",viewBox:"0 0 10 10",refX:"10",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",stroke:u.ensureColor(this.props.borderStyle.color),orient:"auto"},o.createElement("path",{d:"M 5 2.5 L 10 5 L 5 7.5 ",fill:"none"})),o.createElement("marker",{id:this.identification()+"-arrow-start",viewBox:"0 0 10 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",stroke:u.ensureColor(this.props.borderStyle.color),orient:"auto"},o.createElement("path",{d:"M 5 2.5 L 0 5 L 5 7.5 ",fill:"none"})),o.createElement("marker",{id:this.identification()+"-triangle-end",viewBox:"0 0 10 10",refX:"10",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto"},o.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:u.ensureColor(this.props.borderStyle.color)})),o.createElement("marker",{id:this.identification()+"-triangle-start",viewBox:"0 0 10 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto"},o.createElement("path",{d:"M 10 0 L 0 5 L 10 10 z",fill:u.ensureColor(this.props.borderStyle.color)})),o.createElement("marker",{id:this.identification()+"-stealth-end",viewBox:"0 0 10 10",refX:"10",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto"},o.createElement("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:u.ensureColor(this.props.borderStyle.color)})),o.createElement("marker",{id:this.identification()+"-stealth-start",viewBox:"0 0 10 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto"},o.createElement("path",{d:"M 10 0 L 0 5 L 10 10 z",fill:u.ensureColor(this.props.borderStyle.color)})),o.createElement("marker",{id:this.identification()+"-diamond-end",viewBox:"0 0 10 10",refX:"10",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto"},o.createElement("path",{d:"M 5 0 L 10 5 L 5 10 L 0 5 z",fill:u.ensureColor(this.props.borderStyle.color)})),o.createElement("marker",{id:this.identification()+"-diamond-start",viewBox:"0 0 10 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto"},o.createElement("path",{d:"M 5 0 L 10 5 L 5 10 L 0 5 z",fill:u.ensureColor(this.props.borderStyle.color)})),o.createElement("marker",{id:this.identification()+"-oval-end",viewBox:"0 0 10 10",refX:"10",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto"},o.createElement("ellipse",{cx:"5",cy:"5",rx:"5",ry:"5",fill:u.ensureColor(this.props.borderStyle.color)})),o.createElement("marker",{id:this.identification()+"-oval-start",viewBox:"0 0 10 10",refX:"0",refY:"5",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10",orient:"auto"},o.createElement("ellipse",{cx:"5",cy:"5",rx:"5",ry:"5",fill:u.ensureColor(this.props.borderStyle.color)})),o.createElement("marker",{id:this.identification()+"-none"})),i,e):null},t.prototype.injectAdjustValue=function(e,t){var n=e.childElementOptional("a:avLst");n&&n.elementsWithName("a:gd").forEach((function(e){var n=e.attr.getString("fmla"),r=new a.FormulaEval(n).eval(t),i=e.attr.getString("name");t.setVariable(i,r)}))},t}(o.Component);t.Lumia=l},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.none=0]="none",e[e.triangle=1]="triangle",e[e.stealth=2]="stealth",e[e.diamond=3]="diamond",e[e.oval=4]="oval",e[e.arrow=5]="arrow"}(r=t.ArrowStyle||(t.ArrowStyle={})),t.fromString=function(e){switch(e){case"none":return r.none;case"triangle":return r.triangle;case"stealth":return r.stealth;case"diamond":return r.diamond;case"oval":return r.oval;case"arrow":return r.arrow;default:return r.none}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(1),s=n(30),c=function(e){function t(t){var n=e.call(this,t)||this;return n.videoIntervalId=void 0,n.player=o.createRef(),n.controller=o.createRef(),n.state=t.mediaState?{displayController:!1,playing:t.mediaState.playing,currentTime:t.mediaState.currentTime,volume:1,duration:0,controllerPositionTop:0,controllerPositionLeft:0}:{displayController:!1,playing:!1,currentTime:0,volume:1,duration:0,controllerPositionTop:0,controllerPositionLeft:0},n.props.mediaState&&n.props.mediaState.playing&&n.hasControl(n.props.mediaSlideActionUserIds,n.props.userId)&&n.syncPlayTimeLoop(),n}return i(t,e),t.prototype.componentWillUnmount=function(){this.pauseVideo(),this.stopSyncPlayTime()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t;!0!==this.props.disableAnimation?void 0!==this.props.mediaState&&this.props.mediaState.playing===e.mediaState.playing&&this.props.mediaState.currentTime===e.mediaState.currentTime||(void 0===this.props.mediaState&&void 0!==e.mediaState?(this.hasControl(e.mediaSlideActionUserIds,e.userId)||this.stopSyncPlayTime(),void 0===this.props.mediaState&&void 0!==e.mediaState&&(this.player.current&&(this.pauseVideo(),this.player.current.currentTime=e.mediaState.currentTime,!0===e.mediaState.playing?this.playVideo():this.pauseVideo()),this.setState(e.mediaState))):void 0!==this.props.mediaState&&void 0!==e.mediaState?(this.hasControl(e.mediaSlideActionUserIds,e.userId)||this.stopSyncPlayTime(),this.player.current&&(this.props.mediaState.playing?Math.abs(e.mediaState.currentTime-this.player.current.currentTime)>1.5&&(this.player.current.currentTime=e.mediaState.currentTime,e.mediaState.playing&&(null===(t=this.props.rtcClient)||void 0===t||t.setAudioMixingPosition(Math.floor(1e3*this.player.current.currentTime)))):this.player.current.currentTime=e.mediaState.currentTime,this.state.playing&&!e.mediaState.playing?this.pauseVideo():!this.state.playing&&e.mediaState.playing&&this.playVideo(),this.setState({playing:e.mediaState.playing,currentTime:e.mediaState.currentTime}))):(!1===this.props.play&&!0===e.play&&this.player.current&&(!0===e.stop?(this.pauseVideo(),this.setState({playing:!1})):(this.player.current.currentTime=e.startTime?this.props.startTimePerfix+e.startTime:this.props.startTimePerfix,this.playVideo(),this.setState({playing:!0}))),!1===this.props.stop&&!0===e.stop&&this.player.current&&(this.pauseVideo(),this.setState({playing:!1})))):this.player.current&&this.pauseVideo()},t.prototype.mixAudio=function(e,t){var n,r,i=this;this.state.playing?(null===(n=this.props.rtcClient)||void 0===n||n.setAudioMixingPosition(Math.floor(1e3*e)),t()):null===(r=this.props.rtcClient)||void 0===r||r.startAudioMixing(this.props.videoURL,!0,!1,1,(function(n,r){var o,a;714===n?(null===(o=i.props.logger)||void 0===o||o.error("rtc mixing error : "+r),console.error("rtc mixing error :",r)):(null===(a=i.props.rtcClient)||void 0===a||a.setAudioMixingPosition(Math.floor(1e3*e)),i.audioMixing=!0,t())}))},t.prototype.playVideo=function(){this.player.current&&(void 0!==this.props.rtcClient?this.mixAudio(this.player.current.currentTime,this.playLocalVideo.bind(this)):this.playLocalVideo())},t.prototype.playLocalVideo=function(){var e=this,t=this.player.current.play();void 0!==t&&t.then((function(){})).catch((function(t){e.props.logger?e.props.logger.error("play video exception: "+t):console.error(t),e.props.onMediaPlayError&&e.props.onMediaPlayError(e.props.shapeId,"video",t)}))},t.prototype.stopMixAudio=function(e){var t=this;this.props.rtcClient.stopAudioMixing((function(n,r){var i;714===n?(null===(i=t.props.logger)||void 0===i||i.error("rtc mixing error : "+r),console.error(" stop audio mixing error :",r)):(t.audioMixing=!1,e())}))},t.prototype.pauseVideo=function(){var e=this;this.player.current&&(void 0!==this.props.rtcClient?this.stopMixAudio((function(){return e.player.current.pause()})):this.player.current.pause())},t.prototype.onPlayClick=function(){this.stopSyncPlayTime(),this.syncPlayTimeLoop()},t.prototype.syncPlayTimeLoop=function(e){var t=this;this.props.onMediaChange&&(this.syncPlayTime(e),this.videoIntervalId=window.setInterval((function(){t.syncPlayTime()}),1e3))},t.prototype.syncPlayTime=function(e){if(this.player.current){var t=e||this.state.currentTime,n=t;this.player.current&&t>=this.player.current.duration&&(n=0),this.props.onMediaChange({playing:!0,currentTime:n},this.props.shapeId)}},t.prototype.stopSyncPlayTime=function(){this.videoIntervalId&&clearInterval(this.videoIntervalId)},t.prototype.onPauseClick=function(){this.stopSyncPlayTime(),this.props.onMediaChange&&this.props.onMediaChange({playing:!1,currentTime:this.state.currentTime},this.props.shapeId)},t.prototype.onSeekClick=function(e){this.stopSyncPlayTime(),this.syncPlayTimeLoop(e)},t.prototype.onMediaPlay=function(){this.props.onMediaPlay&&this.props.onMediaPlay(this.props.shapeId,"video",this.state.currentTime)},t.prototype.onMediaPause=function(){this.stopSyncPlayTime(),this.props.onMediaPause&&this.props.onMediaPause(this.props.shapeId,"video",this.state.currentTime)},t.prototype.onMouseOver=function(e){if(!0!==this.state.displayController){var t=e.target.getBoundingClientRect(),n=t.x,r=t.y,i=t.height,o=this.props.slideRef.current.getBoundingClientRect(),a=o.x,s=o.y,c=o.width,u=o.height,l=getComputedStyle(this.controller.current),p=c/parseFloat(getComputedStyle(this.props.slideRef.current).width),d=0,h=0;null!==l&&null!==l.width&&(d=parseInt(l.width)*p),null!==l&&null!==l.height&&(h=parseInt(l.height)*p),this.setState({displayController:!0,controllerPositionTop:(r+i-h<s?0:r+i>s+u?u-h:r+i-s-h)/p,controllerPositionLeft:(n<a?0:a+c<n+d?c-d:n-a)/p})}},t.prototype.onMediaCanPlay=function(){!0!==this.props.disableAnimation?this.props.mediaState&&this.props.mediaState.playing&&(this.props.rtcClient&&!this.audioMixing||!0===this.player.current.paused&&(this.player.current.currentTime=this.props.mediaState.currentTime,this.playVideo())):this.pauseVideo()},t.prototype.hasControl=function(e,t){return!(!e||void 0===t)&&e[this.props.shapeId]===t},t.prototype.render=function(){var e=this,t=this.props.videoURL+"?x-oss-process=video/snapshot,t_10000,m_fast,w_800,f_png,ar_auto";return o.createElement("div",{className:"ppt-event-source",style:{position:"relative",width:a.toPt(this.props.width),height:a.toPt(this.props.height)},onMouseLeave:function(){return e.setState({displayController:!1})}},o.createElement("img",{src:t,style:{position:"absolute",zIndex:0,top:0,left:0,width:a.toPt(this.props.width),height:a.toPt(this.props.height)}}),o.createElement("video",{className:"ppt-event-source","webkit-playsinline":"true",playsInline:!0,src:this.props.videoURL,ref:this.player,muted:!!this.props.rtcClient,style:{position:"absolute",zIndex:1,top:0,left:0,width:a.toPt(this.props.width),height:a.toPt(this.props.height),objectFit:"fill"},poster:t,onPlay:this.onMediaPlay.bind(this),onPause:this.onMediaPause.bind(this),onLoadedMetadata:function(){return e.setState({duration:e.player.current.duration})},onTimeUpdate:function(){return e.setState({currentTime:e.player.current.currentTime})},onLoadedMetadataCapture:function(){"ios"===window.__platform&&e.onMediaCanPlay()},onCanPlay:function(){"ios"!==window.__platform&&e.onMediaCanPlay()},onError:function(t){if(e.props.logger){var n="";null!==t.target.error&&(n=t.target.error.message),e.props.logger.error("load meidia : "+e.props.videoURL+" error, details: "+n)}},onMouseOver:this.onMouseOver.bind(this),preload:"auto"}),o.createElement(s.MediaController,{style:{position:"absolute",top:this.state.controllerPositionTop,left:this.state.controllerPositionLeft,zIndex:2,backfaceVisibility:"hidden"},resourceLoader:this.props.resourceLoader,controllerRef:this.controller,mediaRef:this.player,display:this.state.displayController,playing:this.state.playing,duration:this.state.duration,currentTime:this.state.currentTime,onPlayClick:this.onPlayClick.bind(this),onPauseClick:this.onPauseClick.bind(this),onSeekClick:this.onSeekClick.bind(this)}))},t}(o.Component);t.Video=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.spTreeXML=e}return e.prototype.indexBySpId=function(){for(var e={},t=0,n=0,r=this.spTreeXML.elements;n<r.length;n++){var i=r[n].extraAttr.getStringOptional("spId");"string"==typeof i&&(e[i]=t,t++)}return e},e}();t.ZOrderIndexer=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(13),s=n(28),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.shapeXML.childElementOptional("p:txBody");return this.renderShape(this.props.shapeXML,e)},t.prototype.renderTextBody=function(e){return o.createElement(s.TxBody,{slideContext:this.props.slideContext,txBodyXML:e,shapeGroupTransform:this.props.shapeGroupTransform,width:this.props.width,height:this.props.height,resourceType:this.props.resourceType,flipH:this.props.flipH})},t.prototype.renderShape=function(e,t){var n,r;return this.props.shapeGroupTransform?(n=this.props.width*this.props.shapeGroupTransform.scaleX,r=this.props.height*this.props.shapeGroupTransform.scaleY):(n=this.props.width,r=this.props.height),o.createElement(a.Lumia,{fillColor:this.props.fillColor,groupFillColor:this.props.groupFillColor,spId:e.extraAttr.getString("spId"),borderStyle:this.props.borderStyle,width:n,height:r,slideIndex:this.props.slideIndex,resourceLoader:this.props.resourceLoader,resourceType:this.props.resourceType,shapeXML:e},t?this.renderTextBody(t):null)},t}(o.Component);t.Shape=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(95))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(32),a=n(33),s=n(96),c=n(97),u=n(99),l=n(11),p=n(1),d=n(20),h=n(17);t.loadPPT=function(e,t,n,a,s,c,u){var l;return void 0===n&&(n=!1),r(this,void 0,void 0,(function(){var r,p,d,m,g,y;return i(this,(function(i){switch(i.label){case 0:return c&&c.info("Start load ppt "+t+" resource."),e=e.replace(/\/$/i,""),r=void 0,u&&u.scheme&&(e=e.replace(/^[a-zA-z]+[^\:\/\/]/,r=u.scheme)),p=new h.ResourcePreLoader(r),[4,Promise.all([o.fetchJSON(e+"/info.json",c),o.fetchText(e+"/pptxml/ppt.xml",c),o.fetchText(e+"/table/tableStyles.xml",c)])];case 1:return d=i.sent(),m=d[0],g=d[1],y=d[2],n&&p.preLoad(t,e,m.totalPageSize,{preloadProgress:a,logger:c}),[4,p.loadLumiaPSD(n,c)];case 2:return i.sent(),[2,new f({uuid:t,url:e,width:m.width,height:m.height,slidesCount:m.totalPageSize,mainXMLContent:g,tableStylesXMLContent:y,userFonts:s,preload:n,logger:c,resourceScheme:r,rtcClient:null===(l=u)||void 0===l?void 0:l.rtcClient})]}}))}))};var f=function(){function e(e){this.url=e.url,this.uuid=e.uuid,this.width=e.width*p.EmuToPt,this.height=e.height*p.EmuToPt,this.slidesCount=e.slidesCount,this.userFonts=e.userFonts,this.preload=e.preload,this.logger=e.logger,this.resourceScheme=e.resourceScheme,this.mainXMLContent=e.mainXMLContent,this.tableStylesXMLContent=e.tableStylesXMLContent,this.rtcClient=e.rtcClient}return e.prototype.loadSlide=function(e){return r(this,void 0,void 0,(function(){var t,n,r,p,d,f,m,g,y,v,b,A,x,w,_,S,T,P,C,E,k,O,M,N,I,D,R;return i(this,(function(i){switch(i.label){case 0:if(t=u.createSlidePickers(),n=new a.XMLNodeRuntime("main",t).parse(this.mainXMLContent),r=new a.XMLNodeRuntime("main",t).parse(this.tableStylesXMLContent),e<0||e>=this.slidesCount)throw new Error("index should be in 0 ~ "+(this.slidesCount-1));return d=(p=e+1)===this.slidesCount,f=p+1,m=[o.fetchText(this.url+"/slide/slide"+p+".xml",this.logger),o.fetchText(this.url+"/slideRef/slideRef"+p+".xml",this.logger).catch((function(e){return console.log("error ",e),""})),o.fetchText(this.url+"/layout/layout"+p+".xml",this.logger),o.fetchText(this.url+"/master/master"+p+".xml",this.logger),o.fetchText(this.url+"/theme/theme"+p+".xml",this.logger),o.fetchJSON(this.url+"/resources/resource"+p+".json",this.logger)],d||m.push(o.fetchJSON(this.url+"/resources/resource"+(p+1)+".json",this.logger)),[4,Promise.all(m)];case 1:return g=i.sent(),y=g[0],v=g[1],b=g[2],A=g[3],x=g[4],w=g[5],_=g[6],!0!==this.preload?[3,3]:[4,(S=new h.ResourcePreLoader(this.resourceScheme)).preloadOnePage(this.uuid,p,w)];case 2:i.sent(),void 0!==_&&S.preloadOnePage(this.uuid,f,_),i.label=3;case 3:return T=new a.XMLNodeRuntime("layout",t).parse(b),P=s.createLayoutIndex(T.childElement("p:sldLayout","p:cSld","p:spTree")),C=new a.XMLNodeRuntime("master",t).parse(A),E=s.createLayoutIndex(C.childElement("p:sldMaster","p:cSld","p:spTree"),C.childElement("p:sldMaster","p:txStyles")),k=new a.XMLNodeRuntime("theme",t).parse(x),O=new c.ResourceLoader(w,this.resourceScheme),M=new a.XMLNodeRuntime("slide",t).parse(y),N=new a.XMLNodeRuntime("slideRef",t).parse(v),I={},void 0!==N.element&&N.element.elements.forEach((function(e){I[e.attr.getString("Id")]=e.attr.getStringOptional("Target")})),D={slide:M,layout:T,layoutIndex:P,master:C,masterIndex:E,masterThemeColorMapping:C.childElement("p:sldMaster","p:clrMap").attr.attributes,theme:k,main:n,tableStyles:r,userFonts:this.userFonts},t.context=Object.freeze(D),R=l.createSlideAnimations(M,Object.freeze({slideContext:D,slideWidth:this.width,slideHeight:this.height,shapeParamsIndex:this.getShapeIndexMap(M.childElement("p:sld","p:cSld","p:spTree"))})),[2,Object.freeze({uuid:this.uuid,url:this.url,index:e,width:this.width,height:this.height,masterXML:C,masterIndex:E,layoutXML:T,layoutIndex:P,mainXML:n,themeXML:k,slideXML:M,slideRefIndex:I,resourceLoader:O,animations:R,tableStylesXML:r,preload:this.preload,logger:this.logger,rtcClient:this.rtcClient})]}}))}))},e.prototype.getShapeIndexMap=function(e){var t={},n=e.extraAttr.getNumber("spId"),r=d.parsingShapeGroupXML(e);return this.getShapeGroupIndexMap(e,t,n,r.transform),t},e.prototype.getShapeGroupIndexMap=function(e,t,n,r){var i=this,o=e.elementsWithName("p:sp");this.getChildShapesIndexMap(o,t,n,r);var a=e.elementsWithName("p:cxnSp");this.getChildShapesIndexMap(a,t,n,r);var s=e.elementsWithName("p:pic");this.getChildShapesIndexMap(s,t,n,r);var c=e.elementsWithName("p:grpSp");c.length>0&&c.forEach((function(e){var o=e.extraAttr.getNumber("spId"),a=d.parsingShapeGroupXML(e,void 0,n,r);i.getShapeGroupIndexMap(e,t,o,a.transform),t[o]=a}))},e.prototype.getChildShapesIndexMap=function(e,t,n,r){e.forEach((function(e){var i=e.extraAttr.getNumber("spId"),o=d.parsingShapeXML(e,void 0,n,r);t[i]=o}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);function i(e){var t={},n=e.elementWithName("p:bodyStyle");n&&(t.body=n);var r=e.elementWithName("p:titleStyle");r&&(t.title=r,t.subTitle=r,t.ctrTitle=r);var i=e.elementWithName("p:otherStyle");return i&&(t.other=i),t}t.createLayoutIndex=function(e,t){for(var n={},o={},a={},s=0,c=e.elements;s<c.length;s++){var u=c[s],l=u.childElementOptional(new r.TagOrExpr("p:nvSpPr","p:nvCxnSpPr"));if(l){var p=l.childElement("p:cNvPr").attr.getStringOptional("id"),d=l.childElementOptional("p:nvPr","p:ph"),h=d&&d.attr.getStringOptional("idx"),f=d&&d.attr.getStringOptional("type");void 0!==p&&(n[p]=u),void 0!==h?o[h]=u:"title"!==f&&"ctrTitle"!==f||(o[0]=u),"title"===f||"ctrTitle"===f?(a.title=u,a.ctrTitle=u):void 0!==f&&(a[f]=u)}}return Object.freeze(t?{idIndex:Object.freeze(n),idxIndex:Object.freeze(o),typeIndex:Object.freeze(a),txStyle:Object.freeze(i(t))}:{idIndex:Object.freeze(n),idxIndex:Object.freeze(o),typeIndex:Object.freeze(a)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(98))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.resource=e,this.resourceScheme=t}return e.prototype.loadURL=function(e,t){var n=this.resource[e]&&this.resource[e][t];return void 0===n?n:n=this.replaceProtocolByresourceScheme(n)},e.prototype.replaceProtocolByresourceScheme=function(e){return this.resourceScheme&&(e=e.replace(/^[a-zA-z]+[^\:\/\/]/,this.resourceScheme)),e},e}();t.ResourceLoader=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100),i=n(101),o=n(102),a=n(34),s=n(103),c=n(104);e=new a.PickersModule,r.bindTextPickers(e),i.bindShapeCommonPickers(e),o.bindShapeLayoutPickers(e),s.bindTablePickers(e),c.bindBackgroundPickers(e),t.createSlidePickers=function(){return e.createPickers()}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(6),a=n(1),s=n(21),c=n(18),u=n(3);t.bindTextPickers=function(e){e.bindAttributePicker("a:p","*",p),e.bindAttributePicker("a:p","indent",d(-342900,0)),e.bindAttributePicker("a:p","marL",d(342900,0)),e.bindAttributePicker("a:p","level",h),e.bindAttributePicker("a:bodyPr","*",l),e.bindAttributePicker(["a:r","a:br","a:endParaRPr","a:fld"],"*",m),e.bindAttributePicker(["a:r","a:br","a:endParaRPr","a:fld","a:p"],"sz",y),e.bindAttributePicker(["a:r"],"highlight",g),e.bindAttributePicker(["a:r","a:fld"],"color",b),e.bindAttributePicker(["a:r","a:fld"],"fontType",A),e.bindAttributePicker("a:p","placeHolderType",x),e.bindChildPicker("a:p","bu",w),e.bindAttributePicker("a:p","buClr",_),e.bindAttributePicker("a:p","lineHeight",T),e.bindAttributePicker("a:p",["a:spcBef","a:spcAft"],P)};var l=function(e,t,n,r,o){for(var a=0,s=function(e,t,n,r){var o=n.bodyPrXMlList;return o||(o=n.bodyPrXMlList=Object.freeze(function(e,t,n){for(var r=[],o=e.parentElement(new i.TagOrExpr("p:sp","p:graphicFrame")),a=c.getRelationshipPlaceHolder(o,t,n),s=a.hasPlaceHolder,u=0,l=a.allShape;u<l.length;u++){var p=l[u].childElementOptional("p:txBody","a:bodyPr");p&&r.push(p)}return{pPrXMLList:r,hasPlaceHolder:s}}(e,t,r))),o}(e,t,r,o).pPrXMLList;a<s.length;a++){var u=s[a].attr.getOptional(n);if(void 0!==u)return u}},p=function(e,t,n,r,i){for(var o=0,a=f(e,t,r,i).pPrXMLList;o<a.length;o++){var s=a[o].attr.getOptional(n);if(void 0!==s)return s}},d=function(e,t){return function(n,r,i,o,a){for(var s=f(n,r,o,a),c=s.hasPlaceHolder,u=0,l=s.pPrXMLList;u<l.length;u++){var p=l[u].attr.getOptional(i);if(void 0!==p)return p}return c?e:t}},h=function(e,t,n,r,i){return f(e,t,r,i).level};function f(e,t,n,r){var o=n.pPrXMlList;return o||(o=n.pPrXMlList=Object.freeze(function(e,t,n){var r,o=[],a=e.parentElement(new i.TagOrExpr("p:sp","p:graphicFrame")),s=e.childElementOptional("a:pPr"),u=0;s&&(o.push(s),u=s.attr.getNumber("lvl",0));for(var l="a:lvl"+(u+1)+"pPr",p=c.getRelationshipPlaceHolder(a,t,n),d=p.placeHolderType,h=p.masterStyleXML,f=p.hasPlaceHolder,m=0,g=p.allShape;m<g.length;m++)(r=g[m].childElementOptional("p:txBody","a:lstStyle",l))&&o.push(r);return h&&(r=h.childElementOptional(l))&&o.push(r),{pPrXMLList:o,placeHolderType:d,level:u,hasPlaceHolder:f}}(e,t,r))),o}var m=function(e,t,n,r,i){for(var o=0,a=v(e,t,r,i).pPrXMLList;o<a.length;o++){var s=a[o].attr.getOptional(n);if(void 0!==s)return s}},g=function(e,t,n,a,s){var c=e.childElementOptional("a:rPr","a:highlight",new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],o.ALL_COLOR_TYPE))));return c?u.getColor(c,t):void 0},y=function(e,t,n,r,i){var o=m(e,t,"sz",r,i),a=m(e,t,"kern",r,i);return o||a};function v(e,t,n,a){var s=n.rangeXMlList;return s||(s=n.rangeXMlList=Object.freeze(function(e,t,n){var a=e.elementWithName("a:rPr"),s=function(e,t,n){var r,a=[],s=e.parentElement(new i.TagOrExpr("p:sp","p:graphicFrame")),u=e.childElementOptional("a:pPr"),l=0;if(u){l=u.attr.getNumber("lvl",0);var p=u.childElementOptional("a:defRPr");p&&a.push(p)}for(var d="a:lvl"+(l+1)+"pPr",h=c.getRelationshipPlaceHolder(s,t,n),f=h.placeHolderType,m=h.masterStyleXML,g=h.hasPlaceHolder,y=0,v=h.allShape;y<v.length;y++){var b=v[y];(r=b.childElementOptional("p:txBody","a:lstStyle",d,"a:defRPr"))&&a.push(r);var A=b.childElementOptional("p:style");if(A){var x=o.mergeShapeStyle(A,t);a.push(x.font.fontRef),x.font.xml&&a.push(x.font.xml)}}return m&&(r=m.childElement(d,"a:defRPr"))&&a.push(r),{pPrXMLList:a,placeHolderType:f,level:l,hasPlaceHolder:g}}("a:p"===e.name?e:e.parentElement("a:p"),t,n),u=s.placeHolderType,l=s.pPrXMLList,p=s.level,d=s.hasPlaceHolder;return a?{placeHolderType:u,pPrXMLList:r([e,a],l),level:p,hasPlaceHolder:d}:{placeHolderType:u,pPrXMLList:r([e],l),level:p,hasPlaceHolder:d}}(e,t,a))),s}var b=function(e,t,n,a,s){for(var c=0,l=v(e,t,a,s).pPrXMLList;c<l.length;c++){var p=l[c],d=p.childElementOptional(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],o.ALL_FILL_TYPE))));if(d)return(new u.FillOrLineFillReader).read(d,t);var h=p.childElementOptional(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],o.ALL_COLOR_TYPE))));if(h)return u.getColor(h,t)}},A=function(e,t,n,r,i){for(var a=v(e,t,r,i),u=[],l=0,p=a.pPrXMLList;l<p.length;l++){var d,h=p[l],f=h.childElementOptional("a:latin"),m=h.childElementOptional("a:ea");f&&"string"==typeof(d=f.attr.getOptional("typeface"))&&u.push(d),m&&"string"==typeof(d=m.attr.getOptional("typeface"))&&u.push(d)}u=(u=c.isMajor(a.placeHolderType)?u.concat(o.getFontList(o.getMajorFont(t))):u.concat(o.getFontList(o.getMinorFont(t)))).filter((function(e){return""!==e}));var g=[],y=o.getMajorFont(t),b=o.getMinorFont(t);return u.forEach((function(e){switch(e){case"+mj-lt":g=y.latin?g.concat(y.latin):g;break;case"+mj-ea":g=y.ea?g.concat(y.ea):g;break;case"+mj-cs":g=y.cs?g.concat(y.cs):g;break;case"+mn-lt":g=b.latin?g.concat(b.latin):g;break;case"+mn-ea":g=b.ea?g.concat(b.ea):g;break;case"+mn-cs":g=y.cs?g.concat(y.cs):g;break;default:g.push(e)}})),g.forEach((function(e){return s.loadFont(e,t.userFonts)})),g.join(",")},x=function(e,t,n,r,o){var a=e.parentElement(new i.TagOrExpr("p:sp","p:graphicFrame")).childElementOptional(new i.TagOrExpr("p:nvSpPr","p:nvCxnSpPr"));return a&&a.childElementOptional("p:nvPr","p:ph")?"true":"false"},w=function(e,t,n,r,o){for(var a=0,s=f(e,t,r,o).pPrXMLList;a<s.length;a++){var c=s[a].childElementOptional(new i.TagOrExpr("a:buChar","a:buNone","a:buAutoNum","a:buBlip"));if(void 0!==c)return c}},_=function(e,t,n,a,s){for(var c=0,l=f(e,t,a,s).pPrXMLList;c<l.length;c++){var p=l[c].childElementOptional("a:buClr");if(p)return u.getColor(p.childElement(new(i.TagOrExpr.bind.apply(i.TagOrExpr,r([void 0],o.ALL_COLOR_TYPE)))),t)}};function S(e){var t=e.childElementOptional("a:lnSpc",new i.TagOrExpr("a:spcPct","a:spcPts"));if(t){var n=0,r=e.parentElementOptional("p:txBody");if(r){var o=r.childElementOptional("a:bodyPr","a:normAutofit");o&&(n=a.parseSTPercentage(o.attr.getNumber("lnSpcReduction",0)))}switch(t.name){case"a:spcPct":return a.parseSTPercentage(t.attr.getString("val"))-n;case"a:spcPts":return t.attr.getNumber("val")/100*(1-n)+"pt";default:return}}}var T=function(e,t,n,r,i){for(var o=0,s=f(e,t,r,i).pPrXMLList;o<s.length;o++){var c=S(s[o]);if(void 0!==c)return c}return a.DefatultHeightLine},P=function(e,t,n,r,i){for(var o=0,a=f(e,t,r,i).pPrXMLList;o<a.length;o++){var s=C(a[o],n);if(void 0!==s)return s}};function C(e,t){var n=e.childElementOptional(t,new i.TagOrExpr("a:spcPct","a:spcPts"));if(n)switch(n.name){case"a:spcPct":return a.parseSTPercentage(n.attr.getString("val"));case"a:spcPts":return n.attr.getNumber("val")/100+"pt";default:return}}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(18),a=n(6),s=n(1),c=n(2);function u(e){var t="";return"master"===e?t="m":"layout"===e&&(t="l"),t}function l(e,t,n,r){var i=n.lnStyleXMLDescription;return i||(i=n.lnStyleXMLDescription=Object.freeze(function(e,t,n){for(var r,i=[],s=o.getRelationshipPlaceHolder(e,t,n),u=s.placeHolderType,l=0,p=s.allShape;l<p.length;l++){var d=p[l],h=d.childElementOptional(new c.TagOrExpr("p:spPr","p:grpSpPr"));if(h){var f=h.childElementOptional("a:ln");f&&i.push(f)}var m=d.childElementOptional("p:style");if(m){var g=a.mergeShapeStyle(m,t);g.ln.xml&&i.push(g.ln.xml),r=g.ln.phClr}}return{shapeStyleXMLList:i,placeHolderType:u,placeHolderColor:r}}(e,t,r))),i}function p(e,t,n,i){var s=n.fillStyleXMLDescription;return s||(s=n.fillStyleXMLDescription=Object.freeze(function(e,t,n){for(var i,s=[],u=o.getRelationshipPlaceHolder(e,t,n),l=u.placeHolderType,p=0,d=u.allShape;p<d.length;p++){var h=d[p],f=h.childElementOptional(new c.TagOrExpr("p:spPr","p:grpSpPr"),new(c.TagOrExpr.bind.apply(c.TagOrExpr,r([void 0],a.ALL_FILL_TYPE))));f&&s.push(f);var m=h.childElementOptional("p:style");if(m){var g=a.mergeShapeStyle(m,t);g.fill.xml&&s.push(g.fill.xml),i=g.fill.phClr}}return{shapeStyleXMLList:s,placeHolderType:l,placeHolderColor:i}}(e,t,i))),s}t.bindShapeCommonPickers=function(e){e.bindChildPicker(["p:sp","p:pic","p:cxnSp","p:grpSp"],"a:prstGeom",d),e.bindChildPicker(["p:sp","p:pic","p:cxnSp","p:grpSp"],"a:custGeom",d),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:grpSp"],"fillColor",h),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:grpSp"],"borderWidth",m),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:grpSp"],"borderType",g),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:grpSp"],"borderColor",f),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:grpSp"],"borderStrokeDashArray",y),e.bindAttributePicker("p:sp","spId",(function(e,t,n,r,i){return u(i)+e.childElement("p:nvSpPr","p:cNvPr").attr.getOptional("id")})),e.bindAttributePicker("p:cxnSp","spId",(function(e,t,n,r,i){return u(i)+e.childElement("p:nvCxnSpPr","p:cNvPr").attr.getOptional("id")})),e.bindAttributePicker("p:pic","spId",(function(e,t,n,r,i){return u(i)+e.childElement("p:nvPicPr","p:cNvPr").attr.getOptional("id")})),e.bindAttributePicker("p:grpSp","spId",(function(e,t,n,r,i){return u(i)+e.childElement("p:nvGrpSpPr","p:cNvPr").attr.getOptional("id")})),e.bindAttributePicker("p:spTree","spId",(function(e,t,n,r,i){return u(i)+e.childElement("p:nvGrpSpPr","p:cNvPr").attr.getOptional("id")})),e.bindAttributePicker("p:graphicFrame","spId",(function(e,t,n,r,i){return u(i)+e.childElement("p:nvGraphicFramePr","p:cNvPr").attr.getOptional("id")})),e.bindAttributePicker("p:graphicFrame","borderWidth",(function(e){return 0})),e.bindAttributePicker("p:graphicFrame","borderType",(function(e){return"none"})),e.bindAttributePicker("p:graphicFrame","borderColor",(function(e){return"black"})),e.bindAttributePicker("p:graphicFrame","borderStrokeDashArray",(function(e){return"0"}))};var d=function(e,t,n,r,i){for(var a=0,s=o.getRelationshipPlaceHolder(e,t,i).allShape;a<s.length;a++){var c=s[a].childElementOptional("p:spPr",n);if(c)return c}},h=function(e,t,n,r,o){for(var a=p(e,t,r,o),s=0,c=a.shapeStyleXMLList;s<c.length;s++){var u=c[s];return new i.FillOrLineFillReader(a.placeHolderColor).read(u,t)||void 0}},f=function(e,t,n,o,s){for(var u=l(e,t,o,s),p=0,d=u.shapeStyleXMLList;p<d.length;p++){var h=d[p].childElementOptional(new(c.TagOrExpr.bind.apply(c.TagOrExpr,r([void 0],a.ALL_FILL_TYPE))));if(h){var f=new i.FillOrLineFillReader(u.placeHolderColor).read(h,t);if(f)return f}}return i.UNDEFINED},m=function(e,t,n,r,i){for(var o=0,a=l(e,t,r,i).shapeStyleXMLList;o<a.length;o++){var s=a[o];if(s&&s.attr.has("w")){var c=s.attr.getNumber("w");return c>12700?c:6350}}return 6350},g=function(e,t,n,r,i){for(var o=0,a=l(e,t,r,i).shapeStyleXMLList;o<a.length;o++){var s=a[o].childElementOptional("a:prstDash");if(s&&s.attr.has("val"))return s.attr.getString("val")}return"solid"},y=function(e,t,n,r,i){var o=m(e,t,n,r,i)/s.EmuToPt;switch(g(e,t,n,r,i)){case"solid":return"0";case"dash":return""+5*o;case"dashDot":return" "+5*o+", "+5*o+", "+o+", "+5*o;case"dot":return o+",  "+5*o;case"lgDash":return 2*o+", "+o;case"lgDashDot":return 10*o+", "+5*o+", "+o+", "+5*o+", "+o+", "+5*o;case"sysDash":return 5*o+", "+2*o;case"sysDashDot":return 5*o+", "+2*o+", "+o+", "+5*o;case"sysDashDotDot":return 5*o+", "+2*o+", "+o+", "+5*o+", "+o+", "+5*o;case"sysDot":return 2*o+", "+5*o;default:return"0"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(2);function o(e,t,n){for(var i=0,o=r.getRelationshipPlaceHolder(e,t,n).allShape;i<o.length;i++){var a=o[i],s=a.childElementOptional("p:spPr","a:xfrm","a:off");if(void 0!==s)return s;if(void 0!==(s=a.childElementOptional("p:xfrm","a:off")))return s}}function a(e,t,n){for(var i=0,o=r.getRelationshipPlaceHolder(e,t,n).allShape;i<o.length;i++){var a=o[i],s=a.childElementOptional("p:spPr","a:xfrm","a:ext");if(void 0!==s)return s;if(void 0!==(s=a.childElementOptional("p:xfrm","a:ext")))return s}}t.bindShapeLayoutPickers=function(e){e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:graphicFrame"],"x",(function(e,t,n,r,i){var a=o(e,t,i);return a?a.attr.getOptional("x"):0})),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:graphicFrame"],"y",(function(e,t,n,r,i){var a=o(e,t,i);return a?a.attr.getOptional("y"):0})),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:graphicFrame"],"width",(function(e,t,n,r,i){var o=a(e,t,i);return o?o.attr.getOptional("cx"):0})),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:graphicFrame"],"height",(function(e,t,n,r,i){var o=a(e,t,i);return o?o.attr.getOptional("cy"):0})),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:graphicFrame"],"flipV",(function(e,t){var n=e.childElementOptional("p:spPr","a:xfrm");return void 0===n?"false":n.attr.getOptional("flipV")?n.attr.getOptional("flipV"):"false"})),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:graphicFrame"],"flipH",(function(e,t){var n=e.childElementOptional("p:spPr","a:xfrm");return void 0===n?"false":n.attr.getOptional("flipH")?n.attr.getOptional("flipH"):"false"})),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp","p:graphicFrame"],"hidden",(function(e,t,n,r,o){var a=e.childElementOptional(new i.TagOrExpr("p:nvGraphicFramePr","p:nvSpPr","p:nvCxnSpPr","p:nvPicPr"),"p:cNvPr");return a?a.attr.get("hidden","false"):"false"})),e.bindAttributePicker(["p:sp","p:pic","p:cxnSp"],"rot",(function(e,t){var n=e.childElementOptional("p:spPr","a:xfrm");return n?n.attr.getOptional("rot"):0}))}},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(6),a=n(2);t.bindTablePickers=function(e){e.bindAttributePicker("a:tcPr","*",s)};var s=function(e,t,n,s,l){var d=function(e,t,n,r,i){var o=r.tableStyleXML;return o||(o=r.tableStyleXML=Object.freeze(function(e,t){var n=e.parentElement("a:tbl").childElement("a:tblPr");if(n.hasChildElementWithName("a:tableStyleId")){var r=n.childElement("a:tableStyleId").text;return{tableStyle:t.tableStyles.childElement("a:tblStyleLst").elementsWithName("a:tblStyle").filter((function(e){return e.attr.getString("styleId")===r}))[0],bandCol:n.attr.getBoolean("bandCol",!1),bandRow:n.attr.getBoolean("bandRow",!1),firstCol:n.attr.getBoolean("firstCol",!1),firstRow:n.attr.getBoolean("firstRow",!1),lastCol:n.attr.getBoolean("lastCol",!1),lastRow:n.attr.getBoolean("lastRow",!1),rtl:n.attr.getBoolean("rtl",!1)}}return{tableStyle:void 0,bandCol:!1,bandRow:!1,firstCol:!1,firstRow:!1,lastCol:!1,lastRow:!1,rtl:!1}}(e,t))),o}(e,t,0,s),h=n.split("-"),f=parseInt(h[0]),m=parseInt(h[1]);n=h[2];var g=e.parentElement("a:tbl"),y=function(e,t,n,s){switch(n){case"isBold":case"isItalic":return;case"fillColor":var c=e.childElementOptional(new(a.TagOrExpr.bind.apply(a.TagOrExpr,r([void 0],o.ALL_FILL_TYPE))));return c?(new i.FillOrLineFillReader).read(c,t):(new i.FillOrLineFillReader).read(s,t);case"fontFamily":case"fontColor":return;case"bottomBorderWidth":return new p(e,"a:lnB").getBorderWidth();case"bottomBorderColor":return new p(e,"a:lnB").getBorderColor(t);case"bottomBorderStyle":return new p(e,"a:lnB").getBorderType();case"bottomBorderStrokeDashArray":return new p(e,"a:lnB").getBorderStrokeDashArray();case"topBorderWidth":return new p(e,"a:lnT").getBorderWidth();case"topBorderColor":return new p(e,"a:lnT").getBorderColor(t);case"topBorderStyle":return new p(e,"a:lnT").getBorderType();case"topBorderStrokeDashArray":return new p(e,"a:lnT").getBorderStrokeDashArray();case"leftBorderWidth":return new p(e,"a:lnL").getBorderWidth();case"leftBorderColor":return new p(e,"a:lnL").getBorderColor(t);case"leftBorderStyle":return new p(e,"a:lnL").getBorderType();case"leftBorderStrokeDashArray":return new p(e,"a:lnL").getBorderStrokeDashArray();case"rightBorderWidth":return new p(e,"a:lnR").getBorderWidth();case"rightBorderColor":return new p(e,"a:lnR").getBorderColor(t);case"rightBorderStyle":return new p(e,"a:lnR").getBorderType();case"rightBorderStrokeDashArray":return new p(e,"a:lnR").getBorderStrokeDashArray();default:return}}(e,t,n,g.childElement("a:tblPr"));if(void 0!==y&&y!==i.UNDEFINED)return y;if(d.tableStyle){var v=d.tableStyle.childElementOptional("a:band1H"),b=d.tableStyle.childElementOptional("a:band2H"),A=d.tableStyle.childElementOptional("a:band1V"),x=d.tableStyle.childElementOptional("a:band2V"),w=d.tableStyle.childElementOptional("a:firstRow"),_=d.tableStyle.childElementOptional("a:firstCol"),S=(d.tableStyle.childElementOptional("a:lastRow"),d.tableStyle.childElementOptional("a:lastCol"),d.tableStyle.childElement("a:wholeTbl")),T=(f+1)%2==1,P=(m+1)%2==1,C=0===f;return d.firstRow&&0===f?c(w,t,n,S):d.firstCol&&C?c(_,t,n,S):d.bandRow?c(d.firstRow?T?b:v:T?v:b,t,n,S):d.bandCol?c(d.firstCol?P?x:A:P?A:x,t,n,S):u(S,t,n)}};function c(e,t,n,r){if(e){var i=u(e,t,n);return void 0===i?u(r,t,n):i}return u(r,t,n)}function u(e,t,n){switch(n){case"isBold":var s=e.childElementOptional("a:tcTxStyle");return s?s.attr.getString("b","off"):"false";case"isItalic":var c=e.childElementOptional("a:tcTxStyle");return c?c.attr.getString("i","off"):"false";case"fillColor":var u=e.childElementOptional("a:tcStyle","a:fill",new(a.TagOrExpr.bind.apply(a.TagOrExpr,r([void 0],o.ALL_FILL_TYPE))));return u?(new i.FillOrLineFillReader).read(u,t):void 0;case"fontFamily":var p=e.childElementOptional("a:tcTxStyle","a:fontRef");return p?o.parseAndLoadThemeFont(p.attr.getString("idx","none"),t).join(","):void 0;case"fontColor":var d=e.childElementOptional("a:tcTxStyle",new(a.TagOrExpr.bind.apply(a.TagOrExpr,r([void 0],o.ALL_COLOR_TYPE))));return d?i.getColor(d,t):void 0;case"bottomBorderWidth":return new l(e,"a:bottom").getBorderWidth();case"bottomBorderColor":return new l(e,"a:bottom").getBorderColor(t);case"bottomBorderStyle":return new l(e,"a:bottom").getBorderType();case"topBorderWidth":return new l(e,"a:top").getBorderWidth();case"topBorderColor":return new l(e,"a:top").getBorderColor(t);case"topBorderStyle":return new l(e,"a:top").getBorderType();case"leftBorderWidth":return new l(e,"a:left").getBorderWidth();case"leftBorderColor":return new l(e,"a:left").getBorderColor(t);case"leftBorderStyle":return new l(e,"a:left").getBorderType();case"rightBorderWidth":return new l(e,"a:right").getBorderWidth();case"rightBorderColor":return new l(e,"a:right").getBorderColor(t);case"rightBorderStyle":return new l(e,"a:right").getBorderType();default:return}}var l=function(){function e(e,t){this.tcStyle=e,this.lnKey=t}return e.prototype.getBorderColor=function(e){var t=this.tcStyle.childElementOptional("a:tcStyle","a:tcBdr",this.lnKey,"a:ln",new(a.TagOrExpr.bind.apply(a.TagOrExpr,r([void 0],o.ALL_FILL_TYPE))));return t?(new i.FillOrLineFillReader).read(t,e):void 0},e.prototype.getBorderWidth=function(){var e=this.tcStyle.childElementOptional("a:tcStyle","a:tcBdr",this.lnKey,"a:ln");return e?e.attr.getNumberOptional("w"):void 0},e.prototype.getBorderType=function(){var e=this.tcStyle.childElementOptional("a:tcStyle","a:tcBdr",this.lnKey,"a:ln");if(e){var t=e.childElementOptional("a:prstDash");if(t&&t.attr.has("val"))return t.attr.getString("val")}return"solid"},e}(),p=function(){function e(e,t){this.tcPrXMl=e,this.lnKey=t}return e.prototype.getBorderColor=function(e){var t=this.tcPrXMl.childElementOptional(this.lnKey);return t?(new i.FillOrLineFillReader).read(t.childElement(new(a.TagOrExpr.bind.apply(a.TagOrExpr,r([void 0],o.ALL_FILL_TYPE)))),e):void 0},e.prototype.getBorderWidth=function(){var e=this.tcPrXMl.childElementOptional(this.lnKey);return e?e.attr.getNumber("w"):void 0},e.prototype.getBorderType=function(){var e=this.tcPrXMl.childElementOptional(this.lnKey);if(e){var t=e.childElementOptional("a:prstDash");if(t&&t.attr.has("val"))return t.attr.getString("val")}},e.prototype.getBorderStrokeDashArray=function(){var e=this.getBorderWidth(),t=this.getBorderType();if(void 0!==e&&void 0!==t)switch(t){case"solid":return"0";case"dash":return""+5*e;case"dashDot":return" "+5*e+", "+5*e+", "+e+", "+5*e;case"dot":return e+",  "+5*e;case"lgDash":return 2*e+", "+e;case"lgDashDot":return 10*e+", "+5*e+", "+e+", "+5*e+", "+e+", "+5*e;case"sysDash":return 5*e+", "+2*e;case"sysDashDot":return 5*e+", "+2*e+", "+e+", "+5*e;case"sysDashDotDot":return 5*e+", "+2*e+", "+e+", "+5*e+", "+e+", "+5*e;case"sysDot":return 2*e+", "+5*e;default:return"0"}},e}()},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(2),a=n(6);t.bindBackgroundPickers=function(e){e.bindChildPicker(["p:cSld"],"getBackgroundImageFill",s),e.bindAttributePicker(["p:cSld"],"backgroundResId",c),e.bindAttributePicker(["p:cSld"],"backgroundImageResourceType",l),e.bindAttributePicker(["p:cSld"],"backgroundColor",p)};var s=function(e,t,n,r,i){var o=d(e,t,0,r);if(o.bgXML.hasChildElementWithName("p:bgRef")){var a=o.bgXML.childElement("p:bgRef").attr.getNumber("idx");return t.theme.childElement("a:theme","a:themeElements","a:fmtScheme","a:bgFillStyleLst").elements[a-1e3-1]}return o.bgXML.childElementOptional("p:bgPr","a:blipFill")},c=function(e,t,n,r,i){var o=d(e,t,0,r);if(!o.bgXML.hasChildElementWithName("p:bgRef"))return u(o.bgXML.childElementOptional("p:bgPr","a:blipFill"));var a=o.bgXML.childElement("p:bgRef").attr.getNumber("idx"),s=t.theme.childElement("a:theme","a:themeElements","a:fmtScheme","a:bgFillStyleLst").elements[a-1e3-1];return"a:blipFill"===s.name?u(s):void 0};function u(e){return e?e.childElement("a:blip").attr.getStringOptional("r:embed"):void 0}var l=function(e,t,n,r,i){var o=d(e,t,0,r);return o.bgXML.hasChildElementWithName("p:bgRef")?"theme":o.resourceType},p=function(e,t,n,s,c){var u=d(e,t,0,s);if(u.bgXML.hasChildElementWithName("p:bgRef")){var l=u.bgXML.childElement("p:bgRef").attr.getNumber("idx"),p=t.theme.childElement("a:theme","a:themeElements","a:fmtScheme","a:bgFillStyleLst").elements[l-1e3-1];return new i.FillOrLineFillReader(u.bgXML.childElement("p:bgRef").childElementOptional("a:schemeClr")).read(p,t)}return(new i.FillOrLineFillReader).read(u.bgXML.childElement("p:bgPr",new(o.TagOrExpr.bind.apply(o.TagOrExpr,r([void 0],a.ALL_FILL_TYPE)))),t)};function d(e,t,n,r,i){var o=r.bgXML;return o||(o=r.bgXML=Object.freeze(function(e,t){return e.hasChildElementWithName("p:bg")?{bgXML:e.childElement("p:bg"),resourceType:"slide"}:t.layout.childElementOptional("p:sldLayout","p:cSld","p:bg")?{bgXML:t.layout.childElement("p:sldLayout","p:cSld","p:bg"),resourceType:"layout"}:{bgXML:t.master.childElement("p:sldMaster","p:cSld","p:bg"),resourceType:"master"}}(e,t))),o}}]))},function(e,t){e.exports=n("aSns")},function(e,t){e.exports=n("acA/")},function(e,t){e.exports=n("xRo1")},function(e,t){e.exports=n("tK0H")},function(e,t){e.exports=n("GBY4")},function(e,t){e.exports=n("A3Fa")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54);t.defineModulesLoader=r.defineModulesLoader},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),a=n(56),s=n(58);t.defineModulesLoader=function(e){return new c(e)};var c=function(){function e(e){var t=this;this.modulesMap={},this.taskPromises={},this.onInterruptFreeModules=function(e,n){t.modulesMap[e]||(t.modulesMap[e]=n)},o.defineLibrary({libName:e.libName,dependencies:e.dependencies},this.onInterruptFreeModules),this.origin=e.origin,this.findPath=e.findPath,this.timeout=e.timeout,this.storage=e.cache?new a.ModulesStorage(!!e.storeBase64,e.origin,e.findPath):void 0}return e.prototype.require=function(e,t){return r(this,void 0,void 0,(function(){var n,a,c,u,l,p=this;return i(this,(function(d){switch(d.label){case 0:return(n=this.modulesMap[e])?[3,2]:((a=this.taskPromises[e])||(a=this.taskPromises[e]=r(p,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,2,3]),t={identifier:e,origin:this.origin,findPath:this.findPath,timeout:this.timeout,storage:this.storage},[4,Promise.all([o.requireModules(e),new s.LoadingTask(t).load()])];case 1:return[2,n.sent()[0]];case 2:return delete this.taskPromises[e],[7];case 3:return[2]}}))}))),c=this.modulesMap,u=e,[4,a]);case 1:n=c[u]=d.sent(),d.label=2;case 2:if(!(l=n[t]))throw new Error("can't find module "+JSON.stringify(t)+" from "+e);return[2,l]}}))}))},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=new(function(){function e(){var e=this;this.libraryMap={},this.paddingMap={},this.freeInterrupters={},this.defineLibrary=function(t,n){if(t.libName in e.libraryMap)throw new Error("found duplicated library "+JSON.stringify(t.libName));n&&(e.freeInterrupters[t.libName]=n),e.libraryMap[t.libName]=Object.freeze(r({},t))},this.requireModules=function(t){return new Promise((function(n,r){var i=e.paddingMap[t];i||(i=e.paddingMap[t]=[]),i.push({resolve:n,reject:r})}))},this.loader=function(t,n,r){if(!n&&!r)return e.createRequireFunction(t);e.handlePanddingNodes(t,n,r)};var t="__netlessJavaScriptLoader",n=window;if(void 0!==n[t])throw new Error("window."+t+" was override");Object.defineProperty(n,t,{enumerable:!1,configurable:!1,writable:!1,value:this.loader})}return e.prototype.handlePanddingNodes=function(e,t,n){var r=this.paddingMap[e];if(r){delete this.paddingMap[e];for(var i=0,o=r;i<o.length;i++){var a=o[i];n?a.reject(n):a.resolve(this.handleModules(t))}}else if(!n&&t){var s=function(e){var t=e.split("/");return t.pop(),t.join("/")}(e),c=this.freeInterrupters[s];c&&c(e,t)}},e.prototype.createRequireFunction=function(e){var t=this.libraryMap[e];if(!t)throw new Error("undefined library "+JSON.stringify(e));return function(n){var r=t.dependencies,i=r&&r[n];if(!i)throw new Error("cannot find module "+JSON.stringify(n)+" of library "+JSON.stringify(e));return i}},e.prototype.handleModules=function(e){for(var t in e){var n=e[t];"__esModule"in n||Object.defineProperty(n,"__esModule",{value:!0})}return Object.freeze(e)},e}());t.requireModules=i.requireModules,t.defineLibrary=i.defineLibrary},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=n(57);function s(e){return new Promise((function(t,n){e.onsuccess=function(){return t(e.result)},e.onerror=function(){if(e.error){var t=new Error(e.error.message);t.name=e.error.name,n(t)}else n(null)}}))}var c=function(){function e(t,n,r){var i=new URL(n),a=i.protocol,s=i.host,c=new o.AkkoFetcher({fetcher:window.fetch.bind(window),retryCount:e.retryCount,retryLoopsCount:0,configmap:{hosts:{module:{hosts:s,useSSL:"https:"===a}}}});this.fetcher=c.fetch("module"),this.storeBase64=t,this.findPath=r}return Object.defineProperty(e,"dbp",{get:function(){if(!this._dbp){var e=indexedDB.open("__netlessJavaScriptCache",1);e.onupgradeneeded=function(e){e.target.result.createObjectStore("modules")},this._dbp=s(e)}return this._dbp},enumerable:!0,configurable:!0}),e.prototype.findObjectURL=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this.readBlob(e)];case 1:return(t=n.sent())?[3,4]:[4,this.fetchBuffer(e)];case 2:return t=n.sent(),[4,this.writeBlob(e,t)];case 3:n.sent(),n.label=4;case 4:return[2,URL.createObjectURL(t,{oneTimeOnly:!0})]}}))}))},e.prototype.readBlob=function(t){return r(this,void 0,void 0,(function(){var n,r,o,c;return i(this,(function(i){switch(i.label){case 0:return[4,e.dbp];case 1:return[4,s(i.sent().transaction(["modules"],"readonly").objectStore("modules").get(t))];case 2:return"string"==typeof(n=i.sent())&&(r=n.split(/;base64\,/im),o=r[1],c=r[0].replace(/^data:/im,""),n=a.base64ToBlob(o,{type:c})),[2,n]}}))}))},e.prototype.writeBlob=function(t,n){return r(this,void 0,void 0,(function(){var r;return i(this,(function(i){switch(i.label){case 0:return r=n,this.storeBase64?[4,a.blobToBase64(r)]:[3,2];case 1:r=i.sent(),i.label=2;case 2:return[4,e.dbp];case 3:return[4,s(i.sent().transaction(["modules"],"readwrite").objectStore("modules").put(r,t))];case 4:return i.sent(),[2]}}))}))},e.prototype.fetchBuffer=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t="http://module"+this.findPath(e),[4,this.fetcher(t,{method:"get",headers:{Accept:"application/javascript"}})];case 1:if(200!==(n=r.sent()).status)throw new Error("failed to fetch "+JSON.stringify(t)+" with status "+n.status);return[4,n.blob()];case 2:return[2,r.sent()]}}))}))},e.retryCount=5,e}();t.ModulesStorage=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToBlob=function(e,t){for(var n=window.atob(e),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return new Blob([r],t)},t.blobToBase64=function(e){return new Promise((function(t,n){try{var r=new FileReader;r.onload=function(e){var r,i=null===(r=e.target)||void 0===r?void 0:r.result;"string"==typeof i?t(i):n("blob load wrong type "+typeof i)},r.readAsDataURL(e)}catch(e){n(e)}}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.params=e,this.completeCallbacks=[]}return e.prototype.load=function(){return r(this,void 0,void 0,(function(){var e,t,n;return i(this,(function(r){switch(r.label){case 0:e=[],void 0!==this.params.timeout&&e.push(this.startTimeout(this.params.timeout)),e.push(this.loadScript()),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,Promise.race(e)];case 2:return r.sent(),[3,4];case 3:for(t=0,n=this.completeCallbacks;t<n.length;t++)(0,n[t])();return[7];case 4:return[2]}}))}))},e.prototype.loadScript=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:if(t=(e=this.params).origin,n=e.findPath,r=e.identifier,!(o=e.storage))return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.findObjectURL(r)];case 2:return a=i.sent(),[3,4];case 3:return i.sent(),a=""+t+n(r),[3,4];case 4:return[3,6];case 5:a=""+t+n(r),i.label=6;case 6:return[4,this.loadScriptWithURL(a)];case 7:return i.sent(),[2]}}))}))},e.prototype.loadScriptWithURL=function(e){var t=this;return new Promise((function(n,r){var i=document.createElement("script");t.completeCallbacks.push((function(){i.onerror=null,i.onload=null,i.remove()})),i.charset="utf-8",i.src=e,i.onload=function(){n()},i.onerror=function(t){var n=t&&("load"===t.type?"missing":t.type);r(new Error("fetch "+JSON.stringify(e)+" failed: "+n))},document.head.appendChild(i)}))},e.prototype.startTimeout=function(e){var t=this,n=null;return this.completeCallbacks.push((function(){null!==n&&(clearTimeout(n),n=null)})),new Promise((function(r,i){n=setTimeout((function(){n=null,i(new Error("fetch "+t.params.identifier+" timeout"))}),e)}))},e}();t.LoadingTask=o},function(e,t,n){var r=n(60);"string"==typeof r&&(r=[[e.i,r,""]]),n(62)(r,{hmr:!0,transform:void 0}),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(61)(void 0)).push([e.i,'.netless-whiteboard div.highlight-box {\n  border: 1px solid;\n  box-shadow: 0 0 1px 0 #FFFFFF, inset 0 0 1px 0 #FFFFFF;\n}\n.netless-whiteboard div.editor-box > *.cursor-nwse {\n  cursor: nwse-resize;\n}\n.netless-whiteboard div.editor-box > *.cursor-nesw {\n  cursor: nesw-resize;\n}\n.netless-whiteboard div.editor-box > *.cursor-ns {\n  cursor: ns-resize;\n}\n.netless-whiteboard div.editor-box > *.cursor-ew {\n  cursor: ew-resize;\n}\n.netless-whiteboard div.editor-box {\n  pointer-events: none;\n  border: 1px solid;\n  box-shadow: 0 0 1px 0 #FFFFFF, inset 0 0 1px 0 #FFFFFF;\n}\n.netless-whiteboard div.editor-box > .lock {\n  pointer-events: none;\n  position: absolute;\n  width: 22px;\n  height: 22px;\n  top: -11px;\n  left: -11px;\n}\n.netless-whiteboard div.editor-box > div.operation-point-desktop {\n  width: 7px;\n  height: 7px;\n  position: absolute;\n  pointer-events: auto;\n}\n.netless-whiteboard div.editor-box > div.operation-point-touch {\n  width: 33px;\n  height: 33px;\n  position: absolute;\n  pointer-events: auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.netless-whiteboard div.editor-box > div.operation-point-touch > * {\n  pointer-events: none;\n  width: 7px;\n  height: 7px;\n}\n.netless-whiteboard div.editor-box > .operation-point-desktop.left-top {\n  left: -4px;\n  top: -4px;\n}\n.netless-whiteboard div.editor-box > .operation-point-desktop.right-top {\n  right: -4px;\n  top: -4px;\n}\n.netless-whiteboard div.editor-box > .operation-point-desktop.left-bottom {\n  left: -4px;\n  bottom: -4px;\n}\n.netless-whiteboard div.editor-box > .operation-point-desktop.right-bottom {\n  right: -4px;\n  bottom: -4px;\n}\n.netless-whiteboard div.editor-box > .operation-point-desktop.top {\n  top: -4px;\n}\n.netless-whiteboard div.editor-box > .operation-point-desktop.right {\n  right: -4px;\n}\n.netless-whiteboard div.editor-box > .operation-point-desktop.bottom {\n  bottom: -4px;\n}\n.netless-whiteboard div.editor-box > .operation-point-desktop.left {\n  left: -4px;\n}\n.netless-whiteboard div.editor-box > .operation-point-touch.left-top {\n  left: -17px;\n  top: -17px;\n}\n.netless-whiteboard div.editor-box > .operation-point-touch.right-top {\n  right: -17px;\n  top: -17px;\n}\n.netless-whiteboard div.editor-box > .operation-point-touch.left-bottom {\n  left: -17px;\n  bottom: -17px;\n}\n.netless-whiteboard div.editor-box > .operation-point-touch.right-bottom {\n  right: -17px;\n  bottom: -17px;\n}\n.netless-whiteboard div.editor-box > .operation-point-touch.top {\n  top: -17px;\n}\n.netless-whiteboard div.editor-box > .operation-point-touch.right {\n  right: -17px;\n}\n.netless-whiteboard div.editor-box > .operation-point-touch.bottom {\n  bottom: -17px;\n}\n.netless-whiteboard div.editor-box > .operation-point-touch.left {\n  left: -17px;\n}\n.netless-whiteboard div.editor-box-others {\n  border: 1px solid;\n}\n.netless-whiteboard textarea {\n  -webkit-appearance: none;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  padding: 0;\n  margin: 0;\n  outline: none;\n  border: none;\n  resize: none;\n  overflow: hidden;\n}\n.netless-whiteboard .textarea-border {\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  border-width: 1px;\n  border-style: dashed;\n}\n.netless-whiteboard .textarea-border > * {\n  position: absolute;\n  pointer-events: auto;\n}\n.netless-whiteboard .textarea-layout {\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  border-width: 1px;\n  border-style: dashed;\n  border-style: solid;\n  border-color: rgba(0, 0, 0, 0);\n}\n.netless-whiteboard .textarea-layout > * {\n  position: absolute;\n  pointer-events: auto;\n}\n.netless-whiteboard textarea.readonly-textarea {\n  background: rgba(255, 255, 255, 0);\n}\n.netless-whiteboard textarea.editable-textarea {\n  background: rgba(255, 255, 255, 0);\n}\n.netless-whiteboard textarea.my-textarea {\n  pointer-events: auto;\n}\n.netless-whiteboard div.float-bar {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  background: #ffffff;\n  border: 1px solid #EFEFEF;\n  box-shadow: 0px 6px 12px 0px rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n}\n.netless-whiteboard div.float-bar div,\n.netless-whiteboard div.float-bar input {\n  pointer-events: auto;\n}\n.netless-whiteboard div.float-bar img {\n  pointer-events: none;\n}\n.netless-whiteboard div.float-bar .button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  border: none;\n}\n.netless-whiteboard div.float-bar > .normal-button {\n  width: 40px;\n  height: 40px;\n}\n.netless-whiteboard div.float-bar > .normal-button > img {\n  width: 16px;\n  height: 16px;\n}\n.netless-whiteboard div.float-bar > img.font-size-icon {\n  width: 16px;\n  height: 16px;\n  margin-left: 12px;\n}\n.netless-whiteboard div.float-bar > input.font-size-input::-webkit-outer-spin-button,\n.netless-whiteboard div.float-bar > input.font-size-input::-webkit-inner-spin-button {\n  /* display: none; <- Crashes Chrome on hover */\n  -webkit-appearance: none;\n  margin: 0;\n  /* <-- Apparently some margin are still there even though it\'s hidden */\n}\n.netless-whiteboard div.float-bar > input.middle:focus,\n.netless-whiteboard div.float-bar > input:focus {\n  outline-width: 0;\n}\n.netless-whiteboard div.float-bar > input.font-size-input {\n  -moz-appearance: textfield;\n  /* Firefox */\n  width: 29px;\n  height: 20px;\n  margin-left: 10px;\n  font-size: 12px;\n  font-family: PingFang SC, Microsoft Yahei;\n  font-weight: normal;\n  color: #212324;\n  line-height: 14px;\n  border-radius: 2px;\n  border: 1px solid #e7e7e7;\n  text-align: center;\n}\n.netless-whiteboard div.float-bar > div.font-size-buttons {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: none;\n  justify-content: space-between;\n  align-items: stretch;\n  margin-left: 5px;\n  margin-right: 7px;\n}\n.netless-whiteboard div.float-bar > div.font-size-buttons > div.arrow-button {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: none;\n  justify-content: center;\n  align-items: center;\n  width: 16px;\n  height: 8px;\n}\n.netless-whiteboard div.float-bar > div.font-size-buttons > div.arrow-button > img {\n  width: 6px;\n  height: 3px;\n}\n.netless-whiteboard div.float-bar div.font-size-menu {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: stretch;\n  background: #ffffff;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.12);\n  border-radius: 2px;\n}\n.netless-whiteboard div.float-bar div.font-size-menu > div.hover {\n  background: #e7e7e7;\n}\n.netless-whiteboard div.float-bar div.font-size-menu > div.cell {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  width: 64px;\n  height: 24px;\n}\n.netless-whiteboard div.float-bar div.font-size-menu > div.cell > span {\n  padding-left: 4px;\n  padding-right: 4px;\n  font-size: 12px;\n  font-family: PingFang SC, Microsoft Yahei;\n  font-weight: normal;\n  color: #000000;\n}\n.netless-whiteboard div.float-bar div.font-size-menu > div.cell > .check {\n  width: 8px;\n  height: 8px;\n}\n.netless-whiteboard div.float-bar div.font-colors-icon {\n  position: relative;\n  width: 16px;\n  height: 16px;\n}\n.netless-whiteboard div.float-bar div.font-colors-icon > img {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 16px;\n  height: 16px;\n  z-index: 1;\n}\n.netless-whiteboard div.float-bar div.font-colors-icon > div.bar {\n  position: absolute;\n  left: 2px;\n  right: 2px;\n  top: 12.5px;\n  height: 1.5px;\n  z-index: 2;\n}\n.netless-whiteboard div.float-bar div.font-colors-menu {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n  position: absolute;\n  padding: 8px;\n  background: #ffffff;\n  box-shadow: 0px 3px 6px 0px rgba(0, 0, 0, 0.12);\n  border-radius: 2px;\n}\n.netless-whiteboard div.float-bar div.font-colors-menu > div.font-color-selected {\n  border-color: #a7a7a7;\n}\n.netless-whiteboard div.float-bar div.font-colors-menu > div.font-color-not-selected {\n  border-color: #ffffff;\n}\n.netless-whiteboard div.float-bar div.font-colors-menu > div.font-color-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  margin: 4px;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  border-width: 1px;\n  border-style: solid;\n}\n.netless-whiteboard div.float-bar div.font-colors-menu > div.font-color-button > .core {\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  border: 1px solid rgba(0, 0, 0, 0.12);\n}\n.netless-whiteboard.cursor-hand {\n  cursor: url("https://sdk.herewhite.com/resource/mouse-cursor/hand-loosen.svg") 7 7, auto;\n  cursor: -webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/hand-loosen.svg") 7 7, auto);\n}\n.netless-whiteboard.cursor-hand-grasp {\n  cursor: url("https://sdk.herewhite.com/resource/mouse-cursor/hand-grasp.svg") 6 6, auto;\n  cursor: -webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/hand-grasp.svg") 6 6, auto);\n}\n.netless-whiteboard.cursor-laserPointer {\n  cursor: url("https://sdk.herewhite.com/resource/mouse-cursor/laser-pointer-cursor.svg") 14 14, auto;\n  cursor: -webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/laser-pointer-cursor.svg") 14 14, auto);\n}\n.netless-whiteboard.cursor-selector {\n  cursor: url("https://sdk.herewhite.com/resource/mouse-cursor/selector-cursor.png") 5 4, auto;\n  cursor: -webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/selector-cursor.png") 1x, url("https://sdk.herewhite.com/resource/mouse-cursor/selector-cursor%402x.png") 2x) 5 4, auto;\n}\n.netless-whiteboard.cursor-pencil {\n  cursor: url("https://sdk.herewhite.com/resource/mouse-cursor/pencil-cursor.png") 2 22, auto;\n  cursor: -webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/pencil-cursor.png") 1x, url("https://sdk.herewhite.com/resource/mouse-cursor/pencil-cursor%402x.png") 2x) 2 22, auto;\n}\n.netless-whiteboard.cursor-eraser {\n  cursor: url("https://sdk.herewhite.com/resource/mouse-cursor/easer-cursor.png") 8 18, auto;\n  cursor: -webkit-image-set(url("https://sdk.herewhite.com/resource/mouse-cursor/easer-cursor.png") 1x, url("https://sdk.herewhite.com/resource/mouse-cursor/easer-cursor%402x.png") 2x) 8 18, auto;\n}\n.netless-whiteboard.cursor-nwse {\n  cursor: nwse-resize;\n}\n.netless-whiteboard.cursor-nesw {\n  cursor: nesw-resize;\n}\n.netless-whiteboard.cursor-ns {\n  cursor: ns-resize;\n}\n.netless-whiteboard.cursor-ew {\n  cursor: ew-resize;\n}\n.netless-whiteboard.cursor-rectangle {\n  cursor: crosshair;\n}\n.netless-whiteboard.cursor-ellipse {\n  cursor: crosshair;\n}\n.netless-whiteboard.cursor-straight {\n  cursor: crosshair;\n}\n.netless-whiteboard.cursor-arrow {\n  cursor: crosshair;\n}\n.netless-whiteboard.cursor-text {\n  cursor: text;\n}\n.netless-whiteboard * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  pointer-events: none;\n}\n.cursor-selector  .ppt-event-source {\n  cursor: pointer;\n  pointer-events: auto;\n  -webkit-user-select: auto;\n  -moz-user-select: auto;\n  user-select: auto;\n}\n.netless-whiteboard {\n  text-align: start;\n}\n.netless-whiteboard * {\n  box-sizing: border-box;\n}\n.netless-whiteboard * > svg {\n  text-align: start;\n}\n',""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */",o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}((function(e){return document.querySelector(e)})),c=null,u=0,l=[],p=n(63);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(v(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");return e.attrs.type="text/css",y(t,e.attrs),f(e,t),t}function y(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function v(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=c||(c=g(t)),r=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",y(t,e.attrs),f(e,t),t}(t),r=_.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=w.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return d(n,t),function(e){for(var r=[],i=0;i<n.length;i++)(a=o[n[i].id]).refs--,r.push(a);for(e&&d(h(e,t),t),i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var s=0;s<a.parts.length;s++)a.parts[s]();delete o[a.id]}}}};var b,A=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function x(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=A(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function w(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function _(e,t,n){var r=n.css,i=n.sourceMap;(t.convertToAbsoluteUrls||void 0===t.convertToAbsoluteUrls&&i)&&(r=p(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(e,t){e.exports=n("HrR1")},function(e,t){e.exports=n("Fs82")},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3),o=function(){function e(){}return e.prototype.observeUpdate=function(e){r.runInAction(e)},e.prototype.create=function(e){return new i.MobXObserver(e)},e}();t.MobXObserverAdapter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),o=function(){function e(e){this.atoms={},this.debugName=e}return e.prototype.reportChanged=function(e,t,n){var r=this.atoms[e];if(r&&r.reportChanged(),this.iterationAtom)switch(n){case i.UpdateEventKind.Removed:case i.UpdateEventKind.Inserted:this.iterationAtom.reportChanged()}r&&n===i.UpdateEventKind.Removed&&delete this.atoms[e]},e.prototype.reportObservedIteration=function(){var e=this.iterationAtom;e||(e=this.iterationAtom=r.createAtom(this.debugName)),e.reportObserved()},e.prototype.reportObservedKey=function(e){var t=this.atoms[e];t||(t=this.atoms[e]=r.createAtom(this.debugName)),t.reportObserved()},e}();t.MobXObserver=o},function(e,t){e.exports=n(0)}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.listenerNodes=[]}return Object.defineProperty(e.prototype,"isOnline",{get:function(){return navigator.onLine},enumerable:!0,configurable:!0}),e.prototype.addListener=function(e){var t={origin:e,onOffline:function(){return e.onOffline()},onOnline:function(){return e.onOnline()}};this.listenerNodes.push(t),window.addEventListener("online",t.onOnline),window.addEventListener("offline",t.onOffline)},e.prototype.removeListener=function(e){var t=this.listenerNodes.findIndex((function(t){return t.origin===e}));if(-1!==t){var n=this.listenerNodes.splice(t,1)[0];window.removeEventListener("online",n.onOnline),window.removeEventListener("offline",n.onOffline)}},e}();t.NetState=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(69),i=function(){function e(e){if(this.listeners=new r.MultiValuesMap,this.oncesListeners=new r.MultiValuesMap,e)for(var t in e){var n=e[t];n&&this.listeners.put(t,n)}}return e.prototype.dispatch=function(e,t){var n=0;return n+=this.dispatchTo(e,this.listeners,t),n+=this.dispatchTo(e,this.oncesListeners,t),this.oncesListeners.remove(e),n},e.prototype.dispatchTo=function(e,t,n){var r=t.values(e);if(r){for(var i=0,o=r;i<o.length;i++){var a=o[i];try{n(a)}catch(e){console.error(e)}}return r.length}return 0},e.prototype.on=function(e,t){this.listeners.put(e,t)},e.prototype.once=function(e,t){this.oncesListeners.put(e,t)},e.prototype.off=function(e,t){this.listeners.remove(e,t),this.oncesListeners.remove(e,t)},e}();t.CallbacksImplement=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.map={}}return e.prototype.values=function(e){return this.map[e]},e.prototype.has=function(e,t){var n=this.map[e];return!!n&&-1!==n.indexOf(t)},e.prototype.put=function(e,t){var n=this.map[e];n||(n=this.map[e]=[]),-1===n.indexOf(t)&&n.push(t)},e.prototype.remove=function(e,t){if(e)if(t){var n=this.map[e];if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this.map[e])}}else delete this.map[e];else for(var i in this.map)delete this.map[i]},e}();t.MultiValuesMap=r},function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Mac="mac",e.Windows="windows"}(r=t.KeyboardKind||(t.KeyboardKind={})),t.DefaultHotKeys=Object.freeze({delete:Object.freeze(["Backspace","Delete"]),lock:"Shift",undo:function(e,t){var n;switch(t){case r.Mac:return!("z"!==e.key||e.altKey||e.ctrlKey||e.shiftKey||!(null===(n=e.nativeEvent)||void 0===n?void 0:n.metaKey));case r.Windows:return"z"===e.key&&!e.altKey&&e.ctrlKey&&!e.shiftKey}},redo:function(e,t){var n;switch(t){case r.Mac:return!("y"!==e.key||e.altKey||e.ctrlKey||e.shiftKey||!(null===(n=e.nativeEvent)||void 0===n?void 0:n.metaKey));case r.Windows:return"y"===e.key&&!e.altKey&&e.ctrlKey&&!e.shiftKey}},copy:function(e,t){var n;switch(t){case r.Mac:return!("c"!==e.key||e.altKey||e.ctrlKey||e.shiftKey||!(null===(n=e.nativeEvent)||void 0===n?void 0:n.metaKey));case r.Windows:return"c"===e.key&&!e.altKey&&e.ctrlKey&&!e.shiftKey}},paste:function(e,t){var n;switch(t){case r.Mac:return!("v"!==e.key||e.altKey||e.ctrlKey||e.shiftKey||!(null===(n=e.nativeEvent)||void 0===n?void 0:n.metaKey));case r.Windows:return"v"===e.key&&!e.altKey&&e.ctrlKey&&!e.shiftKey}}});var o=function(){function e(e){void 0===e&&(e=t.DefaultHotKeys);var n=[];for(var r in e){var i=e[r];i&&n.push(Object.freeze({kind:r,checker:this.toHotKeyChecker(i)}))}this.nodes=Object.freeze(n)}return e.prototype.checkHotKey=function(e){for(var t=this.getKeyboardKind(),n=0,r=this.nodes;n<r.length;n++){var i=r[n];if(i.checker(e,t))return i.kind}},e.prototype.getKeyboardKind=function(){return/^Mac/i.test(navigator.platform)?r.Mac:r.Windows},e.prototype.toHotKeyChecker=function(e){if("function"!=typeof e&&(e instanceof Array||(e=[e]),e instanceof Array)){var t=Object.freeze(e.map((function(e){return"string"==typeof e&&(e={key:e,altKey:null,ctrlKey:null,shiftKey:null}),Object.freeze(i({},e))})));e=function(e){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(!(i.key!==e.key||null!==i.altKey&&i.altKey!==e.altKey||null!==i.ctrlKey&&i.ctrlKey!==e.ctrlKey||null!==i.shiftKey&&i.shiftKey!==e.shiftKey))return!0}return!1}}return e},e}();t.HotKeysNode=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(72),o=n(15),a=function(){function e(e){var t=this;this.delegate=e,this.invoker=new i.UnderclockingInvoker(o.HoverMouseEventLimitTimeInterval),this.latestHitTestIdentifies=[],this.isPressed=!1,this.pushBoundlessEvent=function(e){switch(e.kind){case r.BoundlessEventKind.MouseDown:t.invoker.limitDuration=o.MaxMouseEventLimitTimeInterval;break;case r.BoundlessEventKind.MouseUp:t.invoker.limitDuration=o.HoverMouseEventLimitTimeInterval}switch(e.kind){case r.BoundlessEventKind.MouseDown:case r.BoundlessEventKind.SortedTouchStart:t.isPressed=!0;break;case r.BoundlessEventKind.MouseUp:case r.BoundlessEventKind.SortedTouchEnd:case r.BoundlessEventKind.SortedTouchCancel:t.isPressed=!1}var n=t.delegate.getHitTestIdentifies(e.pointOnScreen,t.isPressed);e.kind!==r.BoundlessEventKind.MouseMove||t.isHitTestIdentifiesDifferent(n)?(t.invoker.cancel(),t.delegate.pushBoundlessMouseEventKind(e,n)):t.invoker.invoke((function(){return t.delegate.pushBoundlessMouseEventKind(e,n)})),t.latestHitTestIdentifies=n}}return e.prototype.isHitTestIdentifiesDifferent=function(e){var t=this.latestHitTestIdentifies.length!==e.length;if(!t)for(var n=0;n<e.length&&!(t=e[n]!==this.latestHitTestIdentifies[n]);++n);return t},e}();t.HoverEventLimiter=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e){var t=this;this.onLimiterInvoke=function(){if(t.nextInvoker)try{t.nextInvoker()}finally{t.nextInvoker=void 0}},this.limiter=new r.InvokeFrequencyLimiter(e,this.onLimiterInvoke)}return Object.defineProperty(e.prototype,"limitDuration",{get:function(){return this.limiter.limitDuration},set:function(e){this.limiter.limitDuration=e},enumerable:!0,configurable:!0}),e.prototype.invoke=function(e){this.nextInvoker=e,this.limiter.invoke()},e.prototype.cancel=function(){this.nextInvoker=void 0,this.limiter.cancel()},e}();t.UnderclockingInvoker=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(3),s=n(28),c=function(){function e(e){var t=this,n=e.disableMaskKey,r=e.useMobXMode,i=e.propertyGetters,o=e.onStateChanged;this.didStateReady=!1,this.updatedState={},this.activeUpdateKey=null,this.updateState=function(){var e=t.updatedState;t._state=t.patchState(e),t.updatedState={},t.onStateChanged&&t.onStateChanged(e)},this.disableActiveCallback=n,this.useMobXMode=r,this.updateLimiter=new a.InvokeFrequencyLimiter(0,this.updateState),this.onStateChanged=o,this.disposers=this.createAutoRun(i)}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.release=function(){for(var e=0,t=this.disposers;e<t.length;e++)(0,t[e])()},e.prototype.activeUpdate=function(e,t){var n;try{this.activeUpdateKey=e;var r=t();return this._state=this.setState(e,r),this.onStateChanged&&!this.disableActiveCallback&&this.onStateChanged(((n={})[e]=r,n)),r}finally{this.activeUpdateKey=null}},e.prototype.createAutoRun=function(e){var t=this,n=[],r=function(r){var i=e[r],a=o.autorun((function(){if(t.didStateReady){var e=i();t.activeUpdateKey===r||s.isEquals(e,r in t.updatedState?t.updatedState[r]:t._state[r])||(t.updatedState[r]=e,t.updateLimiter.invoke())}else t.updatedState[r]=i()}));n.push(a)};for(var i in e)r(i);return this._state=this.createState(this.updatedState),this.updatedState={},this.didStateReady=!0,n},e.prototype.createState=function(e){return this.useMobXMode?o.observable(e):Object.freeze(e)},e.prototype.patchState=function(e){if(this.useMobXMode){for(var t in e)this._state[t]=e[t];return this._state}return Object.freeze(Object.assign({},this._state,e))},e.prototype.setState=function(e,t){var n;return this.useMobXMode?(this._state[e]=t,this._state):Object.freeze(r(r({},this._state),((n={})[e]=t,n)))},i([o.action],e.prototype,"activeUpdate",null),i([o.action],e.prototype,"updateState",void 0),e}();t.StateTrigger=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24);t.basePixelWidth=function(e){switch(e){case r.ScreenType.Desktop:case r.ScreenType.Phone:case r.ScreenType.Pad:case r.ScreenType.TV:return 2.42;default:return 1}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(76);t.videoJSID="white-sdk-video-js";var a=function(){function e(e,n){if(this.mediaURL=e,this.isCanPlay=!1,this.isReady=!1,this.seekTime=0,!document)throw new Error("MediaPlayer can only work in browser");this.callbacks=Object.freeze(r({},n)),this.videoJSWrapper=o.default.getPlayer(t.videoJSID);var i=document.getElementById(t.videoJSID);this.videoJSWrapper?this.videoJSWrapper.src(this.mediaURL):i?(i.classList.add("video-js"),i.setAttribute("x5-video-player-type","h5-page"),this.videoJSWrapper=o.default(t.videoJSID,{preload:"auto",controls:!1}),this.videoJSWrapper.src(this.mediaURL)):(this.createVideojsPlayer(),this.videoJSWrapper.src(this.mediaURL)),this.bindEvents()}return e.prototype.createVideojsPlayer=function(){var e=document.createElement("video");e.setAttribute("x5-video-player-type","h5-page"),e.setAttribute("id",t.videoJSID),e.setAttribute("playsInline",""),e.setAttribute("style","display:none;"),e.setAttribute("class","video-js"),document.body.appendChild(e),this.videoJSWrapper=o.default(e,{preload:"auto",controls:!1})},e.prototype.bindEvents=function(){var e=this;this.videoJSWrapper.ready((function(){e.isReady=!0,0!==e.seekTime&&(this.currentTime(e.seekTime),e.seekTime=0,e.callbacks.onSeeked()),this.on("canplay",(function(){e.isCanPlay=!0,e.callbacks.onCanPlay()})),this.on("waiting",(function(){e.isCanPlay=!1,e.callbacks.onBuffering()})),this.on("ended",(function(){e.isCanPlay=!1,e.callbacks.onEnded()})),this.on("seeked",(function(){e.isCanPlay=!0,e.callbacks.onSeeked()}))}))},e.prototype.pause=function(){this.videoJSWrapper.pause()},e.prototype.play=function(){return this.videoJSWrapper.play(),this.isCanPlay?i.OperationResult.Success:i.OperationResult.Padding},e.prototype.seek=function(e){var t=e/1e3;return this.videoJSWrapper.currentTime()===t?(this.seekTime=0,i.OperationResult.Success):this.isReady?(this.videoJSWrapper.currentTime(t),this.seekTime=this.videoJSWrapper.currentTime()===t?0:t,this.isCanPlay&&this.videoJSWrapper.currentTime()===t?i.OperationResult.Success:i.OperationResult.Padding):(this.seekTime=t,i.OperationResult.Padding)},e.prototype.stop=function(){this.videoJSWrapper.pause()},e}();t.VideoJSPlayer=a},function(e,t){e.exports=n("8OJ3")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(8),o=n(6),a=function(){function e(e,t){this.deviceType=e,this.screenType=t,this.previousPoint={x:0,y:0},this.previousTimestamp=0,this.currentSpeed=0,this.isPressed=!1}return e.prototype.radius=function(e,t,n){switch(this.updatePressed(t,n),this.deviceType){case r.DeviceType.Touch:return 36/o.basePixelWidth(this.screenType);default:return e===i.ApplianceNames.eraser?this.getSpeedRaidus():0}},e.prototype.updatePressed=function(e,t){if(this.isPressed!==t&&(this.isPressed=t,t?(this.previousPoint.x=0,this.previousPoint.y=0,this.previousTimestamp=Date.now(),this.currentSpeed=0):this.currentSpeed=0),t){var n=Date.now(),r=e.x-this.previousPoint.x,i=e.y-this.previousPoint.y,o=n-this.previousTimestamp,a=0===o?0:Math.sqrt(r*r+i*i)/o;this.previousPoint.x=e.x,this.previousPoint.y=e.y,this.previousTimestamp=n,this.currentSpeed=(a+this.currentSpeed)/2}},e.prototype.getSpeedRaidus=function(){var e=this.currentSpeed;return e>4.35?e=4.35:e<.45&&(e=.45),90*(e-.45)/(4.35-.45)/o.basePixelWidth(this.screenType)},e}();t.RadiusSelector=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(79),i=function(){function e(){this.listeners={},this.eventsMergers={},this.waitingNodes=[]}return e.prototype.dispatchMagixEvent=function(e){var t=this.listeners[e.event];if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];try{i(e)}catch(e){console.error(e)}}var o=this.waitingNodes.findIndex((function(t){return!!t.filter(e)&&(t.resolve(e),!0)}));-1!==o&&this.waitingNodes.splice(o,1)},e.prototype.addMagixEventsListener=function(e,t,n){var i=r.createEventsMerger(t,n),o=this.eventsMergers[e];o||(this.eventsMergers[e]=o=[]),o.push(i),this.addMagixEventListener(e,i)},e.prototype.addMagixEventListener=function(e,t){var n=this.listeners[e];n||(this.listeners[e]=n=[]),n.push(t)},e.prototype.removeMagixEventListener=function(e,t){if(t){var n=this.removeFromEventMerges(e,t);this.removeFromListeners(e,n||t)}else delete this.listeners[e],delete this.eventsMergers[e]},e.prototype.removeFromEventMerges=function(e,t){var n=this.eventsMergers[e];if(n){for(var r=-1,i=0;i<n.length;++i)if(n[i].proxyListener===t){r=i;break}if(-1!==r){var o=n[r];return n.splice(r,1),0===n.length&&delete this.eventsMergers[e],o}}},e.prototype.removeFromListeners=function(e,t){var n=this.listeners[e];if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this.listeners[e])}},e.prototype.waitMagixEvent=function(e){var t=this;return new Promise((function(n){t.waitingNodes.push({resolve:n,filter:e})}))},e}();t.MagixEventsManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.createEventsMerger=function(e,t){var n=[],i=new r.InvokeFrequencyLimiter(t,(function(){n.length>0&&e(n.splice(0,n.length))}));function o(e){n.push(e),i.invoke()}return Object.defineProperty(o,"proxyListener",{writable:!1,value:e}),o}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=n(2),c=n(0),u=n(1),l=n(29),p=n(18),d=n(31),h=n(81),f=n(5),m=n(30);function g(e){return"object"==typeof e&&null!==e}var y=function(){function e(e){this.params=e}return e.prototype.create=function(e,t,n,r){return new v(e,t,n,r,this.params)},e}();t.ActiveDisplayerFactory=y;var v=function(){function e(e,t,n,r,i){var o,a=this;this.onScreenSizeUpdated=function(e){a.cameraBoundState.setScreenSize(e),a.cursors&&a.cursors.updateScreenSize(),a.render.refreshSceneComponents(),a._onScreenSizeUpdated&&a._onScreenSizeUpdated(e)};var s=r.WhiteRender,p=s.WhiteboardRender,d=s.EnginesHub;this._observerId=t?t._observerId:c.AdminObserverId,this.modules=r,this.dynamicPpt=r.WhiteRender.createDynamicPpt({globalStateUpdater:i.globalStateUpdater,observerId:this._observerId,userFonts:i.userFonts,pptAssetsOrigin:"https://"+f.environment.hosts.pptAssets,preload:i.preloadDynamicPPT,pptHandler:i.pptHandler,onPPTLoadProgress:i.onPPTLoadProgress,onPPTMediaPlay:i.onPPTMediaPlay,onPPTMediaPause:i.onPPTMediaPause,logger:i.logger,pptParams:i.pptParams,userPayload:i.userPayload}),this.pluginManager=this.createPluginManager(r,i.pluginOperator,i.plugins),this.applianceManager=n,this.engines=d&&new d(i.renderEngine),this.engines&&(this.screenshotEngines="svg"===i.renderEngine?this.engines:new d("svg")),t&&!t.pluginManager.isPlaying&&this.setPlayerState({isPlaying:!1}),this.scene=this.createScene(i.boundless,r,i.renderEngine);var m=n.getViewState();if(this.screen=this.scene.createScreen({className:"netless-whiteboard",engines:null===(o=this.engines)||void 0===o?void 0:o.enginesList,autoResize:i.autoResize,eventInterrupter:i.eventInterrupter,wrappedComponents:i.wrappedComponents,context:Object.freeze({deviceType:i.boundless.deviceType,observerId:this._observerId,dynamicPpt:this.dynamicPpt,forcePPTLandscape:!1,disalbeImageHit:!1,pluginManager:this.pluginManager,fontFamily:i.fontFamily,convertIdToUrl:i.urlInterrupter,updateTextarea:i.onTextareaUpdate,updateCursorClass:i.updateCursorClass,completeImageUpload:i.completeImageUpload,floatBarClass:i.floatBarClass,textareaHub:i.textareaHub})}),this.screen.adaptRectangle({originX:m.originX,originY:m.originY,width:m.width,height:m.height,adapterMode:u.RectangleAdapterMode.Centering,animationMode:u.AnimationMode.Immediately}),this.onCatchErrorWhenRender=i.onCatchErrorWhenRender,this._onScreenSizeUpdated=i.onScreenSizeUpdated,i.onCatchErrorWhenRender&&this.screen.addRenderErrorCatchedListener(i.onCatchErrorWhenRender),this.screen.addSizeUpdatedListener(this.onScreenSizeUpdated),t){var g=t.cameraBoundState;this.cameraBoundState=new l.CameraBoundState(this.screen,g.cameraBound),this.cameraBoundState.cameraman.disableBoundlessEvent=g.cameraman.disableBoundlessEvent,this.cameraBoundState.cameraman.disableCameraTransform=g.cameraman.disableCameraTransform,this.cameraBoundState.cameraman.handToolKey=g.cameraman.handToolKey}else this.cameraBoundState=new l.CameraBoundState(this.screen,i.cameraBound),this.cameraBoundState.cameraman.disableBoundlessEvent=i.disableOperations,this.cameraBoundState.cameraman.handToolKey=i.handToolKey;this.render=new p(this.screen,this.pluginManager,n,this.engines),setTimeout((function(){var t;a.cursors=new h.CursorsManager({appVersion:e,applianceManager:n,screen:a.screen,engine:null===(t=a.engines)||void 0===t?void 0:t.engines.mouseCurosrEngine,observerId:a._observerId,willHideObserver:i.willHideSelfCursor,adapter:i.cursorAdapter})}),0)}return e.prototype.createPluginManager=function(e,t,n){var r=new(0,e.WhiteRender.PluginManager)(n?n.plugins:{},t);return n&&n.setPluginManager(r),r},e.prototype.createScene=function(e,t,n){var r=t.WhiteRender;if(r.createLayoutDescriptions){var i=r.createLayoutDescriptions(n);return e.createSceneWithLegacyLayoutDescriptions(i)}return e.createScene()},Object.defineProperty(e.prototype,"observerId",{get:function(){return this._observerId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cameraman",{get:function(){return this.cameraBoundState.cameraman},enumerable:!0,configurable:!0}),e.prototype.setObserverId=function(e){this._observerId!==e&&(this._observerId=e,this.screen.context=Object.freeze(r(r({},this.screen.context),{observerId:e})),this.dynamicPpt.updateObserverId&&this.dynamicPpt.updateObserverId(e),this.cursors&&this.cursors.updateObserverId(e))},e.prototype.setCameraBound=function(e){this.cameraBoundState.setCameraBound(e)},e.prototype.setPlayerState=function(e){this.pluginManager.setPlayerState?this.pluginManager.setPlayerState(e):void 0!==e.isPlaying&&this.pluginManager.setPlayingState(e.isPlaying)},e.prototype.assignAttributes=function(e,t){if(void 0===t||g(t)){var n=this.pluginManager.findPlugin(e);n&&g(n.defaultAttributes)&&(t=r(r({},n.defaultAttributes),t))}return t},e.prototype.resizeScreen=function(){this.screen.resize()},e.prototype.refreshRender=function(){this.render.refreshSceneComponents()},e.prototype.getTargetsMap=function(e,t){var n=e.component,r=e.engine,i=void 0;return c.isInstanceOf(n.payload,this.modules.WhiteModel.ApplianceComponent)&&(i=this.render.getTargetsMap?this.render.getTargetsMap(n,t):this.render.findTargetsMap(n.id,r.orderIndex,t)),i},e.prototype.release=function(){var e;this.onCatchErrorWhenRender&&this.screen.removeRenderErrorCatchedListener(this.onCatchErrorWhenRender),this.screen.removeSizeUpdatedListener(this.onScreenSizeUpdated),null===(e=this.cursors)||void 0===e||e.release(),this.screen.divElement=null,this.render.release()},e.prototype.scenePreview=function(e,t,n,r){var i=this.modules.WhiteRender.screenshot;if(this.screenshotEngines&&i){var o=p.scenePathConverter.parse(e),c=this.screen;n="number"!=typeof n?t.clientWidth:n,r="number"!=typeof r?t.clientHeight:r;var u=Math.min(n/c.width,r/c.height)*c.camera.scale,l=i({applianceManager:this.applianceManager,engines:this.screenshotEngines,pluginManager:this.pluginManager,width:n,height:r,pptAssetsOrigin:"https://"+f.environment.hosts.pptAssets,path:o,camera:{centerX:c.camera.centerX,centerY:c.camera.centerY,scale:u}});if(!s.isValidElement(l))throw new Error("scene preview must render ReactElement");a.render(l,t)}},e.prototype.fillSceneSnapshot=function(e,t,n,r){var i=this.modules.WhiteRender.screenshot;if(this.screenshotEngines&&i){var o=p.scenePathConverter.parse(e),c=i({applianceManager:this.applianceManager,engines:this.screenshotEngines,pluginManager:this.pluginManager,width:n,height:r,pptAssetsOrigin:"https://"+f.environment.hosts.pptAssets,path:o});if(!s.isValidElement(c))throw new Error("scene preview must render ReactElement");a.render(c,t)}},e.prototype.generateScreenshot=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i,a;return o(this,(function(o){switch(o.label){case 0:if(e?(i=p.scenePathConverter.parse(e),r=this.applianceManager.scenes.getScene(i)):r=this.applianceManager.scene,!r)throw new Error("cannot find scene with path "+JSON.stringify(e));return(a=this.findBackgroundImage(r))?[4,this.generateImage(a,t,n)]:[3,2];case 1:return[2,o.sent()];case 2:return[2,m.generateEmptyImage(1,1)]}}))}))},e.prototype.findBackgroundImage=function(e){for(var t=this.modules.WhiteModel.BackgroundImage,n=0;n<e.componentsLength;++n){var r=e.componentAt(n);if(c.isInstanceOf(r,t))return r}return null},e.prototype.generateImage=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i,a,s,c,u,l,p;return o(this,(function(o){switch(o.label){case 0:return r=document.createElement("canvas"),void 0===t&&(t=e.width),void 0===n&&(n=e.height),r.width=t,r.height=n,!(i=e.previewURL)&&/^https?:\/\//im.test(e.src)&&(i=e.src),i?[4,d.fetchCanvasImageSource(i)]:[3,2];case 1:a=o.sent(),s=r.getContext("2d"),c=Math.min(t/e.width,n/e.height),s.drawImage(a,(t-(u=e.width*c))/2,(n-(l=e.height*c))/2,u,l),o.label=2;case 2:return[4,new Promise((function(e){return r.toBlob(e)}))];case 3:return p=o.sent(),[2,URL.createObjectURL(p)]}}))}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(82);t.CursorsManager=r.CursorsManager},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(83),a=n(87),s=n(7),c=n(8),u=function(){function e(e){var t=this;this.autoUpdateCursors=function(){var e,n=t.applianceManager.getMemberDisplayers(),r=t.isFollowerFixedOnScreen(n);t.laserPointerStateNodes.updateMemberDisplayers(n,r),null===(e=t.cursorStateNodes)||void 0===e||e.updateMemberDisplayers(n,r)},this.applianceManager=e.applianceManager,this.screen=e.screen,this.observerId=e.observerId;var n=this.getMouseCursorEngine(e.appVersion,e.engine),r=e.willHideObserver;this.laserPointerStateNodes=new o.CursorStateNodesSet({idPrefix:"laser-pointer-",adapter:new a.LaserPointerCursorAdapter,applianceManager:this.applianceManager,engine:n,screen:this.screen,willShow:function(e){return e.currentApplianceName===c.ApplianceNames.laserPointer&&(!r||e.memberId!==t.observerId)}}),e.adapter&&(this.cursorStateNodes=new o.CursorStateNodesSet({idPrefix:"cursor-",adapter:e.adapter,applianceManager:this.applianceManager,engine:n,screen:this.screen,willShow:function(e){return e.currentApplianceName!==c.ApplianceNames.laserPointer&&(!r||e.memberId!==t.observerId)}})),this.disposer=i.autorun(this.autoUpdateCursors)}return e.prototype.updateObserverId=function(e){this.observerId=e},e.prototype.updateScreenSize=function(){var e;this.laserPointerStateNodes.updateScreenSize(),null===(e=this.cursorStateNodes)||void 0===e||e.updateScreenSize()},e.prototype.release=function(){this.disposer()},e.prototype.getMouseCursorEngine=function(e,t){if(t)return t;switch(e){case"2.0.0":return this.screen.scene.getEngineWithLegacyLayout(4);case"2.1.0":return this.screen.scene.getEngineWithLegacyLayout(5);default:throw new Error("invalid app version "+e)}},e.prototype.isFollowerFixedOnScreen=function(e){for(var t=void 0,n=0;n<e.length;++n){var r=e[n];if(r.memberId===this.observerId){t=r;break}}return!!t&&(t.mode===s.ViewMode.Broadcaster||t.mode===s.ViewMode.Follower)},r([i.observable],e.prototype,"observerId",void 0),e}();t.CursorsManager=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84),i=function(){function e(e){this.nodes={},this.idPrefix=e.idPrefix,this.adapter=e.adapter,this.applianceManager=e.applianceManager,this.engine=e.engine,this.screen=e.screen,this.willShow=e.willShow}return e.prototype.updateScreenSize=function(){for(var e in this.nodes)this.nodes[e].updateScreenSize()},e.prototype.updateMemberDisplayers=function(e,t){for(var n={},i=this.nodes,o=0;o<e.length;++o){var a=e[o],s=a.memberId;if(this.willShow(a)){var c=i[s];c?(c.updateDisplayer(a,t),n[s]=c,delete i[s]):n[s]=new r.CursorStateNode({idPrefix:this.idPrefix,applianceManager:this.applianceManager,screen:this.screen,engine:this.engine,displayer:a,isFollowerFixedOnScreen:t,adapter:this.adapter})}}for(var s in i)i[s].remove();this.nodes=n},e}();t.CursorStateNodesSet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15),o=n(85),a=n(7),s=function(){function e(e){this.didMouseCursorMoved=!1,this.inactivityTimer=null,this.shouldAppearNextFrame=!0;var t=e.displayer;this.applianceManager=e.applianceManager,this.screen=e.screen,this.engine=e.engine,this.isCursorInScene=t.isCursorInScene,this.isPressed=t.isPressed,this.isActivity=t.isActivity,this.isKeepVisible=t.isActivity,this.setPositionProperties(t,e.isFollowerFixedOnScreen),this.latestCheckedCursorX=this.cursorX,this.latestCheckedCursorY=this.cursorY,this.cursor=new o.CursorImplement({idPrefix:e.idPrefix,applianceManager:this.applianceManager,displayer:t,screen:this.screen,engine:this.engine,adapter:e.adapter,point:this.getCurrentComponentPosition()}),this.refreshIsVisible()}return Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.isCursorInScene&&this.isKeepVisible},enumerable:!0,configurable:!0}),e.prototype.updateDisplayer=function(e,t){this.setPositionProperties(e,t),this.setVisibleProperties(e),this.refreshComponentPosition(),this.cursor.updateDisplayer(e)},e.prototype.updateScreenSize=function(){this.refreshComponentPosition()},e.prototype.remove=function(){this.cleanInactivityDelayer(),this.screen.scene.removeComponent(this.cursor.component),this.cursor.release()},e.prototype.setPositionProperties=function(e,t){if(this.mode=e.mode,this.originX=e.originX,this.originY=e.originY,this.cursorX=e.cursorX,this.cursorY=e.cursorY,this.width=e.width,this.height=e.height,this.isFollowerFixedOnScreen=t,this.didMouseCursorMoved)this.latestCheckedCursorX=this.cursorX,this.latestCheckedCursorY=this.cursorY;else{var n=i.KeepActiveMaxDistance,r=(this.cursorX-this.latestCheckedCursorX)*this.width*(0===this.width?1:this.screen.width/this.width),o=(this.cursorY-this.latestCheckedCursorY)*this.height*(0===this.height?1:this.screen.height/this.height);r*r+o*o>=n*n&&(this.didMouseCursorMoved=!0)}},e.prototype.setVisibleProperties=function(e){var t=this.isActivity;this.isCursorInScene=e.isCursorInScene,this.isPressed=e.isPressed,this.isActivity=e.isActivity,t&&!this.isActivity?(this.delayInactivity(),this.checkMouseCursorMoved()):!t&&this.isActivity?(this.cleanInactivityDelayer(),this.isKeepVisible=!0):!this.isActivity&&this.checkMouseCursorMoved()&&this.delayInactivity(),this.refreshIsVisible()},e.prototype.refreshComponentPosition=function(){if(this.isVisible){var e=this.getCurrentComponentPosition(),t=this.getNextAnimationMode();this.cursor.component.moveTo(e.x-this.cursor.x,e.y-this.cursor.y,t)}},e.prototype.getNextAnimationMode=function(){return this.shouldAppearNextFrame?(this.shouldAppearNextFrame=!1,r.AnimationMode.Immediately):this.isPressed?r.AnimationMode.Immediately:r.AnimationMode.Continuous},e.prototype.getCurrentComponentPosition=function(){var e,t;if(this.isFollowerFixedOnScreen&&this.mode!==a.ViewMode.Freedom){var n=Math.min(0===this.width?1:this.screen.width/this.width,0===this.height?1:this.screen.height/this.height);e=this.cursorX*this.width*n+(this.screen.width-n*this.width)/2-this.screen.width/2,t=this.cursorY*this.height*n+(this.screen.height-n*this.height)/2-this.screen.height/2}else{var r=this.screen.camera;e=((e=this.cursorX*this.width+this.originX)-r.centerX)*(n=r.scale),t=((t=this.cursorY*this.height+this.originY)-r.centerY)*n}return{x:e,y:t}},e.prototype.checkMouseCursorMoved=function(){return!!this.didMouseCursorMoved&&(this.didMouseCursorMoved=!1,!0)},e.prototype.cleanInactivityDelayer=function(){null!==this.inactivityTimer&&(clearTimeout(this.inactivityTimer),this.inactivityTimer=null)},e.prototype.delayInactivity=function(){var e=this;null!==this.inactivityTimer&&(clearTimeout(this.inactivityTimer),this.inactivityTimer=null),this.isActivity||(this.isKeepVisible=!0,this.refreshIsVisible(),this.inactivityTimer=setTimeout((function(){e.isKeepVisible=!1,e.inactivityTimer=null,e.refreshIsVisible()}),i.BecomeInactivityDuration))},e.prototype.refreshIsVisible=function(){var e=this.isVisible;e||(this.shouldAppearNextFrame=!0),this.cursor.component.setVisible(this.engine,e)},e}();t.CursorStateNode=s},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(4),a=n(1),s=n(86),c=n(28),u=function(){function e(e){var t=this;this.reactNode=null,this.onCursorComponentChanged=function(e){t.cursorComponent=e,e?t.adapter.onAddedCursor&&t.adapter.onAddedCursor(t):t.adapter.onRemovedCursor&&t.adapter.onRemovedCursor(t)},this.onComponentMoved=function(){t.adapter.onMovingCursor&&t.adapter.onMovingCursor(t,t.component.originX+t._x+t.screen.width/2,t.component.originY+t._y+t.screen.height/2)},this.idPrefix=e.idPrefix,this.applianceManager=e.applianceManager,this.adapter=e.adapter,this.screen=e.screen,this.memberId=e.displayer.memberId;var n=e.displayer,c=this.adapter.createCursor(n.memberId);this._x=c.x,this._y=c.y,this._width=c.width,this._height=c.height,this.reactNode=c.reactNode||null,this.cursorDefinition=a.createComponentDefinition({name:"Cursor"}),e.engine.bind(this.cursorDefinition)(s.CursorComponent),this.component=this.screen.scene.addComponent({id:this.idPrefix+n.memberId,definition:this.cursorDefinition,originX:e.point.x-this._x,originY:e.point.y-this._y,width:c.width,height:c.height,orderIndex:this.memberId,absoluteCoordinates:!0,payload:{reactNode:this.reactNode,onCursorComponentChanged:this.onCursorComponentChanged}}),this.adapter.onMovingCursor&&this.component.addRectangleUpdatedListener(this.onComponentMoved),this.disposer=o.autorun((function(){var e=t.applianceManager.getMemberState(n.memberId);if(e){var o=e.currentApplianceName,a=i.copy(e.strokeColor);t._cursorMember?(t._cursorMember=Object.freeze(r(r({},t._cursorMember),{color:a,appliance:o})),t.onCursorMemberChanged&&t.onCursorMemberChanged(t._cursorMember)):t._cursorMember=Object.freeze({color:a,appliance:o,information:n.information})}}))}return Object.defineProperty(e.prototype,"cursorMember",{get:function(){return this._cursorMember},enumerable:!0,configurable:!0}),e.prototype.updateDisplayer=function(e){this._cursorMember&&!c.isEquals(this._cursorMember.information,e.information)&&(this._cursorMember=Object.freeze(r(r({},this._cursorMember),{information:e.information})),this.onCursorMemberChanged&&this.onCursorMemberChanged(this._cursorMember))},e.prototype.release=function(){this.disposer(),this.adapter.onMovingCursor&&this.component.removeRectangleUpdatedListener(this.onComponentMoved)},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"divElement",{get:function(){if(!this.cursorComponent)throw new Error("cursor isn't added");return this.cursorComponent.divElement},enumerable:!0,configurable:!0}),e.prototype.setReactNode=function(e){this.reactNode=e,this.component.payload={reactNode:e,onCursorComponentChanged:this.onCursorComponentChanged}},e.prototype.setCursorDescription=function(e){var t=r({x:this._x,y:this._y,width:this._width,height:this._height},e);this.component.setRectangle(this.component.originX+(this._x-t.x),this.component.originY+(this._y-t.y),t.width,t.height),this._x=t.x,this._y=t.y,this._width=t.width,this._height=t.height},e}();t.CursorImplement=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(1),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRef=function(e){if(!t._divElement&&e)t._divElement=e,t.props.payload.onCursorComponentChanged(t);else if(t._divElement&&!e)try{t.props.payload.onCursorComponentChanged(null)}finally{t._divElement=e}},t}return i(t,e),Object.defineProperty(t.prototype,"divElement",{get:function(){return this._divElement},enumerable:!0,configurable:!0}),t.prototype.render=function(){return o.createElement(a.CNode,{context:this.props.cnode,onRef:this.onRef,style:this.props.size},this.props.payload.reactNode)},t.isVisible=!1,t}(o.Component);t.CursorComponent=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=function(){function e(){}return e.prototype.createCursor=function(){return{x:14,y:14,width:28,height:28,reactNode:o.createElement(s,null)}},e}();t.LaserPointerCursorAdapter=a;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){return o.createElement("img",{src:"https://sdk.netless.link/resource/mouse-cursor/laser-pointer-cursor.svg"})},t}(o.Component)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createPlugins=function(e){return new i(e)};var i=function(){function e(e){this.cacheContextMap={},this.manager=null,this.plugins=this.copyAndFreezePlugins(e)}return e.prototype.copyAndFreezePlugins=function(e){var t={};for(var n in e){var i=e[n];if(void 0!==i.kind&&n!==i.kind)throw new Error("plugin's kind "+JSON.stringify(i.kind)+" is not equals key "+JSON.stringify(n));var o=i.defaultAttributes;"object"==typeof o&&null!==o&&(o=Object.freeze(r({},o))),t[n]=Object.freeze({kind:n,render:i.render,defaultAttributes:o,hitTest:i.hitTest,willInterruptEvent:i.willInterruptEvent})}return Object.freeze(t)},e.prototype.setPluginContext=function(e,t){this.manager?this.manager.setPluginContext(e,t):this.cacheContextMap&&e in this.plugins&&(this.cacheContextMap[e]=t)},e.prototype.getPluginContext=function(e){return this.manager?this.manager.getPluginContext(e):this.cacheContextMap?this.cacheContextMap[e]:void 0},e.prototype.setPluginManager=function(e){if(this.cacheContextMap){for(var t in this.cacheContextMap)e.setPluginContext(t,this.cacheContextMap[t]);this.cacheContextMap=null}else if(this.manager)for(var t in this.plugins){var n=this.manager.getPluginContext(t);e.setPluginContext(t,n)}this.manager=e},e}();t.PluginsImplement=i},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=n(0),a=n(6),s=function(){function e(e){this.enableCallbackUpdate=!0,this.disposer=null,this.kind=e.kind,this._displayer=e.displayer,this._callbacks=new a.CallbacksImplement,this.onAttributesUpdate&&this._callbacks.on("onAttributesUpdate",this.onAttributesUpdate.bind(this)),this.onDestroy&&this._callbacks.on("onDestroy",this.onDestroy.bind(this)),this.autorunAttributesUpdate()}return e.prototype.autorunAttributesUpdate=function(){var e=this,t=!1;this.disposer=i.autorun((function(){if(e._displayer.applianceManager.hasInvisibilePluginKind(e.kind)){var n=e.attributes;t&&e.enableCallbackUpdate&&e._callbacks.dispatch("onAttributesUpdate",(function(e){return e(n)})),t=!0}}))},Object.defineProperty(e.prototype,"displayer",{get:function(){return this._displayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"callbacks",{get:function(){return this._callbacks},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var e=this._displayer.applianceManager.getAttributesWithInvisiblePlugin(this.kind);return this._displayer.useMobXState||(e=o.copy(e)),e},enumerable:!0,configurable:!0}),e.prototype.setAttributes=function(e){var t=this;try{this.enableCallbackUpdate=!1,this._displayer.applianceManager.updateAttributesInvisiblePlugin(this.kind,e)}finally{Promise.resolve((function(){return t.enableCallbackUpdate=!0}))}},e.prototype.destroy=function(){var e=this;try{this.enableCallbackUpdate=!1,this._displayer.applianceManager.removeInvisiblePlugin(this.kind)}finally{Promise.resolve((function(){return e.enableCallbackUpdate=!0}))}},e.prototype._dispose=function(e){this.disposer&&(this.disposer(),this.disposer=null),e&&this.enableCallbackUpdate&&this._callbacks.dispatch("onDestroy",(function(e){return e()}))},r([i.computed],e.prototype,"attributes",null),e}();t.InvisiblePlugin=s;var c=function(){function e(e,t,n){this.pluginClasses={},this.plugins={},this.paddingCreators={},this.disposer=null,this.logger=e,this.displayer=t,this.pluginClasses=this.createPluginClasses(n)}return e.prototype.createPluginClasses=function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];if(i.kind in t)throw new Error("duplicated kind from invisible plugin "+JSON.stringify(i.kind));t[i.kind]=i}return Object.freeze(t)},e.prototype.fireLibraryNodeUpdate=function(){var e=this;this.disposer||(this.disposer=i.autorun((function(){for(var t in e.pluginClasses)e.refreshPlugin(e.pluginClasses[t])})))},e.prototype.get=function(e){return this.plugins[e]||null},e.prototype.create=function(e,t){var n=this;return new Promise((function(r,i){var o=e.kind,a=n.displayer.applianceManager;try{if(n.addPaddingCreator(o,r),e!==n.pluginClasses[o])throw new Error("unregister invisible plugin class");a.putInvisiblePlugin(o,t)}catch(e){i(e),n.removePaddingCreator(o,r)}}))},e.prototype.dispose=function(){for(var e in this.disposer&&(this.disposer(),this.disposer=null),this.plugins){try{this.plugins[e]._dispose(!1)}catch(e){this.logger.error(e)}delete this.plugins[e]}},e.prototype.refreshPlugin=function(e){var t=e.kind;if(this.displayer.applianceManager.hasInvisibilePluginKind(t)){if(!this.plugins[t]){var n=this.plugins[t]=new e({displayer:this.displayer,kind:t});if(e.onCreate)try{e.onCreate(n)}catch(e){this.logger.error(e)}}var r=this.paddingCreators[t];if(r){delete this.paddingCreators[t];for(var i=0,o=r;i<o.length;i++)(0,o[i])(this.plugins[t])}}else if(n=this.plugins[t]){delete this.plugins[t];try{n._dispose(!0)}catch(e){this.logger.error(e)}if(e.onDestroy)try{e.onDestroy(n)}catch(e){this.logger.error(e)}}},e.prototype.addPaddingCreator=function(e,t){var n=this.paddingCreators[e];n||(n=this.paddingCreators[e]=[]),n.push(t)},e.prototype.removePaddingCreator=function(e,t){var n=this.paddingCreators[e];if(n){var r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this.paddingCreators[e])}},e}();t.InvisiblePluginNode=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),l=n(23),p=n(3),d=n(9),h=n(0),f=n(17),m=n(32),g=n(33),y=n(15),v=n(11),b=n(7),A=n(34),x=n(35),w=n(16),_=n(18),S=n(98),T=n(6),P=function(e){function t(t){var n=e.call(this,{logger:t.logger,useMobXState:t.useMobXState,screenType:t.screenType,renderEngine:t.renderEngine,boundless:t.boundless,cameraBound:t.cameraBound,autoResize:t.autoResize,plugins:t.plugins,invisiblePlugins:t.invisiblePlugins,wrappedComponents:t.wrappedComponents,preloadDynamicPPT:t.preloadDynamicPPT,disableCameraTransform:t.disableCameraTransform,userFonts:t.userFonts,handToolKey:t.handToolKey,fontFamily:t.fontFamily,onlyCallbackRemoteStateModify:t.onlyCallbackRemoteStateModify,pptHandler:{onPageJumpTo:function(e,t){return n.pptJumpTo(e,t)},onPageToNext:function(){return n.nextPpt()},onPageToPrev:function(){return n.previousPpt()}},textareaHub:t.floatBarOptions&&new T.TextareaHubImplement,floatBarClass:t.floatBarOptions&&x.FloatBar,globalStateUpdater:function(e){return n.setGlobalState(e)},disableOperations:!1,willHideSelfCursor:!0,cursorAdapter:t.cursorAdapter,eraserRadiusCursor:t.eraserRadiusCursor,eventInterrupter:function(e){return n.willInterruptEvent(e)},urlInterrupter:t.urlInterrupter,onTextareaUpdate:function(e){return n.applianceManager.updateTextarea(e)},completeImageUpload:function(e,t){return n.applianceManager.completeImageUpload(e,t)},callbacks:t.callbacks,pptParams:t.pptParams,userPayload:t.userPayload})||this;return n._phase=m.RoomPhase.Connecting,n._isWritable=!1,n._enableWriteNow=!1,n.isEraser=!1,n.disableBezier=!1,n.copyBuffer=null,n.getHitTestIdentifiesWithRadius=function(e,t){var r=n.state.memberState.currentApplianceName;if(r!==w.ApplianceNames.selector&&r!==w.ApplianceNames.eraser)return[];var i=n.radiusSelector.radius(r,e,t);return n.setEraserRadius(t&&r===w.ApplianceNames.eraser?i:0),n.getHitTestIdentifies(e,i)},n.onRoomStateChanged=function(e){e.globalState&&n.dynamicPpt.setGlobalState(A.copyValue(e.globalState)),e.memberState&&(n.isEraser=e.memberState.currentApplianceName===w.ApplianceNames.eraser,n.refreshShouldDisableImageHit(),n.refreshCursorClass()),n.callbacks.dispatch("onRoomStateChanged",(function(t){return t(e)}))},n.onBoundlessEvent=function(e){switch(e.kind){case u.BoundlessEventKind.MouseDown:case u.BoundlessEventKind.MouseMove:case u.BoundlessEventKind.MouseUp:case u.BoundlessEventKind.MouseLeave:case u.BoundlessEventKind.SortedTouchStart:case u.BoundlessEventKind.SortedTouchMove:case u.BoundlessEventKind.SortedTouchEnd:case u.BoundlessEventKind.SortedTouchCancel:n.stateTrigger.state.memberState.currentApplianceName===w.ApplianceNames.hand?n.handleHandMouseEvent(e):n.hoverEventLimiter.pushBoundlessEvent(e);break;case u.BoundlessEventKind.KeyDown:case u.BoundlessEventKind.KeyUp:n.pushBoundlessKeyEvent(e)}},n.onModified=function(){b.ViewMode.Follower===n.viewStateObserver.getCurrentMode()&&n.viewStateObserver.refreshCameraRectangle(),n.refreshRender()},n.onDisconnectWithError=function(e){n.callbacks.dispatch("onDisconnectWithError",(function(t){return t(e)}))<=0&&n.logger.error(e)},n.updateSelfUserId=function(e){void 0===e?(n.setObserverId(h.AdminObserverId),n._isWritable=!1):(n.setObserverId(e),n._isWritable=!0),n.refreshCursorClass(),n.refreshSyncOperations()},n.onCameraTransform=function(e){m.RoomPhase.Connected===n._phase&&u.CameraTransformation.Begin===e&&b.ViewMode.Follower===n.stateTrigger.state.broadcastState.mode&&(n._isWritable?n.applianceManager.setViewState({mode:b.ViewMode.Freedom}):n.viewStateObserver.overrideWithFreedom(!0))},n.onCameraUpdated=function(e){if(n._isWritable)switch(n.stateTrigger.state.broadcastState.mode){case b.ViewMode.Broadcaster:case b.ViewMode.Freedom:n.syncCameraToRemoteLimiter.invoke()}},n.syncCameraToRemote=function(){if(n._isWritable){var e=n.cameraman.screen,t=e.visionRectangle,r=e.camera.scale*T.basePixelWidth(n.screenType);n.applianceManager.setViewState({originX:t.originX,originY:t.originY,width:t.width,height:t.height,pixelWidth:r})}},n.updateSession=function(e){n.logger.context=o(o({},n.logger.context),{session:e})},n.onPhaseChanged=function(e){n.logger.info("change room phase to "+e),e===h.MagixPhase.Disconnected&&n.dispose();var t=m.RoomPhase.Connecting;switch(e){case h.MagixPhase.Ready:case h.MagixPhase.Connecting:t=m.RoomPhase.Connecting;break;case h.MagixPhase.Connected:t=m.RoomPhase.Connected;break;case h.MagixPhase.Reconnecting:t=m.RoomPhase.Reconnecting;break;case h.MagixPhase.Disconnecting:t=m.RoomPhase.Disconnecting;break;case h.MagixPhase.Disconnected:t=m.RoomPhase.Disconnected}var r=n._phase!==t;n._phase=t,n.refreshSyncOperations(),r&&n.callbacks.dispatch("onPhaseChanged",(function(e){return e(t)}))},n.floatBarDelegate=n.createFloatBarDelegate(),n.rejectWhenReadonlyErrorLevel=t.rejectWhenReadonlyErrorLevel||m.RoomErrorLevel.ThrowError,n.magix=t.akkoApp.createMagix({logger:n.logger,userPayload:t.userPayload,libraryNodeFetcher:n.libraryNodeFetcher,callbacks:{onPhaseChanged:n.onPhaseChanged,onDisconnectWithError:n.onDisconnectWithError,onModified:n.onModified,onSelfUserIdUpdate:n.updateSelfUserId,onSessionChanged:n.updateSession,onEventFire:function(e){return n.dispatchMagixEventWithObject(e)},onKickedWithReason:function(e){return n.callbacks.dispatch("onKickedWithReason",(function(t){return t(e)}))},onCatchErrorWhenAppendFrame:function(e,t){return n.callbacks.dispatch("onCatchErrorWhenAppendFrame",(function(n){return n(e,t)}))},onSliceChanged:function(e){return n.callbacks.dispatch("onSliceChanged",(function(t){return t(e)}))}}}),n.eventsQueue=new S.EventsQueue(n.logger,y.CustomEventLimitTimeInterval,(function(e,t){return n.magix.dispatch(e,t)})),n.hoverEventLimiter=new T.HoverEventLimiter({getHitTestIdentifies:n.getHitTestIdentifiesWithRadius,pushBoundlessMouseEventKind:function(e,t){return n.pushBoundlessMouseEvent(e,t)}}),n._disableDeviceInputs=t.disableDeviceInputs,n._disableEraseImage=t.disableEraseImage,n.syncCameraToRemoteLimiter=new p.InvokeFrequencyLimiter(y.TransformLimitTimeInterval,n.syncCameraToRemote),n.radiusSelector=new T.RadiusSelector(n.deviceType,n.screenType),n.undoStack=new T.UndoStack({execute:function(e){return n.applianceManager.execute(e)},onCanUndoStepsUpdate:function(e){return n.callbacks.dispatch("onCanUndoStepsUpdate",(function(t){return t(e)}))},onCanRedoStepsUpdate:function(e){return n.callbacks.dispatch("onCanRedoStepsUpdate",(function(t){return t(e)}))}}),n.hotKeys=new T.HotKeysNode(t.hotKeys),n.floatBarOptions=t.floatBarOptions,n}return i(t,e),Object.defineProperty(t.prototype,"applianceManager",{get:function(){return this.magix.trigger},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isWritable",{get:function(){return this.magix.isWritable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enableWriteNow",{get:function(){return this._enableWriteNow},enumerable:!0,configurable:!0}),t.prototype.setWritable=function(e){return a(this,void 0,void 0,(function(){var t,n,r=this;return s(this,(function(i){switch(i.label){case 0:return this.logger.info("set writable "+e),e?[4,this.magix.setWritable(e,this.deviceType)]:[3,2];case 1:return i.sent(),this.disableBezier&&this.applianceManager.setMemberState({disableBezier:!0}),(t=this.applianceManager.getViewState().mode)!==b.ViewMode.Broadcaster&&(n=this.viewStateObserver.getCurrentMode())!==t&&this.stateTrigger.activeUpdate("broadcastState",(function(){return r.applianceManager.setViewState({mode:n}),r.viewStateObserver.getBroadcastState()})),this.viewStateObserver.setReadonlyMode(!1),[3,4];case 2:return this.viewStateObserver.setReadonlyMode(!0),[4,this.magix.setWritable(e)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},Object.defineProperty(t.prototype,"disableDeviceInputs",{get:function(){return this._disableDeviceInputs},set:function(e){this._disableDeviceInputs=e,this.refreshSyncOperations(),this.refreshCursorClass()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableEraseImage",{get:function(){return this._disableEraseImage},set:function(e){this._disableEraseImage=e,this.refreshShouldDisableImageHit()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disableSerialization",{get:function(){return this._phase!==m.RoomPhase.Connected||!this.applianceManager.enableExecute},set:function(e){this.isRoomEnableModify()&&(e&&(this.copyBuffer=null),this.applianceManager.setEnableExecute(!e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this._uuid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"session",{get:function(){return this.magix.session},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){return this.magix.slice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"roomToken",{get:function(){return this._roomToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this.stateTrigger.state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeDelay",{get:function(){return this.magix.timeDelay},set:function(e){this.magix.timeDelay=e},enumerable:!0,configurable:!0}),t.prototype.setupLibraryNode=function(e){var t=this;this.updateLibraryNode(e);var n=this.applianceManager;this.viewStateObserver=new g.ViewStateObserver({applianceManager:n,screen:this.screen}),this.stateTrigger=new T.StateTrigger({useMobXMode:this.useMobXState,disableMaskKey:this.onlyCallbackRemoteStateModify,onStateChanged:this.onRoomStateChanged,propertyGetters:{globalState:function(){return h.copy(n.getGlobalState())},memberState:function(){return h.copy(n.getMemberState())},roomMembers:function(){return n.getMemberDisplayers().map(t.covertMemberDisplayerToMember)},sceneState:function(){return t.getCurrentSceneState()},broadcastState:function(){return t.viewStateObserver.getBroadcastState()},zoomScale:function(){return t.viewStateObserver.zoomScale},cameraState:function(){return t.viewStateObserver.cameraState}}}),this.isEraser=this.stateTrigger.state.memberState.currentApplianceName===w.ApplianceNames.eraser,this.cameraman.addHandToolActiveListener(this.onHandToolActive),this.cameraman.addBoundlessEventListener(this.onBoundlessEvent),this.cameraman.addCameraTransformationListener(this.onCameraTransform),this.cameraman.screen.addCameraUpdatedListener(this.onCameraUpdated),this.dynamicPpt.setGlobalState(h.copy(n.getGlobalState())),this.refreshCursorClass(),this.refreshShouldDisableImageHit(),this.refreshSyncOperations()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hasLibraryNode&&(this.cameraman.removeBoundlessEventListener(this.onBoundlessEvent),this.cameraman.removeCameraTransformationListener(this.onCameraTransform),this.cameraman.screen.removeCameraUpdatedListener(this.onCameraUpdated)),this.viewStateObserver&&this.viewStateObserver.release(),this.stateTrigger&&this.stateTrigger.release()},t.prototype.handleHandMouseEvent=function(e){switch(e.kind){case u.BoundlessEventKind.MouseDown:case u.BoundlessEventKind.SortedTouchStart:this.handToolActive=!0,this.updateCursorClass("cursor-hand-grasp");break;case u.BoundlessEventKind.MouseUp:case u.BoundlessEventKind.SortedTouchEnd:case u.BoundlessEventKind.SortedTouchCancel:this.updateCursorClass("cursor-hand"),this.handToolActive=!1}},t.prototype.pushBoundlessMouseEvent=function(e,t){if(this.magix.phase===h.MagixPhase.Connected){var n=null,r={x:e.pointOnScene.x,y:e.pointOnScene.y,targetsMap:this.findTargetMapWithBoundlessEvent(e),hitTestIdentifies:t};switch(e.kind){case u.BoundlessEventKind.MouseDown:case u.BoundlessEventKind.SortedTouchStart:n=this.applianceManager.onMouseDown(r);break;case u.BoundlessEventKind.MouseMove:case u.BoundlessEventKind.SortedTouchMove:n=this.applianceManager.onMouseMove(r);break;case u.BoundlessEventKind.MouseUp:case u.BoundlessEventKind.SortedTouchEnd:case u.BoundlessEventKind.SortedTouchCancel:n=this.applianceManager.onMouseUp(r);break;case u.BoundlessEventKind.MouseLeave:n=this.applianceManager.onMouseLeave(r)}n&&this.undoStack.commit(n)}},t.prototype.pushBoundlessKeyEvent=function(e){var t,n=this.hotKeys.checkHotKey(e);switch(n&&(this.handleHotKey(n,e),null===(t=e.nativeEvent)||void 0===t||t.preventDefault()),e.kind){case u.BoundlessEventKind.KeyDown:this.callbacks.dispatch("onKeyDown",(function(t){return t(e.nativeEvent)}));break;case u.BoundlessEventKind.KeyUp:this.callbacks.dispatch("onKeyUp",(function(t){return t(e.nativeEvent)}))}},t.prototype.handleHotKey=function(e,t){switch(e){case"duplicate":this.duplicate();break;case"copy":this.copy();break;case"paste":this.paste();break;case"undo":this.undo();break;case"redo":this.redo();break;case"delete":this.delete();break;case"lock":var n=this.sendToApplianceManager(e,t);n&&this.undoStack.commit(n);break;case"changeToSelector":this.setMemberState({currentApplianceName:w.ApplianceNames.selector});break;case"changeToLaserPointer":this.setMemberState({currentApplianceName:w.ApplianceNames.laserPointer});break;case"changeToPencil":this.setMemberState({currentApplianceName:w.ApplianceNames.pencil});break;case"changeToRectangle":this.setMemberState({currentApplianceName:w.ApplianceNames.rectangle});break;case"changeToEllipse":this.setMemberState({currentApplianceName:w.ApplianceNames.ellipse});break;case"changeToEraser":this.setMemberState({currentApplianceName:w.ApplianceNames.eraser});break;case"changeToStraight":this.setMemberState({currentApplianceName:w.ApplianceNames.straight});break;case"changeToArrow":this.setMemberState({currentApplianceName:w.ApplianceNames.arrow});break;case"changeToHand":this.setMemberState({currentApplianceName:w.ApplianceNames.hand})}},t.prototype.sendToApplianceManager=function(e,t){var n=null,r={kind:e};switch(t.kind){case u.BoundlessEventKind.KeyDown:n=this.applianceManager.onKeyDown(r);break;case u.BoundlessEventKind.KeyUp:n=this.applianceManager.onKeyUp(r)}return n},t.prototype.findTargetMapWithBoundlessEvent=function(e){var t=e.nativeEvent,n=void 0;if(t&&t.target){var r=this.cameraman.screen.findComponentWithTarget(t.target);r&&(n=this.getTargetsMap(r,t))}return n||(n={}),n},t.prototype.willInterruptEvent=function(e){if(e instanceof KeyboardEvent){var t=!1;return this.callbacks.dispatch("willInterceptKeyboardEvent",(function(n){n(e)&&(t=!0)})),t}return!1},t.prototype.refreshSyncOperations=function(){var e=!this._isWritable||this._phase===m.RoomPhase.Reconnecting||this._phase===m.RoomPhase.Disconnecting||this._phase===m.RoomPhase.Disconnected,t=e||this._disableDeviceInputs;this.hasLibraryNode&&(this.cameraman.disableBoundlessEvent=t,this.dynamicPpt.setDisableInteractive(t)),this._enableWriteNow!==e&&(this._enableWriteNow=e,this.callbacks.dispatch("onEnableWriteNowChanged",(function(t){return t(e)})))},t.prototype.connect=function(e){return a(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),void 0!==(t=function(e){if("object"==typeof e){var t=e.userId;switch(typeof t){case"string":return t;case"number":case"boolean":return""+t}}}(e.userPayload))&&(this.logger.context=o(o({},this.logger.context),{userId:t})),this._uuid=e.uuid,this._roomToken=e.roomToken,[4,this.magix.connect({uuid:e.uuid,roomToken:e.roomToken,connectedPayload:e.deviceType,isWritable:e.isWritable})];case 1:return n=i.sent(),this.logger.context=o(o({},this.logger.context),{session:this.magix.session}),this.setupLibraryNode(n),this.magix.isWritable&&this.updateSelfUserId(this.magix.selfUserId),this._isWritable||this.viewStateObserver.setReadonlyMode(!0),this._isWritable&&e.disableBezier&&this.applianceManager.setMemberState({disableBezier:!0}),this.disableBezier=!!e.disableBezier,this.logger.info("join room success"),[3,3];case 2:throw r=i.sent(),this.logger.error("join room fail"),this.logger.error(r),r;case 3:return[2]}}))}))},t.prototype.onScreenSizeUpdated=function(){this.stateTrigger.state.broadcastState.mode!==b.ViewMode.Follower&&this.syncCameraToRemoteLimiter.invoke()},t.prototype.dispatchMagixEvent=function(e,t){this.isRoomEnableModify()&&this.eventsQueue.dispatch(e,t)},t.prototype.disconnect=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:if(this._phase===m.RoomPhase.Disconnected)throw new Error("room did disconnect");return[4,this.magix.disconnect()];case 1:return e.sent(),[2]}}))}))},t.prototype.memberState=function(e){return h.copy(this.magix.trigger.getMemberState(e))},t.prototype.setGlobalState=function(e){var t=this;return this.isRoomEnableModify()?this.stateTrigger.activeUpdate("globalState",(function(){var n=h.copy(t.applianceManager.setGlobalState(e));return t.dynamicPpt.setGlobalState(A.copyValue(n)),n})):this.stateTrigger.state.globalState},t.prototype.setMemberState=function(e){var t=this;if(this.isRoomEnableModify()){e.currentApplianceName&&this.cameraman.cancelCurrentContinuityEvent();var n=this.stateTrigger.activeUpdate("memberState",(function(){return h.copy(t.applianceManager.setMemberState(e))}));return this.refreshCursorClass(),n}return this.stateTrigger.state.memberState},t.prototype.setViewMode=function(e){var t=this;if(this.assertRoomIsConnected(),this._isWritable)this.stateTrigger.activeUpdate("broadcastState",(function(){return t.applianceManager.setViewState({mode:e}),t.viewStateObserver.getBroadcastState()})),e===b.ViewMode.Follower&&this.viewStateObserver.refreshCameraRectangle();else switch(e){case b.ViewMode.Follower:this.viewStateObserver.overrideWithFreedom(!1),this.viewStateObserver.refreshCameraRectangle();break;case b.ViewMode.Freedom:this.viewStateObserver.overrideWithFreedom(!0);break;case b.ViewMode.Broadcaster:throw new Error("cannot be broadcaster when room.isWritable is false")}},t.prototype.nextPpt=function(){var e=this.stateTrigger.state.sceneState,t=e.index;t<e.scenes.length-1&&this.setSceneIndex(t+1)},t.prototype.previousPpt=function(){var e=this.stateTrigger.state.sceneState.index;e>=1&&this.setSceneIndex(e-1)},t.prototype.pptJumpTo=function(e,t){var n=e+"/"+t+".slide",r=this.state.sceneState.scenes.findIndex((function(e){return!!e.ppt&&e.ppt.src.endsWith(n)}));r>0&&this.setSceneIndex(r)},t.prototype.updatePptPageInfo=function(){var e=this.stateTrigger.state.sceneState,t=e.scenes[e.index],n=t.ppt&&t.ppt.src,r=n&&this.dynamicPpt.getSlideUrl&&this.dynamicPpt.getSlideUrl(n);r&&this.setGlobalState(A.copyValue(this.dynamicPpt.globalStateWith({uuid:r.uuid,pageIndex:r.index,disableAutoPlay:!1})))},t.prototype.setScenePath=function(e){var t=this;if(this.isRoomEnableModify()){var n=this.applianceManager,r=this.scenePathType(e),i=e;if(r===w.ScenePathType.Dir){var o=h.copy(n.getSceneNames(_.scenePathConverter.parse(e))).shift();i=void 0===o?i:[i,o].join(f.PathSegmentSeparator)}this.stateTrigger.activeUpdate("sceneState",(function(){return n.changeScene(_.scenePathConverter.parse(i)),t.getCurrentSceneState()})),this.updatePptPageInfo()}},t.prototype.setSceneIndex=function(e){var t=this;if(this.isRoomEnableModify()){var n=this.stateTrigger.state.sceneState.scenes[e];if(!n)throw new Error("index "+e+" is out of range");var r=this.applianceManager,i=c(r.getCurrentScenePath());i.pop(),i.push(n.name),this.stateTrigger.activeUpdate("sceneState",(function(){return r.changeScene(i),t.getCurrentSceneState()})),this.updatePptPageInfo()}},t.prototype.moveCamera=function(t){var n=this;this.assertRoomIsConnected(),this._isWritable&&"number"==typeof t.scale?this.stateTrigger.activeUpdate("zoomScale",(function(){return e.prototype.moveCamera.call(n,t),t.scale})):e.prototype.moveCamera.call(this,t)},t.prototype.moveCameraToContain=function(t){var n=this;this.assertRoomIsConnected(),this._isWritable?this.stateTrigger.activeUpdate("zoomScale",(function(){return e.prototype.moveCameraToContain.call(n,t),n.cameraman.screen.camera.scale})):e.prototype.moveCameraToContain.call(this,t)},t.prototype.putScenes=function(e,t,n){var r=this;if(this.isRoomEnableModify()){for(var i=[],o=0,a=t;o<a.length;o++){var s=a[o];i.push(void 0!==s.name?s:{name:l.v1().replace(/-/g,""),ppt:s.ppt})}this.stateTrigger.activeUpdate("sceneState",(function(){return r.applianceManager.putScenes(_.scenePathConverter.parse(e),i,n),r.getCurrentSceneState()}))}},t.prototype.cleanCurrentScene=function(e){void 0===e&&(e=!0),this.isRoomEnableModify()&&this.applianceManager.cleanCurrentScene(e)},t.prototype.removeScenes=function(e){var t=this;this.isRoomEnableModify()&&this.stateTrigger.activeUpdate("sceneState",(function(){return t.applianceManager.removeScenes(_.scenePathConverter.parse(e)),t.getCurrentSceneState()}))},t.prototype.moveScene=function(e,t){var n=this;this.isRoomEnableModify()&&this.stateTrigger.activeUpdate("sceneState",(function(){return n.applianceManager.moveScene(_.scenePathConverter.parse(e),_.scenePathConverter.parse(t)),n.getCurrentSceneState()}))},t.prototype.createWrappedComponents=function(){return c(e.prototype.createWrappedComponents.call(this),[v.createWrappedComponent(v.roomContext,this)])},t.prototype.createPluginOperator=function(){var t=this;return Object.freeze(o(o({},e.prototype.createPluginOperator.call(this)),{remove:function(e){return t.removePlugin(e)},update:function(e,n){return t.updatePlugin(e,n)}}))},t.prototype.insertImage=function(e){this.isRoomEnableModify()&&this.applianceManager.insertImage(e)},t.prototype.completeImageUpload=function(e,t){this.isRoomEnableModify()&&this.applianceManager.completeImageUpload(e,t)},t.prototype.lockImage=function(e,t){this.isRoomEnableModify()&&this.applianceManager.lockImage(e,t)},t.prototype.getInvisiblePlugin=function(e){return this.invisiblePluginNode.get(e)},t.prototype.createInvisiblePlugin=function(e,t){return this.invisiblePluginNode.create(e,t)},t.prototype.insertPlugin=function(e,t){if(this.isRoomEnableModify()){var n=t&&t.attributes,r=this.assignAttributes(e,n);return r!==n&&(t=o(o({},t),{attributes:r})),this.applianceManager.insertPlugin(e,t).identifier}return d.NullIdentifier},t.prototype.removePlugin=function(e){var t=!1;return this.isRoomEnableModify()&&(t=!!this.applianceManager.removePlugin(e)),t},t.prototype.updatePlugin=function(e,t){var n=!1;return this.isRoomEnableModify()&&(n=!!this.applianceManager.updatePlugin(e,t)),n},t.prototype.getPluginAttributes=function(e){this.assertRoomIsConnected();var t=this.applianceManager.getPlugin(e);return t&&t.attributes},t.prototype.getPluginRectangle=function(e){this.assertRoomIsConnected();var t=this.applianceManager.getPlugin(e);return t&&{originX:t.originX,originY:t.originY,width:t.width,height:t.height}},t.prototype.duplicate=function(){if(this.isRoomEnableModify()){var e=12*(2*Math.random()-1),t=12*(2*Math.random()-1),n=this.applianceManager.duplicate(e,t);n&&this.undoStack.commit(n)}},t.prototype.copy=function(){this.isRoomEnableModify()&&(this.copyBuffer=this.applianceManager.copy())},t.prototype.paste=function(){if(this.isRoomEnableModify()&&this.copyBuffer){var e=12*(2*Math.random()-1),t=12*(2*Math.random()-1),n=this.applianceManager.paste(this.copyBuffer,e,t);n&&this.undoStack.commit(n)}},Object.defineProperty(t.prototype,"canUndoSteps",{get:function(){return this.undoStack.canUndoSteps},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRedoSteps",{get:function(){return this.undoStack.canRedoSteps},enumerable:!0,configurable:!0}),t.prototype.undo=function(){return this.isRoomEnableModify()&&this.undoStack.undo(),this.undoStack.canUndoSteps},t.prototype.redo=function(){return this.isRoomEnableModify()&&this.undoStack.redo(),this.undoStack.canRedoSteps},t.prototype.delete=function(){if(this.isRoomEnableModify()){var e=this.applianceManager.delete();e&&this.undoStack.commit(e)}},t.prototype.pptNextStep=function(){this.isRoomEnableModify()&&this.pptMoveStep(1)},t.prototype.pptPreviousStep=function(){this.isRoomEnableModify()&&this.pptMoveStep(-1)},t.prototype.pptMoveStep=function(e){var t=this.stateTrigger.state.sceneState,n=t.scenes,r=t.index,i=n[r],o=i.ppt&&i.ppt.src;if(o&&this.dynamicPpt.getSlideUrl(o))this.dynamicPpt.moveStep(e);else{var a=r+e;a>=0&&a<n.length&&this.setSceneIndex(a)}},t.prototype.refreshCursorClass=function(){var e=this.stateTrigger.state.memberState;this.updateCursorClass(this.magix.isWritable&&!this._disableDeviceInputs&&e?"cursor-"+e.currentApplianceName:null)},t.prototype.refreshShouldDisableImageHit=function(){var e=this._disableEraseImage&&this.isEraser;this.screen.context.disalbeImageHit!==e&&(this.screen.context=o(o({},this.screen.context),{disalbeImageHit:e}))},t.prototype.isRoomEnableModify=function(){if(this.assertRoomIsConnected(),this._isWritable)return!0;switch(this.rejectWhenReadonlyErrorLevel){case m.RoomErrorLevel.ThrowError:throw new Error("you can only call it when room is writable");case m.RoomErrorLevel.Warn:this.logger.warn("you can only call it when room is writable")}return!1},t.prototype.createFloatBarDelegate=function(){var e=this;return Object.freeze({delete:function(){return e.delete()},lockImages:function(t){return e.applianceManager.lockImages(t)},updateTextareaFormat:function(t){if(e.textareaHub){var n=e.textareaHub.getTextareaSizeMap(t),r=e.applianceManager.updateTextareaFormat(t,n);r&&e.undoStack.commit(r)}},updateTextareaScale:function(t){var n=e.applianceManager.updateTextareaScale(t);n&&e.undoStack.commit(n)}})},t.prototype.assertRoomIsConnected=function(){if(this._phase!==m.RoomPhase.Connected)throw new Error("you can only call it when room is connected. the phase of room is "+this._phase)},t}(f.DisplayerImplement);t.RoomImplement=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneToPlaneObject=function e(t){if("object"==typeof t&&null!==t){if(t instanceof Array){for(var n=[],r=0;r<t.length;++r)n[r]=e(t[r]);return n}var i={};for(var o in t)i[o]=e(t[o]);return i}return t},t.commitModify=function(e,t){var n={};for(var r in e)n[r]=r in t?t[r]:e[r];return n},t.copyValue=function e(t){if("object"==typeof t){if(null===t)return null;if(t instanceof Array)return t.map((function(t){return e(t)}));var n={};for(var r in t){var i=e(t[r]);void 0!==i&&(n[r]=i)}return n}return"function"==typeof t?void 0:t},t.checkValueIsEquals=function e(t,n){if(t===n)return!0;var r=typeof t;if(r!==typeof n||"object"!==r)return!1;if(t instanceof Array&&n instanceof Array){if(t.length!==n.length)return!1;for(var i=0;i<t.length;++i)if(!e(t[i],n[i]))return!1}else if(t.constructor===Object&&n.constructor===Object){for(var o in t)if(!e(t[o],n[o]))return!1;for(var o in n)if(!(o in t))return!1}return!0}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(2),c=n(10),u=n(0),l=n(1),p=n(8),d=n(93),h=n(96);!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.Center=4]="Center"}(a||(a={}));var f=function(e){function t(t){var n=e.call(this,t)||this;return n.viewMovingState=new h.ViewMovingState(t.rectangle),n}return i(t,e),t.prototype.componentWillUnmount=function(){this.viewMovingState.release()},t.willInterruptEvent=function(e,t){return!0},t.prototype.isEditTextarea=function(){for(var e=this.props.whiteModel.TextareaShape,t=0,n=this.props.components;t<n.length;t++){var r=n[t];if(u.isInstanceOf(r,e)&&void 0!==r.editedBy)return!0}return!1},t.prototype.position=function(e,t,n){for(var r=e.originX,i=e.originY,o=r+e.width,s=i+e.height,c=d.BarPadding.left+d.BarPadding.right,u=d.BarPadding.top+d.BarPadding.bottom,l=0,p=0,h=n;p<h.length;p++){var f=h[p];c+=f.width,l=Math.max(l,f.height)}var m=c+d.BarMargin.left+d.BarMargin.right,g=(u+=l)+d.BarMargin.top+d.BarMargin.bottom;return{left:r,right:o,top:i,bottom:s,position:i>=g?a.Top:this.props.screenSize.height-s>=g?a.Bottom:r>=m?a.Left:this.props.screenSize.width-o>=m?a.Right:a.Center,boxWidth:c,boxHeight:u,width:m,height:g}},t.prototype.centerXWithTopOrBottom=function(e,t){var n=Math.max(e.left,0),r=Math.min(e.right,t),i=e.width/2,o=(n+r)/2;return o-i<0?o=i:o+i>t&&(o=t-i),o},t.prototype.render=function(){var e=this;return s.createElement(p.RoomConsumer,null,(function(t){return s.createElement(c.Observer,null,(function(){return t&&e.renderWhenIsRoom(t)}))}))},t.prototype.renderWhenIsRoom=function(e){if(this.viewMovingState.setState(this.props.rectangle,this.isEditTextarea()),this.viewMovingState.shouldHideFloatBar)return null;var t=d.searchButtons({viewMovingState:this.viewMovingState,whiteModel:this.props.whiteModel,components:this.props.components,delegate:e.floatBarDelegate,colors:e.floatBarOptions.colors});if(t.length<=0)return null;var n,r,i=this.position(this.props.rectangle,e,t),o=this.props.screenSize.width,c=this.props.screenSize.height;switch(i.position){case a.Top:n=this.centerXWithTopOrBottom(i,o),r=i.top-i.height/2;break;case a.Bottom:n=this.centerXWithTopOrBottom(i,o),r=i.bottom+i.height/2;break;case a.Left:n=i.left-i.width/2,r=Math.max(i.top,0)+i.height/2;break;case a.Right:n=i.right+i.width/2,r=Math.max(i.top,0)+i.height/2;break;case a.Center:n=(Math.max(i.left,0)+Math.min(i.right,o))/2,r=Math.max(i.top,0)+i.height/2}for(var u=n-i.width/2,p=r-i.height/2,h="translate("+u+"px,"+p+"px)",f=[],m=u,g=0,y=t;g<y.length;g++){var v=y[g],b=v.width,A=(0,v.node)(m,p,i.boxWidth,i.boxHeight,o,c);f.push(A),m+=b}return s.createElement(l.CNode,{context:this.props.cnode,className:"float-bar",style:{WebkitTransform:h,transform:h,width:i.boxWidth,height:i.boxHeight,padding:0,marginLeft:d.BarMargin.left,marginRight:d.BarMargin.right,marginTop:d.BarMargin.top,marginBottom:d.BarMargin.bottom}},f)},o([c.observer],t)}(s.Component);t.FloatBar=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=n(94),a=n(20),s=n(95);function c(e){var t=e.delegate;return r.createElement(a.Button,{key:"delete",className:"normal-button",onClick:function(){return t.delete()}},(function(e){return r.createElement("img",{src:a.buttonIconURL(e,"delete")})}))}t.BarMargin=Object.freeze({top:12,bottom:24,left:12,right:12}),t.BarPadding=Object.freeze({top:1,bottom:1,left:1,right:1}),t.searchButtons=function(e){var t=e.whiteModel,n=t.ImageShape,u=t.TextareaShape,l=[],p=e.components;if(0===p.length)return l;for(var d=0,h=0,f=!0,m=!0,g=!0,y=!0,v=!0,b=0,A=p;b<A.length;b++){var x=A[b];if(i.isInstanceOf(x,n))d++;else if(i.isInstanceOf(x,u)){var w=x.format;w.bold||(m=!1),w.italic||(g=!1),w.underline||(y=!1),w.lineThrough||(v=!1),h++}x.locked||(f=!1)}return d===p.length?(l.push({width:40,height:40,node:function(){return c(e)}}),d<=1&&l.push({width:40,height:40,node:function(){return function(e,t){var n=e.delegate,i=!t,o=t?"unlock":"lock";return r.createElement(a.Button,{key:"lock",className:"normal-button",onClick:function(){return n.lockImages(i)}},(function(e){return r.createElement("img",{src:a.buttonIconURL(e,o)})}))}(e,f)}})):h===p.length&&(l.push({width:40,height:40,node:function(){return c(e)}}),l.push({width:40,height:40,node:function(){return function(e,t){var n=e.viewMovingState,i=e.delegate,o=!t;return r.createElement(a.Button,{key:"text-blob",className:"normal-button",onClick:function(){n.maskHideFloatBarSometime(),i.updateTextareaFormat({bold:o})}},(function(e){return r.createElement("img",{src:a.buttonIconURL(e,"bold")})}))}(e,m)}}),l.push({width:40,height:40,node:function(){return function(e,t){var n=e.viewMovingState,i=e.delegate,o=!t;return r.createElement(a.Button,{key:"text-italic",className:"normal-button",onClick:function(){n.maskHideFloatBarSometime(),i.updateTextareaFormat({italic:o})}},(function(e){return r.createElement("img",{src:a.buttonIconURL(e,"italic")})}))}(e,g)}}),l.push({width:40,height:40,node:function(){return function(e,t){var n=e.viewMovingState,i=e.delegate,o=!t;return r.createElement(a.Button,{key:"text-line-through",className:"normal-button",onClick:function(){n.maskHideFloatBarSometime(),i.updateTextareaFormat({lineThrough:o})}},(function(e){return r.createElement("img",{src:a.buttonIconURL(e,"line-through")})}))}(e,v)}}),l.push({width:40,height:40,node:function(){return function(e,t){var n=e.viewMovingState,i=e.delegate,o=!t;return r.createElement(a.Button,{key:"text-underline",className:"normal-button",onClick:function(){n.maskHideFloatBarSometime(),i.updateTextareaFormat({underline:o})}},(function(e){return r.createElement("img",{src:a.buttonIconURL(e,"underline")})}))}(e,y)}}),l.push(o.createFontSizeButton(e)),l.push(s.createFontColorsButton(e))),l}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(10),c=n(36),u=n(20),l=n(37);function p(e){var t=Math.floor(e);return e>=t+.5&&t++,t}t.createFontSizeButton=function(e){var t=e.viewMovingState,n=e.delegate,r=e.components;return{width:95,height:40,node:function(e,i,o,s,c,u){return a.createElement(d,{key:"font-size",delegate:n,viewMovingState:t,components:r,isMenuToDown:i+s/2<=u/2})}}};var d=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=a.createRef(),n.upArrowButton=Object.freeze({iconName:"arrow-up",isUp:!0,ref:a.createRef()}),n.downArrowButton=Object.freeze({iconName:"arrow-down",isUp:!1,ref:a.createRef()}),n.onFocusInput=function(){var e=n.inputRef.current;e&&(e.type="text",e.setSelectionRange(0,e.value.length),e.type="number",n.setState({isFocusInput:!0}))},n.onShouldBecomeHide=function(e){var t=n.inputRef.current,r=n.upArrowButton.ref.current,i=n.downArrowButton.ref.current;t&&r&&i&&!l.Menu.isEventFiredOnElement(e,r)&&!l.Menu.isEventFiredOnElement(e,i)&&n.commitFontSizeWithString(t.value)},n.onPressKeyInput=function(e){"Enter"===e.key&&n.commitFontSizeWithString(e.target.value)},n.state={overrideFontSize:void 0,hoverIndex:void 0,isFocusInput:!1},n}var n;return i(t,e),n=t,t.prototype.getFontSize=function(){for(var e=void 0,t=0,r=this.props.components;t<r.length;t++){var i=p(r[t].currentScale*n.standardFontSize);if(void 0===e)e=i;else if(e!==i){e=void 0;break}}return e},t.prototype.shouldUpdateFontSize=function(e){for(var t=0,r=this.props.components;t<r.length;t++)if(r[t].currentScale*n.standardFontSize!==e)return!0;return!1},t.prototype.onSelectFontSize=function(e){this.commitFontSizeWithInt(e),this.setState({overrideFontSize:void 0,hoverIndex:void 0,isFocusInput:!1})},t.prototype.commitFontSizeWithString=function(e){var t,r=Number.parseFloat(e);Number.isNaN(r)||(r=p(r),r=Math.max(r,n.minFontSize),r=Math.min(r,n.maxFontSize),this.commitFontSizeWithInt(r),null===(t=this.inputRef.current)||void 0===t||t.blur(),this.setState({overrideFontSize:void 0,isFocusInput:!1,hoverIndex:void 0}))},t.prototype.commitFontSizeWithInt=function(e){if(this.shouldUpdateFontSize(e)){var t=e/n.standardFontSize;this.props.viewMovingState.maskHideFloatBarSometime(),this.props.delegate.updateTextareaScale(t)}},t.prototype.render=function(){var e=this,t=this.state.overrideFontSize;if(void 0===t){var n=this.getFontSize();t=void 0===n?"":""+n}return a.createElement(a.Fragment,{key:"font-size"},a.createElement("img",{className:"font-size-icon",src:c.iconURL("font-size")}),a.createElement("input",{className:"font-size-input",type:"number",value:t,ref:this.inputRef,onFocus:this.onFocusInput,onKeyUp:this.onPressKeyInput,onChange:function(t){return e.setState({overrideFontSize:t.target.value})}}),this.state.isFocusInput&&this.renderMenu(t),a.createElement("div",{className:"font-size-buttons"},this.renderArrowButton(t,this.upArrowButton),this.renderArrowButton(t,this.downArrowButton)))},t.prototype.renderMenu=function(e){var t=this,r=this.inputRef.current;if(!r)return null;var i=n.menuSize,o=i.width,s=i.height,c=n.menuMargin;return a.createElement(l.Menu,{className:"font-size-menu",style:{left:r.offsetLeft+(r.offsetWidth-o)/2,top:this.props.isMenuToDown?r.offsetTop+r.offsetHeight+c:r.offsetTop-c-s,width:o,height:s},onMouseLeave:function(){return t.setState({hoverIndex:void 0})},onShouldBecomeHide:this.onShouldBecomeHide},this.renderFontSizeList(e))},t.prototype.renderFontSizeList=function(e){for(var t=this,r=parseInt(e),i=n.fontSizeList,o=[],s=function(e){var n=i[e],s=null,l="cell";r===n&&(s=a.createElement("img",{className:"check",src:c.iconURL("check")})),e===u.state.hoverIndex&&(l+=" hover"),o.push(a.createElement("div",{key:""+e,className:l,onMouseEnter:function(){return t.setState({hoverIndex:e})},onClick:function(){return t.onSelectFontSize(n)}},s&&a.createElement("div",{className:"check"}),a.createElement("span",null,n),s))},u=this,l=0;l<i.length;++l)s(l);return o},t.prototype.renderArrowButton=function(e,t){var r=this,i=void 0,o=Number.parseFloat(e),s=n.fontSizeList;if(!Number.isNaN(o))if(t.isUp){for(var c=0;c<s.length;++c)if((l=s[c])>o){i=l;break}}else for(c=s.length-1;c>=0;--c){var l;if((l=s[c])<o){i=l;break}}var p=t.iconName;return a.createElement(u.Button,{className:"arrow-button",disable:void 0===i,refObject:t.ref,onClick:function(){void 0!==i&&(r.props.viewMovingState.maskHideFloatBarSometime(),r.commitFontSizeWithInt(i),r.setState({overrideFontSize:void 0,hoverIndex:void 0}))}},(function(e){return a.createElement("img",{src:u.buttonIconURL(e,p)})}))},t.standardFontSize=16,t.minFontSize=1,t.maxFontSize=999,t.fontSizeList=Object.freeze([12,14,18,24,36,48,64,80,144,288]),t.menuMargin=21,t.menuSize=Object.freeze({width:64,height:248}),n=o([s.observer],t)}(a.Component)},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),c=n(10),u=n(20),l=n(37);function p(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}t.createFontColorsButton=function(e){var t=e.viewMovingState,n=e.delegate,r=e.components,i=e.colors;return{width:40,height:40,node:function(e,o,a,c,u,l){return s.createElement(d,{key:"font-colors",delegate:n,viewMovingState:t,colors:i,components:r,parentWidth:a,parentHeight:c,isMenuToDown:o+c/2<=l/2})}}};var d=function(e){function t(t){var n=e.call(this,t)||this;return n.onClickDisplayButton=function(){n.state.isDisplayMenu||n.setState({isDisplayMenu:!0})},n.state={isDisplayMenu:!1},n}var n;return i(t,e),n=t,t.prototype.getSelectedColor=function(){for(var e=null,t=0,n=this.props.components;t<n.length;t++){var r=n[t].format.color;if(e){if(!p(e,r)){e=null;break}}else e=r}return e},t.prototype.onClickColorButton=function(e){var t=a(e);this.props.delegate.updateTextareaFormat({color:t}),this.setState({isDisplayMenu:!1})},t.prototype.render=function(){var e=this.getSelectedColor(),t=e&&s.createElement("div",{className:"bar",style:{backgroundColor:"rgb("+e[0]+","+e[1]+","+e[2]+")"}});return s.createElement(s.Fragment,null,s.createElement(u.Button,{className:"normal-button",onClick:this.onClickDisplayButton},(function(e){return s.createElement("div",{className:"font-colors-icon"},s.createElement("img",{src:u.buttonIconURL(e,"font-colors")}),t)})),this.state.isDisplayMenu&&this.renderMenu(e))},t.prototype.renderMenu=function(e){var t=this,r=Math.ceil(this.props.colors.length/n.menuLineCellsCount),i=Math.min(this.props.colors.length,n.menuLineCellsCount)*n.menuCellSize.width+2*n.menuPadding,o=r*n.menuCellSize.height+2*n.menuPadding,a=n.menuMargin;return s.createElement(l.Menu,{className:"font-colors-menu",style:{left:this.props.parentWidth-i,top:this.props.isMenuToDown?this.props.parentHeight+a:-(a+o),width:i,height:o},onShouldBecomeHide:function(){return t.setState({isDisplayMenu:!1})}},this.renderColorButtons(e))},t.prototype.renderColorButtons=function(e){for(var t=this,n=this.props.colors,r=[],i=function(i){var o=n[i],a="rgb("+o[0]+", "+o[1]+", "+o[2]+")",c="font-color-button";e&&p(e,o)?c+=" font-color-selected":c+=" font-color-not-selected",r.push(s.createElement("div",{key:""+i,className:c,onClick:function(){return t.onClickColorButton(o)}},s.createElement("div",{className:"core",style:{backgroundColor:a}})))},o=0;o<n.length;++o)i(o);return r},t.menuMargin=8,t.menuPadding=8,t.menuLineCellsCount=4,t.menuCellSize=Object.freeze({width:28,height:28}),n=o([c.observer],t)}(s.Component)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);function o(e,t){return Math.abs(e-t)<=.01}var a=function(){function e(e){var t=this;this.latestCallMaskTimestamp=0,this.timer=null,this._shouldHideFloatBar=!1,this.onAfterMoving=function(){t._shouldHideFloatBar&&(t._shouldHideFloatBar=!1),t.timer=null},this.rectangle=e}return Object.defineProperty(e.prototype,"shouldHideFloatBar",{get:function(){return this._shouldHideFloatBar},enumerable:!0,configurable:!0}),e.prototype.setState=function(t,n){var r=this.rectangle,i=!o(r.originX,t.originX)||!o(r.originY,t.originY),a=!o(r.width,t.width)||!o(r.height,t.height);(i||!n&&a)&&(!this._shouldHideFloatBar&&Date.now()>=this.latestCallMaskTimestamp+e.maskDuration&&(this._shouldHideFloatBar=!0),null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout(this.onAfterMoving,e.cameraTouchInterval)),(i||a)&&(this.rectangle=t)},e.prototype.maskHideFloatBarSometime=function(){this.latestCallMaskTimestamp=Date.now()},e.prototype.release=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null,this._shouldHideFloatBar=!1)},e.isRectangleEquals=function(e,t){return e.originX===t.originX&&e.originY===t.originY&&e.width===t.width&&e.height===t.height},e.cameraTouchInterval=300,e.maskDuration=100,r([i.observable],e.prototype,"_shouldHideFloatBar",void 0),r([i.action],e.prototype,"setState",null),e}();t.ViewMovingState=a},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function i(e){return e?Object.freeze(e.map((function(e){return Object.freeze(r(e))}))):o}Object.defineProperty(t,"__esModule",{value:!0}),t.standardizeFloatBarOptions=function(e){var t=void 0;return"boolean"==typeof e?t=e?Object.freeze({colors:i()}):void 0:e&&(t=Object.freeze({colors:i(e.colors)})),t};var o=Object.freeze([Object.freeze([224,32,32]),Object.freeze([250,100,0]),Object.freeze([247,181,0]),Object.freeze([109,212,0]),Object.freeze([68,215,182]),Object.freeze([50,197,255]),Object.freeze([0,145,255]),Object.freeze([98,54,255]),Object.freeze([182,32,224]),Object.freeze([109,114,120]),Object.freeze([0,0,0]),Object.freeze([255,255,255])])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(e,t,n){var i=this;this.queue=[],this.limiter=new r.InvokeFrequencyLimiter(t,(function(){var t=i.queue.shift();if(t){try{n(t.event,t.payload)}catch(t){e.error(t)}i.queue.length>0&&i.limiter.invoke()}}))}return e.prototype.dispatch=function(e,t){this.queue.push({event:e,payload:t}),this.limiter.invoke()},e}();t.EventsQueue=i},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},u=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var l=n(4),p=n(1),d=n(0),h=n(17),f=n(38),m=n(33),g=n(11),y=n(6),v=n(5),b=n(34),A=new Date("2019-06-23Z00:00:00").getTime(),x=function(e){function t(n){var r=e.call(this,{logger:n.logger,useMobXState:n.useMobXState,screenType:n.screenType,renderEngine:n.renderEngine,boundless:n.boundless,cameraBound:n.cameraBound,autoResize:n.autoResize,plugins:n.plugins,invisiblePlugins:n.invisiblePlugins,wrappedComponents:n.wrappedComponents,preloadDynamicPPT:n.preloadDynamicPPT,userFonts:n.userFonts,handToolKey:n.handToolKey,fontFamily:n.fontFamily,onlyCallbackRemoteStateModify:n.onlyCallbackRemoteStateModify,disableCameraTransform:n.disableCameraTransform,disableOperations:!0,willHideSelfCursor:!1,cursorAdapter:n.cursorAdapter,eraserRadiusCursor:n.eraserRadiusCursor,urlInterrupter:n.urlInterrupter,pptParams:n.pptParams,callbacks:t.handleLegacyCallbacks(n.callbacks)})||this;return r.didLoadFirstFrame=!1,r.observerMode=f.ObserverMode.Directory,r.onLibraryNodeChanged=function(e,t){var n=r.hasLibraryNode;if(r.updateLibraryNode(t),!n){var i=r.applianceManager;r.viewStateObserver=new m.ViewStateObserver({applianceManager:i,screen:r.screen}),r.stateTrigger=new y.StateTrigger({useMobXMode:r.useMobXState,disableMaskKey:r.onlyCallbackRemoteStateModify,onStateChanged:r.onPlayerStateChanged,propertyGetters:{observerMode:function(){return r.observerMode},globalState:function(){return d.copy(i.getGlobalState())},roomMembers:function(){return i.getMemberDisplayers().map(r.covertMemberDisplayerToMember)},sceneState:function(){return r.getCurrentSceneState()},cameraState:function(){return r.viewStateObserver.cameraState}}}),r.cameraman.addHandToolActiveListener(r.onHandToolActive),r.cameraman.addCameraTransformationListener(r.onCameraTransform)}},r.onPhaseChanged=function(e){var t=!1;!r.didLoadFirstFrame&&r.hasFrameToDisplay(e)&&(r.didLoadFirstFrame=!0,t=!0,r.setupAfterLoadFirstFrame()),r.updatePhaseByReconstructorPhase(r.reconstructor.phase)&&(r.logger.info("change player phase to "+r._phase),r.callbacks.dispatch("onPhaseChanged",(function(e){return e(r._phase)}))),t&&r.callbacks.dispatch("onLoadFirstFrame",(function(e){return e()}))},r.onPlayerStateChanged=function(e){e.globalState&&r.dynamicPpt.setGlobalState(b.copyValue(e.globalState)),r.callbacks.dispatch("onPlayerStateChanged",(function(t){return t(e)}))},r.onSliceChanged=function(e){r.logger.context=o(o({},r.logger.context),{slice:e&&e.uuid}),r.refreshForcePPTLandscapeWithSlice(e),r.callbacks.dispatch("onSliceChanged",(function(t){return t(e.uuid)}))},r.onCameraTransform=function(e){e===p.CameraTransformation.Begin&&r.observerMode===f.ObserverMode.Directory&&(r.observerMode=f.ObserverMode.Freedom)},r.onModified=function(){r.viewStateObserver&&r.observerMode===f.ObserverMode.Directory&&r.viewStateObserver.refreshCameraRectangle(),r.refreshRender()},r.callbacks.on("onProgressTimeChanged",(function(e){return r.setPlayerState({timestamp:e})})),r}return i(t,e),t.handleLegacyCallbacks=function(e){return e&&e.onScheduleTimeChanged&&(console.warn("onScheduleTimeChanged was deprecated. please replace it with onProgressTimeChanged"),delete(e=o(o({},e),{onProgressTimeChanged:e.onScheduleTimeChanged})).onScheduleTimeChanged),e},Object.defineProperty(t.prototype,"applianceManager",{get:function(){return this.reconstructor.trigger},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playbackSpeed",{get:function(){return this.reconstructor.playbackSpeed},set:function(e){this.reconstructor.playbackSpeed=e,this.setPlayerState({playbackSpeed:e})},enumerable:!0,configurable:!0}),t.prototype.setupReconstructor=function(e){return s(this,void 0,void 0,(function(){var t,n,r=this;return c(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),this._mediaURL=e.mediaURL,t=this,[4,e.akkoApp.createReconstructor({logger:this.logger,clientVersion:v.environment.sdkVersion,libraryNodeFetcher:this.libraryNodeFetcher,callbacks:this.createReconstructorCallbacks(),thirdPartyReconstructorFactory:this._mediaURL?function(e){return new y.VideoJSPlayer(r._mediaURL,e)}:void 0,rangeQuery:{room:e.room,slice:e.slice,beginTimestamp:e.beginTimestamp,duration:e.duration}})];case 1:return t.reconstructor=i.sent(),this.updatePhaseByReconstructorPhase(this.reconstructor.phase),this.logger.info("setup player success"),this.logger.context=o(o({},this.logger.context),{uuid:this.reconstructor.roomUUID,slice:this.reconstructor.slice&&this.reconstructor.slice.uuid}),[3,3];case 2:throw n=i.sent(),this.logger.error("setup player fail"),this.logger.error(n),n;case 3:return[2]}}))}))},t.prototype.createReconstructorCallbacks=function(){var e=this;return{onEventFire:function(t){return e.dispatchMagixEventWithObject(t)},onSliceChanged:this.onSliceChanged,onLibraryNodeChanged:this.onLibraryNodeChanged,onPhaseChanged:this.onPhaseChanged,onModified:this.onModified,onIsPlayableChanged:function(t){return e.callbacks.dispatch("onIsPlayableChanged",(function(e){return e(t)}))},onProgressTimeChanged:function(t){return e.callbacks.dispatch("onProgressTimeChanged",(function(e){return e(t)}))},onStoppedWithError:function(t){return e.callbacks.dispatch("onStoppedWithError",(function(e){return e(t)}))},onCatchErrorWhenAppendFrame:function(t,n){return e.callbacks.dispatch("onCatchErrorWhenAppendFrame",(function(e){return e(t,n)}))}}},t.prototype.hasFrameToDisplay=function(e){switch(e){case d.ReconstructorPhase.Playing:case d.ReconstructorPhase.Pause:case d.ReconstructorPhase.Buffering:case d.ReconstructorPhase.Ended:return!0;default:return!1}},t.prototype.setupAfterLoadFirstFrame=function(){this.reconstructor.slice&&this.refreshForcePPTLandscapeWithSlice(this.reconstructor.slice),this.dynamicPpt.setGlobalState(d.copy(this.applianceManager.getGlobalState()))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.cameraman.removeCameraTransformationListener(this.onCameraTransform),this.viewStateObserver&&this.viewStateObserver.release(),this.stateTrigger&&this.stateTrigger.release()},t.prototype.createWrappedComponents=function(){return u(e.prototype.createWrappedComponents.call(this),[g.createWrappedComponent(g.playerContext,this)])},t.prototype.refreshForcePPTLandscapeWithSlice=function(e){this.setForcePPTLandscape(e.beginTimestamp<=A)},t.prototype.setObserverMode=function(e){var t=this;this.stateTrigger.activeUpdate("observerMode",(function(){return t.observerMode=e}))},t.prototype.memberState=function(e){return d.copy(this.reconstructor.trigger.getMemberState(e))},Object.defineProperty(t.prototype,"state",{get:function(){if(!this.hasLibraryNode)throw new Error("can't read state before load first frame");return this.stateTrigger.state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"roomUUID",{get:function(){return this.reconstructor.roomUUID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){return this.reconstructor.slice&&this.reconstructor.slice.uuid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPlayable",{get:function(){return this.reconstructor.isPlayable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"phase",{get:function(){return this._phase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaURL",{get:function(){return this._mediaURL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"progressTime",{get:function(){return this.reconstructor.progressTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeDuration",{get:function(){return this.reconstructor.duration},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"framesCount",{get:function(){return this.reconstructor.framesCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beginTimestamp",{get:function(){return this.reconstructor.beginTimestamp},enumerable:!0,configurable:!0}),t.prototype.play=function(){this.assertRoomIsConnected(),this.reconstructor.play()},t.prototype.pause=function(){this.assertRoomIsConnected(),this.reconstructor.pause()},t.prototype.stop=function(){if(this._phase===f.PlayerPhase.Stopped)throw new Error("player did stop");this.reconstructor.stop(),this.dispose()},t.prototype.seekToProgressTime=function(e){this.assertRoomIsConnected(),this.reconstructor.seekToProgressTime(e)},t.prototype.updatePhaseByReconstructorPhase=function(e){var n=t.covertPhase(e),r=this._phase!==n;return r&&(this._phase=n,this.setPlayerState({isPlaying:n===f.PlayerPhase.Playing})),r},t.covertPhase=function(e){switch(e){case d.ReconstructorPhase.WaitingFirstFrame:return f.PlayerPhase.WaitingFirstFrame;case d.ReconstructorPhase.Playing:return f.PlayerPhase.Playing;case d.ReconstructorPhase.Pause:return f.PlayerPhase.Pause;case d.ReconstructorPhase.Stopped:return f.PlayerPhase.Stopped;case d.ReconstructorPhase.Ended:return f.PlayerPhase.Ended;case d.ReconstructorPhase.Buffering:case d.ReconstructorPhase.Seeking:return f.PlayerPhase.Buffering}},Object.defineProperty(t.prototype,"scheduleTime",{get:function(){return console.warn("scheduleTime was deprecated. please replace it with progressTime"),this.progressTime},enumerable:!0,configurable:!0}),t.prototype.seekToScheduleTime=function(e){console.warn("seekToScheduleTime was deprecated. please replace it with seekToProgressTime"),this.seekToProgressTime(e)},t.prototype.assertRoomIsConnected=function(){if(this._phase===f.PlayerPhase.Stopped)throw new Error("you cannot call it when phase of player is stopped")},a([l.observable],t.prototype,"observerMode",void 0),t}(h.DisplayerImplement);t.PlayerImplement=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=Object.freeze({x:8,y:18}),o=Object.freeze({width:26,height:26}),a=function(){function e(e){var t=this;this.cursors=Object.freeze([]),r.fetchCanvasImageSource("https://sdk.netless.link/resource/mouse-cursor/easer-cursor.png").then((function(e){for(var n=[],r=0;r<1;++r)n[r]=null;for(r=1;r<=36;++r)n[r]=t.createCursor(r,e);t.cursors=Object.freeze(n)})).catch((function(t){return e.error(t)}))}return e.prototype.cursorStyle=function(e){var t=this.cursors[Math.min(Math.ceil(e),36)];return t?"url("+t.url+") "+t.centerX+" "+t.centerY+", auto":void 0},e.prototype.release=function(){for(var e=0,t=this.cursors;e<t.length;e++){var n=t[e];n&&URL.revokeObjectURL(n.url)}this.cursors=Object.freeze([])},e.prototype.createCursor=function(e,t){var n=-e,r=-e,a=-i.x,s=-i.y,c=Number.MAX_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;c=Math.min(c,n),c=Math.min(c,a),u=Math.min(u,r),u=Math.min(u,s),l=Math.max(l,n)+2*e,l=Math.max(l,a)+2*o.width,Math.max(u,r);var p=-c,d=-u,h=l-c,f=Math.max(u,s)+2*o.height-u;a+=p,s+=d;var m=document.createElement("canvas"),g=m.getContext("2d");return m.width=h,m.height=f,g.fillStyle="rgba(216,216,216,146)",g.beginPath(),g.ellipse(p,d,e,e,0,0,2*Math.PI),g.fill(),g.drawImage(t,a,s),Object.freeze({centerX:p,centerY:d,url:m.toDataURL("mycanvas")})},e}();t.EraserRadiusCursor=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(e){this.stack=[],this.index=0,this.execute=e.execute,this.onCanUndoStepsUpdate=e.onCanUndoStepsUpdate,this.onCanRedoStepsUpdate=e.onCanRedoStepsUpdate}return Object.defineProperty(e.prototype,"canUndoSteps",{get:function(){return this.stack.length-this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRedoSteps",{get:function(){return this.index},enumerable:!0,configurable:!0}),e.prototype.commit=function(e){var t=this.canUndoSteps,n=this.canRedoSteps;for(this.stack.splice(0,this.index,r.copy(e)),this.index=0;this.stack.length>20;)this.stack.pop();var i=this.canUndoSteps,o=this.canRedoSteps;i!==t&&this.onCanUndoStepsUpdate(i),o!==n&&this.onCanRedoStepsUpdate(i)},e.prototype.undo=function(){var e=this.stack[this.index];e&&(this.index++,this.execute(e.undo),this.onCanUndoStepsUpdate(this.canUndoSteps),this.onCanRedoStepsUpdate(this.canRedoSteps))},e.prototype.redo=function(){this.index>0&&(this.index--,this.execute(this.stack[this.index].redo),this.onCanUndoStepsUpdate(this.canUndoSteps),this.onCanRedoStepsUpdate(this.canRedoSteps))},e}();t.UndoStack=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.creators={}}return e.prototype.addTextareaRectGetter=function(e,t){this.creators[e]=t},e.prototype.removeTextareaRectGetter=function(e){delete this.creators[e]},e.prototype.getTextareaSizeMap=function(e){var t={};for(var n in this.creators){var r=this.creators[n](e);r&&(t[n]=r)}return t},e}();t.TextareaHubImplement=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(27),s=n(26),c=function(){function e(e){this.roomToken=e,this.apiFetch=a.fetcher.fetch("ppt-api")}return e.prototype.convert=function(t){return r(this,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,this.createPPTTask(t)];case 1:return n=i.sent(),[4,this.checkUtilHasResult(n,t)];case 2:return r=i.sent(),[2,e.wrapPPTDescriptions(n,t.kind,r)]}}))}))},e.prototype.createPPTTask=function(t){return r(this,void 0,void 0,(function(){var n,r,a,s,c;return i(this,(function(i){switch(i.label){case 0:return n=o.stringify({roomToken:this.roomToken}),[4,this.apiFetch("http://ppt-api/services/conversion/tasks?"+n,{method:"post",headers:{"content-type":"application/json",Accept:"application/json"},body:JSON.stringify({sourceUrl:t.url,serviceType:e.convertPPTKindToServiceType(t.kind)})})];case 1:if(200!==(r=i.sent()).status)throw new Error("failed to convert "+JSON.stringify(t.url)+" with status "+r.status);return[4,r.json()];case 2:if(a=i.sent().msg,s=a.reason,c=a.taskUUID,!a.succeed)throw new Error("create ppt task failed: "+s);return[2,c]}}))}))},e.prototype.checkUtilHasResult=function(t,n){return r(this,void 0,void 0,(function(){var r,o,a,s,c,u,l;return i(this,(function(p){switch(p.label){case 0:r=!1,o=Date.now(),a=n.checkProgressInterval||e.defaultCheckProgressInterval,s=n.checkProgressTimeout||e.defaultCheckProgressTimeout,c=function(){var e,c,l,p,d,h,f;return i(this,(function(i){switch(i.label){case 0:return e=Date.now(),[4,u.fetchProgress(t,n.kind)];case 1:switch((c=i.sent()).convertStatus){case"Finished":return n.onProgressUpdated&&!r&&n.onProgressUpdated(1),[2,{value:c.convertedFileList.map((function(e){return{width:e.width,height:e.height,src:c.prefix+e.conversionFileUrl}}))}];case"Fail":case"NotFound":throw new Error("failed to convert "+JSON.stringify(n.url)+": "+c.reason)}if(l=c.convertedPageSize,d=0===(p=c.totalPageSize)?0:l/p,(h=e+a)>=o+s)throw new Error("failed to convert "+JSON.stringify(n.url)+": timeout");return n.onProgressUpdated&&n.onProgressUpdated(d),1===d&&(r=!0),(f=h-Date.now())>0?[4,new Promise((function(e){return setTimeout(e,f)}))]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))},u=this,p.label=1;case 1:return[5,c()];case 2:return"object"==typeof(l=p.sent())?[2,l.value]:[3,1];case 3:return[2]}}))}))},e.prototype.fetchProgress=function(t,n){return r(this,void 0,void 0,(function(){var r,a,s;return i(this,(function(i){switch(i.label){case 0:return r="http://ppt-api/services/conversion/tasks/"+t+"/progress",a=o.stringify({roomToken:this.roomToken,serviceType:e.convertPPTKindToServiceType(n)}),[4,this.apiFetch(r+"?"+a,{headers:{"content-type":"application/json",Accept:"application/json"}})];case 1:if(200!==(s=i.sent()).status)throw new Error("failed to fetch progress of "+JSON.stringify(r));return[4,s.json()];case 2:return[2,i.sent().msg.task]}}))}))},e.wrapPPTDescriptions=function(e,t,n){for(var r=[],i=[],o=0,a=0,s=0;s<n.length;++s){var c=n[s],u=c.src,l=c.width,p=c.height;r[s]=u,i[s]={name:""+(s+1),ppt:{src:u,width:l,height:p}},o=l,a=p}return{uuid:e,kind:t,width:o,height:a,slideURLs:r,scenes:i}},e.convertPPTKindToServiceType=function(e){switch(e){case s.PPTKind.Dynamic:return"dynamic_conversion";case s.PPTKind.Static:return"static_conversion";default:throw new Error("invalid kind "+JSON.stringify(e))}},e.defaultCheckProgressInterval=1500,e.defaultCheckProgressTimeout=3e5,e}();t.LegacyPPTConverterImplement=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(39),o=n(105),a=n(0),s=n(5),c=function(){function e(e,t){var n=e.split("/"),r=n[1];this.teamUUID=n[0],this.appUUID=r,this.loggerHub=this.createLoggerHub(t)}return e.prototype.createLoggerHub=function(e){if(void 0===e&&(e={}),e.disableReportLog)return new i.DefaultLoggerHub({prefix:"[White]",levelMask:e.printLevelMask});var t=s.environment.log;return new o.ClientLoggerHub({reportResourceURL:"https://"+t.project+"."+t.endpoint+"/logstores/"+t.logstoreName+"/track",prefix:"[White]",reportInterval:1e4,reportCountOnce:200,bufferMaxCount:2e3,reportLevelMask:e.reportLevelMask,printLevelMask:e.printLevelMask})},e.prototype.createLogger=function(){return i.createLogger(this.loggerHub)},e.prototype.createRealtimeLogger=function(e){return i.createLogger(this.loggerHub,Object.freeze(r(r({},this.createWhiteBasicTags()),{uuid:e})))},e.prototype.createPlayerLogger=function(){return i.createLogger(this.loggerHub,Object.freeze(this.createWhiteBasicTags()))},e.prototype.createWhiteBasicTags=function(){var e,t,n,r=this.getNativeTags(),i={team:this.teamUUID,app:this.appUUID,platform:(null===(e=r)||void 0===e?void 0:e.platform)||"browser",akkoVersion:a.AkkoVersion,sdkVersion:s.environment.sdkVersion,nativeVersion:null===(t=r)||void 0===t?void 0:t.nativeVersion,os:null===(n=window.navigator)||void 0===n?void 0:n.platform};for(var o in i)void 0===i[o]&&delete i[o];return i},e.prototype.getNativeTags=function(){var e=window.__nativeTags;if("object"==typeof e&&null!==e){var t=e.nativeVersion,n=e.platform;if("string"==typeof t&&"string"==typeof n)return{nativeVersion:t,platform:n}}return null},e}();t.WhiteLoggerFactory=c},function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.ClientLoggerHub=r.ClientLoggerHub},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=n(3),s=n(4),c=function(){function e(e){var t=this;this.context=void 0,this.logNodesBuffer=[],this.reportAndCleanBuffer=function(){return r(t,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:e.trys.push([0,,6,7]),this.reportLimiter.freeze(),e.label=1;case 1:return this.logNodesBuffer.length>this.reportCountOnce?[4,this.reportLogNodes(this.reportCountOnce)]:[3,3];case 2:return e.sent(),[3,1];case 3:return this.logNodesBuffer.length>0?[4,this.reportLogNodes()]:[3,5];case 4:e.sent(),e.label=5;case 5:return[3,7];case 6:return this.reportLimiter.unfreeze(),[7];case 7:return[2]}}))}))},this.reporter=new a.ClientLoggerReporter(e.reportResourceURL),this.reportLimiter=new s.InvokeFrequencyLimiter(e.reportInterval,this.reportAndCleanBuffer),this.logger=new o.DefaultLoggerHub({prefix:e.prefix,levelMask:e.printLevelMask}),this.reportCountOnce=e.reportCountOnce,this.bufferMaxCount=e.bufferMaxCount,this.reportLevelMaskIndex=o.LevelToIndexMap[e.reportLevelMask||"info"]}return e.prototype.log=function(e,t,n){if(this.logger.log(e,t),o.LevelToIndexMap[e]>=this.reportLevelMaskIndex){var r={level:e,tags:n,message:t,timestamp:Date.now()};for(this.logNodesBuffer.push(r);this.logNodesBuffer.length>this.bufferMaxCount;)this.logNodesBuffer.shift();this.reportLimiter.invoke()}},e.prototype.reportLogNodes=function(e){return void 0===e&&(e=this.logNodesBuffer.length),r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.reporter.report(this.logNodesBuffer.splice(0,e))];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),console.warn(t.message),[3,3];case 3:return[2]}}))}))},e}();t.ClientLoggerHub=c},function(e,t){e.exports=n(39)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.resourceURL=e}return e.prototype.report=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,window.fetch(this.resourceURL,{method:"post",body:JSON.stringify(this.convertToBody(e)),headers:{"content-type":"application/json","x-log-apiversion":"0.6.0","x-log-bodyrawsize":"1234"}})];case 1:if(200!==(t=n.sent()).status)throw new Error("report failed with status code "+t.status);return[2]}}))}))},e.prototype.convertToBody=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n],o=i.tags,a={level:i.level,message:i.message};if(o)for(var s in o)a[s]=""+o[s];t.push(a)}return{__logs__:t}},e}();t.ClientLoggerReporter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.isFreezed=!1,this.shouldInvokeAfterFreeze=!1,this.latestInvokeTimestamp=0,this.timer=-1,this._limitDuration=e,this.invoker=t,this.invokeWhenTimeout=this.invokeWhenTimeout.bind(this)}return Object.defineProperty(e.prototype,"limitDuration",{get:function(){return this._limitDuration},set:function(e){if(this._limitDuration!==e){if(this._limitDuration=e,-1!==this.timer){clearTimeout(this.timer);var t=this.nextInvokeTimeDuration();this.timer=setTimeout(this.invokeWhenTimeout,t)}this.invoke()}},enumerable:!0,configurable:!0}),e.prototype.invoke=function(){if(this.isFreezed)this.shouldInvokeAfterFreeze=!0;else if(-1===this.timer){var e=this.nextInvokeTimeDuration();this.timer=setTimeout(this.invokeWhenTimeout,e)}},e.prototype.nextInvokeTimeDuration=function(){var e=Date.now();return Math.max(0,this.latestInvokeTimestamp+this.limitDuration-e)},e.prototype.invokeWhenTimeout=function(){this.timer=-1,this.latestInvokeTimestamp=Date.now(),this.invoker()},e.prototype.cancel=function(){this.isFreezed?this.shouldInvokeAfterFreeze=!1:-1!==this.timer&&(clearTimeout(this.timer),this.timer=-1)},e.prototype.freeze=function(){this.isFreezed||(-1!==this.timer&&(clearTimeout(this.timer),this.timer=-1,this.shouldInvokeAfterFreeze=!0),this.isFreezed=!0)},e.prototype.unfreeze=function(){this.isFreezed&&(this.isFreezed=!1,this.shouldInvokeAfterFreeze&&(this.shouldInvokeAfterFreeze=!1,this.invoke()))},e}();t.InvokeFrequencyLimiter=r}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configsInterrupter=function(e){return e}}])),function(e){if("function"!=typeof e)throw new Error("invalid window.__netlessJavaScriptLoader");var t="link.netless/white-model-render",n=t+"/2.5.0-2.10.3.96043a4239418b0fb98b4cd5911db626";try{var r=e(t),i={};Object.defineProperty(i,"__esModule",{value:!0}),function(e,t){for(var n in t)e[n]=t[n]}(i,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=60)}([function(e,t){e.exports=r("akko")},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("index"),a=o.creator,s=o.caller;n(33),n(53),n(28),n(27),n(38),n(24),n(66),n(41),n(40),n(34),n(43),n(9),n(37),n(67),n(21),n(22),n(10),n(36),n(35),n(68),n(25),n(69),n(47),n(6),n(45),n(44),n(70),n(26),n(42),n(16),n(29);var c=n(33),u=n(51),l=n(71),p=n(49),d=n(48),h=n(46),f=n(72),m=n(73),g=n(74),y=n(75),v=n(28);t.PluginComponent=v.PluginComponent;var b=n(27);t.PluginManager=b.PluginManager,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(29));var A=function(e){function t(){return e.call(this,a({currentSceneIndex:0}))||this}return i(t,e),t.prototype.createConstructors=function(){return a({selector:u.Selector,laserPointer:l.LaserPointer,pencil:p.PencilAppliance,rectangle:d.RectangleAppliance,ellipse:h.EllipseAppliance,eraser:f.Eraser,text:m.TextAppliance,straight:g.StraightAppliance,arrow:g.ArrowAppliance,hand:y.HandAppliance})},t.prototype.createMemberState=function(e){return a({currentApplianceName:"pencil",strokeColor:e,strokeWidth:4,textSize:16,pencilOptions:s(p.PencilAppliance,"createPencilOptions",[])})},t}(o.wrapSuperClass(c.AbstractApplianceManager));o.declareClass({classId:37,clazz:A,superClass:c.AbstractApplianceManager}),t.default=o.createLibrary(A,{identifier:"com.herewhite.whiteboard",version:"2.5.0",akko:"1.4.4",formatBase64:"/QAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAABwAAAHBsdWdpbnMCAAAAAgAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAA4AAAAJAAAAX3Byb3RvS2V5AAAAAAoAAABhdHRyaWJ1dGVzAAAAAAcAAABjb250ZXh0JQAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcyYAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAEAAAAa2luZAAAAAAGAAAAbG9ja2VkAAAAAAcAAABtYW5hZ2VyBwAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAAB3aWR0aAAAAAAHAAAAAAAAAAAAAAACAAAABwAAAGNvbnRleHQIAAAADgAAAHByZXNzZWRNZW1iZXJzJAAAAAgAAAAAAAAAAAAAAAQAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIWAAAABQAAAHNjZW5lCQAAAAYAAABzY2VuZXMNAAAACQAAAAAAAAAAAAAAAwAAAAoAAABjb21wb25lbnRzCwAAAAQAAABuYW1lAAAAAAMAAABwcHQKAAAACgAAAAAAAAAAAAAABAAAAAYAAABoZWlnaHQAAAAACgAAAHByZXZpZXdVUkwAAAAAAwAAAHNyYwAAAAAFAAAAd2lkdGgAAAAACwAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAUAAAAGAAAAaGVpZ2h0AAAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAUAAAB3aWR0aAAAAAANAAAAAAAAAAAAAAACAAAADAAAAF9jdXJyZW50UGF0aBUAAAAOAAAAcm9vdFNjZW5lR3JvdXAOAAAADgAAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0DwAAAAkAAABncm91cHNNYXARAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QTAAAACQAAAHNjZW5lc01hcBQAAAAPAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0DwAAAAkAAABncm91cHNNYXARAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QTAAAACQAAAHNjZW5lc01hcBQAAAARAAAAEgAAAAAAAAAAAAAAEgAAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0DwAAAAkAAABncm91cHNNYXARAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QTAAAACQAAAHNjZW5lc01hcBQAAAATAAAAAAAAAAkAAAAAAAAAFAAAAAkAAAAAAAAAAAAAABUAAAAAAAAAAAAAAAAAAAAWAAAAAAAAAAAAAAADAAAABwAAAF9lbmFibGUAAAAACAAAAGNvbW1pdGVyGAAAAAcAAABjb250ZXh0FwAAABcAAAAAAAAAAAAAAAQAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIWAAAABQAAAHNjZW5lCQAAAAYAAABzY2VuZXMNAAAAGAAAAAAAAAAAAAAAAgAAAAQAAAByZWRvGQAAAAQAAAB1bmRvIwAAABkAAAAaAAAAAAAAAAAAAAAaAAAAAAAAAAAAAAAIAAAACAAAAGNsZWFuUFBUAAAAAAYAAABjcmVhdGUAAAAABgAAAGRlbGV0ZQAAAAAEAAAAcGF0aBsAAAAGAAAAc2V0UFBUIgAAAAoAAAB1cGRhdGVSZWN0HAAAAA4AAAB1cGRhdGVUZXh0YXJlYR0AAAAUAAAAdXBkYXRlVGV4dGFyZWFGb3JtYXQgAAAAGwAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAQAAAAGAAAAaGVpZ2h0AAAAAAUAAAB3aWR0aAAAAAABAAAAeAAAAAABAAAAeQAAAAAdAAAAAAAAAAAAAAAFAAAABgAAAGhlaWdodAAAAAAMAAAAb3JpZ2luYWxUZXh0AAAAAAUAAABzY2FsZQAAAAAJAAAAdGV4dExpbmVzHgAAAAUAAAB3aWR0aAAAAAAeAAAAAAAAAB8AAAAAAAAAHwAAAAAAAAAAAAAABAAAAAIAAABkeAAAAAACAAAAZHkAAAAABAAAAHRleHQAAAAACgAAAHRleHRMZW5ndGgAAAAAIAAAAAAAAAAAAAAABQAAAAQAAABib2xkAAAAAAUAAABjb2xvciEAAAAGAAAAaXRhbGljAAAAAAsAAABsaW5lVGhyb3VnaAAAAAAJAAAAdW5kZXJsaW5lAAAAACEAAAAAAAAAAAAAAAAAAAAiAAAAAAAAAAAAAAAEAAAABgAAAGhlaWdodAAAAAAKAAAAcHJldmlld1VSTAAAAAADAAAAc3JjAAAAAAUAAAB3aWR0aAAAAAAjAAAAGgAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAACUAAAAAAAAAAAAAAAQAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIWAAAABQAAAHNjZW5lCQAAAAYAAABzY2VuZXMNAAAAJgAAAAAAAAAAAAAAAAAAACcAAAAAAAAAAAAAAAcAAAAKAAAAYXR0cmlidXRlcwAAAAAGAAAAaGVpZ2h0AAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHNlbGVjdGFibGUAAAAABQAAAHdpZHRoAAAAACgAAAAAAAAAAAAAAAIAAAAHAAAAY29udGV4dAgAAAAOAAAAcHJlc3NlZE1lbWJlcnMkAAAAKQAAAAAAAAAAAAAADgAAAAkAAABfcHJvdG9LZXkAAAAACgAAAGF0dHJpYnV0ZXMAAAAABwAAAGNvbnRleHQlAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJgAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAQAAABraW5kAAAAAAYAAABsb2NrZWQAAAAABwAAAG1hbmFnZXIHAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHdpZHRoAAAAACoAAAAAAAAAAAAAAAYAAAAMAAAAX2dsb2JhbFN0YXRlOQAAABgAAABhZG1pbk9ic2VydmVyTWVtYmVyU3RhdGU2AAAAFgAAAGludmlzaWJsZVBsdWdpbk1hbmFnZXIBAAAADgAAAG1lbWJlcnNNYW5hZ2VyLQAAAA0AAABwbHVnaW5NYW5hZ2VyLAAAAAYAAABzY2VuZXMrAAAAKwAAAAAAAAAAAAAAAgAAAAwAAABfY3VycmVudFBhdGgVAAAADgAAAHJvb3RTY2VuZUdyb3VwDgAAACwAAAAAAAAAAAAAAAIAAAAHAAAAY29udGV4dAgAAAAOAAAAcHJlc3NlZE1lbWJlcnMkAAAALQAAAAAAAAAAAAAABAAAAA0AAABicm9hZGNhc3RlcklkAAAAAAoAAABkaXJlY3RvcklkAAAAABAAAABpbml0aWF0aXZlQ29sb3JzLgAAAAoAAABtZW1iZXJzTWFwLwAAAC4AAAAAAAAAIQAAAAAAAAAvAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAADAAAAAsAAABfZGV2aWNlVHlwZQAAAAAMAAAAX2luZm9ybWF0aW9uMQAAAAkAAABfbWVtYmVySWQAAAAACgAAAGFwcGxpYW5jZXMzAAAABwAAAGN1cnNvclgAAAAABwAAAGN1cnNvclkAAAAACwAAAGV4ZWN1dG9ySHViMgAAAA8AAABpc0N1cnNvckluU2NlbmUAAAAACQAAAGlzUHJlc3NlZAAAAAAOAAAAaXNSdGNDb25uZWN0ZWQAAAAACwAAAG1lbWJlclN0YXRlNgAAAAkAAAB2aWV3U3RhdGU4AAAAMQAAAAAAAAAAAAAABAAAAAYAAABhdmF0YXIAAAAAAgAAAGlkAAAAAAcAAABpc093bmVyAAAAAAgAAABuaWNrTmFtZQAAAAAyAAAAAAAAAAAAAAADAAAABwAAAF9lbmFibGUAAAAACAAAAGNvbW1pdGVyGAAAAAcAAABjb250ZXh0FwAAADMAAAA0AAAAAAAAAAAAAAA0AAAAAAAAAAAAAAABAAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50NQAAADUAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAAA2AAAAAAAAAAAAAAAFAAAAFAAAAGN1cnJlbnRBcHBsaWFuY2VOYW1lAAAAAA0AAABwZW5jaWxPcHRpb25zNwAAAAsAAABzdHJva2VDb2xvciEAAAALAAAAc3Ryb2tlV2lkdGgAAAAACAAAAHRleHRTaXplAAAAADcAAAAAAAAAAAAAAAQAAAANAAAAZGlzYWJsZUJlemllcgAAAAAPAAAAZW5hYmxlRHJhd1BvaW50AAAAAAoAAABzcGFyc2VIdW1wAAAAAAsAAABzcGFyc2VXaWR0aAAAAAA4AAAAAAAAAAAAAAAGAAAABgAAAGhlaWdodAAAAAAEAAAAbW9kZQAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAcGl4ZWxXaWR0aAAAAAAFAAAAd2lkdGgAAAAAOQAAAAAAAAAAAAAAAAAAADoAAAAAAAAAAAAAAAAAAAA7AAAAGgAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAAAAAAD0AAAAAAAAAAAAAAAAAAAA+AAAAAAAAAAAAAAAAAAAAPwAAAAAAAAAAAAAABgAAAAcAAABjZW50ZXJYAAAAAAcAAABjZW50ZXJZAAAAAAYAAABoZWlnaHQAAAAABgAAAGxvY2tlZAAAAAAEAAAAdXVpZAAAAAAFAAAAd2lkdGgAAAAAQAAAAAAAAAAAAAAAAAAAAEEAAAAAAAAAAAAAAAAAAABCAAAAAAAAAAAAAAABAAAABAAAAGtpbmQAAAAAQwAAAAAAAAAAAAAABAAAABEAAABoaXRUZXN0SWRlbnRpZmllc0UAAAAKAAAAdGFyZ2V0c01hcEQAAAABAAAAeAAAAAABAAAAeQAAAABEAAAAAAAAAAAAAAAAAAAARQAAAAAAAAAAAAAAAAAAAEYAAAAAAAAAAAAAAAAAAABHAAAAAAAAAAAAAAAAAAAASAAAAAAAAABJAAAAAAAAAEkAAAAAAAAAAAAAAAIAAAAEAAAAbmFtZQAAAAADAAAAcHB0SgAAAEoAAAAAAAAAAAAAAAQAAAAGAAAAaGVpZ2h0AAAAAAoAAABwcmV2aWV3VVJMAAAAAAMAAABzcmMAAAAABQAAAHdpZHRoAAAAAEsAAAAAAAAAAAAAAAAAAABMAAAAAAAAAAAAAAAAAAAATQAAAE4AAAAAAAAAAAAAAE4AAAAAAAAAAAAAAAMAAAAGAAAAaGVpZ2h0AAAAAAUAAABzY2FsZQAAAAAFAAAAd2lkdGgAAAAATwAAAAAAAAAAAAAABQAAAAYAAABoZWlnaHQAAAAADAAAAG9yaWdpbmFsVGV4dAAAAAAFAAAAc2NhbGUAAAAACQAAAHRleHRMaW5lcx4AAAAFAAAAd2lkdGgAAAAAUAAAAAAAAAAAAAAAAAAAAFEAAAAAAAAAAAAAAAQAAAAGAAAAaGVpZ2h0AAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAUAAAB3aWR0aAAAAABSAAAAAAAAAAAAAAACAAAABAAAAHJlZG8ZAAAABAAAAHVuZG8jAAAAUwAAAAAAAAAAAAAAAwAAAAcAAABfZW5hYmxlAAAAAAgAAABjb21taXRlchgAAAAHAAAAY29udGV4dBcAAABUAAAAGgAAAAAAAAAAAAAAVQAAAAAAAAAAAAAAAQAAAAoAAABjb21wb25lbnRzCwAAAFYAAAAAAAAAAAAAAAwAAAALAAAAX2RldmljZVR5cGUAAAAADAAAAF9pbmZvcm1hdGlvbjEAAAAJAAAAX21lbWJlcklkAAAAAAoAAABhcHBsaWFuY2VzMwAAAAcAAABjdXJzb3JYAAAAAAcAAABjdXJzb3JZAAAAAAsAAABleGVjdXRvckh1YjIAAAAPAAAAaXNDdXJzb3JJblNjZW5lAAAAAAkAAABpc1ByZXNzZWQAAAAADgAAAGlzUnRjQ29ubmVjdGVkAAAAAAsAAABtZW1iZXJTdGF0ZTYAAAAJAAAAdmlld1N0YXRlOAAAAFcAAAAAAAAAAAAAAAAAAABYAAAAAAAAAAAAAAAGAAAACgAAAGFwcGxpYW5jZXNaAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViWwAAAAsAAABpbmZvcm1hdGlvblkAAAAIAAAAbWVtYmVySWQAAAAACwAAAG1lbWJlclN0YXRlNgAAAFkAAAAAAAAAAAAAAAQAAAAGAAAAYXZhdGFyAAAAAAIAAABpZAAAAAAHAAAAaXNPd25lcgAAAAAIAAAAbmlja05hbWUAAAAAWgAAADQAAAAAAAAAAAAAAFsAAAAAAAAAAAAAAAMAAAAHAAAAX2VuYWJsZQAAAAAIAAAAY29tbWl0ZXIYAAAABwAAAGNvbnRleHQXAAAAXAAAAAAAAAAAAAAAEQAAAAUAAABjb2xvciEAAAAUAAAAY3VycmVudEFwcGxpYW5jZU5hbWUAAAAABwAAAGN1cnNvclgAAAAABwAAAGN1cnNvclkAAAAACgAAAGRldmljZVR5cGUAAAAABgAAAGhlaWdodAAAAAALAAAAaW5mb3JtYXRpb25dAAAACgAAAGlzQWN0aXZpdHkAAAAADwAAAGlzQ3Vyc29ySW5TY2VuZQAAAAAJAAAAaXNQcmVzc2VkAAAAAA4AAABpc1J0Y0Nvbm5lY3RlZAAAAAAIAAAAbWVtYmVySWQAAAAABAAAAG1vZGUAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHBpeGVsV2lkdGgAAAAABQAAAHdpZHRoAAAAAF0AAAAAAAAAAAAAAAQAAAAGAAAAYXZhdGFyAAAAAAIAAABpZAAAAAAHAAAAaXNPd25lcgAAAAAIAAAAbmlja05hbWUAAAAAXgAAAAAAAAAAAAAABAAAAAYAAABhdmF0YXIAAAAAAgAAAGlkAAAAAAcAAABpc093bmVyAAAAAAgAAABuaWNrTmFtZQAAAABfAAAAAAAAAAAAAAAEAAAADQAAAGJyb2FkY2FzdGVySWQAAAAACgAAAGRpcmVjdG9ySWQAAAAAEAAAAGluaXRpYXRpdmVDb2xvcnMuAAAACgAAAG1lbWJlcnNNYXAvAAAAYAAAAAAAAAAAAAAABgAAAAoAAABhcHBsaWFuY2VzWgAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YlsAAAALAAAAaW5mb3JtYXRpb25ZAAAACAAAAG1lbWJlcklkAAAAAAsAAABtZW1iZXJTdGF0ZTYAAABhAAAAAAAAAAAAAAAAAAAAYgAAAAAAAAAAAAAABAAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhYAAAAFAAAAc2NlbmUJAAAABgAAAHNjZW5lcw0AAABjAAAAAAAAAAAAAAAAAAAAZAAAAAAAAAAAAAAAAAAAAGUAAAAAAAAAAAAAAAQAAAAGAAAAaGVpZ2h0AAAAAAoAAABwcmV2aWV3VVJMAAAAAAMAAABzcmMAAAAABQAAAHdpZHRoAAAAAGYAAAAAAAAAAAAAAAMAAAAPAAAAY29tcG9uZW50c0NvdW50AAAAAAQAAABuYW1lAAAAAAMAAABwcHRnAAAAZwAAAAAAAAAAAAAABAAAAAYAAABoZWlnaHQAAAAACgAAAHByZXZpZXdVUkwAAAAAAwAAAHNyYwAAAAAFAAAAd2lkdGgAAAAAaAAAAAAAAAAAAAAAAQAAAAYAAABwb2ludHNpAAAAaQAAAAAAAABqAAAAAAAAAGoAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAABrAAAAAAAAAAAAAAAAAAAAbAAAAAAAAAAAAAAAAQAAAAYAAABwb2ludHNtAAAAbQAAAAAAAABqAAAAAAAAAG4AAAAAAAAAAAAAAAAAAABvAAAAAAAAAAAAAAACAAAACwAAAGJlZ2luVmVjdG9yagAAAAkAAABlbmRWZWN0b3JqAAAAcAAAAAAAAAAAAAAAAgAAAAYAAABoZWlnaHQAAAAABQAAAHdpZHRoAAAAAHEAAAAAAAAAAAAAAAoAAAAFAAAAYXJyb3eXAAAABwAAAGVsbGlwc2WKAAAABgAAAGVyYXNlco4AAAAEAAAAaGFuZJgAAAAMAAAAbGFzZXJQb2ludGVyfAAAAAYAAABwZW5jaWx/AAAACQAAAHJlY3RhbmdsZYYAAAAIAAAAc2VsZWN0b3JyAAAACAAAAHN0cmFpZ2h0kgAAAAQAAAB0ZXh0kAAAAHIAAAAAAAAAAAAAAAsAAAAPAAAAYmVnaW5QcmVzc1BvaW50dQAAAAcAAABjb250ZXh0dAAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAABwAAABkcmFnZ2VkQ29tcG9uZW50T3JpZ2luUG9pbnRzdgAAAA4AAABkcmFnZ2luZ1RhcmdldAAAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnRzAAAADAAAAGlzU2hpZnRQcmVzcwAAAAAOAAAAbGF0ZXN0T3BlcmF0ZVgAAAAADgAAAGxhdGVzdE9wZXJhdGVZAAAAAAwAAABwcmVzc2VkUG9pbnR6AAAADQAAAHNlbGVjdGVkR3JvdXB4AAAAcwAAAAAAAAAAAAAAAgAAAAEAAAB4AAAAAAEAAAB5AAAAAHQAAAAAAAAAAAAAAAQAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIWAAAABQAAAHNjZW5lCQAAAAYAAABzY2VuZXMNAAAAdQAAAAAAAAAAAAAAAgAAAAEAAAB4AAAAAAEAAAB5AAAAAHYAAAB3AAAAAAAAAAAAAAB3AAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAAeAAAAAAAAAAAAAAACAAAAAoAAABiZWdpblBvaW50dwAAAAkAAABiZWxvbmdzVG8AAAAABwAAAGNvbnRleHR5AAAABgAAAGhlaWdodAAAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAFAAAAd2lkdGgAAAAAeQAAAAAAAAAAAAAABAAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhYAAAAFAAAAc2NlbmUJAAAABgAAAHNjZW5lcw0AAAB6AAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAAewAAAAAAAABDAAAAAAAAAHwAAAAAAAAAAAAAAAQAAAAHAAAAY29udGV4dH0AAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcnsAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnR+AAAADAAAAHByZXNzZWRQb2ludHoAAAB9AAAAAAAAAAAAAAAEAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViFgAAAAUAAABzY2VuZQkAAAAGAAAAc2NlbmVzDQAAAH4AAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAAB/AAAAAAAAAAAAAAAFAAAABwAAAGNvbnRleHSAAAAAEAAAAGRyYWdFdmVudHNCdWZmZXJ7AAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50fgAAABIAAABwYWludGluZ0N1cnZlU2hhcGWBAAAADAAAAHByZXNzZWRQb2ludHoAAACAAAAAAAAAAAAAAAAEAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViFgAAAAUAAABzY2VuZQkAAAAGAAAAc2NlbmVzDQAAAIEAAAAAAAAAAAAAABMAAAAHAAAAX2hlaWdodAAAAAAJAAAAX3Byb3RvS2V5AAAAAAYAAABfd2lkdGgAAAAABwAAAGNvbnRleHQlAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJgAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAABEAAABpbml0aWFsaXplZEhlaWdodAAAAAAQAAAAaW5pdGlhbGl6ZWRXaWR0aAAAAAAKAAAAaXNQYWludGluZwAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAYAAABwb2ludHOCAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAADAAAAHNwYXJzZVBvaW50c4MAAAAFAAAAc3RhdGU2AAAABQAAAHdpZHRoAAAAAIIAAAAAAAAAdwAAAAAAAACDAAAAAAAAAAAAAAAFAAAADAAAAF9wdXNoZWRDb3VudAAAAAANAAAAaHVtcFRocmVzaG9sZAAAAAAGAAAAcGxvdWdohQAAAAYAAABwb2ludHOEAAAADgAAAHdpZHRoVGhyZXNob2xkAAAAAIQAAAAAAAAAdwAAAAAAAACFAAAAAAAAAAAAAAAGAAAABQAAAGJlZ2luAAAAAAMAAABlbmQAAAAABAAAAGVuZFgAAAAABAAAAGVuZFkAAAAABQAAAHVuaXRYAAAAAAUAAAB1bml0WQAAAACGAAAAAAAAAAAAAAAJAAAACgAAAGJlZ2luUG9pbnSJAAAABwAAAGNvbnRleHSHAAAAEAAAAGRyYWdFdmVudHNCdWZmZXJ7AAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50fgAAAAwAAABpc1NoaWZ0UHJlc3MAAAAACwAAAGxhdGVzdERyYWdYAAAAAAsAAABsYXRlc3REcmFnWQAAAAAWAAAAcGFpbnRpbmdSZWN0YW5nbGVTaGFwZYgAAAAMAAAAcHJlc3NlZFBvaW50egAAAIcAAAAAAAAAAAAAAAQAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIWAAAABQAAAHNjZW5lCQAAAAYAAABzY2VuZXMNAAAAiAAAAAAAAAAAAAAADQAAAAkAAABfcHJvdG9LZXkAAAAABwAAAGNvbnRleHQlAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJgAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAoAAABpc1BhaW50aW5nAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHN0YXRlNgAAAAUAAAB3aWR0aAAAAACJAAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAAigAAAAAAAAAAAAAACQAAAAoAAABiZWdpblBvaW50jQAAAAcAAABjb250ZXh0iwAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludH4AAAAMAAAAaXNTaGlmdFByZXNzAAAAAAsAAABsYXRlc3REcmFnWAAAAAALAAAAbGF0ZXN0RHJhZ1kAAAAAFAAAAHBhaW50aW5nRWxsaXBzZVNoYXBljAAAAAwAAABwcmVzc2VkUG9pbnR6AAAAiwAAAAAAAAAAAAAABAAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhYAAAAFAAAAc2NlbmUJAAAABgAAAHNjZW5lcw0AAACMAAAAAAAAAAAAAAANAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dCUAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMmAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAACgAAAGlzUGFpbnRpbmcAAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGU2AAAABQAAAHdpZHRoAAAAAI0AAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAACOAAAAAAAAAAAAAAAEAAAABwAAAGNvbnRleHSPAAAAEAAAAGRyYWdFdmVudHNCdWZmZXJ7AAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50fgAAAAwAAABwcmVzc2VkUG9pbnR6AAAAjwAAAAAAAAAAAAAABAAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhYAAAAFAAAAc2NlbmUJAAAABgAAAHNjZW5lcw0AAACQAAAAAAAAAAAAAAAEAAAABwAAAGNvbnRleHSRAAAAEAAAAGRyYWdFdmVudHNCdWZmZXJ7AAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50fgAAAAwAAABwcmVzc2VkUG9pbnR6AAAAkQAAAAAAAAAAAAAABAAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhYAAAAFAAAAc2NlbmUJAAAABgAAAHNjZW5lcw0AAACSAAAAAAAAAAAAAAAHAAAACgAAAGJlZ2luUG9pbnSWAAAABwAAAGNvbnRleHSTAAAAEAAAAGRyYWdFdmVudHNCdWZmZXJ7AAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50fgAAAAQAAABraW5kAAAAABIAAABwYWl0aW5nVmVjdG9yU2hhcGWUAAAADAAAAHByZXNzZWRQb2ludHoAAACTAAAAAAAAAAAAAAAEAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViFgAAAAUAAABzY2VuZQkAAAAGAAAAc2NlbmVzDQAAAJQAAAAAAAAAAAAAABAAAAAKAAAAX2RpcmVjdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAsAAABhbmNob3JQb2ludJUAAAAHAAAAY29udGV4dCUAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMmAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAACgAAAGlzUGFpbnRpbmcAAAAABAAAAGtpbmQAAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGU2AAAABQAAAHdpZHRoAAAAAJUAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAACWAAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAAlwAAAAAAAAAAAAAABwAAAAoAAABiZWdpblBvaW50lgAAAAcAAABjb250ZXh0kwAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludH4AAAAEAAAAa2luZAAAAAASAAAAcGFpdGluZ1ZlY3RvclNoYXBllAAAAAwAAABwcmVzc2VkUG9pbnR6AAAAmAAAAAAAAAAAAAAABAAAAAcAAABjb250ZXh0mQAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludH4AAAAMAAAAcHJlc3NlZFBvaW50egAAAJkAAAAAAAAAAAAAAAQAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIWAAAABQAAAHNjZW5lCQAAAAYAAABzY2VuZXMNAAAAmgAAAAAAAAAAAAAABQAAAA0AAABiZWdpbkhpdFBvaW50dwAAAAoAAABkZWx0YVBvaW50dwAAABUAAABvcmllbnRhdGlvblVuaXRWZWN0b3KcAAAADgAAAHN0YXJ0UmVjdGFuZ2xlmwAAAAgAAAB0YXJnZXRJZAAAAACbAAAAAAAAAAAAAAAEAAAABgAAAGhlaWdodAAAAAAFAAAAd2lkdGgAAAAAAQAAAHgAAAAAAQAAAHkAAAAAnAAAAAAAAAAAAAAAAgAAAAEAAAB4AAAAAAEAAAB5AAAAAJ0AAAAAAAAAAAAAAAoAAAAJAAAAX2lzTG9ja2VkAAAAAA8AAABiZWxvbmdzVG9Vc2VySWQAAAAABwAAAGNvbnRleHSfAAAADwAAAGRyYWdnaW5nQ29udGV4dJ4AAAAVAAAAaW5jbHVkZUNvbXBvbmVudE5vZGVzoAAAABYAAABpc09ubHlIYXNUZXh0YXJlYVNoYXBlAAAAAAwAAABpc1NoaWZ0UHJlc3MAAAAADAAAAG9wZXJhdGVQb2ludAAAAAAJAAAAcmVjdGFuZ2xlmwAAABYAAAByZWN0YW5nbGVXaXRoSGl0TWFyZ2lumwAAAJ4AAAAAAAAAAAAAAAUAAAANAAAAYmVnaW5IaXRQb2ludHcAAAAKAAAAZGVsdGFQb2ludHcAAAAVAAAAb3JpZW50YXRpb25Vbml0VmVjdG9ynAAAAA4AAABzdGFydFJlY3RhbmdsZZsAAAAIAAAAdGFyZ2V0SWQAAAAAnwAAAAAAAAAAAAAABAAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhYAAAAFAAAAc2NlbmUJAAAABgAAAHNjZW5lcw0AAACgAAAAAAAAAKEAAAAAAAAAoQAAAAAAAAAAAAAABgAAAAkAAABjb21wb25lbnSiAAAAAgAAAGR4AAAAAAIAAABkeQAAAAAGAAAAaGVpZ2h0AAAAAAoAAABvcmlnaW5SZWN0mwAAAAUAAAB3aWR0aAAAAACiAAAAAAAAAAAAAAALAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dCUAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMmAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAd2lkdGgAAAAAowAAAAAAAAAAAAAAAwAAAAcAAABfZW5hYmxlAAAAAAgAAABjb21taXRlchgAAAAHAAAAY29udGV4dBcAAACkAAAAAAAAAKUAAAAAAAAApQAAAAAAAAAAAAAACwAAAAkAAABfcHJvdG9LZXkAAAAABwAAAGNvbnRleHQlAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJgAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHdpZHRoAAAAAKYAAAAAAAAApwAAAAAAAACnAAAAAAAAAAAAAAALAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dCUAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMmAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAd2lkdGgAAAAAqAAAAAAAAAAAAAAABgAAAAkAAABjb21wb25lbnSiAAAAAgAAAGR4AAAAAAIAAABkeQAAAAAGAAAAaGVpZ2h0AAAAAAoAAABvcmlnaW5SZWN0mwAAAAUAAAB3aWR0aAAAAACpAAAAAAAAAAAAAAAIAAAACgAAAGJlZ2luUG9pbnSNAAAABwAAAGNvbnRleHSLAAAAEAAAAGRyYWdFdmVudHNCdWZmZXJ7AAAADAAAAGlzU2hpZnRQcmVzcwAAAAALAAAAbGF0ZXN0RHJhZ1gAAAAACwAAAGxhdGVzdERyYWdZAAAAABQAAABwYWludGluZ0VsbGlwc2VTaGFwZYwAAAAMAAAAcHJlc3NlZFBvaW50egAAAKoAAAAAAAAAAAAAAAoAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0JQAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcyYAAAAKAAAAaXNQYWludGluZwAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGU2AAAABQAAAHdpZHRoAAAAAKsAAAAAAAAAAAAAAAMAAAAHAAAAY29udGV4dI8AAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcnsAAAAMAAAAcHJlc3NlZFBvaW50egAAAKwAAAAAAAAAAAAAAAMAAAAHAAAAY29udGV4dJkAAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcnsAAAAMAAAAcHJlc3NlZFBvaW50egAAAK0AAAAAAAAAAAAAAAsAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0JQAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcyYAAAAIAAAAaW1hZ2VTcmMAAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAEAAAAdXVpZAAAAAAFAAAAd2lkdGgAAAAArgAAAAAAAAAAAAAAAwAAAAcAAABjb250ZXh0fQAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAAAwAAABwcmVzc2VkUG9pbnR6AAAArwAAAAAAAAAAAAAADgAAAAcAAABfaGVpZ2h0AAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAHAAAAY29udGV4dCUAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJgAAABEAAABpbml0aWFsaXplZEhlaWdodAAAAAAQAAAAaW5pdGlhbGl6ZWRXaWR0aAAAAAAKAAAAaXNQYWludGluZwAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAGAAAAcG9pbnRzggAAAAoAAABzZWxlY3RlZEJ5AAAAAAwAAABzcGFyc2VQb2ludHODAAAABQAAAHN0YXRlNgAAALAAAAAAAAAAAAAAAAQAAAAHAAAAY29udGV4dIAAAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcnsAAAASAAAAcGFpbnRpbmdDdXJ2ZVNoYXBlgQAAAAwAAABwcmVzc2VkUG9pbnR6AAAAsQAAAAAAAAAAAAAAEwAAAAcAAABfaGVpZ2h0AAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAHAAAAY29udGV4dCUAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMmAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAAEQAAAGluaXRpYWxpemVkSGVpZ2h0AAAAABAAAABpbml0aWFsaXplZFdpZHRoAAAAAAoAAABpc1BhaW50aW5nAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAABgAAAHBvaW50c4IAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAMAAAAc3BhcnNlUG9pbnRzgwAAAAUAAABzdGF0ZTYAAAAFAAAAd2lkdGgAAAAAsgAAAAAAAAAAAAAAEwAAAAcAAABfaGVpZ2h0AAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAHAAAAY29udGV4dCUAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMmAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAAEQAAAGluaXRpYWxpemVkSGVpZ2h0AAAAABAAAABpbml0aWFsaXplZFdpZHRoAAAAAAoAAABpc1BhaW50aW5nAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAABgAAAHBvaW50c4IAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAMAAAAc3BhcnNlUG9pbnRzgwAAAAUAAABzdGF0ZTYAAAAFAAAAd2lkdGgAAAAAswAAAAAAAAAAAAAACAAAAAoAAABiZWdpblBvaW50iQAAAAcAAABjb250ZXh0hwAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAAAwAAABpc1NoaWZ0UHJlc3MAAAAACwAAAGxhdGVzdERyYWdYAAAAAAsAAABsYXRlc3REcmFnWQAAAAAWAAAAcGFpbnRpbmdSZWN0YW5nbGVTaGFwZYgAAAAMAAAAcHJlc3NlZFBvaW50egAAALQAAAAAAAAAAAAAAAoAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0JQAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcyYAAAAKAAAAaXNQYWludGluZwAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGU2AAAABQAAAHdpZHRoAAAAALUAAAAAAAAAAAAAAAcAAAAKAAAAYmVnaW5Qb2ludHcAAAAJAAAAYmVsb25nc1RvAAAAAAcAAABjb250ZXh0eQAAAAYAAABoZWlnaHQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAABQAAAHdpZHRoAAAAALYAAAAAAAAAAAAAAAsAAAAPAAAAYmVnaW5QcmVzc1BvaW50dQAAAAcAAABjb250ZXh0dAAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAABwAAABkcmFnZ2VkQ29tcG9uZW50T3JpZ2luUG9pbnRzdgAAAA4AAABkcmFnZ2luZ1RhcmdldAAAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnRzAAAADAAAAGlzU2hpZnRQcmVzcwAAAAAOAAAAbGF0ZXN0T3BlcmF0ZVgAAAAADgAAAGxhdGVzdE9wZXJhdGVZAAAAAAwAAABwcmVzc2VkUG9pbnR6AAAADQAAAHNlbGVjdGVkR3JvdXB4AAAAtwAAAAAAAAC4AAAAAAAAALgAAAAAAAAAAAAAAAsAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0JQAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcyYAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAAB3aWR0aAAAAAC5AAAAAAAAAAAAAAAAAAAAugAAAAAAAAAAAAAAAAAAALsAAAAAAAAAAAAAAAsAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0JQAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcyYAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAAB3aWR0aAAAAAC8AAAAAAAAAAAAAAADAAAABwAAAGNvbnRleHSRAAAAEAAAAGRyYWdFdmVudHNCdWZmZXJ7AAAADAAAAHByZXNzZWRQb2ludHoAAAC9AAAAAAAAAAAAAAACAAAACQAAAHJlY3RhbmdsZZsAAAALAAAAdGV4dGFyZWFCb3hPAAAAvgAAAAAAAAAAAAAADgAAAAkAAABfZWRpdGVkQnkAAAAABwAAAF9mb3JtYXTAAAAAEwAAAF9pc1dhaXRpbmdGaXJzdFRleHQAAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dCUAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMmAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHNlbGVjdGVkQnkAAAAAEQAAAHN0YXRlQmVmb3JlRWRpdGVkvwAAAAgAAAB0ZXh0U2l6ZQAAAAALAAAAdGV4dGFyZWFCb3hPAAAABQAAAHdpZHRoAAAAAL8AAAAAAAAAAAAAAAIAAAAJAAAAcmVjdGFuZ2xlmwAAAAsAAAB0ZXh0YXJlYUJveE8AAADAAAAAAAAAAAAAAAAFAAAABAAAAGJvbGQAAAAABQAAAGNvbG9yIQAAAAYAAABpdGFsaWMAAAAACwAAAGxpbmVUaHJvdWdoAAAAAAkAAAB1bmRlcmxpbmUAAAAAwQAAAAAAAAAAAAAABwAAAAoAAABiZWdpblBvaW50lgAAAAcAAABjb250ZXh0kwAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludH4AAAAEAAAAa2luZAAAAAASAAAAcGFpdGluZ1ZlY3RvclNoYXBllAAAAAwAAABwcmVzc2VkUG9pbnR6AAAAwgAAAAAAAAAAAAAABwAAAAoAAABiZWdpblBvaW50lgAAAAcAAABjb250ZXh0kwAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludH4AAAAEAAAAa2luZAAAAAASAAAAcGFpdGluZ1ZlY3RvclNoYXBllAAAAAwAAABwcmVzc2VkUG9pbnR6AAAAwwAAAAAAAAAAAAAABgAAAAoAAABiZWdpblBvaW50lgAAAAcAAABjb250ZXh0kwAAABAAAABkcmFnRXZlbnRzQnVmZmVyewAAAAQAAABraW5kAAAAABIAAABwYWl0aW5nVmVjdG9yU2hhcGWUAAAADAAAAHByZXNzZWRQb2ludHoAAADEAAAAAAAAAAAAAAANAAAACgAAAF9kaXJlY3Rpb24AAAAACQAAAF9wcm90b0tleQAAAAALAAAAYW5jaG9yUG9pbnSVAAAABwAAAGNvbnRleHQlAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJgAAAAoAAABpc1BhaW50aW5nAAAAAAQAAABraW5kAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAABzdGF0ZTYAAAAFAAAAd2lkdGgAAAAAxQAAAAAAAAAAAAAACwAAAAkAAABfcHJvdG9LZXkAAAAABwAAAGNvbnRleHQlAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJgAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHdpZHRoAAAAAMYAAAAAAAAAAAAAAAAAAADHAAAAAAAAAAAAAAAEAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViFgAAAAUAAABzY2VuZQkAAAAGAAAAc2NlbmVzDQAAAMgAAAAAAAAAAAAAAAYAAAAFAAAAYmVnaW4AAAAAAwAAAGVuZAAAAAAEAAAAZW5kWAAAAAAEAAAAZW5kWQAAAAAFAAAAdW5pdFgAAAAABQAAAHVuaXRZAAAAAMkAAAAAAAAAAAAAAAUAAAAMAAAAX3B1c2hlZENvdW50AAAAAA0AAABodW1wVGhyZXNob2xkAAAAAAYAAABwbG91Z2iFAAAABgAAAHBvaW50c4QAAAAOAAAAd2lkdGhUaHJlc2hvbGQAAAAAygAAAAAAAAB3AAAAAAAAAMsAAAAAAAAAAAAAAAEAAAAKAAAAY29tcG9uZW50c8wAAADMAAAAAAAAAM0AAAAAAAAAzQAAAAAAAAAAAAAACwAAAAkAAABfcHJvdG9LZXkAAAAABwAAAGNvbnRleHQlAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJgAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHdpZHRoAAAAAM4AAAAAAAAAAAAAAAQAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIWAAAABQAAAHNjZW5lCQAAAAYAAABzY2VuZXMNAAAAzwAAAAAAAAAAAAAABAAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhYAAAAFAAAAc2NlbmUJAAAABgAAAHNjZW5lcw0AAADQAAAAAAAAAAAAAAADAAAABwAAAGNvbnRleHTRAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkc9IAAAAKAAAAc2VsZWN0ZWRCeQAAAADRAAAAAAAAAAAAAAAEAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViFgAAAAUAAABzY2VuZQkAAAAGAAAAc2NlbmVzDQAAANIAAAAAAAAAAAAAAAAAAADTAAAAAAAAAAAAAAADAAAAEAAAAGRyYWdFdmVudHNCdWZmZXJ7AAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50fgAAAAwAAABwcmVzc2VkUG9pbnR6AAAA1AAAAAAAAAAAAAAAAAAAANUAAAAAAAAAAAAAAAMAAAAFAAAAY29sb3IhAAAACQAAAGhpZ2hsaWdodAAAAAAKAAAAc2VsZWN0ZWRCeQAAAADWAAAAAAAAAAAAAAAEAAAABwAAAGJlbG9uZ3MAAAAABQAAAGNvbG9yIQAAAAoAAABpc0RyYWdnaW5nAAAAAA4AAABpc1VuaWZvcm1TY2FsZQAAAADXAAAAAAAAAAAAAAACAAAABwAAAGJlbG9uZ3MAAAAABQAAAGNvbG9yIQAAANgAAAAAAAAAAAAAAAYAAAAFAAAAY29sb3IhAAAABgAAAG1hcmdpbgAAAAAMAAAAb3JpZ2luYWxUZXh0AAAAAAUAAABzY2FsZQAAAAAJAAAAdGV4dENvbG9yIQAAAAgAAAB0ZXh0U2l6ZQAAAADZAAAAAAAAAAAAAAAFAAAABQAAAGNvbG9yIQAAAAgAAABlZGl0b3JJZAAAAAALAAAAaW5mb3JtYXRpb27aAAAABgAAAG1hcmdpbgAAAAAIAAAAdGV4dFNpemUAAAAA2gAAAAAAAAAAAAAABAAAAAYAAABhdmF0YXIAAAAAAgAAAGlkAAAAAAcAAABpc093bmVyAAAAAAgAAABuaWNrTmFtZQAAAADbAAAAAAAAAAAAAAAFAAAACAAAAGVkaXRhYmxl1QAAAAYAAABlZGl0b3LWAAAABgAAAG15VGV4dNgAAAAJAAAAb3RoZXJUZXh02QAAAA0AAABzZWxlY3RlZEdyb3Vw1wAAANwAAAAAAAAAAAAAAAYAAAAMAAAAX2dsb2JhbFN0YXRlOQAAABgAAABhZG1pbk9ic2VydmVyTWVtYmVyU3RhdGU2AAAAFgAAAGludmlzaWJsZVBsdWdpbk1hbmFnZXIBAAAADgAAAG1lbWJlcnNNYW5hZ2VyLQAAAA0AAABwbHVnaW5NYW5hZ2VyLAAAAAYAAABzY2VuZXMrAAAA3QAAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0DwAAAAkAAABncm91cHNNYXARAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QTAAAACQAAAHNjZW5lc01hcBQAAADeAAAAAAAAAAAAAAACAAAADAAAAF9jdXJyZW50UGF0aBUAAAAOAAAAcm9vdFNjZW5lR3JvdXAOAAAA3wAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAADhAAAAAAAAAAAAAAAAAAAA4gAAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0DwAAAAkAAABncm91cHNNYXARAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QTAAAACQAAAHNjZW5lc01hcBQAAADjAAAAAAAAAAAAAAAAAAAA5AAAAAAAAADlAAAAAAAAAOUAAAAAAAAAAAAAAAAAAADmAAAAAAAAAAAAAAAFAAAACgAAAGdyb3Vwc0xpc3QPAAAACQAAAGdyb3Vwc01hcBEAAAAEAAAAbmFtZQAAAAAKAAAAc2NlbmVzTGlzdBMAAAAJAAAAc2NlbmVzTWFwFAAAAOcAAAAAAAAAAAAAAAAAAADoAAAAAAAAAAAAAAAFAAAACgAAAGdyb3Vwc0xpc3QPAAAACQAAAGdyb3Vwc01hcBEAAAAEAAAAbmFtZQAAAAAKAAAAc2NlbmVzTGlzdBMAAAAJAAAAc2NlbmVzTWFwFAAAAOkAAAAAAAAAAAAAAAAAAADqAAAAAAAAAAAAAAAAAAAA6wAAAAAAAAAAAAAAAAAAAOwAAAAAAAAAAAAAAAAAAADtAAAAAAAAAAAAAAAFAAAACgAAAGdyb3Vwc0xpc3QPAAAACQAAAGdyb3Vwc01hcBEAAAAEAAAAbmFtZQAAAAAKAAAAc2NlbmVzTGlzdBMAAAAJAAAAc2NlbmVzTWFwFAAAAO4AAAAAAAAAAAAAAAAAAADvAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0DwAAAAkAAABncm91cHNNYXARAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QTAAAACQAAAHNjZW5lc01hcBQAAADxAAAAAAAAAAAAAAAAAAAA8gAAAAAAAAAAAAAAAAAAAPMAAAAAAAAAAAAAAAAAAAD0AAAAAAAAAAAAAAAAAAAA9QAAAAAAAAAAAAAAAAAAAPYAAAAAAAAAAAAAAAAAAAD3AAAAAAAAAAAAAAAAAAAA+AAAAAAAAAAAAAAABAAAAAQAAABfc3JjAAAAAAYAAABoZWlnaHQAAAAACgAAAHByZXZpZXdVUkwAAAAABQAAAHdpZHRoAAAAAPkAAAAAAAAAAAAAAAQAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIWAAAABQAAAHNjZW5lCQAAAAYAAABzY2VuZXMNAAAA+gAAAAAAAAAAAAAABAAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhYAAAAFAAAAc2NlbmUJAAAABgAAAHNjZW5lcw0AAAD7AAAAAAAAAAAAAAAAAAAA/AAAAAAAAAAAAAAAAAAAAA==",formatHash:"123442ffe820d5562867f6061a2a85d1",classes:{0:{objectFormatId:1,members:[{name:"plugins",mode:"value",type:"property",isPublic:!1},{name:"getKinds",type:"method",isPublic:!0,parameters:[]},{name:"hasKind",type:"method",isPublic:!0,parameters:[0]},{name:"put",type:"method",isPublic:!0,parameters:[0,4]},{name:"remove",type:"method",isPublic:!0,parameters:[0]},{name:"getAttributes",type:"method",isPublic:!0,parameters:[0]},{name:"updateAttributes",type:"method",isPublic:!0,parameters:[0,5]}]},1:{objectFormatId:6,members:[{name:"hitTestingBoxMargin",mode:"value",type:"property",isPublic:!0},{name:"kind",mode:"value",type:"property",isPublic:!0},{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"selectable",mode:"value",type:"property",isPublic:!0},{name:"locked",mode:"value",type:"property",isPublic:!0},{name:"attributes",mode:"value",type:"property",isPublic:!0},{name:"manager",mode:"value",type:"property",isPublic:!1},{name:"isPressed",mode:"readonly",type:"property",isPublic:!0}]},2:{objectFormatId:40,members:[{name:"context",mode:"value",type:"property",isPublic:!0},{name:"pressedMembers",mode:"value",type:"property",isPublic:!1},{name:"isPressed",mode:"accessible",type:"property",isPublic:!0},{name:"isPressed",mode:"accessible",type:"property",isPublic:!0},{name:"insert",type:"method",isPublic:!0,parameters:[0,39]},{name:"get",type:"method",isPublic:!0,parameters:[0]},{name:"list",type:"method",isPublic:!0,parameters:[]},{name:"remove",type:"method",isPublic:!0,parameters:[0]},{name:"update",type:"method",isPublic:!0,parameters:[0,39]},{name:"updatePlugin",type:"method",isPublic:!1,parameters:[41,39]}]},3:{objectFormatId:42,members:[{name:"scenes",mode:"value",type:"property",isPublic:!0},{name:"pluginManager",mode:"value",type:"property",isPublic:!1},{name:"invisiblePluginManager",mode:"value",type:"property",isPublic:!1},{name:"membersManager",mode:"value",type:"property",isPublic:!1},{name:"adminObserverMemberState",mode:"value",type:"property",isPublic:!1},{name:"_globalState",mode:"value",type:"property",isPublic:!1},{name:"deviceType",mode:"readonly",type:"property",isPublic:!0},{name:"scene",mode:"readonly",type:"property",isPublic:!0},{name:"executorHub",mode:"readonly",type:"property",isPublic:!0},{name:"enableExecute",mode:"readonly",type:"property",isPublic:!0},{name:"createConstructors",type:"method",isPublic:!1,parameters:[]},{name:"createMemberState",type:"method",isPublic:!1,parameters:[33]},{name:"createAppliances",type:"method",isPublic:!1,parameters:[]},{name:"onMemberEnterRoom",type:"method",isPublic:!1,parameters:[0,0]},{name:"onMemberLeaveRoom",type:"method",isPublic:!1,parameters:[]},{name:"onOthersEvent",type:"method",isPublic:!1,parameters:[0,0,0]},{name:"changeScene",type:"method",isPublic:!0,parameters:[58]},{name:"putScenes",type:"method",isPublic:!0,parameters:[71,72,0]},{name:"removeScenes",type:"method",isPublic:!0,parameters:[75]},{name:"moveScene",type:"method",isPublic:!0,parameters:[64,65]},{name:"insertImage",type:"method",isPublic:!0,parameters:[63]},{name:"lockImage",type:"method",isPublic:!0,parameters:[0,0]},{name:"lockImages",type:"method",isPublic:!0,parameters:[0]},{name:"completeImageUpload",type:"method",isPublic:!0,parameters:[0,0]},{name:"setImageLock",type:"method",isPublic:!0,parameters:[0,0]},{name:"getImageWith",type:"method",isPublic:!1,parameters:[0]},{name:"setGlobalState",type:"method",isPublic:!0,parameters:[0]},{name:"setMemberState",type:"method",isPublic:!0,parameters:[0]},{name:"setViewState",type:"method",isPublic:!0,parameters:[0]},{name:"updateTextareaFormat",type:"method",isPublic:!0,parameters:[0,77]},{name:"updateTextareaScale",type:"method",isPublic:!0,parameters:[0]},{name:"updateTextarea",type:"method",isPublic:!0,parameters:[79]},{name:"getScene",type:"method",isPublic:!0,parameters:[62]},{name:"getCurrentScenePath",type:"method",isPublic:!0,parameters:[]},{name:"getAllScenePaths",type:"method",isPublic:!0,parameters:[]},{name:"getSceneNames",type:"method",isPublic:!0,parameters:[61]},{name:"getSceneGroupNames",type:"method",isPublic:!0,parameters:[60]},{name:"getInformationWithMemberId",type:"method",isPublic:!0,parameters:[0]},{name:"getAppliance",type:"method",isPublic:!0,parameters:[0,0]},{name:"getMemberState",type:"method",isPublic:!0,parameters:[0]},{name:"getViewState",type:"method",isPublic:!0,parameters:[0]},{name:"getMemberIdWithUserId",type:"method",isPublic:!0,parameters:[0]},{name:"getBroadcasterId",type:"method",isPublic:!0,parameters:[]},{name:"getGlobalState",type:"method",isPublic:!0,parameters:[]},{name:"getMemberDisplayers",type:"method",isPublic:!0,parameters:[]},{name:"setEnableExecute",type:"method",isPublic:!0,parameters:[0]},{name:"execute",type:"method",isPublic:!0,parameters:[59]},{name:"onMouseDown",type:"method",isPublic:!0,parameters:[67]},{name:"onMouseMove",type:"method",isPublic:!0,parameters:[67]},{name:"onMouseUp",type:"method",isPublic:!0,parameters:[67]},{name:"onMouseLeave",type:"method",isPublic:!0,parameters:[67]},{name:"onKeyDown",type:"method",isPublic:!0,parameters:[66]},{name:"onKeyUp",type:"method",isPublic:!0,parameters:[66]},{name:"delete",type:"method",isPublic:!0,parameters:[]},{name:"duplicate",type:"method",isPublic:!0,parameters:[0,0]},{name:"copy",type:"method",isPublic:!0,parameters:[]},{name:"paste",type:"method",isPublic:!0,parameters:[0,0,0]},{name:"cleanCurrentScene",type:"method",isPublic:!0,parameters:[0]},{name:"getPlugin",type:"method",isPublic:!0,parameters:[0]},{name:"listPlugins",type:"method",isPublic:!0,parameters:[]},{name:"getInvisiblePluginKinds",type:"method",isPublic:!0,parameters:[]},{name:"hasInvisibilePluginKind",type:"method",isPublic:!0,parameters:[0]},{name:"insertPlugin",type:"method",isPublic:!0,parameters:[0,39]},{name:"removePlugin",type:"method",isPublic:!0,parameters:[0]},{name:"updatePlugin",type:"method",isPublic:!0,parameters:[0,39]},{name:"putInvisiblePlugin",type:"method",isPublic:!0,parameters:[0,70]},{name:"removeInvisiblePlugin",type:"method",isPublic:!0,parameters:[0]},{name:"getAttributesWithInvisiblePlugin",type:"method",isPublic:!0,parameters:[0]},{name:"updateAttributesInvisiblePlugin",type:"method",isPublic:!0,parameters:[0,76]},{name:"getPluginManager",type:"method",isPublic:!1,parameters:[]},{name:"getInvisiblePluginManager",type:"method",isPublic:!1,parameters:[]},{name:"takeCommit",type:"method",isPublic:!1,parameters:[]}]},4:{objectFormatId:83,members:[{name:"context",mode:"value",type:"property",isPublic:!1},{name:"commiter",mode:"value",type:"property",isPublic:!1},{name:"_enable",mode:"value",type:"property",isPublic:!1},{name:"enable",mode:"accessible",type:"property",isPublic:!0},{name:"enable",mode:"accessible",type:"property",isPublic:!0},{name:"commit",type:"method",isPublic:!0,parameters:[0,26,26]},{name:"takeCommit",type:"method",isPublic:!0,parameters:[]},{name:"execute",type:"method",isPublic:!0,parameters:[84]},{name:"executeOne",type:"method",isPublic:!1,parameters:[0,26]},{name:"findComponent",type:"method",isPublic:!1,parameters:[0,9]}]},5:{objectFormatId:12,members:[{name:"hitTestingBoxMargin",mode:"value",type:"property",isPublic:!0},{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"key",mode:"readonly",type:"property",isPublic:!0},{name:"identifier",mode:"readonly",type:"property",isPublic:!0},{name:"rectHitTestContent",type:"method",isPublic:!1,parameters:[0,0,0,0,0,0]},{name:"rectHitTest",type:"method",isPublic:!0,parameters:[0,0,0,0]},{name:"rectangleTester",type:"method",isPublic:!1,parameters:[0]}]},6:{objectFormatId:85,members:[{name:"components",mode:"value",type:"property",isPublic:!0},{name:"componentsLength",mode:"readonly",type:"property",isPublic:!0},{name:"componentAt",type:"method",isPublic:!0,parameters:[0]},{name:"addComponent",type:"method",isPublic:!0,parameters:[12]},{name:"addComponentAt",type:"method",isPublic:!0,parameters:[12,0]},{name:"indexOfComponent",type:"method",isPublic:!0,parameters:[12]},{name:"removeComponent",type:"method",isPublic:!0,parameters:[12]},{name:"forEachComponents",type:"method",isPublic:!0,parameters:[0]},{name:"componentsWithFilter",type:"method",isPublic:!0,parameters:[0]},{name:"findComponentFromBottom",type:"method",isPublic:!0,parameters:[0]},{name:"findComponentFromTop",type:"method",isPublic:!0,parameters:[0]},{name:"removeComponentAt",type:"method",isPublic:!0,parameters:[0]}]},7:{objectFormatId:86,members:[{name:"isRtcConnected",mode:"value",type:"property",isPublic:!0},{name:"_memberId",mode:"value",type:"property",isPublic:!1},{name:"_deviceType",mode:"value",type:"property",isPublic:!1},{name:"_information",mode:"value",type:"property",isPublic:!1},{name:"executorHub",mode:"value",type:"property",isPublic:!1},{name:"appliances",mode:"value",type:"property",isPublic:!1},{name:"cursorX",mode:"value",type:"property",isPublic:!1},{name:"cursorY",mode:"value",type:"property",isPublic:!1},{name:"memberState",mode:"value",type:"property",isPublic:!1},{name:"viewState",mode:"value",type:"property",isPublic:!1},{name:"isPressed",mode:"value",type:"property",isPublic:!1},{name:"isCursorInScene",mode:"value",type:"property",isPublic:!1},{name:"information",mode:"readonly",type:"property",isPublic:!0},{name:"memberId",mode:"readonly",type:"property",isPublic:!0},{name:"deviceType",mode:"readonly",type:"property",isPublic:!0},{name:"displayer",mode:"readonly",type:"property",isPublic:!0},{name:"currentAppliance",mode:"readonly",type:"property",isPublic:!0},{name:"isCursorOutOfBounds",type:"method",isPublic:!1,parameters:[]},{name:"getAppliance",type:"method",isPublic:!0,parameters:[0]},{name:"setViewMode",type:"method",isPublic:!0,parameters:[0]},{name:"notifyAllThatSceneChanged",type:"method",isPublic:!0,parameters:[87]},{name:"getMemberState",type:"method",isPublic:!0,parameters:[]},{name:"getExecutorHub",type:"method",isPublic:!0,parameters:[]},{name:"getViewState",type:"method",isPublic:!0,parameters:[]},{name:"setCursor",type:"method",isPublic:!0,parameters:[0,0,0,0]},{name:"changeToFollower",type:"method",isPublic:!0,parameters:[81]},{name:"setMemberState",type:"method",isPublic:!0,parameters:[0]},{name:"setViewState",type:"method",isPublic:!0,parameters:[0]},{name:"dispatchMagixEvent",type:"method",isPublic:!0,parameters:[0,0]},{name:"destroy",type:"method",isPublic:!0,parameters:[]}]},8:{objectFormatId:95,members:[{name:"initiativeColors",mode:"value",type:"property",isPublic:!1},{name:"membersMap",mode:"value",type:"property",isPublic:!1},{name:"directorId",mode:"value",type:"property",isPublic:!1},{name:"broadcasterId",mode:"value",type:"property",isPublic:!1},{name:"isMemberExits",type:"method",isPublic:!0,parameters:[0]},{name:"getBroadcasterId",type:"method",isPublic:!0,parameters:[]},{name:"findMemberIdWithUserId",type:"method",isPublic:!0,parameters:[0]},{name:"getInformationWithMemberId",type:"method",isPublic:!0,parameters:[0]},{name:"getMemberDisplayers",type:"method",isPublic:!0,parameters:[]},{name:"memberEnter",type:"method",isPublic:!0,parameters:[96]},{name:"enterMemberViewState",type:"method",isPublic:!1,parameters:[]},{name:"memberLeave",type:"method",isPublic:!0,parameters:[0]},{name:"updateDirector",type:"method",isPublic:!1,parameters:[]},{name:"getDeviceType",type:"method",isPublic:!0,parameters:[0]},{name:"getMemberState",type:"method",isPublic:!0,parameters:[0]},{name:"getExecutorHub",type:"method",isPublic:!0,parameters:[0]},{name:"getMemberIdWithUserId",type:"method",isPublic:!0,parameters:[0]},{name:"getViewState",type:"method",isPublic:!0,parameters:[0]},{name:"setMemberState",type:"method",isPublic:!0,parameters:[0,0]},{name:"setViewState",type:"method",isPublic:!0,parameters:[0,0]},{name:"setCursor",type:"method",isPublic:!0,parameters:[0,0,0,0,0]},{name:"setRtcState",type:"method",isPublic:!0,parameters:[0,0]},{name:"dispatchMagixEvent",type:"method",isPublic:!0,parameters:[0,0,0]},{name:"notifyAllThatSceneChanged",type:"method",isPublic:!0,parameters:[97]},{name:"getAppliance",type:"method",isPublic:!0,parameters:[0,0]},{name:"currentAppliance",type:"method",isPublic:!0,parameters:[0]},{name:"cancelBroadcaster",type:"method",isPublic:!1,parameters:[]},{name:"becomeNewBroadcast",type:"method",isPublic:!1,parameters:[0]},{name:"broadcastViewToAllRoom",type:"method",isPublic:!1,parameters:[]},{name:"initiativeColor",type:"method",isPublic:!0,parameters:[]},{name:"anyMemberHasColor",type:"method",isPublic:!1,parameters:[33]},{name:"isColorEquals",type:"method",isPublic:!1,parameters:[33,33]},{name:"compareDirector",type:"method",isPublic:!1,parameters:[0,0]}]},9:{objectFormatId:104,members:[{name:"points",mode:"value",type:"property",isPublic:!1},{name:"pushPoint",type:"method",isPublic:!0,parameters:[106]},{name:"pointHitTest",type:"method",isPublic:!0,parameters:[0,0]},{name:"rectHitTest",type:"method",isPublic:!0,parameters:[0,0,0,0]},{name:"findCrossPoint",type:"method",isPublic:!1,parameters:[106,106,106,106]},{name:"isCrossPointBetweenSegment",type:"method",isPublic:!1,parameters:[106,106,106]}]},10:{objectFormatId:107,members:[{name:"pointHitTest",type:"method",isPublic:!0,parameters:[0,0]},{name:"rectHitTest",type:"method",isPublic:!0,parameters:[0,0,0,0]},{name:"checkCrossVertical",type:"method",isPublic:!1,parameters:[0,0,0]},{name:"checkCrossHorizontal",type:"method",isPublic:!1,parameters:[0,0,0]},{name:"checkCrossGeometrical",type:"method",isPublic:!1,parameters:[0,0,0]}]},11:{objectFormatId:108,members:[{name:"points",mode:"value",type:"property",isPublic:!1},{name:"pushPoint",type:"method",isPublic:!0,parameters:[106]},{name:"hitTest",type:"method",isPublic:!0,parameters:[0,0,0]},{name:"hitAnySegments",type:"method",isPublic:!1,parameters:[0,0,0]},{name:"hitAnyNodeCircles",type:"method",isPublic:!1,parameters:[0,0,0]}]},12:{objectFormatId:110,members:[{name:"testPoint",type:"method",isPublic:!0,parameters:[0,0,0,0,0,0]},{name:"iterate",type:"method",isPublic:!0,parameters:[0,0,0,0,0]},{name:"allPoints",type:"method",isPublic:!0,parameters:[0,0,0,0]},{name:"testRect",type:"method",isPublic:!0,parameters:[0,0,0,0,0,0,0,0]},{name:"testSegment",type:"method",isPublic:!1,parameters:[0,0,0,0]}]},13:{objectFormatId:111,members:[{name:"beginVector",mode:"value",type:"property",isPublic:!1},{name:"endVector",mode:"value",type:"property",isPublic:!1},{name:"hitTest",type:"method",isPublic:!0,parameters:[0,0]},{name:"radiusIncrement",type:"method",isPublic:!1,parameters:[0,0]}]},14:{objectFormatId:157,members:[{name:"belongsToUserId",mode:"value",type:"property",isPublic:!0},{name:"isShiftPress",mode:"value",type:"property",isPublic:!0},{name:"draggingContext",mode:"value",type:"property",isPublic:!0},{name:"context",mode:"value",type:"property",isPublic:!0},{name:"rectangle",mode:"value",type:"property",isPublic:!1},{name:"rectangleWithHitMargin",mode:"value",type:"property",isPublic:!1},{name:"operatePoint",mode:"value",type:"property",isPublic:!1},{name:"_isLocked",mode:"value",type:"property",isPublic:!1},{name:"isOnlyHasTextareaShape",mode:"value",type:"property",isPublic:!1},{name:"includeComponentNodes",mode:"value",type:"property",isPublic:!1},{name:"isLocked",mode:"readonly",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"originX",mode:"readonly",type:"property",isPublic:!0},{name:"originY",mode:"readonly",type:"property",isPublic:!0},{name:"width",mode:"readonly",type:"property",isPublic:!0},{name:"height",mode:"readonly",type:"property",isPublic:!0},{name:"isUniformScale",mode:"readonly",type:"property",isPublic:!0},{name:"includeComponents",mode:"readonly",type:"property",isPublic:!0},{name:"tryToStartEdit",type:"method",isPublic:!0,parameters:[0,0,68]},{name:"isIncludePoint",type:"method",isPublic:!0,parameters:[0,0]},{name:"findOperationPointWithTargetId",type:"method",isPublic:!1,parameters:[0]},{name:"dragToPoint",type:"method",isPublic:!0,parameters:[0,0]},{name:"findDraggingTargetPoint",type:"method",isPublic:!1,parameters:[0,0]},{name:"updateRectangleWithDraggingTargetPoint",type:"method",isPublic:!1,parameters:[119]},{name:"refreshIncludesComponentsPositionAndSize",type:"method",isPublic:!1,parameters:[]},{name:"completeEdit",type:"method",isPublic:!0,parameters:[]},{name:"commitUpdateRectangle",type:"method",isPublic:!0,parameters:[163]},{name:"refreshRectangleByIncludesComponents",type:"method",isPublic:!0,parameters:[]},{name:"refreshWithIncludesComponents",type:"method",isPublic:!0,parameters:[166]},{name:"findLockedComponent",type:"method",isPublic:!1,parameters:[164]},{name:"refreshRectangleWithHitMargin",type:"method",isPublic:!1,parameters:[]},{name:"findRectangleIncludePoints",type:"method",isPublic:!1,parameters:[0]}]},15:{objectFormatId:169,members:[{name:"context",mode:"value",type:"property",isPublic:!1},{name:"paintingEllipseShape",mode:"value",type:"property",isPublic:!1},{name:"beginPoint",mode:"value",type:"property",isPublic:!1},{name:"isShiftPress",mode:"value",type:"property",isPublic:!1},{name:"latestDragX",mode:"value",type:"property",isPublic:!1},{name:"latestDragY",mode:"value",type:"property",isPublic:!1},{name:"fixedCursorInScenePoint",mode:"readonly",type:"property",isPublic:!0},{name:"onKeyUp",type:"method",isPublic:!0,parameters:[66]},{name:"onKeyDown",type:"method",isPublic:!0,parameters:[66]},{name:"onSceneChanged",type:"method",isPublic:!0,parameters:[]},{name:"onDraggingStateChanged",type:"method",isPublic:!1,parameters:[67]},{name:"onDrag",type:"method",isPublic:!1,parameters:[67]},{name:"refreshPaintingEllipseShape",type:"method",isPublic:!1,parameters:[]},{name:"onDestroy",type:"method",isPublic:!0,parameters:[]}]},16:{objectFormatId:170,members:[{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"state",mode:"value",type:"property",isPublic:!0},{name:"isPainting",mode:"value",type:"property",isPublic:!1},{name:"selectable",mode:"readonly",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"locked",mode:"readonly",type:"property",isPublic:!0},{name:"completePainting",type:"method",isPublic:!0,parameters:[]},{name:"rectHitTestContent",type:"method",isPublic:!1,parameters:[0,0,0,0,0,0]},{name:"outerEllipseTester",type:"method",isPublic:!1,parameters:[0]},{name:"innerEllipseTester",type:"method",isPublic:!1,parameters:[0]}]},17:{objectFormatId:171,members:[{name:"context",mode:"value",type:"property",isPublic:!1},{name:"fixedCursorInScenePoint",mode:"readonly",type:"property",isPublic:!0},{name:"onHover",type:"method",isPublic:!1,parameters:[67]},{name:"onClick",type:"method",isPublic:!1,parameters:[67]},{name:"onDrag",type:"method",isPublic:!1,parameters:[67]},{name:"removeHitComponents",type:"method",isPublic:!1,parameters:[67]}]},18:{objectFormatId:172,members:[{name:"context",mode:"value",type:"property",isPublic:!0},{name:"fixedCursorInScenePoint",mode:"readonly",type:"property",isPublic:!0}]},19:{objectFormatId:173,members:[{name:"uuid",mode:"value",type:"property",isPublic:!0},{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"imageSrc",mode:"value",type:"property",isPublic:!0},{name:"locked",mode:"value",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"selectable",mode:"readonly",type:"property",isPublic:!0},{name:"setImageSrc",type:"method",isPublic:!0,parameters:[0]}]},20:{objectFormatId:174,members:[{name:"context",mode:"value",type:"property",isPublic:!0},{name:"fixedCursorInScenePoint",mode:"readonly",type:"property",isPublic:!0}]},21:{objectFormatId:175,members:[{name:"state",mode:"value",type:"property",isPublic:!0},{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"isPainting",mode:"value",type:"property",isPublic:!1},{name:"_width",mode:"value",type:"property",isPublic:!1},{name:"_height",mode:"value",type:"property",isPublic:!1},{name:"initializedWidth",mode:"value",type:"property",isPublic:!1},{name:"initializedHeight",mode:"value",type:"property",isPublic:!1},{name:"points",mode:"value",type:"property",isPublic:!1},{name:"sparsePoints",mode:"value",type:"property",isPublic:!1},{name:"width",mode:"accessible",type:"property",isPublic:!0},{name:"height",mode:"accessible",type:"property",isPublic:!0},{name:"width",mode:"accessible",type:"property",isPublic:!0},{name:"height",mode:"accessible",type:"property",isPublic:!0},{name:"selectable",mode:"readonly",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"locked",mode:"readonly",type:"property",isPublic:!0},{name:"pushPoint",type:"method",isPublic:!0,parameters:[0,0,0,0]},{name:"completePainting",type:"method",isPublic:!0,parameters:[]},{name:"displayPoints",type:"method",isPublic:!0,parameters:[]},{name:"enableBezier",type:"method",isPublic:!0,parameters:[]}]},22:{objectFormatId:176,members:[{name:"context",mode:"value",type:"property",isPublic:!1},{name:"paintingCurveShape",mode:"value",type:"property",isPublic:!1},{name:"fixedCursorInScenePoint",mode:"readonly",type:"property",isPublic:!0},{name:"onSceneChanged",type:"method",isPublic:!0,parameters:[]},{name:"onClick",type:"method",isPublic:!1,parameters:[67]},{name:"onDraggingStateChanged",type:"method",isPublic:!1,parameters:[]},{name:"commitCreateShape",type:"method",isPublic:!1,parameters:[177]},{name:"onDrag",type:"method",isPublic:!1,parameters:[67]},{name:"onDestroy",type:"method",isPublic:!0,parameters:[]},{name:"pushPointToCurveShape",type:"method",isPublic:!1,parameters:[178,0,0]},{name:"createPencilOptions",type:"method",isPublic:!0,parameters:[]}]},23:{objectFormatId:179,members:[{name:"context",mode:"value",type:"property",isPublic:!1},{name:"paintingRectangleShape",mode:"value",type:"property",isPublic:!1},{name:"beginPoint",mode:"value",type:"property",isPublic:!1},{name:"isShiftPress",mode:"value",type:"property",isPublic:!1},{name:"latestDragX",mode:"value",type:"property",isPublic:!1},{name:"latestDragY",mode:"value",type:"property",isPublic:!1},{name:"fixedCursorInScenePoint",mode:"readonly",type:"property",isPublic:!0},{name:"onKeyUp",type:"method",isPublic:!0,parameters:[66]},{name:"onKeyDown",type:"method",isPublic:!0,parameters:[66]},{name:"onSceneChanged",type:"method",isPublic:!0,parameters:[]},{name:"onDraggingStateChanged",type:"method",isPublic:!1,parameters:[67]},{name:"onDrag",type:"method",isPublic:!1,parameters:[67]},{name:"refreshPaintingRectangleShape",type:"method",isPublic:!1,parameters:[]},{name:"onDestroy",type:"method",isPublic:!0,parameters:[]}]},24:{objectFormatId:180,members:[{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"state",mode:"value",type:"property",isPublic:!0},{name:"isPainting",mode:"value",type:"property",isPublic:!1},{name:"selectable",mode:"readonly",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"locked",mode:"readonly",type:"property",isPublic:!0},{name:"completePainting",type:"method",isPublic:!0,parameters:[]},{name:"rectHitTestContent",type:"method",isPublic:!1,parameters:[0,0,0,0,0,0]},{name:"innerRectangleTester",type:"method",isPublic:!1,parameters:[0]}]},25:{objectFormatId:181,members:[{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"context",mode:"value",type:"property",isPublic:!0},{name:"beginPoint",mode:"value",type:"property",isPublic:!1},{name:"belongsTo",mode:"value",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"updateEndPoint",type:"method",isPublic:!0,parameters:[0,0]},{name:"refreshWithPoints",type:"method",isPublic:!0,parameters:[0]}]},26:{objectFormatId:182,members:[{name:"context",mode:"value",type:"property",isPublic:!0},{name:"fixedCursorInScenePoint",mode:"value",type:"property",isPublic:!0},{name:"beginPressPoint",mode:"value",type:"property",isPublic:!1},{name:"draggingTarget",mode:"value",type:"property",isPublic:!1},{name:"draggedComponentOriginPoints",mode:"value",type:"property",isPublic:!1},{name:"selectedGroup",mode:"value",type:"property",isPublic:!1},{name:"isShiftPress",mode:"value",type:"property",isPublic:!1},{name:"latestOperateX",mode:"value",type:"property",isPublic:!1},{name:"latestOperateY",mode:"value",type:"property",isPublic:!1},{name:"onKeyUp",type:"method",isPublic:!0,parameters:[66]},{name:"onKeyDown",type:"method",isPublic:!0,parameters:[66]},{name:"onMemberStateChanged",type:"method",isPublic:!0,parameters:[54,54]},{name:"onSceneChanged",type:"method",isPublic:!0,parameters:[185]},{name:"delete",type:"method",isPublic:!0,parameters:[]},{name:"copy",type:"method",isPublic:!0,parameters:[]},{name:"duplicate",type:"method",isPublic:!0,parameters:[0,0]},{name:"onDestroy",type:"method",isPublic:!0,parameters:[]},{name:"cleanAllSelectingInformation",type:"method",isPublic:!1,parameters:[]},{name:"makeSureItsDraggingEvent",type:"method",isPublic:!1,parameters:[67]},{name:"onDraggingStateChanged",type:"method",isPublic:!1,parameters:[67]},{name:"commitUpdateRectangle",type:"method",isPublic:!1,parameters:[]},{name:"startDragWithSelectedMode",type:"method",isPublic:!1,parameters:[]},{name:"startDragWithHighlightMode",type:"method",isPublic:!1,parameters:[187]},{name:"onDrag",type:"method",isPublic:!1,parameters:[67]},{name:"refreshMyEditorRectangleSpaceDragToPoint",type:"method",isPublic:!1,parameters:[]},{name:"dragComponents",type:"method",isPublic:!1,parameters:[0,0,183]},{name:"onHover",type:"method",isPublic:!1,parameters:[67]},{name:"onClick",type:"method",isPublic:!1,parameters:[67]},{name:"setComponentHighlight",type:"method",isPublic:!1,parameters:[186]},{name:"cleanSelectedComponents",type:"method",isPublic:!1,parameters:[]},{name:"findMyEditorRectangleSpace",type:"method",isPublic:!1,parameters:[]},{name:"refreshMyEditorRectangleSpace",type:"method",isPublic:!0,parameters:[]},{name:"refreshAllUsersEditorRectangleSpace",type:"method",isPublic:!0,parameters:[]},{name:"allSelectedComponents",type:"method",isPublic:!1,parameters:[]}]},27:{objectFormatId:188,members:[{name:"context",mode:"value",type:"property",isPublic:!1},{name:"fixedCursorInScenePoint",mode:"readonly",type:"property",isPublic:!0},{name:"onMemberStateChanged",type:"method",isPublic:!0,parameters:[54,54]},{name:"onClick",type:"method",isPublic:!0,parameters:[67]}]},28:{objectFormatId:190,members:[{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"textSize",mode:"value",type:"property",isPublic:!0},{name:"textareaBox",mode:"value",type:"property",isPublic:!0},{name:"stateBeforeEdited",mode:"value",type:"property",isPublic:!1},{name:"_editedBy",mode:"value",type:"property",isPublic:!1},{name:"_isWaitingFirstText",mode:"value",type:"property",isPublic:!1},{name:"_format",mode:"value",type:"property",isPublic:!1},{name:"editedBy",mode:"readonly",type:"property",isPublic:!0},{name:"isWaitingFirstText",mode:"readonly",type:"property",isPublic:!0},{name:"isTextEmpty",mode:"readonly",type:"property",isPublic:!0},{name:"selectable",mode:"readonly",type:"property",isPublic:!0},{name:"locked",mode:"readonly",type:"property",isPublic:!0},{name:"format",mode:"readonly",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"currentScale",mode:"readonly",type:"property",isPublic:!0},{name:"editByUserId",type:"method",isPublic:!0,parameters:[0]},{name:"undoPreviousEdit",type:"method",isPublic:!0,parameters:[]},{name:"updateScale",type:"method",isPublic:!0,parameters:[0]},{name:"updateFormat",type:"method",isPublic:!0,parameters:[0,78]},{name:"completeEdit",type:"method",isPublic:!0,parameters:[]},{name:"setTextareaBox",type:"method",isPublic:!0,parameters:[79]},{name:"recoverTextareaBox",type:"method",isPublic:!0,parameters:[79]},{name:"recoverFormat",type:"method",isPublic:!0,parameters:[192]},{name:"adjustToKeepUniformScale",type:"method",isPublic:!0,parameters:[]},{name:"copyTextareaBox",type:"method",isPublic:!1,parameters:[79]}]},29:{objectFormatId:193,members:[]},30:{objectFormatId:194,members:[]},31:{objectFormatId:195,members:[{name:"context",mode:"value",type:"property",isPublic:!1},{name:"kind",mode:"value",type:"property",isPublic:!1},{name:"paitingVectorShape",mode:"value",type:"property",isPublic:!1},{name:"beginPoint",mode:"value",type:"property",isPublic:!1},{name:"fixedCursorInScenePoint",mode:"readonly",type:"property",isPublic:!0},{name:"onSceneChanged",type:"method",isPublic:!0,parameters:[]},{name:"onDraggingStateChanged",type:"method",isPublic:!1,parameters:[67]},{name:"onDrag",type:"method",isPublic:!1,parameters:[67]},{name:"onDestroy",type:"method",isPublic:!0,parameters:[]}]},32:{objectFormatId:196,members:[{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"kind",mode:"value",type:"property",isPublic:!0},{name:"state",mode:"value",type:"property",isPublic:!0},{name:"isPainting",mode:"value",type:"property",isPublic:!1},{name:"anchorPoint",mode:"value",type:"property",isPublic:!1},{name:"_direction",mode:"value",type:"property",isPublic:!1},{name:"selectable",mode:"readonly",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"direction",mode:"readonly",type:"property",isPublic:!0},{name:"locked",mode:"readonly",type:"property",isPublic:!0},{name:"setEndPoint",type:"method",isPublic:!0,parameters:[119]},{name:"completePainting",type:"method",isPublic:!0,parameters:[]},{name:"rectHitTestContent",type:"method",isPublic:!1,parameters:[0,0,0,0,0,0]},{name:"getBeginPoint",type:"method",isPublic:!1,parameters:[]},{name:"getEndPoint",type:"method",isPublic:!1,parameters:[]}]},33:{objectFormatId:197,members:[{name:"locked",mode:"value",type:"property",isPublic:!0},{name:"selectable",mode:"value",type:"property",isPublic:!0},{name:"originX",mode:"value",type:"property",isPublic:!0},{name:"originY",mode:"value",type:"property",isPublic:!0},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"context",mode:"value",type:"property",isPublic:!0},{name:"selectedBy",mode:"value",type:"property",isPublic:!0},{name:"_protoKey",mode:"value",type:"property",isPublic:!1},{name:"highlightAuthorIds",mode:"value",type:"property",isPublic:!1},{name:"protoKey",mode:"accessible",type:"property",isPublic:!0},{name:"protoKey",mode:"accessible",type:"property",isPublic:!0},{name:"isHighlightBy",type:"method",isPublic:!0,parameters:[0]},{name:"setHighlightBy",type:"method",isPublic:!0,parameters:[0,0]},{name:"snapshot",type:"method",isPublic:!0,parameters:[]},{name:"recover",type:"method",isPublic:!0,parameters:[199,0]},{name:"authorsPropertySetValue",type:"method",isPublic:!1,parameters:[198,0,0]}]},34:{objectFormatId:201,members:[{name:"widthThreshold",mode:"value",type:"property",isPublic:!0},{name:"humpThreshold",mode:"value",type:"property",isPublic:!0},{name:"points",mode:"value",type:"property",isPublic:!1},{name:"plough",mode:"value",type:"property",isPublic:!1},{name:"_pushedCount",mode:"value",type:"property",isPublic:!1},{name:"is2DGraphic",mode:"readonly",type:"property",isPublic:!0},{name:"pushedCount",mode:"readonly",type:"property",isPublic:!0},{name:"displayPoints",type:"method",isPublic:!0,parameters:[]},{name:"complete",type:"method",isPublic:!0,parameters:[]},{name:"pushPoint",type:"method",isPublic:!0,parameters:[0,0]},{name:"createPlough",type:"method",isPublic:!1,parameters:[0,0]},{name:"appendToPlough",type:"method",isPublic:!1,parameters:[0,0]},{name:"fillPloughPoints",type:"method",isPublic:!1,parameters:[202]}]},35:{objectFormatId:203,members:[{name:"components",mode:"value",type:"property",isPublic:!0},{name:"snapshot",type:"method",isPublic:!0,parameters:[]},{name:"recover",type:"method",isPublic:!0,parameters:[207,0]},{name:"injectToScene",type:"method",isPublic:!0,parameters:[206,0,0]}]},36:{objectFormatId:211,members:[{name:"pressedPoint",mode:"value",type:"property",isPublic:!0},{name:"dragEventsBuffer",mode:"value",type:"property",isPublic:!0},{name:"fixedCursorInScenePoint",mode:"value",type:"property",isPublic:!0},{name:"isDragging",mode:"readonly",type:"property",isPublic:!0},{name:"needBufferDragEvent",mode:"readonly",type:"property",isPublic:!1},{name:"isPressDown",mode:"readonly",type:"property",isPublic:!0},{name:"onKeyUp",type:"method",isPublic:!0,parameters:[66]},{name:"onKeyDown",type:"method",isPublic:!0,parameters:[66]},{name:"onDestroy",type:"method",isPublic:!0,parameters:[]},{name:"onMouseLeave",type:"method",isPublic:!0,parameters:[67]},{name:"onDraggingStateChanged",type:"method",isPublic:!1,parameters:[67]},{name:"onDrag",type:"method",isPublic:!1,parameters:[67]},{name:"onHover",type:"method",isPublic:!1,parameters:[67]},{name:"onClick",type:"method",isPublic:!1,parameters:[67]},{name:"makeSureItsDraggingEvent",type:"method",isPublic:!1,parameters:[67]},{name:"onMemberStateChanged",type:"method",isPublic:!0,parameters:[54,54]},{name:"onMagixEvent",type:"method",isPublic:!0,parameters:[0,0]},{name:"onSceneChanged",type:"method",isPublic:!0,parameters:[212]},{name:"onPressedAndDrag",type:"method",isPublic:!1,parameters:[67]},{name:"onMouseDown",type:"method",isPublic:!0,parameters:[67]},{name:"onMouseMove",type:"method",isPublic:!0,parameters:[67]},{name:"onMouseUp",type:"method",isPublic:!0,parameters:[67]},{name:"checkShouldChangeGestureToDrag",type:"method",isPublic:!1,parameters:[67]},{name:"shouldChangeGestureToDrag",type:"method",isPublic:!1,parameters:[0,0]},{name:"invokeCallback",type:"method",isPublic:!1,parameters:[0,67]}]},37:{objectFormatId:220,members:[{name:"createConstructors",type:"method",isPublic:!1,parameters:[]},{name:"createMemberState",type:"method",isPublic:!1,parameters:[33]}]},38:{objectFormatId:222,members:[{name:"rootSceneGroup",mode:"value",type:"property",isPublic:!1},{name:"_currentPath",mode:"value",type:"property",isPublic:!1},{name:"currentSceneCache",mode:"value",type:"property",isPublic:!1},{name:"currentPath",mode:"accessible",type:"property",isPublic:!0},{name:"currentPath",mode:"accessible",type:"property",isPublic:!0},{name:"currentScene",mode:"readonly",type:"property",isPublic:!0},{name:"getScene",type:"method",isPublic:!0,parameters:[236]},{name:"listScenes",type:"method",isPublic:!0,parameters:[242]},{name:"listSceneGroups",type:"method",isPublic:!0,parameters:[241]},{name:"listAllScenes",type:"method",isPublic:!0,parameters:[]},{name:"collectScenes",type:"method",isPublic:!1,parameters:[226,227,228]},{name:"putScene",type:"method",isPublic:!0,parameters:[246,9,0]},{name:"removePath",type:"method",isPublic:!0,parameters:[247]},{name:"moveScene",type:"method",isPublic:!0,parameters:[244,245,0]},{name:"cleanIfSceneGroupEmpty",type:"method",isPublic:!1,parameters:[225]},{name:"isSceneGroupEmpty",type:"method",isPublic:!1,parameters:[240]},{name:"findSceneOrGroup",type:"method",isPublic:!0,parameters:[235]},{name:"findSceneGroup",type:"method",isPublic:!1,parameters:[234]},{name:"makeSceneGroup",type:"method",isPublic:!1,parameters:[243]},{name:"insertScene",type:"method",isPublic:!1,parameters:[237,9,0]},{name:"createRootSceneGroup",type:"method",isPublic:!1,parameters:[]},{name:"findNextScenePathInTree",type:"method",isPublic:!1,parameters:[233]},{name:"findNextPathStackInTree",type:"method",isPublic:!1,parameters:[231,232]},{name:"findNextName",type:"method",isPublic:!1,parameters:[230,0]},{name:"createSceneGroup",type:"method",isPublic:!1,parameters:[0]},{name:"isPathEquals",type:"method",isPublic:!0,parameters:[238,239]},{name:"checkPathIncludesPrefix",type:"method",isPublic:!1,parameters:[223,224]}]},39:{objectFormatId:248,members:[{name:"_src",mode:"value",type:"property",isPublic:!1},{name:"width",mode:"value",type:"property",isPublic:!0},{name:"height",mode:"value",type:"property",isPublic:!0},{name:"previewURL",mode:"value",type:"property",isPublic:!0},{name:"hitTestingBoxMargin",mode:"readonly",type:"property",isPublic:!0},{name:"originX",mode:"readonly",type:"property",isPublic:!0},{name:"originY",mode:"readonly",type:"property",isPublic:!0},{name:"src",mode:"readonly",type:"property",isPublic:!0}]},40:{objectFormatId:9,members:[{name:"ppt",mode:"value",type:"property",isPublic:!0},{name:"name",mode:"value",type:"property",isPublic:!0},{name:"componentsCount",mode:"readonly",type:"property",isPublic:!0},{name:"editableWithHitIdentifies",type:"method",isPublic:!0,parameters:[251]},{name:"editablesWithHitIdentifies",type:"method",isPublic:!0,parameters:[252]},{name:"shellRectangle",type:"method",isPublic:!0,parameters:[]},{name:"cleanComponents",type:"method",isPublic:!0,parameters:[249]},{name:"cleanPPT",type:"method",isPublic:!0,parameters:[250]},{name:"recoverPPT",type:"method",isPublic:!0,parameters:[101]},{name:"cleanBackgroundImage",type:"method",isPublic:!1,parameters:[]}]}}}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(61);t.register=new r.RegisterImplement},function(e,t){e.exports=r("react")},function(e,t){e.exports=r("boundless")},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.creator,s=o.setter,c=o.caller,u=o.getter,l=o.remover,p=n(0),d=n(9),h=function(e){function t(t){var n=e.call(this)||this;return n.highlightAuthorIds=a([]),s(n,"context",t),s(n,"_protoKey",c(p,"findIdentifierWith",[n])),n}return i(t,e),Object.defineProperty(t.prototype,"protoKey",{get:function(){return u(this,"_protoKey")||s(this,"_protoKey",c(p,"findIdentifierWith",[this])),u(this,"_protoKey")},set:function(e){s(this,"_protoKey",e)},enumerable:!0,configurable:!0}),t.prototype.isHighlightBy=function(e){return-1!==c(u(this,"highlightAuthorIds"),"indexOf",[e])},t.prototype.setHighlightBy=function(e,t){c(this,"authorsPropertySetValue",[u(this,"highlightAuthorIds"),e,t])},t.prototype.snapshot=function(){var e=u(this,"context"),t=u(this,"selectedBy"),n=u(this,"highlightAuthorIds");l(this,"context"),s(this,"selectedBy",void 0),s(this,"highlightAuthorIds",a([]));var r=c(c(p,"getSnapshot",[]),"createSnapshot",[this,!0]);return s(this,"context",e),s(this,"selectedBy",t),s(this,"highlightAuthorIds",n),r},t.recover=function(e,t){var n=c(c(p,"getSnapshot",[]),"recoverWithSnapshot",[t]);return s(n,"context",e),n},t.prototype.authorsPropertySetValue=function(e,t,n){var r=c(e,"indexOf",[n]);t?-1===r&&c(e,"push",[n]):-1!==r&&c(e,"splice",[r,1])},t}(o.wrapSuperClass(d.ApplianceComponent));t.Editable=h,o.declareClass({classId:33,clazz:h,superClass:d.ApplianceComponent,memberDecorators:{isHighlightBy:[p.noEffects]}}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(47);t.Gesture=r.Gesture,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(30))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(4),s=n(0),c=n(1),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.selectedBy=function(e){return void 0===e?c.BelongsTo.None:e===this.props.context.observerId?c.BelongsTo.Me:c.BelongsTo.Others},t.prototype.render=function(){var e=this.props.payload;if(!s.isAkkoWrappedObjectAccessible(e))return null;var t=e.isHighlightBy(this.props.context.observerId),n=this.selectedBy(e.selectedBy);if((t||void 0!==n&&n!==c.BelongsTo.None)&&!e.locked){var r=e.context.getMemberState(e.selectedBy);if(!r)return null;var i=r.strokeColor;return o.createElement(a.CNode,{key:this.props.id,className:"highlight-box",style:{borderColor:"rgb("+i[0]+","+i[1]+","+i[2]+")"},context:this.props.cnode})}return null},t}(o.Component);t.getEditableComponent=function(){return u}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0).__context("module"),c=s.creator,u=s.setter,l=s.getter,p=s.caller,d=s.unwrapper,h=n(0),f=n(5),m=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.originX=0,i.originY=0,i.width=0,i.height=0,i.textSize=16,i.textareaBox=c({scale:1,width:0,height:0,originalText:"",textLines:c([])}),i.stateBeforeEdited=void 0,i._editedBy=void 0,i._isWaitingFirstText=!0,u(i,"originX",n),u(i,"originY",r),u(i,"_format",c({color:l(p(t,"getMemberState",[]),"strokeColor"),bold:!1,italic:!1,underline:!1,lineThrough:!1})),i}return i(t,e),Object.defineProperty(t.prototype,"editedBy",{get:function(){return l(this,"_editedBy")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isWaitingFirstText",{get:function(){return l(this,"_isWaitingFirstText")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTextEmpty",{get:function(){return""===l(l(this,"textareaBox"),"originalText")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return l(this,"_editedBy")!==p(h,"getAuthorId",[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locked",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){var e=l(this,"_format");if(!e){var t=l(this,"textColor");t||(t=c([0,0,0])),e=c({color:t,bold:!1,italic:!1,underline:!1,lineThrough:!1})}return e},enumerable:!0,configurable:!0}),t.prototype.editByUserId=function(e){u(this,"_editedBy",e),u(this,"stateBeforeEdited",c({textareaBox:p(t,"copyTextareaBox",[l(this,"textareaBox")]),rectangle:c({x:l(this,"originX"),y:l(this,"originY"),width:l(this,"width"),height:l(this,"height")})}))},t.prototype.undoPreviousEdit=function(){if(l(this,"stateBeforeEdited")){var e=l(this,"stateBeforeEdited"),t=l(e,"textareaBox"),n=l(e,"rectangle");u(this,"textareaBox",t),u(this,"originX",l(n,"x")),u(this,"originY",l(n,"y")),u(this,"width",l(n,"width")),u(this,"height",l(n,"height")),u(this,"stateBeforeEdited",void 0)}},t.prototype.updateScale=function(e){var t=l(this,"textareaBox"),n=l(t,"width"),r=l(t,"height");if(e!==l(t,"scale")){u(this,"textareaBox",c(o({},d(l(this,"textareaBox")),{scale:e})));var i=c({x:l(this,"originX"),y:l(this,"originY"),width:l(this,"width"),height:l(this,"height")});0!==n&&0!==r&&(u(this,"width",n*e),u(this,"height",r*e));var a=c({x:l(this,"originX"),y:l(this,"originY"),width:l(this,"width"),height:l(this,"height")}),s=l(l(this,"context"),"executorHub");if(s&&l(s,"enable")){var h=c({updateRect:a}),f=c({updateRect:i});p(s,"commit",[l(this,"protoKey"),h,f])}}},t.prototype.updateFormat=function(e,t){var n=l(t,"scale"),r=l(t,"width"),i=l(t,"height"),a=c({x:l(this,"originX"),y:l(this,"originY"),width:l(this,"width"),height:l(this,"height")}),s=c({x:l(this,"originX"),y:l(this,"originY"),width:r*n,height:i*n}),h=!1;l(a,"width")===l(s,"width")&&l(a,"height")===l(s,"height")||(u(this,"textareaBox",c(o({},d(l(this,"textareaBox")),{width:r,height:i}))),u(this,"width",l(s,"width")),u(this,"height",l(s,"height")),h=!0);var f=l(l(this,"context"),"executorHub"),m=l(this,"format"),g=u(this,"_format",c(o({},d(m),d(e))));if(f&&l(f,"enable")){var y=c({updateTextareaFormat:g}),v=c({updateTextareaFormat:m});h&&(u(y,"updateRect",s),u(v,"updateRect",a)),p(f,"commit",[l(this,"protoKey"),y,v])}},t.prototype.completeEdit=function(){var e=l(l(this,"context"),"executorHub");if(e&&l(e,"enable")&&l(this,"stateBeforeEdited")&&l(l(l(this,"stateBeforeEdited"),"textareaBox"),"originalText")!==l(l(this,"textareaBox"),"originalText"))if(l(this,"_isWaitingFirstText")){var n=c({create:p(this,"snapshot",[])});p(e,"commit",[l(this,"protoKey"),n,c({delete:!0})])}else{n=c({updateTextarea:p(t,"copyTextareaBox",[l(this,"textareaBox")]),updateRect:c({x:l(this,"originX"),y:l(this,"originY"),width:l(this,"width"),height:l(this,"height")})});var r=c({updateTextarea:l(l(this,"stateBeforeEdited"),"textareaBox"),updateRect:l(l(this,"stateBeforeEdited"),"rectangle")});p(e,"commit",[l(this,"protoKey"),n,r])}l(this,"_isWaitingFirstText")&&u(this,"_isWaitingFirstText",!0),u(this,"_editedBy",void 0),u(this,"stateBeforeEdited",void 0)},Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return l(this,"textSize")/4},enumerable:!0,configurable:!0}),t.prototype.setTextareaBox=function(e){u(this,"textareaBox",e),u(this,"width",l(e,"width")*l(e,"scale")),u(this,"height",l(e,"height")*l(e,"scale"))},t.prototype.recoverTextareaBox=function(e){u(this,"textareaBox",e)},t.prototype.recoverFormat=function(e){u(this,"_format",e)},t.prototype.adjustToKeepUniformScale=function(){if(0!==l(l(this,"textareaBox"),"width")&&0!==l(l(this,"textareaBox"),"height")){var e=l(this,"width")/l(l(this,"textareaBox"),"width"),t=l(this,"height")/l(l(this,"textareaBox"),"height"),n=p(Math,"min",[e,t]),r=l(l(this,"textareaBox"),"width")*n,i=l(l(this,"textareaBox"),"height")*n;u(this,"originX",l(this,"originX")+(l(this,"width")-r)/2),u(this,"originY",l(this,"originY")+(l(this,"height")-i)/2),u(this,"width",r),u(this,"height",i)}},Object.defineProperty(t.prototype,"currentScale",{get:function(){if(0===l(l(this,"textareaBox"),"width")||0===l(l(this,"textareaBox"),"height"))return 1;var e=l(this,"width")/l(l(this,"textareaBox"),"width"),t=l(this,"height")/l(l(this,"textareaBox"),"height");return p(Math,"min",[e,t])},enumerable:!0,configurable:!0}),t.copyTextareaBox=function(e){for(var t=c([]),n=0,r=d(l(e,"textLines"));n<r.length;n++)p(t,"push",[c(o({},d(r[n])))]);return c(o({},d(e),{textLines:t}))},a([h.noEffects],t.prototype,"editedBy",null),a([h.noEffects],t.prototype,"locked",null),a([h.noEffects],t.prototype,"format",null),a([h.noEffects],t.prototype,"hitTestingBoxMargin",null),a([h.noEffects],t.prototype,"currentScale",null),t}(s.wrapSuperClass(f.Editable));t.TextareaShape=m,s.declareClass({classId:28,clazz:m,superClass:f.Editable,memberDecorators:{editedBy:[h.noEffects],locked:[h.noEffects],format:[h.noEffects],hitTestingBoxMargin:[h.noEffects],currentScale:[h.noEffects]}}),s=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(34))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(21);t.inCircle=i.inCircle;var o=n(14);t.RectangleTestingResult=o.RectangleTestingResult,r(n(22)),r(n(35)),r(n(36))},function(e,t){e.exports=r("mobx")},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(4),a=function(){function e(e,t){this.reactionDisposer=null,this.isDirty=!1,this.component=e,this._context=t}return Object.defineProperty(e.prototype,"context",{get:function(){return this._context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shape",{get:function(){return this.component.payload},enumerable:!0,configurable:!0}),e.prototype.getState=function(){return this.isDirty?o.CanvasRenderState.Changed:o.CanvasRenderState.Unchanged},e.prototype.updatePayload=function(e){},e.prototype.updateContext=function(e){this._context=e},e.prototype.remove=function(){this.reactionDisposer&&(this.reactionDisposer(),this.reactionDisposer=null)},e.prototype.paint=function(e){var t=this;this.reactionDisposer&&this.reactionDisposer();var n=!0;this.reactionDisposer=i.autorun((function(){n?(t.paintContent(e),t.isDirty=!1,n=!1):(t.reactionDisposer&&(t.reactionDisposer(),t.reactionDisposer=null),e.touch(),t.isDirty=!0)}))},r([i.observable],e.prototype,"_context",void 0),r([i.action],e.prototype,"updateContext",null),e}();t.AbstractCanvasRender=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("module"),i=r.caller,o=r.unwrapper,a=r.getter,s=r.creator,c=n(0),u=n(8);function l(e,t){return i(e,"findComponentFromTop",[function(e){return o(e)instanceof u.TextareaShape&&a(e,"editedBy")===t}])}t.updateTextarea=function(e,t){var n=l(e,i(c,"getAuthorId",[]));n&&i(n,"setTextareaBox",[t])},t.setTexatreaFormat=function(e,t,n){for(var r=i(c,"getAuthorId",[]),s=0,l=o(a(e,"components"));s<l.length;s++){var p=l[s];if(o(p)instanceof u.TextareaShape&&(a(p,"selectedBy")===r||a(p,"editedBy")===r)){var d=a(n,a(p,"identifier"));d&&i(p,"updateFormat",[t,d])}}},t.setTexatreaScale=function(e,t){for(var n=i(c,"getAuthorId",[]),r=0,s=o(a(e,"components"));r<s.length;r++){var l=s[r];o(l)instanceof u.TextareaShape&&(a(l,"selectedBy")===n||a(l,"editedBy")===n)&&i(l,"updateScale",[t])}},t.releaseAllTextarea=function(e){i(e,"forEachComponents",[function(e){o(e)instanceof u.TextareaShape&&i(e,"completeEdit",[])}])},t.releaseTextareaEditedBy=function(e,t){var n=l(e,t);if(n)if(a(n,"isTextEmpty")){var r=a(a(n,"context"),"executorHub");r&&a(r,"enable")&&!a(n,"isWaitingFirstText")&&(i(n,"undoPreviousEdit",[]),i(r,"commit",[a(n,"protoKey"),s({delete:!0}),s({create:i(n,"snapshot",[])})])),i(e,"removeComponent",[n])}else i(n,"completeEdit",[])},t.textareaEditedBy=l,r=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Disjoint=0]="Disjoint",e[e.Cross=1]="Cross",e[e.IncludeRectangle=2]="IncludeRectangle",e[e.IncludeByRectangle=3]="IncludeByRectangle"}(t.RectangleTestingResult||(t.RectangleTestingResult={}))},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).__context("module"),o=i.caller,a=i.getter,s=i.creator,c=i.setter,u=i.unwrapper;t.linearDistance=function(e,t){return o(Math,"abs",[a(e,"x")-a(t,"x")])+o(Math,"abs",[a(e,"y")-a(t,"y")])},t.distance=function(e,t){var n=a(e,"x")-a(t,"x"),r=a(e,"y")-a(t,"y");return o(Math,"sqrt",[n*n+r*r])},t.verticalVector=function(e){var t=a(e,"x"),n=a(e,"y");return s({x:-n,y:t})},t.dotProduct=function(e,t){return a(e,"x")*a(t,"x")+a(e,"y")*a(t,"y")},t.isZero=function(e){return o(Math,"abs",[e])<1e-6},t.unitVector=function(e){var t=o(Math,"sqrt",[a(e,"x")*a(e,"x")+a(e,"y")*a(e,"y")]);return c(e,"x",a(e,"x")/t),c(e,"y",a(e,"y")/t),e},t.plus=function(e,t){return s({x:a(e,"x")+a(t,"x"),y:a(e,"y")+a(t,"y")})},t.multiply=function(e,t){return s({x:e*a(t,"x"),y:e*a(t,"y")})},t.triangleArea=function(e,t,n){var r=0;return r+=(a(t,"y")+a(e,"y"))*(a(t,"x")-a(e,"x")),r+=(a(n,"y")+a(t,"y"))*(a(n,"x")-a(t,"x")),r+=(a(e,"y")+a(n,"y"))*(a(e,"x")-a(n,"x")),o(Math,"abs",[r])/2},t.projectionPoint=function(e,t,n){return(a(n,"x")-a(e,"x"))*a(t,"x")+(a(n,"y")-a(e,"y"))*a(t,"y")},t.pointByProject=function(e,t,n){var i=s(r({},u(t)));return c(i,"x",a(i,"x")*n),c(i,"y",a(i,"y")*n),c(i,"x",a(i,"x")+a(e,"x")),c(i,"y",a(i,"y")+a(e,"y")),i},t.meansOverlap=function(e){var t=a(e,"x"),n=a(e,"y");return o(Number,"isNaN",[t])&&o(Number,"isNaN",[n])},i=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.setter,c=a.wrapper,u=a.getter,l=a.caller,p=a.creator,d=a.unwrapper,h=n(0),f=n(5),m=n(43),g=n(9),y=function(e){function t(t,n){var r=e.call(this)||this;if(s(r,"name",""+t),n){var i=c(new v(u(n,"src"),u(n,"width"),u(n,"height"),u(n,"previewURL")));l(r,"addComponentAt",[i,0]),s(r,"ppt",n)}return r}return i(t,e),t.prototype.editableWithHitIdentifies=function(e){var t=u(e,0);return void 0===t?void 0:l(this,"findComponentFromTop",[function(e){return t===u(e,"identifier")}])},t.prototype.editablesWithHitIdentifies=function(e){for(var t=p([]),n=function(e){var n=l(r,"findComponentFromTop",[function(t){return e===u(t,"identifier")}]);n&&l(t,"push",[n])},r=this,i=0,o=d(e);i<o.length;i++)n(o[i]);return t},Object.defineProperty(t.prototype,"componentsCount",{get:function(){return u(u(this,"components"),"length")},enumerable:!0,configurable:!0}),t.prototype.shellRectangle=function(){if(0===u(u(this,"components"),"length"))return p({originX:0,originY:0,width:0,height:0});for(var e=u(Number,"MAX_SAFE_INTEGER"),t=u(Number,"MAX_SAFE_INTEGER"),n=u(Number,"MIN_SAFE_INTEGER"),r=u(Number,"MIN_SAFE_INTEGER"),i=0,o=d(u(this,"components"));i<o.length;i++){var a=o[i],s=u(a,"originX"),c=u(a,"originY"),h=u(a,"width"),m=u(a,"height"),g=d(a)instanceof f.Editable?u(a,"hitTestingBoxMargin"):0;e=l(Math,"min",[e,s-g]),t=l(Math,"min",[t,c-g]),n=l(Math,"max",[n,s+h+g]),r=l(Math,"max",[r,c+m+g])}return p({originX:e,originY:t,width:n-e,height:r-t})},t.prototype.cleanComponents=function(e){for(var t=u(e,"executorHub"),n=0;n<u(u(this,"components"),"length");++n){var r=u(u(this,"components"),n);d(r)instanceof f.Editable&&(l(u(this,"components"),"splice",[n,1]),n--,t&&u(t,"enable")&&l(t,"commit",[u(r,"protoKey"),p({delete:!0}),p({create:l(r,"snapshot",[])})]))}l(l(e,"getAppliance",["selector"]),"refreshAllUsersEditorRectangleSpace",[])},t.prototype.cleanPPT=function(e){if(u(this,"ppt")){l(this,"cleanBackgroundImage",[]);var t=u(e,"executorHub");t&&u(t,"enable")&&l(t,"commit",[l(h,"findIdentifierWith",[this]),p({cleanPPT:!0}),p({setPPT:u(this,"ppt")})]),s(this,"ppt",void 0)}},t.prototype.recoverPPT=function(e){var t=c(new v(u(e,"src"),u(e,"width"),u(e,"height"),u(e,"previewURL")));l(this,"cleanBackgroundImage",[]),l(this,"addComponentAt",[t,0]),s(this,"ppt",e)},t.prototype.cleanBackgroundImage=function(){for(var e=0;e<u(u(this,"components"),"length");++e){var t=u(u(this,"components"),e);if(d(t)instanceof v){l(u(this,"components"),"splice",[e,1]);break}}},t}(a.wrapSuperClass(m.ApplianceComponentContainer));t.SceneNode=y;var v=function(e){function t(t,n,r,i){var o=e.call(this)||this;return s(o,"_src",t),s(o,"width",n),s(o,"height",r),s(o,"previewURL",i),o}return i(t,e),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originX",{get:function(){return-u(this,"width")/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originY",{get:function(){return-u(this,"height")/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"src",{get:function(){return u(this,"_src")},enumerable:!0,configurable:!0}),o([h.noEffects],t.prototype,"hitTestingBoxMargin",null),o([h.noEffects],t.prototype,"originX",null),o([h.noEffects],t.prototype,"originY",null),o([h.noEffects],t.prototype,"src",null),t}(a.wrapSuperClass(g.ApplianceComponent));t.BackgroundImage=v,a.declareClass({classId:40,clazz:y,superClass:m.ApplianceComponentContainer}),a.declareClass({classId:39,clazz:v,superClass:g.ApplianceComponent,memberDecorators:{hitTestingBoxMargin:[h.noEffects],originX:[h.noEffects],originY:[h.noEffects],src:[h.noEffects]}}),a=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(54);t.inCircle=i.inCircle,r(n(55)),r(n(76)),r(n(77))},function(e,t,n){"use strict";var r;function i(e,t,n,i,o,a){return e<n?t<i?r.LT:t<=a?r.LM:r.LB:e<=o?t<i?r.MT:t<=a?r.MM:r.MB:t<i?r.RT:t<=a?r.RM:r.RB}function o(e,t,n){return e<=t&&t<=n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.LT=0]="LT",e[e.MT=1]="MT",e[e.RT=2]="RT",e[e.LM=3]="LM",e[e.MM=4]="MM",e[e.RM=5]="RM",e[e.LB=6]="LB",e[e.MB=7]="MB",e[e.RB=8]="RB"}(r||(r={})),t.isZero=function(e){return Math.abs(e)<1e-6},t.verticalVector=function(e){return{x:-e.y,y:e.x}},t.unitVector=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return e.x/=t,e.y/=t,e},t.isSegementCrossRectangle=function(e,t,n,a,s,c,u,l){var p=i(e,t,s,c,u,l),d=i(n,a,s,c,u,l);switch(p){case r.MM:return!0;case r.LT:switch(d){case r.LT:case r.LM:case r.MT:case r.LB:case r.RT:return!1;case r.MM:return!0}break;case r.LM:switch(d){case r.LM:case r.LT:case r.LB:return!1;case r.MM:case r.RM:return!0}break;case r.LB:switch(d){case r.LB:case r.LM:case r.MB:case r.LT:case r.RB:return!1;case r.MM:return!0}break;case r.MB:switch(d){case r.MB:case r.LB:case r.RB:return!1;case r.MM:case r.MT:return!0}break;case r.RB:switch(d){case r.RB:case r.MB:case r.RM:case r.LB:case r.RT:return!1;case r.MM:return!0}break;case r.RM:switch(d){case r.RM:case r.RT:case r.RB:return!1;case r.MM:case r.LM:return!0}break;case r.RT:switch(d){case r.RT:case r.MT:case r.RM:case r.LT:case r.RB:return!1;case r.MM:return!0}break;case r.MT:switch(d){case r.MT:case r.LT:case r.RT:return!1;case r.MM:case r.MB:return!0}}return function(e,t,n,r,i,a,s,c){var u=n-e,l=r-t;if(0===u){var p=Math.min(t,r),d=Math.max(t,r);return o(p,a,d)||o(p,c,d)}if(0===l){var h=Math.min(e,n),f=Math.max(e,n);return o(h,i,f)||o(h,s,f)}var m=u/l,g=-m*t+e;if(o(i,m*a+g,s))return!0;if(o(i,m*c+g,s))return!0;var y=l/u,v=-y*e+t;return!!o(a,y*i+v,c)||!!o(a,y*s+v,c)}(e,t,n,a,s,c,u,l)}},function(e,t){e.exports=r("netless-ppt")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(32),n(63),n(78),n(79),n(80),n(81),n(7),n(89),n(90),n(93),n(94),n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(102),n(103),n(104);var r=n(105);t.EnginesHub=r.EnginesHub;var i=n(32);t.floatBarDefinition=i.floatBarDefinition},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("module"),i=r.getter;t.inCircle=function(e,t,n,r){var o=n-i(e,"x"),a=r-i(e,"y");return o*o+a*a<=t*t},r=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.creator,s=o.caller,c=o.getter,u=o.unwrapper,l=n(15),p=n(14),d=n(23),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.points=a([]),t}return i(t,e),t.prototype.pushPoint=function(e){s(c(this,"points"),"push",[e])},t.prototype.pointHitTest=function(e,t){for(var n=0;n<c(c(this,"points"),"length");++n){var r=c(c(this,"points"),n),i=c(c(this,"points"),(n+1)%c(c(this,"points"),"length")),o=a({x:c(i,"x")-c(r,"x"),y:c(i,"y")-c(r,"y")});if(0!==c(o,"x")||0!==c(o,"y")){var u=s(l,"verticalVector",[o]),p=a({x:e-c(r,"x"),y:t-c(r,"y")});if(s(l,"dotProduct",[u,p])<0)return!1}}return!0},t.prototype.rectHitTest=function(e,t,n,r){var i=this,o=!1,a=!1;if(s(d.RectangleTester,"iterate",[e,t,n,r,function(e,t){s(i,"pointHitTest",[e,t])?o=!0:a=!0}]),o&&a)return c(p.RectangleTestingResult,"Cross");if(o)return c(p.RectangleTestingResult,"IncludeRectangle");if(a){for(var l=0;l<c(c(this,"points"),"length");++l)for(var h=c(c(this,"points"),l),f=c(c(this,"points"),(l+1)%c(c(this,"points"),"length")),m=s(d.RectangleTester,"allPoints",[e,t,n,r]),g=0;g<c(m,"length");++g){var y=c(m,g),v=c(m,(g+1)%c(m,"length"));if(s(this,"findCrossPoint",[h,f,y,v]))return c(p.RectangleTestingResult,"Cross")}for(var b=0,A=u(c(this,"points"));b<A.length;b++){var x=A[b];if(s(d.RectangleTester,"testPoint",[e,t,n,r,c(x,"x"),c(x,"y")]))return c(p.RectangleTestingResult,"IncludeByRectangle")}}return c(p.RectangleTestingResult,"Disjoint")},t.prototype.findCrossPoint=function(e,t,n,r){var i=c(t,"y")-c(e,"y"),o=c(e,"x")-c(t,"x"),u=c(e,"x")*(c(e,"y")-c(t,"y"))-c(e,"y")*(c(e,"x")-c(t,"x")),l=c(r,"y")-c(n,"y"),p=c(n,"x")-c(r,"x"),d=c(n,"x")*(c(n,"y")-c(r,"y"))-c(n,"y")*(c(n,"x")-c(r,"x")),h=i*p-l*o,f=(o*d-p*u)/h,m=(l*u-i*d)/h;if(s(Math,"abs",[f])===1/0||s(Math,"abs",[m])===1/0)return!1;if(s(Number,"isNaN",[f])||s(Number,"isNaN",[m]))return!1;var g=a({x:f,y:m});return!(!s(this,"isCrossPointBetweenSegment",[g,e,t])||!s(this,"isCrossPointBetweenSegment",[g,n,r]))},t.prototype.isCrossPointBetweenSegment=function(e,t,n){var r=(c(e,"x")-c(t,"x"))*(c(e,"x")-c(n,"x")),i=(c(e,"y")-c(t,"y"))*(c(e,"y")-c(n,"y")),o=s(Math,"abs",[r])<.01,a=s(Math,"abs",[i])<.01;return o&&a?r<=0&&i<=0:(r<=0||o)&&(i<=0||a)},t}(o.baseClass());t.ConvexPolygonTester=h,o.declareClass({classId:9,clazz:h}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.creator,s=o.caller,c=o.getter,u=n(14),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.testPoint=function(e,t,n,r,i,o){return i>=e&&i<=e+n&&o>=t&&o<=t+r},t.iterate=function(e,t,n,r,i){i(e,t),i(e+n,t),i(e+n,t+r),i(e,t+r)},t.allPoints=function(e,t,n,r){return a([a({x:e,y:t}),a({x:e+n,y:t}),a({x:e+n,y:t+r}),a({x:e,y:t+r})])},t.testRect=function(e,t,n,r,i,o,a,l){var p=s(this,"testSegment",[e,e+n,i,i+a]),d=s(this,"testSegment",[t,t+r,o,o+l]);return p===c(u.RectangleTestingResult,"Disjoint")||d===c(u.RectangleTestingResult,"Disjoint")?c(u.RectangleTestingResult,"Disjoint"):p===c(u.RectangleTestingResult,"Cross")||d===c(u.RectangleTestingResult,"Cross")?c(u.RectangleTestingResult,"Cross"):p===c(u.RectangleTestingResult,"IncludeRectangle")&&d===c(u.RectangleTestingResult,"IncludeRectangle")?c(u.RectangleTestingResult,"IncludeRectangle"):p===c(u.RectangleTestingResult,"IncludeByRectangle")&&d===c(u.RectangleTestingResult,"IncludeByRectangle")?c(u.RectangleTestingResult,"IncludeByRectangle"):c(u.RectangleTestingResult,"Cross")},t.testSegment=function(e,t,n,r){var i=e>n;if(i){var o=e,a=t;e=n,n=o,t=r,r=a}return c(u.RectangleTestingResult,t<n?"Disjoint":t<r?"Cross":i?"IncludeByRectangle":"IncludeRectangle")},t}(o.baseClass());t.RectangleTester=l,o.declareClass({classId:12,clazz:l}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(38)),function(e){e.Desktop="desktop",e.Touch="touch",e.Surface="surface"}(t.DeviceType||(t.DeviceType={})),function(e){e.Freedom="freedom",e.Follower="follower",e.Broadcaster="broadcaster"}(t.ViewMode||(t.ViewMode={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.setter,c=a.getter,u=n(0),l=n(5),p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.originX=0,r.originY=0,r.width=0,r.height=0,r.locked=!1,s(r,"uuid",c(n,"uuid")),s(r,"originX",c(n,"centerX")-c(n,"width")/2),s(r,"originY",c(n,"centerY")-c(n,"height")/2),s(r,"width",c(n,"width")),s(r,"height",c(n,"height")),s(r,"locked",c(n,"locked")),r}return i(t,e),t.prototype.setImageSrc=function(e){s(this,"imageSrc",e)},Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return 4},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return!0},enumerable:!0,configurable:!0}),o([u.noEffects],t.prototype,"hitTestingBoxMargin",null),t}(a.wrapSuperClass(l.Editable));t.ImageShape=p,a.declareClass({classId:19,clazz:p,superClass:l.Editable,memberDecorators:{hitTestingBoxMargin:[u.noEffects]}}),a=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(42)),r(n(16))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.creator,s=o.setter,c=o.getter,u=o.remover,l=o.wrapper,p=o.caller,d=o.unwrapper,h=n(0),f=n(28),m=function(e){function t(t){var n=e.call(this)||this;return n.pressedMembers=a({}),s(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"isPressed",{get:function(){return!!c(c(this,"pressedMembers"),h.getAuthorId())},set:function(e){e?s(c(this,"pressedMembers"),h.getAuthorId(),!0):u(c(this,"pressedMembers"),h.getAuthorId())},enumerable:!0,configurable:!0}),t.prototype.insert=function(e,t){var n=l(new f.PluginComponent(this,e));t&&p(this,"updatePlugin",[n,t]);var r=c(c(this,"context"),"executorHub");if(r&&c(r,"enable")){var i=a({create:p(n,"snapshot",[])});p(r,"commit",[c(n,"protoKey"),i,a({delete:!0})])}return p(c(c(this,"context"),"scene"),"addComponent",[n]),n},t.prototype.get=function(e){return p(c(c(this,"context"),"scene"),"findComponentFromTop",[function(t){return d(t)instanceof f.PluginComponent&&c(t,"key")===e}])},t.prototype.list=function(){for(var e=a([]),t=0,n=d(c(c(c(this,"context"),"scene"),"components"));t<n.length;t++){var r=n[t];d(r)instanceof f.PluginComponent&&p(e,"push",[r])}return e},t.prototype.remove=function(e){for(var t=c(c(this,"context"),"scene"),n=c(t,"components"),r=0;r<c(n,"length");++r){var i=c(n,r);if(c(i,"key")===e&&d(i)instanceof f.PluginComponent){var o=c(c(this,"context"),"executorHub");return o&&c(o,"enable")&&p(o,"commit",[c(i,"protoKey"),a({delete:!0}),a({create:p(i,"snapshot",[])})]),p(t,"removeComponentAt",[r]),i}}},t.prototype.update=function(e,t){var n=p(this,"get",[e]);return n&&p(this,"updatePlugin",[n,t]),n},t.prototype.updatePlugin=function(e,t){void 0!==c(t,"originX")&&s(e,"originX",c(t,"originX")),void 0!==c(t,"originY")&&s(e,"originY",c(t,"originY")),void 0!==c(t,"width")&&s(e,"width",c(t,"width")),void 0!==c(t,"height")&&s(e,"height",c(t,"height")),void 0!==c(t,"selectable")&&s(e,"selectable",c(t,"selectable")),void 0!==c(t,"attributes")&&s(e,"attributes",c(t,"attributes")),void 0!==c(t,"locked")&&s(e,"locked",c(t,"locked"))},t}(o.baseClass());t.PluginManager=m,o.declareClass({classId:2,clazz:m}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.getter,c=a.setter,u=n(0),l=n(29),p=function(e){function t(t,n){var r=e.call(this,s(t,"context"))||this;return r.hitTestingBoxMargin=0,r.originX=0,r.originY=0,r.width=0,r.height=0,r.selectable=!0,r.locked=!1,r.attributes=void 0,c(r,"manager",t),c(r,"kind",n),r}return i(t,e),Object.defineProperty(t.prototype,"isPressed",{get:function(){return s(s(this,"manager"),"isPressed")},enumerable:!0,configurable:!0}),o([u.noEffects],t.prototype,"isPressed",null),t}(a.wrapSuperClass(l.Editable));t.PluginComponent=p,a.declareClass({classId:1,clazz:p,superClass:l.Editable,memberDecorators:{isPressed:[u.noEffects]}}),a=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(44));var r=n(26);t.SceneNode=r.SceneNode;var i=n(24);t.DeviceType=i.DeviceType,t.ViewMode=i.ViewMode;var o=n(9);t.ApplianceComponent=o.ApplianceComponent;var a=n(5);t.Editable=a.Editable;var s=n(46);t.EllipseShape=s.EllipseShape;var c=n(48);t.RectangleShape=c.RectangleShape;var u=n(49);t.CurveShape=u.CurveShape;var l=n(50);t.EditorRectangleSpace=l.EditorRectangleSpace;var p=n(51);t.SelectedGroupRectangleSpace=p.SelectedGroupRectangleSpace;var d=n(25);t.ImageShape=d.ImageShape;var h=n(8);t.TextareaShape=h.TextareaShape;var f=n(52);t.VectorShape=f.VectorShape,t.VectorKind=f.VectorKind,t.VectorDirection=f.VectorDirection;var m=n(16);t.BackgroundImage=m.BackgroundImage},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("module"),i=r.caller,o=r.unwrapper,a=r.creator,s=r.getter,c=n(5),u=n(10);function l(e,t){return e<=1&&t<=1}t.willIgnoreSelectingBox=l,t.setHighlightNothing=function(e,t){i(e,"forEachComponents",[function(e){o(e)instanceof c.Editable&&i(e,"setHighlightBy",[!1,t])}])},t.findHighlightComponent=function(e,t){return i(e,"findComponentFromTop",[function(e){return o(e)instanceof c.Editable&&i(e,"isHighlightBy",[t])}])},t.searchEditableComponentsByRectangle=function(e,t,n,r,p){if(l(r,p))return a([]);var d=a([]);return i(e,"forEachComponents",[function(e){o(e)instanceof c.Editable&&s(e,"selectable")&&!s(e,"locked")&&i(e,"rectHitTest",[t,n,r,p])!==s(u.RectangleTestingResult,"Disjoint")&&i(d,"push",[e])}]),d},r=null},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(82)),r(n(88)),r(n(57))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),c=n(4),u=n(2);t.floatBarDefinition=c.createComponentDefinition({name:"FloatBar",hitTest:!1});var l=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.willInterruptEvent=function(e,t){var n=e.context.floatBarClass;return!(!n||!n.willInterruptEvent)&&n.willInterruptEvent(e,t)},n.prototype.render=function(){var e=this.props.context.floatBarClass;return e&&this.isTargetOnScreen()?s.createElement(e,o({},this.props.payload,{cnode:this.props.cnode})):null},n.prototype.isTargetOnScreen=function(){var e=this.props.payload,t=e.rectangle,n=e.screenSize,r=t.originX;if(r+t.width<=0||r>=n.width)return!1;var i=t.originY;return!(i+t.height<=0||i>=n.height)},a([u.register.floatBarEngine.bind(t.floatBarDefinition)],n)}(s.Component);t.FloatBarEditorRectangleSpaceComponent=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0).__context("module"),c=s.setter,u=s.wrapper,l=s.caller,p=s.creator,d=s.getter,h=s.unwrapper,f=s.remover,m=n(0),g=n(13),y=n(37),v=n(25),b=n(39),A=n(13),x=n(40),w=n(26),_=n(27),S=n(53),T=function(e){function t(t){var n=e.call(this)||this;return c(n,"_globalState",t),c(n,"scenes",u(new w.SceneManager)),c(n,"pluginManager",u(new _.PluginManager(n))),c(n,"invisiblePluginManager",u(new S.InvisiblePluginManager)),c(n,"membersManager",u(new y.MembersManager)),c(n,"adminObserverMemberState",l(n,"createMemberState",[p([0,0,0])])),n}return i(t,e),Object.defineProperty(t.prototype,"deviceType",{get:function(){return l(d(this,"membersManager"),"getDeviceType",[l(m,"getAuthorId",[])])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scene",{get:function(){return d(d(this,"scenes"),"currentScene")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"executorHub",{get:function(){return l(d(this,"membersManager"),"getExecutorHub",[l(m,"getAuthorId",[])])},enumerable:!0,configurable:!0}),t.prototype.createAppliances=function(){var e=p({}),t=l(this,"createConstructors",[]);for(var n in h(t)){var r=d(t,n);c(e,n,u(new r(this)))}return e},t.prototype.onMemberEnterRoom=function(e,t){var n=l(m,"getAuthorId",[]),r=l(d(this,"membersManager"),"initiativeColor",[]),i=l(m,"getUser",[n]),o=p({id:d(i,"userId"),session:d(i,"session"),payload:d(i,"payload")});l(d(this,"membersManager"),"memberEnter",[p({memberId:n,deviceType:t,information:o,appliances:l(this,"createAppliances",[]),memberState:l(this,"createMemberState",[r]),executorHub:u(new x.ExecutorHub(this))})])},t.prototype.onMemberLeaveRoom=function(){var e=l(m,"getAuthorId",[]);l(d(this,"membersManager"),"memberLeave",[e]),c(l(this,"getPluginManager",[]),"isPressed",!1)},t.prototype.onOthersEvent=function(e,t,n){var r=l(m,"getAuthorId",[]);n!==d(d(m,"EventScope"),"System")&&l(d(this,"membersManager"),"isMemberExits",[r])&&l(d(this,"membersManager"),"dispatchMagixEvent",[r,e,t])},t.prototype.changeScene=function(e){var t=d(d(this,"scenes"),"currentPath");c(d(this,"scenes"),"currentPath",e),l(d(this,"scenes"),"isPathEquals",[t,d(d(this,"scenes"),"currentPath")])||l(d(this,"membersManager"),"notifyAllThatSceneChanged",[t])},t.prototype.putScenes=function(e,t,n){for(var r=0;r<d(t,"length");++r){var i=d(t,r),o=u(new w.SceneNode(d(i,"name"),d(i,"ppt"))),a=void 0===n||n<0?void 0:n+r;l(d(this,"scenes"),"putScene",[e,o,a])}},t.prototype.removeScenes=function(e){var t=d(d(this,"scenes"),"currentPath");l(d(this,"scenes"),"removePath",[e]),l(d(this,"scenes"),"isPathEquals",[t,d(d(this,"scenes"),"currentPath")])||l(d(this,"membersManager"),"notifyAllThatSceneChanged",[t])},t.prototype.moveScene=function(e,t){var n=d(d(this,"scenes"),"currentPath");l(d(this,"scenes"),"moveScene",[e,t]),l(d(this,"scenes"),"isPathEquals",[n,d(d(this,"scenes"),"currentPath")])||l(d(this,"membersManager"),"notifyAllThatSceneChanged",[n])},t.prototype.insertImage=function(e){var t=u(new v.ImageShape(this,e)),n=d(this,"executorHub");if(n&&d(n,"enable")){var r=p({create:l(t,"snapshot",[])});l(n,"commit",[d(t,"protoKey"),r,p({delete:!0})])}l(d(this,"scene"),"addComponent",[t])},t.prototype.lockImage=function(e,t){c(l(this,"getImageWith",[e]),"locked",t),l(l(this,"getAppliance",["selector"]),"refreshAllUsersEditorRectangleSpace",[])},t.prototype.lockImages=function(e){l(d(this,"scene"),"forEachComponents",[function(t){var n=l(m,"getAuthorId",[]);h(t)instanceof v.ImageShape&&d(t,"selectedBy")===n&&c(t,"locked",e)}]),l(l(this,"getAppliance",["selector"]),"refreshAllUsersEditorRectangleSpace",[])},t.prototype.completeImageUpload=function(e,t){l(l(this,"getImageWith",[e]),"setImageSrc",[t])},t.prototype.setImageLock=function(e,t){c(l(this,"getImageWith",[e]),"locked",t)},t.prototype.getImageWith=function(e){var t=l(d(this,"scene"),"findComponentFromTop",[function(t){return h(t)instanceof v.ImageShape&&d(t,"uuid")===e}]);if(!t)throw u(new Error("uuid "+e+" not found"));return t},t.prototype.setGlobalState=function(e){var t=p(o({},h(d(this,"_globalState"))));for(var n in h(e)){var r=d(e,n);void 0===r?f(t,n):c(t,n,r)}return c(this,"_globalState",t),d(this,"_globalState")},t.prototype.setMemberState=function(e){return l(d(this,"membersManager"),"setMemberState",[l(m,"getAuthorId",[]),e])},t.prototype.setViewState=function(e){return l(d(this,"membersManager"),"setViewState",[l(m,"getAuthorId",[]),e])},t.prototype.updateTextareaFormat=function(e,t){return A.setTexatreaFormat(d(this,"scene"),e,t),l(l(this,"getAppliance",["selector"]),"refreshMyEditorRectangleSpace",[]),l(this,"takeCommit",[])},t.prototype.updateTextareaScale=function(e){return A.setTexatreaScale(d(this,"scene"),e),l(l(this,"getAppliance",["selector"]),"refreshMyEditorRectangleSpace",[]),l(this,"takeCommit",[])},t.prototype.updateTextarea=function(e){l(g,"updateTextarea",[d(this,"scene"),e])},t.prototype.getScene=function(e){var t=void 0===e?d(d(this,"scenes"),"currentScene"):l(d(this,"scenes"),"getScene",[e]);if(t)return p({name:d(t,"name"),componentsCount:d(t,"componentsCount"),ppt:d(t,"ppt")})},t.prototype.getCurrentScenePath=function(){return d(d(this,"scenes"),"currentPath")},t.prototype.getAllScenePaths=function(){return l(d(this,"scenes"),"listAllScenes",[])},t.prototype.getSceneNames=function(e){return l(d(this,"scenes"),"listScenes",[e])},t.prototype.getSceneGroupNames=function(e){return l(d(this,"scenes"),"listSceneGroups",[e])},t.prototype.getInformationWithMemberId=function(e){return l(d(this,"membersManager"),"getInformationWithMemberId",[e])},t.prototype.getAppliance=function(e,t){return void 0===t&&(t=l(m,"getAuthorId",[])),l(d(this,"membersManager"),"getAppliance",[e,t])},t.prototype.getMemberState=function(e){return void 0===e&&(e=l(m,"getAuthorId",[])),e===d(m,"AdminObserverId")?d(this,"adminObserverMemberState"):l(d(this,"membersManager"),"getMemberState",[e])},t.prototype.getViewState=function(e){return void 0===e&&(e=l(m,"getAuthorId",[])),l(d(this,"membersManager"),"getViewState",[e])},t.prototype.getMemberIdWithUserId=function(e){return l(d(this,"membersManager"),"getMemberIdWithUserId",[e])},t.prototype.getBroadcasterId=function(){return l(d(this,"membersManager"),"getBroadcasterId",[])},t.prototype.getGlobalState=function(){return d(this,"_globalState")},t.prototype.getMemberDisplayers=function(){return l(d(this,"membersManager"),"getMemberDisplayers",[])},Object.defineProperty(t.prototype,"enableExecute",{get:function(){var e=l(d(this,"membersManager"),"getExecutorHub",[l(m,"getAuthorId",[])]);return!!e&&d(e,"enable")},enumerable:!0,configurable:!0}),t.prototype.setEnableExecute=function(e){var t=l(d(this,"membersManager"),"getExecutorHub",[l(m,"getAuthorId",[])]);t&&c(t,"enable",e)},t.prototype.execute=function(e){var t=l(d(this,"membersManager"),"getExecutorHub",[l(m,"getAuthorId",[])]);t&&l(t,"execute",[e])},t.prototype.onMouseDown=function(e){var t=l(m,"getAuthorId",[]),n=l(d(this,"membersManager"),"currentAppliance",[t]);return n&&(l(n,"onMouseDown",[e]),l(d(this,"membersManager"),"setCursor",[t,d(e,"x"),d(e,"y"),!0,!0])),c(l(this,"getPluginManager",[]),"isPressed",!0),l(this,"takeCommit",[])},t.prototype.onMouseMove=function(e){var t=l(m,"getAuthorId",[]),n=l(d(this,"membersManager"),"currentAppliance",[t]);return n&&(l(n,"onMouseMove",[e]),l(d(this,"membersManager"),"setCursor",[t,d(e,"x"),d(e,"y"),!0])),l(this,"takeCommit",[])},t.prototype.onMouseUp=function(e){var t=l(m,"getAuthorId",[]),n=l(d(this,"membersManager"),"currentAppliance",[t]);return n&&(l(n,"onMouseUp",[e]),l(d(this,"membersManager"),"setCursor",[t,d(e,"x"),d(e,"y"),!0,!1])),c(l(this,"getPluginManager",[]),"isPressed",!1),l(this,"takeCommit",[])},t.prototype.onMouseLeave=function(e){var t=l(m,"getAuthorId",[]),n=l(d(this,"membersManager"),"currentAppliance",[t]);return n&&(l(n,"onMouseLeave",[e]),l(d(this,"membersManager"),"setCursor",[t,d(e,"x"),d(e,"y"),!1])),l(this,"takeCommit",[])},t.prototype.onKeyDown=function(e){var t=l(m,"getAuthorId",[]),n=l(d(this,"membersManager"),"currentAppliance",[t]);return n&&l(n,"onKeyDown",[e]),l(this,"takeCommit",[])},t.prototype.onKeyUp=function(e){var t=l(m,"getAuthorId",[]),n=l(d(this,"membersManager"),"currentAppliance",[t]);return n&&l(n,"onKeyUp",[e]),l(this,"takeCommit",[])},t.prototype.delete=function(){return l(l(this,"getAppliance",["selector"]),"delete",[]),l(this,"takeCommit",[])},t.prototype.duplicate=function(e,t){var n=l(this,"getViewState",[]),r=d(n,"originX"),i=d(n,"originY"),o=d(n,"width"),a=d(n,"height"),s=d(n,"pixelWidth"),c=r+o/2+s*e,u=i+a/2+s*t;return l(l(this,"getAppliance",["selector"]),"duplicate",[c,u]),l(this,"takeCommit",[])},t.prototype.copy=function(){var e=l(l(this,"getAppliance",["selector"]),"copy",[]);return e?l(e,"snapshot",[]):null},t.prototype.paste=function(e,t,n){var r=l(this,"getViewState",[]),i=d(r,"originX"),o=d(r,"originY"),a=d(r,"width"),s=d(r,"height"),c=d(r,"pixelWidth"),u=i+a/2+c*t,p=o+s/2+c*n;return l(l(b.CopyBuffer,"recover",[this,e]),"injectToScene",[this,u,p]),l(this,"takeCommit",[])},t.prototype.cleanCurrentScene=function(e){l(d(this,"scene"),"cleanComponents",[this]),e||l(d(this,"scene"),"cleanPPT",[this])},t.prototype.getPlugin=function(e){return l(l(this,"getPluginManager",[]),"get",[e])},t.prototype.listPlugins=function(){return l(l(this,"getPluginManager",[]),"list",[])},t.prototype.getInvisiblePluginKinds=function(){return l(l(this,"getInvisiblePluginManager",[]),"getKinds",[])},t.prototype.hasInvisibilePluginKind=function(e){return l(l(this,"getInvisiblePluginManager",[]),"hasKind",[e])},t.prototype.insertPlugin=function(e,t){return l(l(this,"getPluginManager",[]),"insert",[e,t])},t.prototype.removePlugin=function(e){var t=l(l(this,"getPluginManager",[]),"remove",[e]);return l(l(this,"getAppliance",["selector"]),"refreshAllUsersEditorRectangleSpace",[]),t},t.prototype.updatePlugin=function(e,t){return l(l(this,"getPluginManager",[]),"update",[e,t])},t.prototype.putInvisiblePlugin=function(e,t){l(l(this,"getInvisiblePluginManager",[]),"put",[e,t])},t.prototype.removeInvisiblePlugin=function(e){l(l(this,"getInvisiblePluginManager",[]),"remove",[e])},t.prototype.getAttributesWithInvisiblePlugin=function(e){return l(l(this,"getInvisiblePluginManager",[]),"getAttributes",[e])},t.prototype.updateAttributesInvisiblePlugin=function(e,t){l(l(this,"getInvisiblePluginManager",[]),"updateAttributes",[e,t])},t.prototype.getPluginManager=function(){if(!d(this,"pluginManager")){if(l(m,"getEnvironment",[])===d(d(m,"Environment"),"NoEffects"))return u(new _.PluginManager(this));c(this,"pluginManager",u(new _.PluginManager(this)))}return d(this,"pluginManager")},t.prototype.getInvisiblePluginManager=function(){if(!d(this,"invisiblePluginManager")){if(l(m,"getEnvironment",[])===d(d(m,"Environment"),"NoEffects"))return u(new S.InvisiblePluginManager);c(this,"invisiblePluginManager",u(new S.InvisiblePluginManager))}return d(this,"invisiblePluginManager")},t.prototype.takeCommit=function(){var e=l(d(this,"membersManager"),"getExecutorHub",[l(m,"getAuthorId",[])]);return e?l(e,"takeCommit",[]):null},a([m.noEffects],t.prototype,"scene",null),a([m.noEffects],t.prototype,"enableExecute",null),t}(s.baseClass());t.AbstractApplianceManager=T,s.declareClass({classId:3,clazz:T,memberDecorators:{scene:[m.noEffects],enableExecute:[m.noEffects],onMemberEnterRoom:[m.event("Enter")],onMemberLeaveRoom:[m.event("Leave")],onOthersEvent:[m.event(/./i)],getScene:[m.noEffects],getCurrentScenePath:[m.noEffects],getAllScenePaths:[m.noEffects],getSceneNames:[m.noEffects],getSceneGroupNames:[m.noEffects],getInformationWithMemberId:[m.noEffects],getMemberState:[m.noEffects],getViewState:[m.noEffects],getMemberIdWithUserId:[m.noEffects],getBroadcasterId:[m.noEffects],getGlobalState:[m.noEffects],getMemberDisplayers:[m.noEffects],getPlugin:[m.noEffects],listPlugins:[m.noEffects],getInvisiblePluginKinds:[m.noEffects],hasInvisibilePluginKind:[m.noEffects],getAttributesWithInvisiblePlugin:[m.noEffects]}}),s=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.getter,c=a.caller,u=a.wrapper,l=a.creator,p=n(0),d=n(10),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),Object.defineProperty(t.prototype,"key",{get:function(){return p.findIdentifierWith(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return p.findIdentifierWith(this)},enumerable:!0,configurable:!0}),t.prototype.rectHitTestContent=function(e,t,n,r,i,o){return e},t.prototype.rectHitTest=function(e,t,n,r){var i=s(this,"hitTestingBoxMargin"),o=c(this,"rectangleTester",[i]),a=c(o,"rectHitTest",[e,t,n,r]);if(a===s(d.RectangleTestingResult,"Disjoint")||a===s(d.RectangleTestingResult,"IncludeByRectangle"))return a;var u=e-s(this,"originX"),l=t-s(this,"originY"),p=e+n-s(this,"originX"),h=t+r-s(this,"originY"),f=c(Math,"min",[u,p]),m=c(Math,"min",[l,h]),g=c(Math,"abs",[u-p]),y=c(Math,"abs",[l-h]);return c(this,"rectHitTestContent",[a,f,m,g,y,i])},t.prototype.rectangleTester=function(e){var t=u(new d.ConvexPolygonTester),n=s(this,"originX")-e,r=s(this,"originY")-e,i=s(this,"width")+2*e,o=s(this,"height")+2*e;return c(t,"pushPoint",[l({x:n,y:r})]),c(t,"pushPoint",[l({x:n+i,y:r})]),c(t,"pushPoint",[l({x:n+i,y:r+o})]),c(t,"pushPoint",[l({x:n,y:r+o})]),t},o([p.noEffects],t.prototype,"key",null),o([p.noEffects],t.prototype,"identifier",null),t}(a.baseClass());t.ApplianceComponent=h,a.declareClass({classId:5,clazz:h,memberDecorators:{key:[p.noEffects],identifier:[p.noEffects]}}),a=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.setter,s=o.creator,c=o.getter,u=o.caller,l=n(15),p=function(e){function t(t,n,r){var i=e.call(this)||this;return i.originPoint=r,a(i,"beginVector",s({x:c(t,"x")-c(r,"x"),y:c(t,"y")-c(r,"y")})),a(i,"endVector",s({x:c(n,"x")-c(r,"x"),y:c(n,"y")-c(r,"y")})),i}return i(t,e),t.prototype.hitTest=function(e,t){var n=s({x:e-c(c(this,"originPoint"),"x"),y:t-c(c(this,"originPoint"),"y")}),r=u(Math,"atan2",[c(c(this,"beginVector"),"y"),c(c(this,"beginVector"),"x")]),i=u(Math,"atan2",[c(c(this,"endVector"),"y"),c(c(this,"endVector"),"x")]),o=u(Math,"atan2",[c(n,"y"),c(n,"x")]),a=u(this,"radiusIncrement",[o,r]),p=u(this,"radiusIncrement",[i,r]);if(a>p)return!1;var d=s({x:0,y:0}),h=u(l,"distance",[s({x:e,y:t}),c(this,"originPoint")]),f=u(l,"distance",[c(this,"beginVector"),d]);return h<=f+a/p*(u(l,"distance",[c(this,"endVector"),d])-f)},t.prototype.radiusIncrement=function(e,t){var n=t-e;return n>=2*c(Math,"PI")?n-=2*c(Math,"PI"):n<0&&(n+=2*c(Math,"PI")),n},t}(o.baseClass());t.SectorTester=p,o.declareClass({classId:13,clazz:p}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.creator,s=o.caller,c=o.getter,u=o.wrapper,l=n(15),p=n(22),d=n(21),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.points=a([]),t}return i(t,e),t.prototype.pushPoint=function(e){s(c(this,"points"),"push",[e])},t.prototype.hitTest=function(e,t,n){return s(this,"hitAnySegments",[e,t,n])||s(this,"hitAnyNodeCircles",[e,t,n])},t.prototype.hitAnySegments=function(e,t,n){for(var r=e/2,i=1;i<c(c(this,"points"),"length");++i){var o=c(c(this,"points"),i-1),d=c(c(this,"points"),i),h=a({x:c(d,"x")-c(o,"x"),y:c(d,"y")-c(o,"y")});if(!s(l,"isZero",[c(h,"x")])||!s(l,"isZero",[c(h,"y")])){var f=s(l,"unitVector",[s(l,"verticalVector",[h])]),m=u(new p.ConvexPolygonTester),g=s(l,"multiply",[-r,f]),y=s(l,"multiply",[r,f]);if(s(m,"pushPoint",[s(l,"plus",[o,y])]),s(m,"pushPoint",[s(l,"plus",[o,g])]),s(m,"pushPoint",[s(l,"plus",[d,g])]),s(m,"pushPoint",[s(l,"plus",[d,y])]),s(m,"pointHitTest",[t,n]))return!0}}return!1},t.prototype.hitAnyNodeCircles=function(e,t,n){for(var r=0;r<c(c(this,"points"),"length");++r){var i=c(c(this,"points"),r);if(d.inCircle(i,e/2,t,n))return!0}return!1},t}(o.baseClass());t.PolylineTester=h,o.declareClass({classId:11,clazz:h}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.setter,c=a.getter,u=a.creator,l=a.unwrapper,p=a.caller,d=a.wrapper,h=a.remover,f=n(24),m=function(e){function t(t,n,r,i,o,a,c){var u=e.call(this)||this;return u.isRtcConnected=!1,u.cursorX=0,u.cursorY=0,u.isPressed=!1,u.isCursorInScene=!1,s(u,"_memberId",t),s(u,"_deviceType",n),s(u,"appliances",r),s(u,"memberState",i),s(u,"viewState",o),s(u,"_information",c),s(u,"executorHub",a),u}return i(t,e),Object.defineProperty(t.prototype,"information",{get:function(){return c(this,"_information")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"memberId",{get:function(){return c(this,"_memberId")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deviceType",{get:function(){return c(this,"_deviceType")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayer",{get:function(){var e=c(this,"cursorX"),t=c(this,"cursorY"),n=c(c(this,"currentAppliance"),"fixedCursorInScenePoint");if(n){var r=c(n,"x"),i=c(n,"y"),a=c(this,"viewState"),s=c(a,"originX"),p=c(a,"originY"),d=c(a,"width"),h=c(a,"height");e=0===d?.5:(r-s)/d,t=0===h?.5:(i-p)/h}return u(o({},l(c(this,"viewState")),{cursorX:e,cursorY:t,memberId:c(this,"_memberId"),deviceType:c(this,"_deviceType"),isRtcConnected:c(this,"isRtcConnected"),isPressed:c(this,"isPressed"),isActivity:!!n||c(this,"isPressed"),isCursorInScene:!!n||c(this,"isCursorInScene"),currentApplianceName:c(c(this,"memberState"),"currentApplianceName"),color:c(c(this,"memberState"),"strokeColor"),information:c(this,"_information")}))},enumerable:!0,configurable:!0}),t.prototype.isCursorOutOfBounds=function(){return c(this,"cursorX")>1||c(this,"cursorX")<0||c(this,"cursorY")>1||c(this,"cursorY")<0},Object.defineProperty(t.prototype,"currentAppliance",{get:function(){var e=c(c(this,"memberState"),"currentApplianceName");return c(c(this,"appliances"),e)||c(c(this,"appliances"),"pencil")},enumerable:!0,configurable:!0}),t.prototype.getAppliance=function(e){return c(c(this,"appliances"),e)},t.prototype.setViewMode=function(e){s(c(this,"viewState"),"mode",e)},t.prototype.notifyAllThatSceneChanged=function(e){for(var t in l(c(this,"appliances")))p(c(c(this,"appliances"),t),"onSceneChanged",[e])},t.prototype.getMemberState=function(){return c(this,"memberState")},t.prototype.getExecutorHub=function(){return c(this,"executorHub")},t.prototype.getViewState=function(){return c(this,"viewState")},t.prototype.setCursor=function(e,t,n,r){var i=c(this,"viewState"),o=c(i,"originX"),a=c(i,"originY"),u=c(i,"width"),l=c(i,"height");s(this,"cursorX",0===u?.5:(e-o)/u),s(this,"cursorY",0===l?.5:(t-a)/l),void 0!==n&&s(this,"isCursorInScene",n),void 0!==r&&s(this,"isPressed",r)},t.prototype.changeToFollower=function(e){var t=c(this,"viewState");if(s(this,"viewState",u(o({},l(t),l(e),{mode:c(f.ViewMode,"Follower")}))),0!==c(t,"width")&&0!==c(t,"height")){var n=c(e,"width")/c(t,"width"),r=c(e,"height")/c(t,"height"),i=p(Math,"max",[n,r]),a=(c(t,"width")*i-c(e,"width"))/2,d=(c(t,"height")*i-c(e,"height"))/2;s(this,"cursorX",c(this,"cursorX")-a/c(e,"width")),s(this,"cursorY",c(this,"cursorY")-d/c(e,"height"))}},t.prototype.setMemberState=function(e){var t=c(this,"memberState"),n=c(e,"currentApplianceName");if(n&&!c(c(this,"appliances"),n))throw d(new Error("invalid appliance: "+n));var r=u(o({},l(t)));for(var i in l(e)){var a=c(e,i);void 0===a?h(r,i):s(r,i,a)}for(var f in s(this,"memberState",r),l(c(this,"appliances")))p(c(c(this,"appliances"),f),"onMemberStateChanged",[c(this,"memberState"),t]);return c(this,"memberState")},t.prototype.setViewState=function(e){var t=c(this,"viewState");return s(this,"viewState",u(o({},l(t),l(e)))),c(this,"viewState")},t.prototype.dispatchMagixEvent=function(e,t){for(var n in l(c(this,"appliances")))p(c(c(this,"appliances"),n),"onMagixEvent",[e,t])},t.prototype.destroy=function(){for(var e in l(c(this,"appliances")))p(c(c(this,"appliances"),e),"onDestroy",[])},t}(a.baseClass()),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initiativeColors=f.getInitiativeColors(),t.membersMap=u({}),t}return i(t,e),t.prototype.isMemberExits=function(e){return!!c(c(this,"membersMap"),e)},t.prototype.getBroadcasterId=function(){return c(this,"broadcasterId")},t.prototype.findMemberIdWithUserId=function(e){for(var t in l(c(this,"membersMap"))){var n=c(c(this,"membersMap"),t);if(e===(c(n,"information")&&c(c(n,"information"),"id")))return parseInt(t)}},t.prototype.getInformationWithMemberId=function(e){return c(c(this,"membersMap"),e)&&c(c(c(this,"membersMap"),e),"information")},t.prototype.getMemberDisplayers=function(){var e=u([]);for(var t in l(c(this,"membersMap"))){var n=c(c(this,"membersMap"),t);p(e,"push",[c(n,"displayer")])}return e},t.prototype.memberEnter=function(e){var t=c(e,"memberId"),n=c(e,"deviceType"),r=c(e,"information"),i=c(e,"appliances"),o=c(e,"memberState"),a=c(e,"executorHub");s(c(this,"membersMap"),t,d(new m(t,n,i,o,p(this,"enterMemberViewState",[]),a,r))),p(this,"compareDirector",[t,c(this,"directorId")])<0&&s(this,"directorId",t)},t.prototype.enterMemberViewState=function(){if(void 0===c(this,"broadcasterId"))return u({mode:c(f.ViewMode,"Freedom"),pixelWidth:1,originX:0,originY:0,width:0,height:0});var e=p(c(c(this,"membersMap"),c(this,"broadcasterId")),"getViewState",[]);return u({mode:c(f.ViewMode,"Follower"),pixelWidth:c(e,"pixelWidth"),originX:c(e,"originX"),originY:c(e,"originY"),width:c(e,"width"),height:c(e,"height")})},t.prototype.memberLeave=function(e){var t=c(c(this,"membersMap"),e);t&&(p(t,"destroy",[]),h(c(this,"membersMap"),e),c(this,"broadcasterId")===e&&p(this,"cancelBroadcaster",[]),p(this,"updateDirector",[]))},t.prototype.updateDirector=function(){var e=u([]);for(var t in l(c(this,"membersMap")))p(e,"push",[parseInt(t)]);0===c(e,"length")?s(this,"directorId",void 0):(p(e,"sort",[p(c(this,"compareDirector"),"bind",[this])]),s(this,"directorId",c(e,0)))},t.prototype.getDeviceType=function(e){return c(c(c(this,"membersMap"),e),"deviceType")},t.prototype.getMemberState=function(e){var t=c(c(this,"membersMap"),e);return t?p(t,"getMemberState",[]):void 0},t.prototype.getExecutorHub=function(e){return c(c(this,"membersMap"),e)?p(c(c(this,"membersMap"),e),"getExecutorHub",[]):void 0},t.prototype.getMemberIdWithUserId=function(e){for(var t in l(c(this,"membersMap"))){var n=c(c(this,"membersMap"),t);if(c(n,"information")&&c(c(n,"information"),"id")===e)return c(n,"memberId")}},t.prototype.getViewState=function(e){var t=c(c(this,"membersMap"),e);if(t)return p(t,"getViewState",[]);if(void 0!==c(this,"directorId")){var n,r=p(c(c(this,"membersMap"),c(this,"directorId")),"getViewState",[]);return n=c(r,"mode")===c(f.ViewMode,"Broadcaster")?c(f.ViewMode,"Follower"):c(f.ViewMode,"Freedom"),u(o({},l(r),{mode:n}))}return u({mode:c(f.ViewMode,"Freedom"),pixelWidth:1,originX:0,originY:0,width:0,height:0})},t.prototype.setMemberState=function(e,t){return p(c(c(this,"membersMap"),e),"setMemberState",[t])},t.prototype.setViewState=function(e,t){var n=c(t,"mode");if(n!==c(f.ViewMode,"Follower")||void 0!==c(this,"broadcasterId")&&c(this,"broadcasterId")!==e||(h(t,"mode"),n=void 0),n===c(f.ViewMode,"Follower")){var r=p(c(c(this,"membersMap"),c(this,"broadcasterId")),"getViewState",[]);t=u(o({},l(t),{originX:c(r,"originX"),originY:c(r,"originY"),width:c(r,"width"),height:c(r,"height")}))}var i=p(c(c(this,"membersMap"),e),"setViewState",[t]);return n===c(f.ViewMode,"Freedom")?c(this,"broadcasterId")===e&&p(this,"cancelBroadcaster",[]):n===c(f.ViewMode,"Broadcaster")?p(this,"becomeNewBroadcast",[e]):c(i,"mode")===c(f.ViewMode,"Broadcaster")&&p(this,"broadcastViewToAllRoom",[]),i},t.prototype.setCursor=function(e,t,n,r,i){p(c(c(this,"membersMap"),e),"setCursor",[t,n,r,i])},t.prototype.setRtcState=function(e,t){s(c(c(this,"membersMap"),e),"isRtcConnected",t)},t.prototype.dispatchMagixEvent=function(e,t,n){p(c(c(this,"membersMap"),e),"dispatchMagixEvent",[t,n])},t.prototype.notifyAllThatSceneChanged=function(e){for(var t in l(c(this,"membersMap")))p(c(c(this,"membersMap"),t),"notifyAllThatSceneChanged",[e])},t.prototype.getAppliance=function(e,t){var n=c(c(this,"membersMap"),t);return n?p(n,"getAppliance",[e]):void 0},t.prototype.currentAppliance=function(e){return c(c(c(this,"membersMap"),e),"currentAppliance")},t.prototype.cancelBroadcaster=function(){for(var e in l(c(this,"membersMap")))parseInt(e)!==c(this,"broadcasterId")&&p(c(c(this,"membersMap"),e),"setViewMode",[c(f.ViewMode,"Freedom")]);s(this,"broadcasterId",void 0)},t.prototype.becomeNewBroadcast=function(e){var t=p(c(c(this,"membersMap"),e),"getViewState",[]),n=c(t,"originX"),r=c(t,"originY"),i=c(t,"width"),o=c(t,"height"),a=u({originX:n,originY:r,width:i,height:o});for(var d in l(c(this,"membersMap")))parseInt(d)!==e&&p(c(c(this,"membersMap"),d),"changeToFollower",[a]);s(this,"broadcasterId",e),s(this,"directorId",e)},t.prototype.broadcastViewToAllRoom=function(){var e=p(c(c(this,"membersMap"),c(this,"broadcasterId")),"getViewState",[]),t=c(e,"originX"),n=c(e,"originY"),r=c(e,"width"),i=c(e,"height"),o=u({originX:t,originY:n,width:r,height:i});for(var a in l(c(this,"membersMap"))){var s=c(c(this,"membersMap"),a);c(p(s,"getViewState",[]),"mode")===c(f.ViewMode,"Follower")&&p(s,"setViewState",[o])}},t.prototype.initiativeColor=function(){for(var e=0,t=l(c(this,"initiativeColors"));e<t.length;e++){var n=t[e];if(!p(this,"anyMemberHasColor",[n]))return n}var r=0;for(var i in l(c(this,"membersMap")))r++;var o=r%c(c(this,"initiativeColors"),"length");return c(c(this,"initiativeColors"),o)},t.prototype.anyMemberHasColor=function(e){for(var n in l(c(this,"membersMap")))if(p(t,"isColorEquals",[e,c(p(c(c(this,"membersMap"),n),"getMemberState",[]),"strokeColor")]))return!0;return!1},t.isColorEquals=function(e,t){return c(e,0)===c(t,0)&&c(e,1)===c(t,1)&&c(e,2)===c(t,2)},t.prototype.compareDirector=function(e,t){if(e===t)return 0;if(void 0===e&&void 0!==t)return 1;if(void 0!==e&&void 0===t)return-1;if(e===c(this,"broadcasterId"))return-1;if(t===c(this,"broadcasterId"))return 1;var n=c(c(this,"membersMap"),e),r=c(c(this,"membersMap"),t);if(c(n,"information")&&!c(r,"information"))return-1;if(!c(n,"information")&&c(r,"information"))return 1;if(!c(n,"information")&&!c(r,"information"))return c(n,"memberId")-c(r,"memberId");var i=c(n,"information"),o=c(r,"information");if(c(i,"isOwner")&&!c(o,"isOwner"))return-1;if(!c(i,"isOwner")&&c(o,"isOwner"))return 1;var a=c(i,"id"),s=c(o,"id");return a===s?c(n,"memberId")-c(r,"memberId"):a-s},t}(a.baseClass());t.MembersManager=g,a.declareClass({classId:7,clazz:m}),a.declareClass({classId:8,clazz:g}),a=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__context("module"),i=r.creator;t.getInitiativeColors=function(){return i([i([236,52,85]),i([0,91,246]),i([245,173,70]),i([104,171,93]),i([158,81,182])])},r=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.setter,s=o.creator,c=o.caller,u=o.getter,l=o.remover,p=o.unwrapper,d=n(0),h=function(e){function t(t){var n=e.call(this)||this;return a(n,"components",t),n}return i(t,e),t.prototype.snapshot=function(){for(var e=s([]),t=0,n=p(u(this,"components"));t<n.length;t++){var r=n[t];c(e,"push",[s({context:u(r,"context"),selectedBy:u(r,"selectedBy"),highlightAuthorIds:u(r,"highlightAuthorIds")})]),l(r,"context"),a(r,"highlightAuthorIds",s([])),a(r,"selectedBy",void 0)}for(var i=c(d.getSnapshot(),"createSnapshot",[this,!0]),o=0;o<u(u(this,"components"),"length");++o){r=u(u(this,"components"),o);var h=u(e,o);a(r,"context",u(h,"context")),a(r,"highlightAuthorIds",u(h,"highlightAuthorIds")),a(r,"selectedBy",u(h,"selectedBy"))}return i},t.recover=function(e,t){for(var n=c(d.getSnapshot(),"recoverWithSnapshot",[t]),r=0,i=p(u(n,"components"));r<i.length;r++){var o=i[r];a(o,"context",e),a(o,"protoKey",d.findIdentifierWith(o))}return n},t.prototype.injectToScene=function(e,t,n){for(var r=u(Number,"MAX_SAFE_INTEGER"),i=u(Number,"MAX_SAFE_INTEGER"),o=u(Number,"MIN_SAFE_INTEGER"),l=u(Number,"MIN_SAFE_INTEGER"),d=0,h=p(u(this,"components"));d<h.length;d++){var f=h[d];r=c(Math,"min",[u(f,"originX")]),i=c(Math,"min",[u(f,"originY")]),o=c(Math,"max",[u(f,"originX")+u(f,"width")]),l=c(Math,"max",[u(f,"originY")+u(f,"height")])}for(var m=u(e,"executorHub"),g=t-(r+o)/2,y=n-(i+l)/2,v=0,b=p(u(this,"components"));v<b.length;v++){if(a(f=b[v],"originX",u(f,"originX")+g),a(f,"originY",u(f,"originY")+y),m&&u(m,"enable")){var A=s({create:c(f,"snapshot",[])});c(m,"commit",[u(f,"protoKey"),A,s({delete:!0})])}c(u(e,"scene"),"addComponent",[f])}},t}(o.baseClass());t.CopyBuffer=h,o.declareClass({classId:35,clazz:h}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(41))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.setter,s=o.getter,c=o.wrapper,u=o.creator,l=o.caller,p=o.unwrapper,d=n(5),h=n(8),f=function(e){function t(t){var n=e.call(this)||this;return n.commiter=null,n._enable=!1,a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"enable",{get:function(){return s(this,"_enable")},set:function(e){a(this,"_enable",e),e||a(this,"commiter",null)},enumerable:!0,configurable:!0}),t.prototype.commit=function(e,t,n){if(!s(this,"_enable"))throw c(new Error("not enable exectuor hub"));s(this,"commiter")||a(this,"commiter",u({redo:u({}),undo:u({})})),a(t,"path",a(n,"path",s(s(s(this,"context"),"scenes"),"currentPath"))),a(s(s(this,"commiter"),"redo"),e,t),a(s(s(this,"commiter"),"undo"),e,n)},t.prototype.takeCommit=function(){var e=s(this,"commiter");return s(this,"commiter")&&a(this,"commiter",null),e},t.prototype.execute=function(e){if(s(this,"_enable")){for(var t in p(e))l(this,"executeOne",[t,s(e,t)]);l(l(s(this,"context"),"getAppliance",["selector"]),"refreshAllUsersEditorRectangleSpace",[])}},t.prototype.executeOne=function(e,t){var n=s(s(this,"context"),"scenes"),r=s(t,"path")||s(n,"currentPath"),i=l(n,"getScene",[r]);if(i){if(s(t,"create")&&l(i,"addComponent",[l(d.Editable,"recover",[s(this,"context"),s(t,"create")])]),s(t,"delete")&&(g=l(this,"findComponent",[e,i]))&&l(i,"removeComponent",[g]),s(t,"updateRect")&&(g=l(this,"findComponent",[e,i]))&&p(g)instanceof d.Editable){var o=s(t,"updateRect"),c=s(o,"x"),u=s(o,"y"),f=s(o,"width"),m=s(o,"height");a(g,"originX",c),a(g,"originY",u),a(g,"width",f),a(g,"height",m)}if(s(t,"updateTextarea")){var g=l(this,"findComponent",[e,i]);p(g)instanceof h.TextareaShape&&l(g,"recoverTextareaBox",[s(t,"updateTextarea")])}s(t,"updateTextareaFormat")&&(g=l(this,"findComponent",[e,i]),p(g)instanceof h.TextareaShape&&l(g,"recoverFormat",[s(t,"updateTextareaFormat")])),s(t,"cleanPPT")&&l(i,"cleanPPT",[s(this,"context")]),s(t,"setPPT")&&l(i,"recoverPPT",[s(t,"setPPT")])}},t.prototype.findComponent=function(e,t){for(var n=0;n<s(t,"componentsLength");++n){var r=l(t,"componentAt",[n]);if(r&&p(r)instanceof d.Editable&&s(r,"protoKey")===e)return r}},t}(o.baseClass());t.ExecutorHub=f,o.declareClass({classId:4,clazz:f}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.setter,c=a.caller,u=a.creator,l=a.getter,p=a.wrapper,d=a.unwrapper,h=a.remover,f=n(0),m=n(16),g=function(e){function t(){var t=e.call(this)||this;return s(t,"rootSceneGroup",c(t,"createRootSceneGroup",[])),s(t,"_currentPath",u(["init"])),t}return i(t,e),Object.defineProperty(t.prototype,"currentPath",{get:function(){return l(this,"_currentPath")},set:function(e){if(!c(this,"getScene",[e]))throw p(new Error("/"+c(e,"join",["/"])+" is not a scene"));s(this,"_currentPath",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentScene",{get:function(){return c(this,"getScene",[l(this,"_currentPath")])},enumerable:!0,configurable:!0}),t.prototype.getScene=function(e){e=u(d(e).slice());var t=c(e,"pop",[]);if(void 0!==t){var n=c(this,"findSceneGroup",[e]);if(n){var r=l(l(n,"scenesMap"),t);if(r)return r}}},t.prototype.listScenes=function(e){var t=u([]),n=c(this,"findSceneGroup",[e]);if(n)for(var r=0,i=d(l(n,"scenesList"));r<i.length;r++){var o=l(i[r],"name");c(t,"push",[o])}return t},t.prototype.listSceneGroups=function(e){var t=u([]),n=c(this,"findSceneGroup",[e]);if(n)for(var r=0,i=d(l(n,"groupsList"));r<i.length;r++){var o=l(i[r],"name");c(t,"push",[o])}return t},t.prototype.listAllScenes=function(){var e=u([]);return c(this,"collectScenes",[l(this,"rootSceneGroup"),u([]),e]),e},t.prototype.collectScenes=function(e,t,n){for(var r=0,i=d(l(e,"groupsList"));r<i.length;r++){var o=i[r],a=u(d(t).concat([l(o,"name")]));c(this,"collectScenes",[o,a,n])}for(var s=0,p=d(l(e,"scenesList"));s<p.length;s++){var h=p[s];c(n,"push",[u(d(t).concat([l(h,"name")]))])}},t.prototype.putScene=function(e,t,n){var r=c(this,"makeSceneGroup",[e]);if(!r||l(l(r,"groupsMap"),l(t,"name")))return!1;var i=l(l(r,"scenesMap"),l(t,"name"));if(i){var o=c(l(r,"scenesList"),"indexOf",[i]);s(l(r,"scenesList"),o,t),s(l(r,"scenesMap"),l(t,"name"),t)}else c(this,"insertScene",[r,t,n]);return!0},t.prototype.removePath=function(e){for(var t=null,n=l(this,"rootSceneGroup"),r=l(l(this,"rootSceneGroup"),"name"),i=0;i<l(e,"length");++i)if(r=l(e,i),t=n,!(n=l(l(n,"groupsMap"),r))){if(i<l(e,"length")-1)return!1;break}if(!t)return s(this,"rootSceneGroup",c(this,"createRootSceneGroup",[])),s(this,"_currentPath",u(["init"])),!0;var o=null;if(c(this,"checkPathIncludesPrefix",[l(this,"_currentPath"),e])&&(o=c(this,"findNextScenePathInTree",[e])||u(["init"])),n){var a=c(l(t,"groupsList"),"indexOf",[n]);c(l(t,"groupsList"),"splice",[a,1]),h(l(t,"groupsMap"),l(n,"name"))}else{var p=l(l(t,"scenesMap"),r);if(!p)return!1;a=c(l(t,"scenesList"),"indexOf",[p]),c(l(t,"scenesList"),"splice",[a,1]),h(l(t,"scenesMap"),r)}return c(this,"cleanIfSceneGroupEmpty",[e]),o&&s(this,"_currentPath",o),!0},t.prototype.moveScene=function(e,t,n){t=u(d(t).slice());var r=null,i=!1;c(this,"isPathEquals",[e,l(this,"_currentPath")])&&(r=u(d(t).slice()));var o=c(this,"getScene",[e]),a=c(t,"pop",[]);return o&&void 0!==a&&(s(o,"name",a),c(this,"removePath",[e]),(i=c(this,"putScene",[t,o,n]))||(e=u(d(e).slice()),s(o,"name",c(e,"pop",[])),c(this,"putScene",[e,o]))),i&&r&&s(this,"_currentPath",r),i},t.prototype.cleanIfSceneGroupEmpty=function(e){for(var t=l(this,"rootSceneGroup"),n=u([l(this,"rootSceneGroup")]),r=0;r<l(e,"length")-1;++r)t=l(l(t,"groupsMap"),l(e,r)),c(n,"push",[t]);for(r=l(n,"length")-1;r>0;r--){var i=l(n,r),o=l(n,r-1);if(c(this,"isSceneGroupEmpty",[i])){var a=c(l(o,"groupsList"),"indexOf",[i]);c(l(o,"groupsList"),"splice",[a,1]),h(l(o,"groupsMap"),l(i,"name"))}}c(this,"isSceneGroupEmpty",[l(this,"rootSceneGroup")])&&s(this,"rootSceneGroup",c(this,"createRootSceneGroup",[]))},t.prototype.isSceneGroupEmpty=function(e){return 0===l(l(e,"groupsList"),"length")&&0===l(l(e,"scenesList"),"length")},t.prototype.findSceneOrGroup=function(e){if(0===l(e,"length"))return l(this,"rootSceneGroup");e=u(d(e).slice());var t=c(e,"pop",[]),n=c(this,"findSceneGroup",[e]);return n?l(l(n,"groupsMap"),t)||l(l(n,"scenesMap"),t):void 0},t.prototype.findSceneGroup=function(e){for(var t=l(this,"rootSceneGroup"),n=0,r=d(e);n<r.length;n++){var i=r[n];if(!(t=l(l(t,"groupsMap"),i)))return null}return t},t.prototype.makeSceneGroup=function(e){for(var t=l(this,"rootSceneGroup"),n=0,r=d(e);n<r.length;n++){var i=r[n];if(l(l(t,"scenesMap"),i))return null;var o=l(l(t,"groupsMap"),i);o||(o=c(this,"createSceneGroup",[i]),s(l(t,"groupsMap"),i,o),c(l(t,"groupsList"),"push",[o])),t=o}return t},t.prototype.insertScene=function(e,t,n){void 0===n||n<0||n>=l(l(e,"scenesList"),"length")?c(l(e,"scenesList"),"push",[t]):c(l(e,"scenesList"),"splice",[n,0,t]),s(l(e,"scenesMap"),l(t,"name"),t)},t.prototype.createRootSceneGroup=function(){var e=c(this,"createSceneGroup",[""]),t=p(new m.SceneNode("init"));return c(l(e,"scenesList"),"push",[t]),s(l(e,"scenesMap"),l(t,"name"),t),e},t.prototype.findNextScenePathInTree=function(e){var t=c(u(d(e).slice()),"reverse",[]),n=c(this,"findNextPathStackInTree",[t,l(this,"rootSceneGroup")]);if(!n)return null;var r=c(n,"reverse",[]),i=c(this,"findSceneOrGroup",[r]);if(!i)return null;if(d(i)instanceof m.SceneNode)return r;for(var o=i;;){var a=l(l(o,"groupsList"),0);if(!a)return c(r,"push",[l(l(l(o,"scenesList"),0),"name")]),r;c(r,"push",[l(a,"name")]),o=a}},t.prototype.findNextPathStackInTree=function(e,t){var n=c(e,"pop",[]),r=l(l(t,"groupsMap"),n);if(l(e,"length")>0&&r){var i=c(this,"findNextPathStackInTree",[e,r]);if(i)return c(i,"push",[n]),i}var o=c(this,"findNextName",[t,n]);return null===o?null:u([o])},t.prototype.findNextName=function(e,t){var n=l(l(e,"groupsMap"),t),r=null;if(n){var i=c(l(e,"groupsList"),"indexOf",[n]);(o=l(l(e,"groupsList"),i+1)||l(l(e,"scenesList"),0)||l(l(e,"groupsList"),i-1))&&(r=l(o,"name"))}else{var o,a=l(l(e,"scenesMap"),t);a&&(i=c(l(e,"scenesList"),"indexOf",[a]),(o=l(l(e,"scenesList"),i+1)||l(l(e,"scenesList"),i-1)||l(l(e,"groupsList"),l(l(e,"groupsList"),"length")-1))&&(r=l(o,"name")))}return r},t.prototype.createSceneGroup=function(e){return u({name:e,groupsList:u([]),groupsMap:u({}),scenesList:u([]),scenesMap:u({})})},t.prototype.isPathEquals=function(e,t){if(l(e,"length")!==l(t,"length"))return!1;for(var n=0;n<l(e,"length");++n)if(l(e,n)!==l(t,n))return!1;return!0},t.prototype.checkPathIncludesPrefix=function(e,t){for(var n=0;n<l(t,"length");++n)if(l(t,n)!==l(e,n))return!1;return!0},o([f.noEffects],t.prototype,"currentPath",null),o([f.noEffects],t.prototype,"currentScene",null),t}(a.baseClass());t.SceneManager=g,a.declareClass({classId:38,clazz:g,memberDecorators:{currentSceneCache:[f.transient],currentPath:[f.noEffects],currentScene:[f.noEffects],getScene:[f.noEffects],findSceneOrGroup:[f.noEffects]}}),a=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.creator,c=a.getter,u=a.caller,l=a.wrapper,p=n(0),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.components=s([]),t}return i(t,e),Object.defineProperty(t.prototype,"componentsLength",{get:function(){return c(c(this,"components"),"length")},enumerable:!0,configurable:!0}),t.prototype.componentAt=function(e){return c(c(this,"components"),e)},t.prototype.addComponent=function(e){u(c(this,"components"),"push",[e])},t.prototype.addComponentAt=function(e,t){if(t<0||t>c(c(this,"components"),"length"))throw l(new Error("index should be 0~"+c(c(this,"components"),"length")+", instead of "+t));u(c(this,"components"),"splice",[t,0,e])},t.prototype.indexOfComponent=function(e){return u(c(this,"components"),"indexOf",[e])},t.prototype.removeComponent=function(e){var t=u(c(this,"components"),"indexOf",[e]);-1!==t&&u(c(this,"components"),"splice",[t,1])},t.prototype.forEachComponents=function(e){u(c(this,"components"),"forEach",[e])},t.prototype.componentsWithFilter=function(e){return u(c(this,"components"),"filter",[e])},t.prototype.findComponentFromBottom=function(e){for(var t=0;t<c(c(this,"components"),"length");++t){var n=c(c(this,"components"),t);if(e(n,t))return n}},t.prototype.findComponentFromTop=function(e){for(var t=c(c(this,"components"),"length")-1;t>=0;--t){var n=c(c(this,"components"),t);if(e(n,t))return n}},t.prototype.removeComponentAt=function(e){if(e<0||e>=c(c(this,"components"),"length"))throw l(new Error("index should be 0~"+(c(c(this,"components"),"length")-1)+", instead of "+e));return c(u(c(this,"components"),"splice",[e,1]),0)},o([p.noEffects],t.prototype,"componentsLength",null),t}(a.baseClass());t.ApplianceComponentContainer=d,a.declareClass({classId:6,clazz:d,memberDecorators:{componentsLength:[p.noEffects],componentAt:[p.noEffects]}}),a=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(45))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None="none",e.Others="others",e.Me="me"}(t.BelongsTo||(t.BelongsTo={}))},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.setter,c=a.getter,u=a.caller,l=a.wrapper,p=a.creator,d=n(0),h=n(6),f=n(5),m=n(64),g=n(10),y=function(e){function t(t){var n=e.call(this)||this;return n.paintingEllipseShape=null,n.beginPoint=null,n.isShiftPress=!1,n.latestDragX=0,n.latestDragY=0,s(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"fixedCursorInScenePoint",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.onKeyUp=function(e){"lock"===c(e,"kind")&&(s(this,"isShiftPress",!1),c(this,"beginPoint")&&u(this,"refreshPaintingEllipseShape",[]))},t.prototype.onKeyDown=function(e){"lock"===c(e,"kind")&&(s(this,"isShiftPress",!0),c(this,"beginPoint")&&u(this,"refreshPaintingEllipseShape",[]))},t.prototype.onSceneChanged=function(){c(this,"paintingEllipseShape")&&u(c(this,"paintingEllipseShape"),"completePainting",[]),s(this,"paintingEllipseShape",null),s(this,"isShiftPress",!1),s(this,"beginPoint",null)},t.prototype.onDraggingStateChanged=function(e){var t=c(e,"x"),n=c(e,"y");if(c(this,"isDragging"))s(this,"paintingEllipseShape",l(new v(c(this,"context")))),s(c(this,"paintingEllipseShape"),"originX",t),s(c(this,"paintingEllipseShape"),"originY",n),u(c(c(this,"context"),"scene"),"addComponent",[c(this,"paintingEllipseShape")]),s(this,"beginPoint",p({x:t,y:n}));else if(c(this,"paintingEllipseShape")){u(c(this,"paintingEllipseShape"),"completePainting",[]);var r=c(c(this,"context"),"executorHub");if(r&&c(r,"enable")){var i=p({create:u(c(this,"paintingEllipseShape"),"snapshot",[])});u(r,"commit",[c(c(this,"paintingEllipseShape"),"protoKey"),i,p({delete:!0})])}s(this,"paintingEllipseShape",null),s(this,"beginPoint",null)}},t.prototype.onDrag=function(e){var t=c(e,"x"),n=c(e,"y");s(this,"latestDragX",t),s(this,"latestDragY",n),u(this,"refreshPaintingEllipseShape",[])},t.prototype.refreshPaintingEllipseShape=function(){var e=c(this,"paintingEllipseShape");if(s(e,"originX",u(Math,"min",[c(this,"latestDragX"),c(c(this,"beginPoint"),"x")])),s(e,"originY",u(Math,"min",[c(this,"latestDragY"),c(c(this,"beginPoint"),"y")])),c(this,"isShiftPress")){var t=u(Math,"abs",[c(this,"latestDragX")-c(c(this,"beginPoint"),"x")]),n=u(Math,"abs",[c(this,"latestDragY")-c(c(this,"beginPoint"),"y")]),r=u(Math,"max",[t,n]);s(e,"width",r),s(e,"height",r)}else s(e,"width",u(Math,"abs",[c(this,"latestDragX")-c(c(this,"beginPoint"),"x")])),s(e,"height",u(Math,"abs",[c(this,"latestDragY")-c(c(this,"beginPoint"),"y")]))},t.prototype.onDestroy=function(){c(this,"paintingEllipseShape")&&u(c(this,"paintingEllipseShape"),"completePainting",[])},t}(a.wrapSuperClass(h.Gesture));t.EllipseAppliance=y;var v=function(e){function t(t){var n=e.call(this,t)||this;return n.originX=0,n.originY=0,n.width=0,n.height=0,n.isPainting=!0,s(n,"state",u(t,"getMemberState",[])),n}return i(t,e),Object.defineProperty(t.prototype,"selectable",{get:function(){return!c(this,"isPainting")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return c(c(this,"state"),"strokeWidth")/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locked",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.completePainting=function(){s(this,"isPainting",!1)},t.prototype.rectHitTestContent=function(e,t,n,r,i,o){var a=u(this,"outerEllipseTester",[o]),s=u(a,"rectHitTest",[t,n,r,i]);if(s===c(g.RectangleTestingResult,"IncludeRectangle")){var l=u(this,"innerEllipseTester",[o]);if(l)switch(u(l,"rectHitTest",[t,n,r,i])){case c(g.RectangleTestingResult,"Disjoint"):return c(g.RectangleTestingResult,"IncludeRectangle");case c(g.RectangleTestingResult,"IncludeByRectangle"):case c(g.RectangleTestingResult,"Cross"):return c(g.RectangleTestingResult,"Cross");case c(g.RectangleTestingResult,"IncludeRectangle"):return c(g.RectangleTestingResult,"Disjoint")}}return s},t.prototype.outerEllipseTester=function(e){var t=c(this,"width")+2*e,n=c(this,"height")+2*e,r=c(this,"width")/2,i=c(this,"height")/2;return l(new m.EllipseTester(r,i,t,n))},t.prototype.innerEllipseTester=function(e){var t=c(this,"width")-2*e,n=c(this,"height")-2*e;if(!(t<=0||n<=0)){var r=c(this,"width")/2,i=c(this,"height")/2;return l(new m.EllipseTester(r,i,t,n))}},o([d.noEffects],t.prototype,"selectable",null),o([d.noEffects],t.prototype,"hitTestingBoxMargin",null),o([d.noEffects],t.prototype,"locked",null),t}(a.wrapSuperClass(f.Editable));t.EllipseShape=v,a.declareClass({classId:15,clazz:y,superClass:h.Gesture}),a.declareClass({classId:16,clazz:v,superClass:f.Editable,memberDecorators:{selectable:[d.noEffects],hitTestingBoxMargin:[d.noEffects],locked:[d.noEffects]}}),a=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.getter,s=o.caller,c=o.setter,u=o.creator,l=o.unwrapper,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pressedPoint=null,t.dragEventsBuffer=null,t}return i(t,e),Object.defineProperty(t.prototype,"isDragging",{get:function(){return!!a(this,"pressedPoint")&&!a(this,"dragEventsBuffer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"needBufferDragEvent",{get:function(){return!!a(this,"dragEventsBuffer")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPressDown",{get:function(){return!!a(this,"pressedPoint")},enumerable:!0,configurable:!0}),t.prototype.onKeyUp=function(e){},t.prototype.onKeyDown=function(e){},t.prototype.onDestroy=function(){},t.prototype.onMouseLeave=function(e){},t.prototype.onDraggingStateChanged=function(e){},t.prototype.onDrag=function(e){},t.prototype.onHover=function(e){},t.prototype.onClick=function(e){},t.prototype.makeSureItsDraggingEvent=function(e){return!1},t.prototype.onMemberStateChanged=function(e,t){},t.prototype.onMagixEvent=function(e,t){},t.prototype.onSceneChanged=function(e){},t.prototype.onPressedAndDrag=function(e){a(this,"needBufferDragEvent")?(s(a(this,"dragEventsBuffer"),"push",[e]),s(this,"checkShouldChangeGestureToDrag",[e])):s(this,"invokeCallback",[a(this,"onDrag"),e])},t.prototype.onMouseDown=function(e){c(this,"pressedPoint",u({x:a(e,"x"),y:a(e,"y")})),s(this,"makeSureItsDraggingEvent",[e])?s(this,"invokeCallback",[a(this,"onDraggingStateChanged"),e]):c(this,"dragEventsBuffer",u([])),s(this,"onPressedAndDrag",[e])},t.prototype.onMouseMove=function(e){a(this,"isPressDown")?s(this,"onPressedAndDrag",[e]):s(this,"invokeCallback",[a(this,"onHover"),e])},t.prototype.onMouseUp=function(e){if(a(this,"isPressDown")){var t=!1;s(this,"onPressedAndDrag",[e]),a(this,"needBufferDragEvent")&&(c(this,"dragEventsBuffer",null),s(this,"invokeCallback",[a(this,"onClick"),e]),t=!0),c(this,"pressedPoint",null),t||s(this,"invokeCallback",[a(this,"onDraggingStateChanged"),e])}},t.prototype.checkShouldChangeGestureToDrag=function(e){if(s(this,"shouldChangeGestureToDrag",[a(e,"x"),a(e,"y")])){var t=a(this,"dragEventsBuffer");if(c(this,"dragEventsBuffer",null),a(t,"length")>0){var n=a(t,0);s(this,"invokeCallback",[a(this,"onDraggingStateChanged"),n]);for(var r=0,i=l(t);r<i.length;r++){var o=i[r];s(this,"invokeCallback",[a(this,"onDrag"),o])}}}},t.prototype.shouldChangeGestureToDrag=function(e,t){var n=a(a(this,"pressedPoint"),"x")-e,r=a(a(this,"pressedPoint"),"y")-t;return 16<n*n+r*r},t.prototype.invokeCallback=function(e,t){try{s(e,"call",[this,t])}catch(e){s(console,"error",[e])}},t}(o.baseClass());t.Gesture=p,o.declareClass({classId:36,clazz:p}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.setter,c=a.getter,u=a.caller,l=a.wrapper,p=a.creator,d=n(0),h=n(6),f=n(5),m=n(10),g=function(e){function t(t){var n=e.call(this)||this;return n.paintingRectangleShape=null,n.beginPoint=null,n.isShiftPress=!1,n.latestDragX=0,n.latestDragY=0,s(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"fixedCursorInScenePoint",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.onKeyUp=function(e){"lock"===c(e,"kind")&&(s(this,"isShiftPress",!1),c(this,"beginPoint")&&u(this,"refreshPaintingRectangleShape",[]))},t.prototype.onKeyDown=function(e){"lock"===c(e,"kind")&&(s(this,"isShiftPress",!0),c(this,"beginPoint")&&u(this,"refreshPaintingRectangleShape",[]))},t.prototype.onSceneChanged=function(){c(this,"paintingRectangleShape")&&u(c(this,"paintingRectangleShape"),"completePainting",[]),s(this,"paintingRectangleShape",null),s(this,"isShiftPress",!1),s(this,"beginPoint",null)},t.prototype.onDraggingStateChanged=function(e){var t=c(e,"x"),n=c(e,"y");if(c(this,"isDragging"))s(this,"paintingRectangleShape",l(new y(c(this,"context")))),s(c(this,"paintingRectangleShape"),"originX",t),s(c(this,"paintingRectangleShape"),"originY",n),u(c(c(this,"context"),"scene"),"addComponent",[c(this,"paintingRectangleShape")]),s(this,"beginPoint",p({x:t,y:n}));else if(c(this,"paintingRectangleShape")){u(c(this,"paintingRectangleShape"),"completePainting",[]);var r=c(c(this,"context"),"executorHub");if(r&&c(r,"enable")){var i=p({create:u(c(this,"paintingRectangleShape"),"snapshot",[])});u(r,"commit",[c(c(this,"paintingRectangleShape"),"protoKey"),i,p({delete:!0})])}s(this,"paintingRectangleShape",null),s(this,"beginPoint",null)}},t.prototype.onDrag=function(e){var t=c(e,"x"),n=c(e,"y");s(this,"latestDragX",t),s(this,"latestDragY",n),u(this,"refreshPaintingRectangleShape",[])},t.prototype.refreshPaintingRectangleShape=function(){var e=c(this,"paintingRectangleShape");if(s(e,"originX",u(Math,"min",[c(this,"latestDragX"),c(c(this,"beginPoint"),"x")])),s(e,"originY",u(Math,"min",[c(this,"latestDragY"),c(c(this,"beginPoint"),"y")])),c(this,"isShiftPress")){var t=u(Math,"abs",[c(this,"latestDragX")-c(c(this,"beginPoint"),"x")]),n=u(Math,"abs",[c(this,"latestDragY")-c(c(this,"beginPoint"),"y")]),r=u(Math,"max",[t,n]);s(e,"width",r),s(e,"height",r)}else s(e,"width",u(Math,"abs",[c(this,"latestDragX")-c(c(this,"beginPoint"),"x")])),s(e,"height",u(Math,"abs",[c(this,"latestDragY")-c(c(this,"beginPoint"),"y")]))},t.prototype.onDestroy=function(){c(this,"paintingRectangleShape")&&u(c(this,"paintingRectangleShape"),"completePainting",[])},t}(a.wrapSuperClass(h.Gesture));t.RectangleAppliance=g;var y=function(e){function t(t){var n=e.call(this,t)||this;return n.originX=0,n.originY=0,n.width=0,n.height=0,n.isPainting=!0,s(n,"state",u(t,"getMemberState",[])),n}return i(t,e),Object.defineProperty(t.prototype,"selectable",{get:function(){return!c(this,"isPainting")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return c(c(this,"state"),"strokeWidth")/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locked",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.completePainting=function(){s(this,"isPainting",!1)},t.prototype.rectHitTestContent=function(e,t,n,r,i,o){if(e===c(m.RectangleTestingResult,"IncludeRectangle")){var a=u(this,"innerRectangleTester",[o]);if(a)switch(u(a,"rectHitTest",[t,n,r,i])){case c(m.RectangleTestingResult,"Disjoint"):return c(m.RectangleTestingResult,"IncludeRectangle");case c(m.RectangleTestingResult,"IncludeByRectangle"):case c(m.RectangleTestingResult,"Cross"):return c(m.RectangleTestingResult,"Cross");case c(m.RectangleTestingResult,"IncludeRectangle"):return c(m.RectangleTestingResult,"Disjoint")}}return e},t.prototype.innerRectangleTester=function(e){var t=l(new m.ConvexPolygonTester),n=e,r=e,i=c(this,"width")-2*e,o=c(this,"height")-2*e;if(!(i<=0||o<=0))return u(t,"pushPoint",[p({x:n,y:r})]),u(t,"pushPoint",[p({x:n+i,y:r})]),u(t,"pushPoint",[p({x:n+i,y:r+o})]),u(t,"pushPoint",[p({x:n,y:r+o})]),t},o([d.noEffects],t.prototype,"selectable",null),o([d.noEffects],t.prototype,"hitTestingBoxMargin",null),o([d.noEffects],t.prototype,"locked",null),t}(a.wrapSuperClass(f.Editable));t.RectangleShape=y,a.declareClass({classId:23,clazz:g,superClass:h.Gesture}),a.declareClass({classId:24,clazz:y,superClass:f.Editable,memberDecorators:{selectable:[d.noEffects],hitTestingBoxMargin:[d.noEffects],locked:[d.noEffects]}}),a=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.setter,c=a.getter,u=a.caller,l=a.wrapper,p=a.creator,d=a.unwrapper,h=n(0),f=n(6),m=n(5),g=n(65);function y(e,t){return 0===t?1:e/t}var v=function(e){function t(t){var n=e.call(this)||this;return n.paintingCurveShape=null,s(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"fixedCursorInScenePoint",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.onSceneChanged=function(){c(this,"paintingCurveShape")&&(u(c(this,"paintingCurveShape"),"completePainting",[]),s(this,"paintingCurveShape",null))},t.prototype.onClick=function(e){var t=c(e,"x"),n=c(e,"y");if(!c(this,"paintingCurveShape")){var r=u(c(this,"context"),"getMemberState",[]);if(r&&c(c(r,"pencilOptions"),"enableDrawPoint")){var i=l(new b(c(this,"context")));u(c(c(this,"context"),"scene"),"addComponent",[i]),u(this,"pushPointToCurveShape",[i,t,n]),u(i,"completePainting",[]),u(this,"commitCreateShape",[i])}}},t.prototype.onDraggingStateChanged=function(){if(c(this,"isDragging"))s(this,"paintingCurveShape",l(new b(c(this,"context")))),u(c(c(this,"context"),"scene"),"addComponent",[c(this,"paintingCurveShape")]);else if(c(this,"paintingCurveShape")){var e=c(this,"paintingCurveShape");s(this,"paintingCurveShape",null),u(e,"completePainting",[]),u(this,"commitCreateShape",[e])}},t.prototype.commitCreateShape=function(e){var t=c(c(this,"context"),"executorHub");if(t&&c(t,"enable")){var n=p({create:u(e,"snapshot",[])});u(t,"commit",[c(e,"protoKey"),n,p({delete:!0})])}},t.prototype.onDrag=function(e){var t=c(e,"x"),n=c(e,"y");c(this,"paintingCurveShape")&&u(this,"pushPointToCurveShape",[c(this,"paintingCurveShape"),t,n])},t.prototype.onDestroy=function(){c(this,"paintingCurveShape")&&u(c(this,"paintingCurveShape"),"completePainting",[])},t.prototype.pushPointToCurveShape=function(e,t,n){var r=c(u(c(this,"context"),"getViewState",[]),"pixelWidth"),i=c(u(c(this,"context"),"getMemberState",[]),"pencilOptions"),o=c(i,"sparseWidth"),a=c(i,"sparseHump");u(e,"pushPoint",[t,n,o/r,a/r])},t.createPencilOptions=function(){return p({enableDrawPoint:!1,disableBezier:!1,sparseHump:3,sparseWidth:4})},t}(a.wrapSuperClass(f.Gesture));t.PencilAppliance=v;var b=function(e){function t(t){var n=e.call(this,t)||this;return n.originX=0,n.originY=0,n.isPainting=!0,n._width=0,n._height=0,n.initializedWidth=0,n.initializedHeight=0,n.points=null,s(n,"state",u(t,"getMemberState",[])),s(n,"sparsePoints",l(new g.SparsePloughPoints)),n}return i(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return c(this,"_width")},set:function(e){s(this,"_width",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return c(this,"_height")},set:function(e){s(this,"_height",e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return!c(this,"isPainting")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return c(c(this,"state"),"strokeWidth")/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locked",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.pushPoint=function(e,t,n,r){if(c(this,"sparsePoints"))if(s(c(this,"sparsePoints"),"widthThreshold",n),s(c(this,"sparsePoints"),"humpThreshold",r),u(c(this,"sparsePoints"),"pushPoint",[e,t]),1===c(c(this,"sparsePoints"),"pushedCount"))s(this,"originX",e),s(this,"originY",t);else{var i=c(this,"originX"),o=c(this,"originY"),a=c(this,"originX")+c(this,"_width"),l=c(this,"originY")+c(this,"_height");e<i?(s(this,"originX",e),s(this,"_width",a-e)):e>a&&s(this,"_width",e-i),t<o?(s(this,"originY",t),s(this,"_height",l-t)):t>l&&s(this,"_height",t-o)}},t.prototype.completePainting=function(){if(c(this,"sparsePoints")){s(this,"initializedWidth",c(this,"_width")),s(this,"initializedHeight",c(this,"_height")),s(this,"points",u(c(this,"sparsePoints"),"complete",[])),s(this,"sparsePoints",null);for(var e=0,t=d(c(this,"points"));e<t.length;e++){var n=t[e];s(n,"x",c(n,"x")-c(this,"originX")),s(n,"y",c(n,"y")-c(this,"originY"))}s(this,"isPainting",!1)}},t.prototype.displayPoints=function(){var e;if(c(this,"sparsePoints")){e=u(c(this,"sparsePoints"),"displayPoints",[]);for(var t=0;t<c(e,"length");++t){var n=c(e,t),r=c(n,"x"),i=c(n,"y");s(e,t,p({x:r-c(this,"originX"),y:i-c(this,"originY")}))}}else{var o=y(c(this,"_width"),c(this,"initializedWidth")),a=y(c(this,"_height"),c(this,"initializedHeight"));e=1===o&&1===a?c(this,"points"):u(c(this,"points"),"map",[function(e){return p({x:c(e,"x")*o,y:c(e,"y")*a})}])}return e},t.prototype.enableBezier=function(){return!c(c(this,"state"),"pencilOptions")||c(c(c(this,"state"),"pencilOptions"),"disableBezier")},o([h.noEffects],t.prototype,"width",null),o([h.noEffects],t.prototype,"height",null),o([h.noEffects],t.prototype,"selectable",null),o([h.noEffects],t.prototype,"hitTestingBoxMargin",null),o([h.noEffects],t.prototype,"locked",null),t}(a.wrapSuperClass(m.Editable));t.CurveShape=b,a.declareClass({classId:22,clazz:v,superClass:f.Gesture}),a.declareClass({classId:21,clazz:b,superClass:m.Editable,memberDecorators:{width:[h.noEffects],height:[h.noEffects],selectable:[h.noEffects],hitTestingBoxMargin:[h.noEffects],locked:[h.noEffects],displayPoints:[h.noEffects],enableBezier:[h.noEffects]}}),a=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s,c=n(0).__context("module"),u=c.creator,l=c.getter,p=c.setter,d=c.caller,h=c.unwrapper,f=c.wrapper,m=n(0),g=n(9),y=n(8),v=n(23);!function(e){e[e.None=0]="None",e[e.LeftTop=1]="LeftTop",e[e.RightTop=2]="RightTop",e[e.RightBottom=3]="RightBottom",e[e.LeftBottom=4]="LeftBottom",e[e.Top=5]="Top",e[e.Right=6]="Right",e[e.Bottom=7]="Bottom",e[e.Left=8]="Left"}(s||(s={}));var b=function(e){function t(t,n){var r=e.call(this)||this;return r.isShiftPress=!1,r.rectangle=u({x:0,y:0,width:0,height:0}),r.rectangleWithHitMargin=u({x:0,y:0,width:0,height:0}),r.operatePoint=l(s,"None"),r._isLocked=!1,r.isOnlyHasTextareaShape=!1,r.includeComponentNodes=u([]),p(r,"context",t),p(r,"belongsToUserId",n),r}return i(t,e),Object.defineProperty(t.prototype,"isLocked",{get:function(){return l(this,"_isLocked")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originX",{get:function(){return l(l(this,"rectangleWithHitMargin"),"x")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originY",{get:function(){return l(l(this,"rectangleWithHitMargin"),"y")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return l(l(this,"rectangleWithHitMargin"),"width")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return l(l(this,"rectangleWithHitMargin"),"height")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUniformScale",{get:function(){if(l(this,"draggingContext"))switch(l(l(this,"draggingContext"),"targetId")){case"T":case"B":case"L":case"R":return!1}return l(this,"isShiftPress")||l(this,"isOnlyHasTextareaShape")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeComponents",{get:function(){for(var e=u([]),t=0,n=h(l(this,"includeComponentNodes"));t<n.length;t++){var r=l(n[t],"component");d(e,"push",[r])}return e},enumerable:!0,configurable:!0}),t.prototype.tryToStartEdit=function(e,t,n){var r=l(n,l(this,"key"));if(!r)for(var i in h(n))if(r=l(n,i))break;if(r){var a=d(this,"findOperationPointWithTargetId",[r]),s=l(a,"x"),c=l(a,"y"),f=l(a,"point");return p(this,"operatePoint",f),p(this,"draggingContext",u({targetId:r,startRectangle:u(o({},h(l(this,"rectangle")))),beginHitPoint:u({x:e,y:t}),deltaPoint:u({x:s-e,y:c-t})})),!0}return!1},t.prototype.isIncludePoint=function(e,t){return d(v.RectangleTester,"testPoint",[l(l(this,"rectangle"),"x"),l(l(this,"rectangle"),"y"),l(l(this,"rectangle"),"width"),l(l(this,"rectangle"),"height"),e,t])},t.prototype.findOperationPointWithTargetId=function(e){switch(e){case"LT":return u({x:l(l(this,"rectangle"),"x"),y:l(l(this,"rectangle"),"y"),point:l(s,"LeftTop")});case"RT":return u({x:l(l(this,"rectangle"),"x")+l(l(this,"rectangle"),"width"),y:l(l(this,"rectangle"),"y"),point:l(s,"RightTop")});case"LB":return u({x:l(l(this,"rectangle"),"x"),y:l(l(this,"rectangle"),"y")+l(l(this,"rectangle"),"height"),point:l(s,"LeftBottom")});case"RB":return u({x:l(l(this,"rectangle"),"x")+l(l(this,"rectangle"),"width"),y:l(l(this,"rectangle"),"y")+l(l(this,"rectangle"),"height"),point:l(s,"RightBottom")});case"T":return u({x:l(l(this,"rectangle"),"x")+l(l(this,"rectangle"),"width")/2,y:l(l(this,"rectangle"),"y"),point:l(s,"Top")});case"R":return u({x:l(l(this,"rectangle"),"x")+l(l(this,"rectangle"),"width"),y:l(l(this,"rectangle"),"y")+l(l(this,"rectangle"),"height")/2,point:l(s,"Right")});case"B":return u({x:l(l(this,"rectangle"),"x")+l(l(this,"rectangle"),"width")/2,y:l(l(this,"rectangle"),"y")+l(l(this,"rectangle"),"height"),point:l(s,"Bottom")});case"L":return u({x:l(l(this,"rectangle"),"x"),y:l(l(this,"rectangle"),"y")+l(l(this,"rectangle"),"height")/2,point:l(s,"Left")})}throw f(new Error('unrecognized targetId of EditorRectangleSpace "'+e+'"'))},t.prototype.dragToPoint=function(e,t){var n=d(this,"findDraggingTargetPoint",[e,t]);d(this,"updateRectangleWithDraggingTargetPoint",[n]),d(this,"refreshIncludesComponentsPositionAndSize",[]),d(this,"refreshRectangleWithHitMargin",[])},t.prototype.findDraggingTargetPoint=function(e,t){var n=l(this,"draggingContext"),r=l(n,"deltaPoint"),i=l(n,"beginHitPoint"),o=l(n,"startRectangle"),a=e+l(r,"x"),s=t+l(r,"y");if(l(this,"isUniformScale")){var c=l(o,"x")+l(o,"width")/2,h=l(o,"y")+l(o,"height")/2;if(!l(l(this,"draggingContext"),"orientationUnitVector")){var f=l(i,"x")+l(r,"x")-c,m=l(i,"y")+l(r,"y")-h,g=d(Math,"sqrt",[f*f+m*m]);p(l(this,"draggingContext"),"orientationUnitVector",u(0!==g?{x:f/g,y:m/g}:{x:1,y:1}))}var y=l(l(this,"draggingContext"),"orientationUnitVector"),v=s-h,b=(a-c)*l(y,"x")+v*l(y,"y");a=c+b*l(y,"x"),s=h+b*l(y,"y")}return u({x:a,y:s})},t.prototype.updateRectangleWithDraggingTargetPoint=function(e){var t=l(e,"x"),n=l(e,"y"),r=l(l(this,"draggingContext"),"startRectangle"),i=l(r,"x"),o=l(r,"y"),a=l(r,"x")+l(r,"width"),c=l(r,"y")+l(r,"height");switch(l(this,"operatePoint")){case l(s,"LeftTop"):i=t,o=n;break;case l(s,"RightTop"):a=t,o=n;break;case l(s,"RightBottom"):a=t,c=n;break;case l(s,"LeftBottom"):i=t,c=n;break;case l(s,"Top"):o=n;break;case l(s,"Right"):a=t;break;case l(s,"Bottom"):c=n;break;case l(s,"Left"):i=t}p(l(this,"rectangle"),"x",d(Math,"min",[i,a])),p(l(this,"rectangle"),"y",d(Math,"min",[o,c])),p(l(this,"rectangle"),"width",d(Math,"abs",[i-a])),p(l(this,"rectangle"),"height",d(Math,"abs",[o-c]))},t.prototype.refreshIncludesComponentsPositionAndSize=function(){for(var e=0,t=h(l(this,"includeComponentNodes"));e<t.length;e++){var n=t[e],r=l(n,"component"),i=l(n,"dx"),o=l(n,"dy"),a=l(n,"width"),s=l(n,"height");p(r,"originX",l(l(this,"rectangle"),"x")+i*l(l(this,"rectangle"),"width")),p(r,"originY",l(l(this,"rectangle"),"y")+o*l(l(this,"rectangle"),"height")),p(r,"width",a*l(l(this,"rectangle"),"width")),p(r,"height",s*l(l(this,"rectangle"),"height")),!l(this,"isOnlyHasTextareaShape")&&h(r)instanceof y.TextareaShape&&d(r,"adjustToKeepUniformScale",[])}},t.prototype.completeEdit=function(){p(this,"operatePoint",l(s,"None")),p(this,"draggingContext",void 0)},t.prototype.commitUpdateRectangle=function(e){for(var t=0,n=h(l(this,"includeComponentNodes"));t<n.length;t++){var r=n[t],i=l(r,"component"),a=l(r,"originRect"),s=u({updateRect:u(o({},h(a)))}),c=u({updateRect:u({x:l(i,"originX"),y:l(i,"originY"),width:l(i,"width"),height:l(i,"height")})});d(e,"commit",[l(i,"protoKey"),c,s])}},t.prototype.refreshRectangleByIncludesComponents=function(){var e=this;p(this,"rectangle",d(this,"findRectangleIncludePoints",[function(t){for(var n=0,r=h(l(e,"includeComponentNodes"));n<r.length;n++){var i=l(r[n],"component");t(l(i,"originX"),l(i,"originY")),t(l(i,"originX")+l(i,"width"),l(i,"originY")+l(i,"height"))}}])),d(this,"refreshRectangleWithHitMargin",[])},t.prototype.refreshWithIncludesComponents=function(e){var t=this,n=d(this,"findLockedComponent",[e]);p(this,"_isLocked",!!n)&&(e=u([n])),p(this,"rectangle",d(this,"findRectangleIncludePoints",[function(t){for(var n=0,r=h(e);n<r.length;n++){var i=r[n];t(l(i,"originX"),l(i,"originY")),t(l(i,"originX")+l(i,"width"),l(i,"originY")+l(i,"height"))}}])),p(this,"includeComponentNodes",d(e,"map",[function(e){var n,r,i,o;0!==l(l(t,"rectangle"),"width")?(n=(l(e,"originX")-l(l(t,"rectangle"),"x"))/l(l(t,"rectangle"),"width"),i=l(e,"width")/l(l(t,"rectangle"),"width")):(n=0,i=1),0!==l(l(t,"rectangle"),"height")?(r=(l(e,"originY")-l(l(t,"rectangle"),"y"))/l(l(t,"rectangle"),"height"),o=l(e,"height")/l(l(t,"rectangle"),"height")):(r=0,o=1);var a=u({x:l(e,"originX"),y:l(e,"originY"),width:l(e,"width"),height:l(e,"height")});return u({dx:n,dy:r,width:i,height:o,originRect:a,component:e})}])),d(this,"refreshRectangleWithHitMargin",[])},t.prototype.findLockedComponent=function(e){for(var t=0,n=h(e);t<n.length;t++){var r=n[t];if(l(r,"locked"))return r}return null},t.prototype.refreshRectangleWithHitMargin=function(){var e=this;p(this,"isOnlyHasTextareaShape",!d(l(this,"includeComponentNodes"),"some",[function(e){return!(h(l(e,"component"))instanceof y.TextareaShape)}])),p(this,"rectangleWithHitMargin",d(this,"findRectangleIncludePoints",[function(t){for(var n=0,r=h(l(e,"includeComponentNodes"));n<r.length;n++){var i=l(r[n],"component"),o=l(i,"hitTestingBoxMargin");t(l(i,"originX")-o,l(i,"originY")-o),t(l(i,"originX")+l(i,"width")+o,l(i,"originY")+l(i,"height")+o)}}]))},t.prototype.findRectangleIncludePoints=function(e){var t=l(Number,"MIN_SAFE_INTEGER"),n=l(Number,"MIN_SAFE_INTEGER"),r=l(Number,"MAX_SAFE_INTEGER"),i=l(Number,"MAX_SAFE_INTEGER");return e((function(e,o){t=d(Math,"max",[t,e]),r=d(Math,"min",[r,e]),n=d(Math,"max",[n,o]),i=d(Math,"min",[i,o])})),u({x:r,y:i,width:t-r,height:n-i})},a([m.noEffects],t.prototype,"isLocked",null),a([m.noEffects],t.prototype,"hitTestingBoxMargin",null),a([m.noEffects],t.prototype,"originX",null),a([m.noEffects],t.prototype,"originY",null),a([m.noEffects],t.prototype,"width",null),a([m.noEffects],t.prototype,"height",null),a([m.noEffects],t.prototype,"isUniformScale",null),a([m.noEffects],t.prototype,"includeComponents",null),t}(c.wrapSuperClass(g.ApplianceComponent));t.EditorRectangleSpace=b,c.declareClass({classId:14,clazz:b,superClass:g.ApplianceComponent,memberDecorators:{isLocked:[m.noEffects],hitTestingBoxMargin:[m.noEffects],originX:[m.noEffects],originY:[m.noEffects],width:[m.noEffects],height:[m.noEffects],isUniformScale:[m.noEffects],includeComponents:[m.noEffects]}}),c=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0).__context("module"),c=s.getter,u=s.creator,l=s.setter,p=s.caller,d=s.unwrapper,h=s.wrapper,f=s.remover,m=n(0),g=n(30),y=n(13),v=n(6),b=n(5),A=n(50),x=n(9),w=n(8),_=n(39);!function(e){e[e.None=0]="None",e[e.Selected=1]="Selected",e[e.OperationPoint=2]="OperationPoint"}(a||(a={}));var S=function(e){function t(t){var n=e.call(this)||this;return n.fixedCursorInScenePoint=void 0,n.beginPressPoint=null,n.draggingTarget=c(a,"None"),n.draggedComponentOriginPoints=u({}),n.isShiftPress=!1,n.latestOperateX=0,n.latestOperateY=0,l(n,"context",t),n}return i(t,e),t.prototype.onKeyUp=function(e){"lock"===c(e,"kind")&&(l(this,"isShiftPress",!1),p(this,"refreshMyEditorRectangleSpaceDragToPoint",[]))},t.prototype.onKeyDown=function(e){"lock"===c(e,"kind")&&(l(this,"isShiftPress",!0),p(this,"refreshMyEditorRectangleSpaceDragToPoint",[]))},t.prototype.onMemberStateChanged=function(e,t){if("selector"!==c(e,"currentApplianceName")&&"selector"===c(t,"currentApplianceName")&&(p(this,"cleanAllSelectingInformation",[]),l(this,"isShiftPress",!1),p(this,"refreshMyEditorRectangleSpaceDragToPoint",[])),"selector"===c(e,"currentApplianceName")&&"text"===c(t,"currentApplianceName")){var n=p(m,"getAuthorId",[]),r=p(c(c(this,"context"),"scene"),"findComponentFromTop",[function(e){return d(e)instanceof w.TextareaShape}]);r&&c(r,"editedBy")===n&&l(this,"fixedCursorInScenePoint",u({x:c(r,"originX")-5,y:c(r,"originY")}))}},t.prototype.onSceneChanged=function(e){var t=p(c(c(this,"context"),"scenes"),"getScene",[e]);t&&p(y,"releaseAllTextarea",[t]),l(this,"isShiftPress",!1),p(this,"refreshMyEditorRectangleSpaceDragToPoint",[])},t.prototype.delete=function(){for(var e=c(c(this,"context"),"executorHub"),t=0,n=d(p(this,"allSelectedComponents",[]));t<n.length;t++){var r=n[t];e&&c(e,"enable")&&p(e,"commit",[c(r,"protoKey"),u({delete:!0}),u({create:p(r,"snapshot",[])})]),p(c(c(this,"context"),"scene"),"removeComponent",[r])}p(this,"refreshAllUsersEditorRectangleSpace",[])},t.prototype.copy=function(){var e=p(this,"findMyEditorRectangleSpace",[]);return e?h(new _.CopyBuffer(c(e,"includeComponents"))):null},t.prototype.duplicate=function(e,t){var n=c(c(this,"context"),"executorHub"),r=p(this,"findMyEditorRectangleSpace",[]);if(r){for(var i=c(r,"includeComponents"),o=c(Number,"MAX_SAFE_INTEGER"),a=c(Number,"MAX_SAFE_INTEGER"),s=c(Number,"MIN_SAFE_INTEGER"),h=c(Number,"MIN_SAFE_INTEGER"),f=0,g=d(i);f<g.length;f++){var y=g[f];o=p(Math,"min",[o,c(y,"originX")]),a=p(Math,"min",[a,c(y,"originY")]),s=p(Math,"max",[s,c(y,"originX")+c(y,"width")]),h=p(Math,"max",[h,c(y,"originY")+c(y,"height")])}for(var v=e-(o+s)/2,b=t-(a+h)/2,A=0,x=d(i);A<x.length;A++){var w=p(m,"copy",[y=x[A]]);if(l(w,"highlightAuthorIds",u([])),l(w,"protoKey",p(m,"findIdentifierWith",[w])),l(w,"selectedBy",void 0),l(w,"originX",c(w,"originX")+v),l(w,"originY",c(w,"originY")+b),n&&c(n,"enable")){var _=u({create:p(w,"snapshot",[])});p(n,"commit",[c(w,"protoKey"),_,u({delete:!0})])}p(c(c(this,"context"),"scene"),"addComponent",[w])}}},t.prototype.onDestroy=function(){p(this,"cleanAllSelectingInformation",[])},t.prototype.cleanAllSelectingInformation=function(){var e=p(m,"getAuthorId",[]);c(this,"selectedGroup")&&(p(c(c(this,"context"),"scene"),"removeComponent",[c(this,"selectedGroup")]),l(this,"selectedGroup",void 0)),p(g,"setHighlightNothing",[c(c(this,"context"),"scene"),e]),p(this,"cleanSelectedComponents",[]),p(y,"releaseTextareaEditedBy",[c(c(this,"context"),"scene"),e])},t.prototype.makeSureItsDraggingEvent=function(e){var t=p(this,"findMyEditorRectangleSpace",[]);return!!t&&!!c(c(e,"targetsMap"),c(t,"key"))},t.prototype.onDraggingStateChanged=function(e){var t=c(e,"x"),n=c(e,"y"),r=c(e,"targetsMap"),i=c(e,"hitTestIdentifies");if(c(this,"isDragging")){if((s=p(this,"findMyEditorRectangleSpace",[]))&&p(s,"tryToStartEdit",[t,n,r]))l(this,"draggingTarget",c(s,"isLocked")?c(a,"None"):c(a,"OperationPoint"));else if(s&&p(s,"isIncludePoint",[t,n]))c(s,"isLocked")?l(this,"draggingTarget",c(a,"None")):p(this,"startDragWithSelectedMode",[]);else{p(y,"releaseTextareaEditedBy",[c(c(this,"context"),"scene"),p(m,"getAuthorId",[])]),p(this,"setComponentHighlight",[i]);var o=p(g,"findHighlightComponent",[c(c(this,"context"),"scene"),p(m,"getAuthorId",[])]);o&&c(o,"selectedBy")!==p(m,"getAuthorId",[])?p(this,"startDragWithHighlightMode",[o]):l(this,"draggingTarget",c(a,"None"))}l(this,"beginPressPoint",u({x:t,y:n}))}else{var s;(s=p(this,"findMyEditorRectangleSpace",[]))&&c(this,"draggingTarget")===c(a,"OperationPoint")&&p(s,"completeEdit",[]),c(this,"selectedGroup")&&(p(c(c(this,"context"),"scene"),"removeComponent",[c(this,"selectedGroup")]),l(this,"selectedGroup",void 0)),p(this,"commitUpdateRectangle",[]),l(this,"draggingTarget",c(a,"None")),l(this,"beginPressPoint",null),l(this,"draggedComponentOriginPoints",u({})),p(this,"setComponentHighlight",[i]),p(this,"refreshAllUsersEditorRectangleSpace",[])}},t.prototype.commitUpdateRectangle=function(){var e=c(c(this,"context"),"executorHub");if(e&&c(e,"enable")){var t=p(this,"findMyEditorRectangleSpace",[]);t&&p(t,"commitUpdateRectangle",[e])}},t.prototype.startDragWithSelectedMode=function(){l(this,"draggingTarget",c(a,"Selected"));for(var e=0,t=d(p(this,"allSelectedComponents",[]));e<t.length;e++){var n=t[e];l(c(this,"draggedComponentOriginPoints"),c(n,"key"),u({x:c(n,"originX"),y:c(n,"originY")}))}},t.prototype.startDragWithHighlightMode=function(e){l(this,"draggingTarget",c(a,"Selected")),l(c(this,"draggedComponentOriginPoints"),c(e,"key"),u({x:c(e,"originX"),y:c(e,"originY")}));var t=p(m,"getAuthorId",[]);c(e,"selectedBy")!==t&&(p(this,"cleanSelectedComponents",[]),l(e,"selectedBy",t),p(this,"refreshAllUsersEditorRectangleSpace",[]))},t.prototype.onDrag=function(e){var t=c(e,"x"),n=c(e,"y");switch(c(this,"draggingTarget")){case c(a,"Selected"):p(this,"dragComponents",[t,n].concat(d(p(this,"allSelectedComponents",[]))));break;case c(a,"OperationPoint"):l(this,"latestOperateX",t),l(this,"latestOperateY",n),p(this,"refreshMyEditorRectangleSpaceDragToPoint",[]);break;case c(a,"None"):c(this,"selectedGroup")||(l(this,"selectedGroup",h(new T(c(this,"context"),c(this,"beginPressPoint")))),p(c(c(this,"context"),"scene"),"addComponent",[c(this,"selectedGroup")])),p(c(this,"selectedGroup"),"updateEndPoint",[t,n]),p(this,"cleanSelectedComponents",[]);for(var r=c(this,"selectedGroup"),i=c(r,"originX"),o=c(r,"originY"),s=c(r,"width"),u=c(r,"height"),f=p(g,"searchEditableComponentsByRectangle",[c(c(this,"context"),"scene"),i,o,s,u]),y=p(m,"getAuthorId",[]),v=0,b=d(f);v<b.length;v++)l(b[v],"selectedBy",y);p(this,"refreshAllUsersEditorRectangleSpace",[])}},t.prototype.refreshMyEditorRectangleSpaceDragToPoint=function(){var e=p(this,"findMyEditorRectangleSpace",[]);e&&(l(e,"isShiftPress",c(this,"isShiftPress")),c(this,"draggingTarget")===c(a,"OperationPoint")&&p(e,"dragToPoint",[c(this,"latestOperateX"),c(this,"latestOperateY")]))},t.prototype.dragComponents=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];u(n);for(var i=e-c(c(this,"beginPressPoint"),"x"),o=t-c(c(this,"beginPressPoint"),"y"),a=0;a<c(n,"length");++a){var s=c(n,a),d=c(c(this,"draggedComponentOriginPoints"),c(s,"key"));l(s,"originX",c(d,"x")+i),l(s,"originY",c(d,"y")+o)}var h=p(this,"findMyEditorRectangleSpace",[]);h&&p(h,"refreshRectangleByIncludesComponents",[])},t.prototype.onHover=function(e){var t=c(e,"hitTestIdentifies");p(this,"setComponentHighlight",[t])},t.prototype.onClick=function(e){c(e,"x"),c(e,"y");var t=c(e,"hitTestIdentifies"),n=p(c(c(this,"context"),"scene"),"editableWithHitIdentifies",[t]),r=p(m,"getAuthorId",[]);if(n&&d(n)instanceof w.TextareaShape&&c(n,"selectedBy")===r&&void 0===c(n,"editedBy")){var i=p(m,"getAuthorId",[]);p(y,"releaseTextareaEditedBy",[c(c(this,"context"),"scene"),i]),p(n,"editByUserId",[i]),p(this,"cleanSelectedComponents",[]),l(this,"fixedCursorInScenePoint",u({x:c(n,"originX")-5,y:c(n,"originY")}))}else p(y,"releaseTextareaEditedBy",[c(c(this,"context"),"scene"),p(m,"getAuthorId",[])]),n?c(n,"selectedBy")!==r&&(p(this,"cleanSelectedComponents",[]),l(n,"selectedBy",r),p(this,"refreshAllUsersEditorRectangleSpace",[])):p(this,"cleanSelectedComponents",[]);p(this,"setComponentHighlight",[t])},t.prototype.setComponentHighlight=function(e){var t=p(c(c(this,"context"),"scene"),"editableWithHitIdentifies",[e]);p(g,"setHighlightNothing",[c(c(this,"context"),"scene"),p(m,"getAuthorId",[])]),t&&!c(t,"locked")&&p(t,"setHighlightBy",[!0,p(m,"getAuthorId",[])])},t.prototype.cleanSelectedComponents=function(){var e=p(m,"getAuthorId",[]);p(c(c(this,"context"),"scene"),"forEachComponents",[function(t){d(t)instanceof b.Editable&&c(t,"selectedBy")===e&&l(t,"selectedBy",void 0)}]),p(this,"refreshAllUsersEditorRectangleSpace",[]),l(this,"fixedCursorInScenePoint",void 0)},t.prototype.findMyEditorRectangleSpace=function(){var e=p(m,"getAuthorId",[]);return p(c(c(this,"context"),"scene"),"findComponentFromTop",[function(t){return d(t)instanceof A.EditorRectangleSpace&&c(t,"belongsToUserId")===e}])},t.prototype.refreshMyEditorRectangleSpace=function(){var e=p(this,"findMyEditorRectangleSpace",[]);e&&p(e,"refreshRectangleByIncludesComponents",[])},t.prototype.refreshAllUsersEditorRectangleSpace=function(){var e=u({}),t=u([]);p(c(c(this,"context"),"scene"),"forEachComponents",[function(n){if(d(n)instanceof A.EditorRectangleSpace)p(t,"push",[n]);else if(d(n)instanceof b.Editable&&void 0!==c(n,"selectedBy")){var r=c(e,c(n,"selectedBy"));r||(r=u([]),l(e,c(n,"selectedBy"),r)),p(r,"push",[n])}}]);for(var n=0,r=d(t);n<r.length;n++){var i=r[n],o=c(i,"belongsToUserId"),a=c(e,o);a&&c(a,"length")>0?p(i,"refreshWithIncludesComponents",[a]):p(c(c(this,"context"),"scene"),"removeComponent",[i]),f(e,o)}var s=p(m,"getAuthorId",[]),g=c(e,s);g&&(i=h(new A.EditorRectangleSpace(c(this,"context"),s)),p(i,"refreshWithIncludesComponents",[g]),p(c(c(this,"context"),"scene"),"addComponent",[i]))},t.prototype.allSelectedComponents=function(){var e=p(m,"getAuthorId",[]);return p(c(c(this,"context"),"scene"),"componentsWithFilter",[function(t){return d(t)instanceof b.Editable&&c(t,"selectedBy")===e}])},t}(s.wrapSuperClass(v.Gesture));t.Selector=S;var T=function(e){function t(t,n){var r=e.call(this)||this;return r.originX=0,r.originY=0,r.width=0,r.height=0,l(r,"context",t),l(r,"beginPoint",n),l(r,"originX",c(n,"x")),l(r,"originY",c(n,"y")),l(r,"width",0),l(r,"height",0),l(r,"belongsTo",p(m,"getAuthorId",[])),r}return i(t,e),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.updateEndPoint=function(e,t){var n=this;p(this,"refreshWithPoints",[function(r){r(e,t),r(c(c(n,"beginPoint"),"x"),c(c(n,"beginPoint"),"y"))}])},t.prototype.refreshWithPoints=function(e){var t=c(Number,"MIN_SAFE_INTEGER"),n=c(Number,"MIN_SAFE_INTEGER"),r=c(Number,"MAX_SAFE_INTEGER"),i=c(Number,"MAX_SAFE_INTEGER");e((function(e,o){t=p(Math,"max",[t,e]),r=p(Math,"min",[r,e]),n=p(Math,"max",[n,o]),i=p(Math,"min",[i,o])})),l(this,"originX",r),l(this,"originY",i),l(this,"width",t-r),l(this,"height",n-i)},o([m.noEffects],t.prototype,"hitTestingBoxMargin",null),t}(s.wrapSuperClass(x.ApplianceComponent));t.SelectedGroupRectangleSpace=T,s.declareClass({classId:26,clazz:S,superClass:v.Gesture}),s.declareClass({classId:25,clazz:T,superClass:x.ApplianceComponent,memberDecorators:{hitTestingBoxMargin:[m.noEffects]}}),s=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0).__context("module"),c=s.getter,u=s.setter,l=s.caller,p=s.wrapper,d=s.creator,h=n(0),f=n(15),m=n(5),g=n(10);!function(e){e[e.Straight=0]="Straight",e[e.Arrow=1]="Arrow"}(t.VectorKind||(t.VectorKind={})),function(e){e[e.ToLeftTop=0]="ToLeftTop",e[e.ToRightTop=1]="ToRightTop",e[e.ToLeftBottom=2]="ToLeftBottom",e[e.toRightBottom=3]="toRightBottom"}(a=t.VectorDirection||(t.VectorDirection={}));var y=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.width=0,i.height=0,i.isPainting=!0,i.anchorPoint=null,i._direction=c(a,"ToLeftTop"),u(i,"state",l(t,"getMemberState",[])),u(i,"kind",n),u(i,"anchorPoint",r),u(i,"originX",c(r,"x")),u(i,"originY",c(r,"y")),i}return i(t,e),Object.defineProperty(t.prototype,"selectable",{get:function(){return!c(this,"isPainting")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitTestingBoxMargin",{get:function(){return c(c(this,"state"),"strokeWidth")/2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return c(this,"_direction")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locked",{get:function(){return!1},enumerable:!0,configurable:!0}),t.prototype.setEndPoint=function(e){var t=c(e,"x"),n=c(e,"y");if(c(this,"anchorPoint")){u(this,"originX",l(Math,"min",[c(c(this,"anchorPoint"),"x"),t])),u(this,"originY",l(Math,"min",[c(c(this,"anchorPoint"),"y"),n]));var r=l(Math,"max",[c(c(this,"anchorPoint"),"x"),t]),i=l(Math,"max",[c(c(this,"anchorPoint"),"y"),n]);u(this,"width",r-c(this,"originX")),u(this,"height",i-c(this,"originY"));var o=t-c(c(this,"anchorPoint"),"x"),s=n-c(c(this,"anchorPoint"),"y");u(this,"_direction",c(a,o<=0?s<=0?"ToLeftTop":"ToLeftBottom":s<=0?"ToRightTop":"toRightBottom"))}},t.prototype.completePainting=function(){u(this,"isPainting",!1)},t.prototype.rectHitTestContent=function(e,t,n,r,i,o){if(e===c(g.RectangleTestingResult,"IncludeByRectangle")||e===c(g.RectangleTestingResult,"Disjoint"))return e;var a=c(c(this,"state"),"strokeWidth")/2,s=l(this,"getBeginPoint",[]),u=l(this,"getEndPoint",[]),h=p(new g.ConvexPolygonTester),m=l(f,"unitVector",[d({x:c(u,"x")-c(s,"x"),y:c(u,"y")-c(s,"y")})]),y=l(f,"verticalVector",[m]);return l(h,"pushPoint",[d({x:c(u,"x")-c(y,"x")*a,y:c(u,"y")-c(y,"y")*a})]),l(h,"pushPoint",[d({x:c(u,"x")+c(y,"x")*a,y:c(u,"y")+c(y,"y")*a})]),l(h,"pushPoint",[d({x:c(s,"x")+c(y,"x")*a,y:c(s,"y")+c(y,"y")*a})]),l(h,"pushPoint",[d({x:c(s,"x")-c(y,"x")*a,y:c(s,"y")-c(y,"y")*a})]),l(h,"rectHitTest",[t,n,r,i])},t.prototype.getBeginPoint=function(){switch(c(this,"_direction")){case c(a,"ToLeftTop"):return d({x:c(this,"width"),y:c(this,"height")});case c(a,"ToRightTop"):return d({x:0,y:c(this,"height")});case c(a,"ToLeftBottom"):return d({x:c(this,"width"),y:0});case c(a,"toRightBottom"):return d({x:0,y:0})}},t.prototype.getEndPoint=function(){switch(c(this,"_direction")){case c(a,"ToLeftTop"):return d({x:0,y:0});case c(a,"ToRightTop"):return d({x:c(this,"width"),y:0});case c(a,"ToLeftBottom"):return d({x:0,y:c(this,"height")});case c(a,"toRightBottom"):return d({x:c(this,"width"),y:c(this,"height")})}},o([h.noEffects],t.prototype,"selectable",null),o([h.noEffects],t.prototype,"hitTestingBoxMargin",null),o([h.noEffects],t.prototype,"direction",null),o([h.noEffects],t.prototype,"locked",null),t}(s.wrapSuperClass(m.Editable));t.VectorShape=y,s.declareClass({classId:32,clazz:y,superClass:m.Editable,memberDecorators:{selectable:[h.noEffects],hitTestingBoxMargin:[h.noEffects],direction:[h.noEffects],locked:[h.noEffects]}}),s=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0).__context("module"),s=a.creator,c=a.caller,u=a.getter,l=a.unwrapper,p=a.wrapper,d=a.setter,h=a.remover,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.plugins=s({}),t}return i(t,e),t.prototype.getKinds=function(){return c(Object,"keys",[u(this,"plugins")])},t.prototype.hasKind=function(e){return e in l(u(this,"plugins"))},t.prototype.put=function(e,t){if(c(this,"hasKind",[e]))throw p(new Error('invisible plugin "'+e+'" exits'));d(u(this,"plugins"),e,s(o({},l(t))))},t.prototype.remove=function(e){if(!c(this,"hasKind",[e]))throw p(new Error('invisible plugin "'+e+'" not exits'));h(u(this,"plugins"),e)},t.prototype.getAttributes=function(e){var t=u(u(this,"plugins"),e);if(!t)throw p(new Error('invisible plugin "'+e+'" not exits'));return t},t.prototype.updateAttributes=function(e,t){var n=s(o({},l(c(this,"getAttributes",[e]))));for(var r in l(t)){var i=u(t,r);void 0===i?h(n,r):d(n,r,i)}d(u(this,"plugins"),e,n)},t}(a.baseClass());t.InvisiblePluginManager=f,a.declareClass({classId:0,clazz:f}),a=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inCircle=function(e,t,n,r){var i=n-e.x,o=r-e.y;return i*i+o*o<=t*t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),i=n(4),o=function(){function e(){this.points=[]}return e.prototype.pushPoint=function(e){this.points.push(e)},e.prototype.pointHitTest=function(e,t){for(var n=0;n<this.points.length;++n){var i=this.points[n],o=this.points[(n+1)%this.points.length],a={x:o.x-i.x,y:o.y-i.y};if(0!==a.x||0!==a.y){var s=r.verticalVector(a);if(r.dotProduct(s,{x:e-i.x,y:t-i.y})<0)return!1}}return!0},e.prototype.rectHitTest=function(e,t,n,r){var o=this,a=!1,s=!1;if(i.RectangleTesting.iterate(e,t,n,r,(function(e,t){o.pointHitTest(e,t)?a=!0:s=!0})),a&&s)return i.RectangleTesting.Result.Cross;if(a)return i.RectangleTesting.Result.IncludeRectangle;if(s){for(var c=0;c<this.points.length;++c)for(var u=this.points[c],l=this.points[(c+1)%this.points.length],p=i.RectangleTesting.allPoints(e,t,n,r),d=0;d<p.length;++d)if(this.findCrossPoint(u,l,p[d],p[(d+1)%p.length]))return i.RectangleTesting.Result.Cross;for(var h=0,f=this.points;h<f.length;h++){var m=f[h];if(i.RectangleTesting.testPoint(e,t,n,r,m.x,m.y))return i.RectangleTesting.Result.IncludeByRectangle}}return i.RectangleTesting.Result.Disjoint},e.prototype.findCrossPoint=function(e,t,n,r){var i=t.y-e.y,o=e.x-t.x,a=e.x*(e.y-t.y)-e.y*(e.x-t.x),s=r.y-n.y,c=n.x-r.x,u=n.x*(n.y-r.y)-n.y*(n.x-r.x),l=i*c-s*o,p=(o*u-c*a)/l,d=(s*a-i*u)/l;if(Math.abs(p)===1/0||Math.abs(d)===1/0)return!1;if(Number.isNaN(p)||Number.isNaN(d))return!1;var h={x:p,y:d};return!(!this.isCrossPointBetweenSegment(h,e,t)||!this.isCrossPointBetweenSegment(h,n,r))},e.prototype.isCrossPointBetweenSegment=function(e,t,n){var r=(e.x-t.x)*(e.x-n.x),i=(e.y-t.y)*(e.y-n.y),o=Math.abs(r)<.01,a=Math.abs(i)<.01;return o&&a?r<=0&&i<=0:(r<=0||o)&&(i<=0||a)},e}();t.ConvexPolygonTester=o},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.linearDistance=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},t.distance=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},t.verticalVector=function(e){return{x:-e.y,y:e.x}},t.dotProduct=function(e,t){return e.x*t.x+e.y*t.y},t.isZero=function(e){return Math.abs(e)<1e-6},t.unitVector=function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y);return e.x/=t,e.y/=t,e},t.plus=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},t.multiply=function(e,t){return{x:e*t.x,y:e*t.y}},t.triangleArea=function(e,t,n){var r=0;return r+=(t.y+e.y)*(t.x-e.x),r+=(n.y+t.y)*(n.x-t.x),r+=(e.y+n.y)*(e.x-n.x),Math.abs(r)/2},t.projectionPoint=function(e,t,n){return(n.x-e.x)*t.x+(n.y-e.y)*t.y},t.pointByProject=function(e,t,n){var i=r({},t);return i.x*=n,i.y*=n,i.x+=e.x,i.y+=e.y,i},t.meansOverlap=function(e){var t=e.y;return Number.isNaN(e.x)&&Number.isNaN(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84),i=n(0),o=function(){function e(e,t){var n=e.pathname;this.slideUrl=t,this.directoryPath=n.replace(/\/$/i,"")+"/";var r=(n=(n=n.replace(/\.(xml|slide)\/?$/i,"")).match(/[a-z0-9\-]+\/\d+$/)[0]).split("/"),i=r[0],o=r[1],a=parseInt(o);if(Number.isNaN(a))throw new Error("invalid slide index "+JSON.stringify(o));this.uuid=i,this.index=a-1}return e.parse=function(t){var n=new r(t);return"pptx:"===n.protocol&&/[a-z0-9\-]+\/\d+\.(xml|slide)\/?$/i.test(n.pathname)?new e(n,t):void 0},e.prototype.relativeFile=function(e){var t="../"+e,n=new r(this.slideUrl);return n.set("pathname",i.resolve(this.directoryPath,t)),n.toString()},e}();t.SlideUrl=o},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(91)),r(n(92))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.findDefinition=function(e,t){var n=r.findClassId(t);if(n<0)throw new Error("find invalid class id "+n);var i=e.findDefinition(n);if(!i)throw new Error("cannot find appliance class with class id "+n);return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(20);var r=n(1);t.WhiteModel=r;var i=n(106);t.screenshot=i.screenshot,t.WhiteboardRender=i.WhiteboardRender;var o=n(20);t.EnginesHub=o.EnginesHub;var a=n(31);t.createDynamicPpt=a.createDynamicPpt;var s=n(58);t.PluginManager=s.PluginManager;var c=n(111);t.createLayoutDescriptions=c.createLayoutDescriptions,t.RenderEngine=c.RenderEngine,t.WhiteLayouts=c.WhiteLayouts},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(62),o=n(0),a=function(){function e(){this.backgroundEngine=r.creatHTMLRenderEngine({fixedSize:!0,isSVG:!1,orderIndex:0,className:"background"}),this.htmlGraphicsEngine=r.creatHTMLRenderEngine({fixedSize:!0,isSVG:!0,orderIndex:1,className:"graphics"}),this.canvasGraphicsEngine=r.createCanvasRenderEngine({fixedSize:!0,orderIndex:2}),this.topGraphicsEngine=r.creatHTMLRenderEngine({fixedSize:!0,isSVG:!1,orderIndex:3,className:"graphics"}),this.pluginEngine=r.creatHTMLRenderEngine({fixedSize:!1,isSVG:!1,orderIndex:4,className:"component"}),this.componentEngine=r.creatHTMLRenderEngine({fixedSize:!1,isSVG:!1,orderIndex:5,className:"component"}),this.mouseCurosrEngine=r.creatHTMLRenderEngine({fixedSize:!1,isSVG:!1,orderIndex:6}),this.floatBarEngine=r.creatHTMLRenderEngine({fixedSize:!1,isSVG:!1,orderIndex:7,className:"component"}),this.engineDefinitions={},this.payloadTypes={},this.definitionParamsMap={}}return e.prototype.defineReact=function(e,t){var n=this;return function(r){return n.defineAndGetEngineDefinition(e,t).htmlRender=r,r}},e.prototype.defineCanvas=function(e,t){var n=this;return function(r){return n.defineAndGetEngineDefinition(e,t).canvasConstructor=r,r}},e.prototype.defineAndGetEngineDefinition=function(e,t){var n=this.engineDefinitions[e.id];n||(n=this.engineDefinitions[e.id]={});var r=o.findClassId(t),i=n[r];return i||(i=n[r]={}),this.payloadTypes[r]=t,i},e.prototype.defineComponent=function(e,t){var n=o.findClassId(e);this.definitionParamsMap[n]=t},e.prototype.complete=function(){for(var e={},t=0,n=this.engines();t<n.length;t++){var o=n[t],a=this.engineDefinitions[o.id];if(a)for(var s in a){var c=a[s],u=c.htmlRender,l=c.canvasConstructor,p=this.getOrCreateComponentDefinition(e,parseInt(s)).definition;u&&r.isHTMLRenderEngine(o)?o.bind(p)(i.observer(u)):l&&r.isCanvasRenderEngine(o)&&o.bind(p,l)}}var d=[];for(var s in e)d.push(e[s]);return this.clean(),d},e.prototype.engines=function(e){var t=[this.backgroundEngine,this.topGraphicsEngine,this.pluginEngine,this.componentEngine,this.mouseCurosrEngine,this.floatBarEngine];switch(e){case"svg":t.push(this.htmlGraphicsEngine);break;case"canvas":t.push(this.canvasGraphicsEngine);break;default:t.push(this.htmlGraphicsEngine),t.push(this.canvasGraphicsEngine)}return t},e.prototype.getOrCreateComponentDefinition=function(e,t){var n=e[t];if(!n){var i=this.payloadTypes[t],o=this.definitionParamsMap[t];o||(o={name:i.name}),n=e[t]=Object.freeze({definition:r.createComponentDefinition(o),payloadType:i,disableVisionTrim:!!o.disableVisionTrim,findTarget:o.findTarget})}return n},e.prototype.clean=function(){for(var e in this.engineDefinitions)delete this.engineDefinitions[e];for(var e in this.payloadTypes)delete this.payloadTypes[e];for(var e in this.definitionParamsMap)delete this.definitionParamsMap[e]},e}();t.RegisterImplement=a},function(e,t){e.exports=r("mobx-react")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(17);i.register.defineComponent(r.BackgroundImage,{name:"BackgroundImage",hitTest:!1,disableVisionTrim:!0}),i.register.defineComponent(r.ImageShape,{name:"ImageShape",hitTest:function(e){return!e.context.disalbeImageHit}}),i.register.defineComponent(r.EditorRectangleSpace,{name:"EditorRectangleSpace",hitTest:!1,findTarget:function(e,t){if(t.target&&t.target instanceof HTMLElement){var n=t.target;if(n.className.includes("operation-point")){var r=n.className.split(" ");return r[r.length-1]}}}}),i.register.defineComponent(r.CurveShape,{name:"CurveShape",hitTest:function(e,t,n,r,i){var a=t.payload;if(a.selectable){for(var s=new o.PolylineTester,c=0,u=a.displayPoints();c<u.length;c++)s.pushPoint(u[c]);var l=Math.max(a.hitTestingBoxMargin,i);return s.hitTest(a.state.strokeWidth+l,n-a.originX,r-a.originY)}return!1}}),i.register.defineComponent(r.SelectedGroupRectangleSpace,{name:"SelectedGroupRectangleSpace",hitTest:!1}),i.register.defineComponent(r.TextareaShape,{name:"TextareaShape",disableVisionTrim:!0})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.getter,s=o.caller,c=n(14),u=n(23),l=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.circleCenterX=t,o.circleCenterY=n,o.width=r,o.height=i,o}return i(t,e),t.prototype.pointHitTest=function(e,t){return(e=(e-a(this,"circleCenterX"))/a(this,"width")*2)*e+(t=(t-a(this,"circleCenterY"))/a(this,"height")*2)*t<=1},t.prototype.rectHitTest=function(e,t,n,r){var i=this,o=!1,l=!1;if(s(u.RectangleTester,"iterate",[e,t,n,r,function(e,t){s(i,"pointHitTest",[e,t])?o=!0:l=!0}]),o&&l)return a(c.RectangleTestingResult,"Cross");if(o)return a(c.RectangleTestingResult,"IncludeRectangle");if(l){for(var p=s(u.RectangleTester,"allPoints",[e,t,n,r]),d=0;d<a(p,"length");++d){var h=a(p,d),f=a(p,(d+1)%a(p,"length"));if(a(h,"x")===a(f,"x")){if(s(this,"checkCrossVertical",[a(h,"x"),a(h,"y"),a(f,"y")]))return a(c.RectangleTestingResult,"Cross")}else if(s(this,"checkCrossHorizontal",[a(h,"y"),a(h,"x"),a(f,"x")]))return a(c.RectangleTestingResult,"Cross")}if(s(u.RectangleTester,"testPoint",[e,t,n,r,a(this,"circleCenterX"),a(this,"circleCenterY")]))return a(c.RectangleTestingResult,"IncludeByRectangle")}return a(c.RectangleTestingResult,"Disjoint")},t.prototype.checkCrossVertical=function(e,t,n){return e=(e-a(this,"circleCenterX"))/a(this,"width")*2,t=(t-a(this,"circleCenterY"))/a(this,"height")*2,n=(n-a(this,"circleCenterY"))/a(this,"height")*2,s(this,"checkCrossGeometrical",[s(Math,"abs",[e]),t,n])},t.prototype.checkCrossHorizontal=function(e,t,n){return e=(e-a(this,"circleCenterY"))/a(this,"height")*2,t=(t-a(this,"circleCenterX"))/a(this,"width")*2,n=(n-a(this,"circleCenterX"))/a(this,"width")*2,s(this,"checkCrossGeometrical",[s(Math,"abs",[e]),t,n])},t.prototype.checkCrossGeometrical=function(e,t,n){if(e>1)return!1;var r=s(Math,"sqrt",[1-e*e]),i=s(Math,"max",[t,n]),o=s(Math,"min",[t,n]);return i>=r&&r>=o||i>=-r&&-r>=o},t}(o.baseClass());t.EllipseTester=l,o.declareClass({classId:10,clazz:l}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.creator,s=o.getter,c=o.unwrapper,u=o.caller,l=o.setter,p=o.postfix,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.widthThreshold=0,t.humpThreshold=0,t.points=a([]),t.plough=null,t._pushedCount=0,t}return i(t,e),Object.defineProperty(t.prototype,"is2DGraphic",{get:function(){return s(s(this,"points"),"length")>=2||!!s(this,"plough")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pushedCount",{get:function(){return s(this,"_pushedCount")},enumerable:!0,configurable:!0}),t.prototype.displayPoints=function(){var e=a(c(s(this,"points")).slice());return s(this,"plough")&&(e=u(this,"fillPloughPoints",[e])),e},t.prototype.complete=function(){return s(this,"plough")&&(u(this,"fillPloughPoints",[s(this,"points")]),l(this,"plough",null)),s(this,"points")},t.prototype.pushPoint=function(e,t){s(this,"widthThreshold")<=0||s(this,"humpThreshold")<=0?(s(this,"plough")&&(u(this,"fillPloughPoints",[s(this,"points")]),l(this,"plough",null)),u(s(this,"points"),"push",[a({x:e,y:t})])):0===s(s(this,"points"),"length")?u(s(this,"points"),"push",[a({x:e,y:t})]):s(this,"plough")?u(this,"appendToPlough",[e,t]):l(this,"plough",u(this,"createPlough",[e,t])),p(this,"_pushedCount",1)},t.prototype.createPlough=function(e,t){var n=s(s(this,"points"),s(s(this,"points"),"length")-1),r=e-s(n,"x"),i=t-s(n,"y"),o=u(Math,"sqrt",[r*r+i*i]);if(0!==o){var c=r/o,l=i/o,p=u(Math,"abs",[o]);return a({unitX:c,unitY:l,begin:0,end:p,endX:e,endY:t})}return null},t.prototype.appendToPlough=function(e,t){var n=s(s(this,"points"),s(s(this,"points"),"length")-1),r=e-s(n,"x"),i=t-s(n,"y"),o=s(this,"plough");if(u(Math,"abs",[s(o,"unitX")*i-r*s(o,"unitY")])<=s(this,"widthThreshold")){var a=r*s(o,"unitX")+i*s(o,"unitY");s(o,"begin")>a?l(o,"begin",a):s(o,"end")<a&&l(o,"end",a),l(o,"endX",e),l(o,"endY",t)}else u(this,"fillPloughPoints",[s(this,"points")]),l(this,"plough",u(this,"createPlough",[e,t]))},t.prototype.fillPloughPoints=function(e){var t=s(this,"plough"),n=s(t,"begin"),r=s(t,"end"),i=s(s(this,"points"),s(s(this,"points"),"length")-1),o=s(i,"x"),c=s(i,"y"),l=s(this,"plough"),p=s(l,"unitX"),d=s(l,"unitY"),h=s(l,"endX"),f=s(l,"endY"),m=(h-o)*p+(f-c)*d;if(m<0){var g=n;n=r,r=g}return u(Math,"abs",[n])>s(this,"humpThreshold")&&u(e,"push",[a({x:o+n*p,y:c+n*d})]),u(Math,"abs",[r-m])>s(this,"humpThreshold")&&u(e,"push",[a({x:o+r*p,y:c+r*d})]),u(e,"push",[a({x:h,y:f})]),e},t}(o.baseClass());t.SparsePloughPoints=d,o.declareClass({classId:34,clazz:d}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.setter,s=n(6),c=function(e){function t(t){var n=e.call(this)||this;return a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"fixedCursorInScenePoint",{get:function(){},enumerable:!0,configurable:!0}),t}(o.wrapSuperClass(s.Gesture));t.LaserPointer=c,o.declareClass({classId:20,clazz:c,superClass:s.Gesture}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.setter,s=o.getter,c=o.caller,u=o.creator,l=o.unwrapper,p=n(0),d=n(30),h=n(6),f=function(e){function t(t){var n=e.call(this)||this;return a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"fixedCursorInScenePoint",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.onHover=function(e){var t=s(e,"hitTestIdentifies"),n=c(s(s(this,"context"),"scene"),"editableWithHitIdentifies",[t]);c(d,"setHighlightNothing",[s(s(this,"context"),"scene"),c(p,"getAuthorId",[])]),n&&!s(n,"locked")&&c(n,"setHighlightBy",[!0,c(p,"getAuthorId",[])])},t.prototype.onClick=function(e){c(this,"removeHitComponents",[e])},t.prototype.onDrag=function(e){c(this,"removeHitComponents",[e])},t.prototype.removeHitComponents=function(e){for(var t=s(e,"hitTestIdentifies"),n=s(s(this,"context"),"executorHub"),r=0,i=l(c(s(s(this,"context"),"scene"),"editablesWithHitIdentifies",[t]));r<i.length;r++){var o=i[r];s(o,"locked")||(n&&s(n,"enable")&&c(n,"commit",[s(o,"protoKey"),u({delete:!0}),u({create:c(o,"snapshot",[])})]),c(s(s(this,"context"),"scene"),"removeComponent",[o]))}},t}(o.wrapSuperClass(h.Gesture));t.Eraser=f,o.declareClass({classId:17,clazz:f,superClass:h.Gesture}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.setter,s=o.getter,c=o.caller,u=o.wrapper,l=o.creator,p=n(0),d=n(13),h=n(6),f=n(8),m=function(e){function t(t){var n=e.call(this)||this;return a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"fixedCursorInScenePoint",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.onMemberStateChanged=function(e,t){if(s(e,"strokeColor")!==s(t,"strokeColor")||s(e,"textSize")!==s(t,"textSize")){var n=c(d,"textareaEditedBy",[s(s(this,"context"),"scene"),c(p,"getAuthorId",[])]);n&&a(n,"textSize",s(e,"textSize"))}},t.prototype.onClick=function(e){var t=s(e,"x"),n=s(e,"y");c(d,"releaseTextareaEditedBy",[s(s(this,"context"),"scene"),c(p,"getAuthorId",[])]);var r=u(new f.TextareaShape(s(this,"context"),t,n));c(r,"editByUserId",[c(p,"getAuthorId",[])]),a(r,"textSize",s(c(s(this,"context"),"getMemberState",[]),"textSize")),c(s(s(this,"context"),"scene"),"addComponent",[r]),c(s(this,"context"),"setMemberState",[l({currentApplianceName:"selector"})])},t}(o.wrapSuperClass(h.Gesture));t.TextAppliance=m,o.declareClass({classId:27,clazz:m,superClass:h.Gesture}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.setter,s=o.getter,c=o.caller,u=o.creator,l=o.wrapper,p=n(6),d=n(52),h=function(e){function t(t,n){var r=e.call(this)||this;return r.paitingVectorShape=null,r.beginPoint=null,a(r,"context",t),a(r,"kind",n),r}return i(t,e),Object.defineProperty(t.prototype,"fixedCursorInScenePoint",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.onSceneChanged=function(){s(this,"paitingVectorShape")&&c(s(this,"paitingVectorShape"),"completePainting",[]),a(this,"paitingVectorShape",null),a(this,"beginPoint",null)},t.prototype.onDraggingStateChanged=function(e){var t=s(e,"x"),n=s(e,"y");if(s(this,"isDragging"))a(this,"beginPoint",u({x:t,y:n})),a(this,"paitingVectorShape",l(new d.VectorShape(s(this,"context"),s(this,"kind"),s(this,"beginPoint")))),c(s(s(this,"context"),"scene"),"addComponent",[s(this,"paitingVectorShape")]);else if(s(this,"paitingVectorShape")){c(s(this,"paitingVectorShape"),"completePainting",[]);var r=s(s(this,"context"),"executorHub");if(r&&s(r,"enable")){var i=u({create:c(s(this,"paitingVectorShape"),"snapshot",[])});c(r,"commit",[s(s(this,"paitingVectorShape"),"protoKey"),i,u({delete:!0})])}a(this,"paitingVectorShape",null),a(this,"beginPoint",null)}},t.prototype.onDrag=function(e){s(this,"paitingVectorShape")&&c(s(this,"paitingVectorShape"),"setEndPoint",[e])},t.prototype.onDestroy=function(){s(this,"paitingVectorShape")&&c(s(this,"paitingVectorShape"),"completePainting",[])},t}(o.wrapSuperClass(p.Gesture));t.VectorAppliance=h;var f=function(e){function t(t){return e.call(this,t,s(d.VectorKind,"Straight"))||this}return i(t,e),t}(o.wrapSuperClass(h));t.StraightAppliance=f;var m=function(e){function t(t){return e.call(this,t,s(d.VectorKind,"Arrow"))||this}return i(t,e),t}(o.wrapSuperClass(h));t.ArrowAppliance=m,o.declareClass({classId:31,clazz:h,superClass:p.Gesture}),o.declareClass({classId:30,clazz:f,superClass:h}),o.declareClass({classId:29,clazz:m,superClass:h}),o=null},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(0).__context("module"),a=o.setter,s=n(6),c=function(e){function t(t){var n=e.call(this)||this;return a(n,"context",t),n}return i(t,e),Object.defineProperty(t.prototype,"fixedCursorInScenePoint",{get:function(){},enumerable:!0,configurable:!0}),t}(o.wrapSuperClass(s.Gesture));t.HandAppliance=c,o.declareClass({classId:18,clazz:c,superClass:s.Gesture}),o=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),i=n(55),o=n(54),a=function(){function e(){this.points=[]}return e.prototype.pushPoint=function(e){this.points.push(e)},e.prototype.hitTest=function(e,t,n){return this.hitAnySegments(e,t,n)||this.hitAnyNodeCircles(e,t,n)},e.prototype.hitAnySegments=function(e,t,n){for(var o=e/2,a=1;a<this.points.length;++a){var s=this.points[a-1],c=this.points[a],u={x:c.x-s.x,y:c.y-s.y};if(!r.isZero(u.x)||!r.isZero(u.y)){var l=r.unitVector(r.verticalVector(u)),p=new i.ConvexPolygonTester,d=r.multiply(-o,l),h=r.multiply(o,l);if(p.pushPoint(r.plus(s,h)),p.pushPoint(r.plus(s,d)),p.pushPoint(r.plus(c,d)),p.pushPoint(r.plus(c,h)),p.pointHitTest(t,n))return!0}}return!1},e.prototype.hitAnyNodeCircles=function(e,t,n){for(var r=0;r<this.points.length;++r)if(o.inCircle(this.points[r],e/2,t,n))return!0;return!1},e}();t.PolylineTester=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(){function e(e,t,n,r){this.circleCenterX=e,this.circleCenterY=t,this.width=n,this.height=r}return e.prototype.pointHitTest=function(e,t){return(e=(e-this.circleCenterX)/this.width*2)*e+(t=(t-this.circleCenterY)/this.height*2)*t<=1},e.prototype.rectHitTest=function(e,t,n,i){var o=this,a=!1,s=!1;if(r.RectangleTesting.iterate(e,t,n,i,(function(e,t){o.pointHitTest(e,t)?a=!0:s=!0})),a&&s)return r.RectangleTesting.Result.Cross;if(a)return r.RectangleTesting.Result.IncludeRectangle;if(s){for(var c=r.RectangleTesting.allPoints(e,t,n,i),u=0;u<c.length;++u){var l=c[u],p=c[(u+1)%c.length];if(l.x===p.x){if(this.checkCrossVertical(l.x,l.y,p.y))return r.RectangleTesting.Result.Cross}else if(this.checkCrossHorizontal(l.y,l.x,p.x))return r.RectangleTesting.Result.Cross}if(r.RectangleTesting.testPoint(e,t,n,i,this.circleCenterX,this.circleCenterY))return r.RectangleTesting.Result.IncludeByRectangle}return r.RectangleTesting.Result.Disjoint},e.prototype.checkCrossVertical=function(e,t,n){return e=(e-this.circleCenterX)/this.width*2,t=(t-this.circleCenterY)/this.height*2,n=(n-this.circleCenterY)/this.height*2,this.checkCrossGeometrical(Math.abs(e),t,n)},e.prototype.checkCrossHorizontal=function(e,t,n){return e=(e-this.circleCenterY)/this.height*2,t=(t-this.circleCenterX)/this.width*2,n=(n-this.circleCenterX)/this.width*2,this.checkCrossGeometrical(Math.abs(e),t,n)},e.prototype.checkCrossGeometrical=function(e,t,n){if(e>1)return!1;var r=Math.sqrt(1-e*e),i=Math.max(t,n),o=Math.min(t,n);return i>=r&&r>=o||i>=-r&&-r>=o},e}();t.EllipseTester=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(17);i.register.defineComponent(r.EllipseShape,{name:"EllipseShape",hitTest:function(e,t,n,r,i){var a=t.payload;if(a.selectable){n-=a.originX,r-=a.originY;var s=Math.max(a.hitTestingBoxMargin,i);if(!function(e,t){return new o.EllipseTester(e.width/2,e.height/2,e.width+2*t,e.height+2*t)}(a,s).pointHitTest(n,r))return!1;var c=function(e,t){var n=e.width-2*t,r=e.height-2*t;if(!(n<=0||r<=0))return new o.EllipseTester(e.width/2,e.height/2,n,r)}(a,s);return!c||!c.pointHitTest(n,r)}return!1}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(17);i.register.defineComponent(r.RectangleShape,{name:"RectangleShape",hitTest:function(e,t,n,r,i){var a=t.payload;if(a.selectable){var s=function(e,t){var n=new o.ConvexPolygonTester,r=t,i=t,a=e.width-2*t,s=e.height-2*t;if(!(a<=0||s<=0))return n.pushPoint({x:r,y:i}),n.pushPoint({x:r+a,y:i}),n.pushPoint({x:r+a,y:i+s}),n.pushPoint({x:r,y:i+s}),n}(a,Math.max(a.hitTestingBoxMargin,i));return!s||!s.pointHitTest(n-a.originX,r-a.originY)}return!1}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(1),o=n(2),a=n(17);o.register.defineComponent(i.VectorShape,{name:"VectorShape",hitTest:function(e,t,n,o,s){var c=t.payload;if(!c.selectable)return!1;n-=c.originX,o-=c.originY;var u=c.hitTestingBoxMargin,l=2*u,p=function(e){switch(e.direction){case i.VectorDirection.ToLeftTop:return{x:e.width,y:e.height};case i.VectorDirection.ToRightTop:return{x:0,y:e.height};case i.VectorDirection.ToLeftBottom:return{x:e.width,y:0};case i.VectorDirection.toRightBottom:return{x:0,y:0}}}(c);if(new a.EllipseTester(p.x,p.y,l,l).pointHitTest(n,o))return!0;if(r.isZero(c.width)&&r.isZero(c.height))return!1;var d=function(e){switch(e.direction){case i.VectorDirection.ToLeftTop:return{x:0,y:0};case i.VectorDirection.ToRightTop:return{x:e.width,y:0};case i.VectorDirection.ToLeftBottom:return{x:0,y:e.height};case i.VectorDirection.toRightBottom:return{x:e.width,y:e.height}}}(c);if(new a.EllipseTester(d.x,d.y,l,l).pointHitTest(n,o))return!0;var h=new a.ConvexPolygonTester,f=r.unitVector(r.verticalVector({x:d.x-p.x,y:d.y-p.y}));return h.pushPoint({x:d.x-f.x*u,y:d.y-f.y*u}),h.pushPoint({x:d.x+f.x*u,y:d.y+f.y*u}),h.pushPoint({x:p.x+f.x*u,y:p.y+f.y*u}),h.pushPoint({x:p.x-f.x*u,y:p.y-f.y*u}),h.pointHitTest(n,o)}})},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(0),c=n(1),u=n(4),l=n(2),p=n(31),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.payload;if(!s.isAkkoWrappedObjectAccessible(e))return null;var t=this.props.context,n=t.dynamicPpt,r=t.forcePPTLandscape,i=p.SlideUrl.parse(e.src),o=this.props.size,c=o.width,l=o.height;if(r){var d=c,h=l;c=Math.max(d,h),l=Math.min(d,h)}if(i)return a.createElement(u.CNode,{key:this.props.id,context:this.props.cnode},a.createElement(p.DynamicComponent,{url:i,dynamicPpt:n}));var f=e.src;return this.props.context.convertIdToUrl&&(f=this.props.context.convertIdToUrl(f)),a.createElement(u.CNode,{key:this.props.id,context:this.props.cnode},a.createElement("img",{src:f,width:c,height:l}))},t.disableVisionTrim=!0,o([l.register.defineReact(l.register.backgroundEngine,c.BackgroundImage)],t)}(a.Component);t.BackgroundImageComponent=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(83);t.createDynamicPpt=function(e){return new r.DynamicPptImplement(e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(57),o=n(19),a=n(85),s=n(87),c=function(){function e(e){var t=this,n=e.globalStateUpdater,r=e.pptAssetsOrigin,i=e.preload,c=e.pptHandler,u=e.userFonts,l=e.observerId,p=e.renderMode,d=void 0===p?o.RenderMode.Normal:p,h=e.onPPTLoadProgress,f=e.onPPTMediaPlay,m=e.onPPTMediaPause,g=e.logger,y=e.pptParams,v=e.userPayload;this.nodes=[],this.onSlideReady=function(e,n){for(var r=0,i=t.nodes;r<i.length;r++){var o=i[r];o.url.uuid===e&&o.url.index===n&&o.delegate.onSlideReady()}},this.globalStateUpdater=n,this.userPayload=v,this.userId=""+l,this.loader=new a.SlideLoader({preload:i,pptAssetsOrigin:r,userFonts:u,onSlideReady:this.onSlideReady,onPPTLoadProgress:h,logger:g,pptParams:y}),this.renderMode=d,this.onPPTMediaPlay=f,this.onPPTMediaPause=m,this.slideStateAdapter=new s.MySlideStateAdapter((function(e){return t.updateSlideState(e)}),c)}return e.prototype.updateSlideState=function(e){if(this.globalStateUpdater){var t=this.globalStateWith(r({},e));this.globalStateUpdater(t)}},e.prototype.setDisableInteractive=function(e){this.slideStateAdapter.setDisableInteractive(e)},e.prototype.moveStep=function(e){if(!this.dynamicPptState&&this.nodes)this.nodes[0].delegate.moveSlideStep(e);else if(!this.dynamicPptState)return void console.warn("dynamicPpt is not definde and there is no node");for(var t=0,n=this.nodes;t<n.length;t++){var r=n[t];r.url.uuid===this.dynamicPptState.uuid&&r.url.index===this.dynamicPptState.pageIndex&&r.delegate.moveSlideStep(e)}},e.prototype.globalStateWith=function(t){var n;return(n={})[e.StateKey]=r(r({},this.dynamicPptState),t),n},e.prototype.setGlobalState=function(t){var n=t[e.StateKey];if(n){this.dynamicPptState=r({},n);for(var i=0,o=this.nodes;i<o.length;i++){var a=o[i];a.url.uuid===n.uuid&&a.url.index===n.pageIndex&&a.delegate.onSliderStateUpdate(this.dynamicPptState)}}else this.dynamicPptState=void 0},e.prototype.addDynamicPptDelegate=function(e,t){this.nodes.some((function(e){return e.delegate===t}))||this.nodes.push({url:e,delegate:t})},e.prototype.removeDynamicPptDelegate=function(e){var t=this.nodes.findIndex((function(t){return t.delegate===e}));-1!==t&&this.nodes.splice(t,1)},e.prototype.updateObserverId=function(e){this.userId=""+e;for(var t=0,n=this.nodes;t<n.length;t++)n[t].delegate.onSliderObserverIdUpdate(this.userId)},e.prototype.getRenderMode=function(){return this.renderMode},Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId=void 0!==this.userPayload&&void 0!==this.userPayload.userId?""+this.userPayload.userId:e},enumerable:!0,configurable:!0}),e.prototype.getPptState=function(){return this.dynamicPptState},e.prototype.getSlideUrl=function(e){return i.SlideUrl.parse(e)},e.prototype.getPptSildeDefinition=function(e){var t=i.SlideUrl.parse(e);return t?this.loader.getPptStateWithSlideUrl(t):void 0},e.prototype.getPptStateWithSlideUrl=function(e){return this.loader.getPptStateWithSlideUrl(e)},e.StateKey="__pptState",e}();t.DynamicPptImplement=c},function(e,t){e.exports=r("url-parse")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),s=n(86),c=function(){function e(e){var t=this;this.fetchPPTDefinition=function(e){return i(t,void 0,void 0,(function(){var t,n,r,i=this;return o(this,(function(o){switch(o.label){case 0:return[4,a.loadPPT(this.pptAssetsOrigin+"/"+e,e,this.preload,this.onPPTLoadProgress&&function(t){i.onPPTLoadProgress(e,parseFloat(t))},this.userFonts,this.logger,this.pptParams)];case 1:return t=o.sent(),n=Object.freeze({uuid:e,width:t.width,height:t.height,slidesCount:t.slidesCount}),r=new s.FetcherHub((function(n){return i.fetchSlideDefinition(e,t,n)})),[2,Object.freeze({slideFetcher:r,definition:n})]}}))}))},this.preload=e.preload,this.pptAssetsOrigin=e.pptAssetsOrigin,this.userFonts=e.userFonts,this.onSlideReady=e.onSlideReady,this.onPPTLoadProgress=e.onPPTLoadProgress,this.pptFetcher=new s.FetcherHub(this.fetchPPTDefinition),this.logger=e.logger,this.pptParams=e.pptParams}return e.prototype.getPptStateWithSlideUrl=function(e){var t=e.uuid,n=e.index;return this.getPptStateRightNow(t,n)||void this.pptFetcher.getTarget(t).then((function(e){return e.slideFetcher.getTarget(n)}))},e.prototype.getPptStateRightNow=function(e,t){var n=this.pptFetcher.getTargetRightNow(e);if(n){var i=n.slideFetcher.getTargetRightNow(t);if(i)return r(r({},n.definition),i)}},e.prototype.fetchSlideDefinition=function(e,t,n){return i(this,void 0,void 0,(function(){var r,i,a=this;return o(this,(function(o){switch(o.label){case 0:return[4,t.loadSlide(n)];case 1:return r=o.sent(),i=Object.freeze({index:n,data:r,progressCount:(r.animations.sequenceAnimesCounts[-1]||0)+1}),setTimeout((function(){return a.onSlideReady(e,n)}),0),[2,i]}}))}))},e}();t.SlideLoader=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.fetcher=e,this.targets={},this.fetching={}}return e.prototype.getTargetRightNow=function(e){return this.targets[e]},e.prototype.getTarget=function(e){var t=this,n=this.targets[e];if(n)return Promise.resolve(n);var r=this.fetching[e];return r||(r=this.fetching[e]=this.fetcher(e)).then((function(n){t.targets[e]=n,delete t.fetching[e]})).catch((function(){delete t.fetching[e]})),r},e}();t.FetcherHub=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.onUpdateSlideState=e,this.pptHandler=t,this._disableInteractive=!0}return Object.defineProperty(e.prototype,"disableInteractive",{get:function(){return this._disableInteractive},enumerable:!0,configurable:!0}),e.prototype.setSlideStateAdapterCallbacks=function(e){this.callbacks=e},e.prototype.setState=function(e,t,n){this._disableInteractive||this.onUpdateSlideState(n)},e.prototype.onPageToNext=function(){this.pptHandler&&this.pptHandler.onPageToNext&&this.pptHandler.onPageToNext()},e.prototype.onPageToPrev=function(){this.pptHandler&&this.pptHandler.onPageToPrev&&this.pptHandler.onPageToPrev()},e.prototype.onPageJumpTo=function(e,t){this.pptHandler&&this.pptHandler.onPageJumpTo&&this.pptHandler.onPageJumpTo(e,t)},e.prototype.setDisableInteractive=function(e){this._disableInteractive=e},e}();t.MySlideStateAdapter=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(19),s=function(e){function t(t){var n=e.call(this,t)||this;return n.dynamicPpt=t.dynamicPpt,n.url=t.url,n.dynamicPpt.addDynamicPptDelegate(n.url,n),n.state={observerId:n.dynamicPpt.userId,globalPptState:n.dynamicPpt.getPptState(),pptData:n.dynamicPpt.getPptStateWithSlideUrl(n.url)},n}return i(t,e),t.prototype.componentWillUnmount=function(){this.dynamicPpt.removeDynamicPptDelegate(this)},t.prototype.moveSlideStep=function(e){this._sliderRef&&this._sliderRef.changeStep(e)},t.prototype.onSliderStateUpdate=function(e){this.setState({globalPptState:e})},t.prototype.onSliderObserverIdUpdate=function(e){this.setState({observerId:e})},t.prototype.onSlideReady=function(){if(!this.state.pptData){var e=this.dynamicPpt.getPptStateWithSlideUrl(this.url);this.setState({pptData:e})}},t.prototype.render=function(){var e=this;if(this.state.pptData){var t=this.state.globalPptState?this.state.globalPptState:{};return o.createElement(a.Slide,{data:this.state.pptData.data,renderMode:this.dynamicPpt.getRenderMode(),userId:this.state.observerId,pptState:t,stateAdapter:this.props.dynamicPpt.slideStateAdapter,ref:function(t){return e._sliderRef=t},callbacks:{onMediaPlay:this.props.dynamicPpt.onPPTMediaPlay,onMediaPause:this.props.dynamicPpt.onPPTMediaPause}})}return null},t}(o.Component);t.DynamicComponent=s},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(4),c=n(0),u=n(1),l=n(2),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.refreshCursorClassIfNeed=function(){var e=this.props.context;if(e.updateCursorClass){var t,n=this.props.payload.draggingContext;t=n?this.mapTargetIdToCursorClass(n.targetId):"cursor-selector",e.updateCursorClass(t)}},t.prototype.mapTargetIdToCursorClass=function(e){switch(e){case"LT":case"RB":return"cursor-nwse";case"LB":case"RT":return"cursor-nesw";case"T":case"B":return"cursor-ns";case"L":case"R":return"cursor-ew"}return""},t.prototype.render=function(){var e=this.props.payload;if(!c.isAkkoWrappedObjectAccessible(e))return null;this.refreshCursorClassIfNeed();var t=e.belongsToUserId===this.props.context.observerId?u.BelongsTo.Me:u.BelongsTo.Others,n=e.context.getMemberState(e.belongsToUserId);if(!n)return null;var r=n.strokeColor,i="rgb("+r[0]+", "+r[1]+", "+r[2]+")",o=null;return t===u.BelongsTo.Me&&(e.isLocked?(i="rgb(177, 177, 177)",o=this.renderLock()):o=this.renderOperationPoints(e,i)),a.createElement(s.CNode,{key:this.props.id,className:"editor-box",context:this.props.cnode,style:{borderColor:i}},o)},t.prototype.renderLock=function(){return a.createElement("img",{className:"lock",src:"https://sdk.netless.link/resource/icons/lock.svg"})},t.prototype.renderOperationPoints=function(e,t){var n=this.props.margin,r=n.left,i=n.top,o=e.isUniformScale,c=this.props.size.width-r-n.right,u=this.props.size.height-i-n.bottom,l=this.props.context.deviceType!==s.DeviceType.Touch?4.5:17.5;return a.createElement(a.Fragment,null,this.renderOperationPoint("left-top cursor-nwse","LT",t),this.renderOperationPoint("right-top cursor-nesw","RT",t),this.renderOperationPoint("left-bottom cursor-nesw","LB",t),this.renderOperationPoint("right-bottom cursor-nwse","RB",t),!o&&this.renderOperationPoint("top cursor-ns","T",t,{left:r+c/2-l}),!o&&this.renderOperationPoint("right cursor-ew","R",t,{top:i+u/2-l}),!o&&this.renderOperationPoint("bottom cursor-ns","B",t,{left:r+c/2-l}),!o&&this.renderOperationPoint("left cursor-ew","L",t,{top:i+u/2-l}))},t.prototype.renderOperationPoint=function(e,t,n,r){return void 0===r&&(r={}),this.props.context.deviceType===s.DeviceType.Touch?a.createElement("div",{className:"operation-point-touch "+e+" "+t,style:r},a.createElement("div",{style:{backgroundColor:n}})):(r.backgroundColor=n,a.createElement("div",{className:"operation-point-desktop "+e+" "+t,style:r}))},o([l.register.defineReact(l.register.componentEngine,u.EditorRectangleSpace)],t)}(a.Component);t.EditorRectangleSpaceComponent=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(1),c=n(2),u=n(58),l=n(7);c.register.defineReact(c.register.componentEngine,s.PluginComponent)(l.getEditableComponent());var p=function(e){function t(t){var n=e.call(this,t)||this;return n.plugin=t.context.pluginManager.findPlugin(t.payload.kind),n.pluginInstance=n.plugin&&new u.PluginImplement(t.context.pluginManager,n.plugin,t.payload),n}var n;return i(t,e),n=t,t.hitTest=function(e,t,n,r,i){if(e.context.disalbeImageHit)return!1;var o=this.visibleMap[t.payload.identifier];return!!o&&(!o.plugin.hitTest||o.plugin.hitTest(o,n,r,i))},t.willInterruptEvent=function(e,t,n){var r=this.visibleMap[t.payload.identifier];return!r||!!r.plugin.willInterruptEvent&&r.plugin.willInterruptEvent(r,n)},t.prototype.componentDidMount=function(){this.pluginInstance&&(n.visibleMap[this.pluginInstance.identifier]=this.pluginInstance)},t.prototype.componentWillUnmount=function(){this.pluginInstance&&(delete n.visibleMap[this.pluginInstance.identifier],this.pluginInstance.dispose())},t.prototype.render=function(){if(this.plugin&&this.pluginInstance){var e=this.props;return a.createElement(this.plugin.render,{plugin:this.pluginInstance,margin:e.margin,origin:e.origin,size:e.size,scale:e.scale,cnode:e.cnode})}return null},t.visibleMap={},n=o([c.register.defineReact(c.register.pluginEngine,s.PluginComponent)],t)}(a.Component);t.PluginRender=p},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=function(){function e(e,t){void 0===e&&(e=Object.freeze({})),this.contextMap=i.observable.map({}),this._isPlaying=!0,this._playerTimestamp=0,this._playbackSpeed=1,this.plugins=e,this.operator=t}return Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playerTimestamp",{get:function(){return this._playerTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playbackSpeed",{get:function(){return this._playbackSpeed},enumerable:!0,configurable:!0}),e.prototype.setPlayerState=function(e){var t=e.isPlaying,n=e.timestamp,r=e.playbackSpeed;void 0!==t&&this._isPlaying!==t&&(this._isPlaying=t),void 0!==n&&this._playerTimestamp!==n&&(this._playerTimestamp=n),void 0!==r&&this._playbackSpeed!==r&&(this._playbackSpeed=r)},e.prototype.setPlayingState=function(e){this.setPlayerState({isPlaying:e})},e.prototype.setPluginContext=function(e,t){this.contextMap.set(e,t)},e.prototype.getPluginContext=function(e){return this.contextMap.get(e)},e.prototype.findPlugin=function(e){return this.plugins[e]},e.prototype.remove=function(e){this.operator&&this.operator.remove(e)},e.prototype.update=function(e,t){this.operator&&this.operator.update(e,t)},r([i.observable],e.prototype,"_isPlaying",void 0),r([i.observable],e.prototype,"_playerTimestamp",void 0),r([i.observable],e.prototype,"_playbackSpeed",void 0),e}();t.PluginManager=o},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(0),a=function(){function e(e,t,n){this.manager=e,this.plugin=t,this.component=n,this.pressedRect=null,this._isDraging=!1,this._isResizing=!1,this.kind=n.kind,this.identifier=n.key,this.reactionDisposer=this.startReaction()}return e.prototype.dispose=function(){this.reactionDisposer()},Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this.manager.isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playerTimestamp",{get:function(){return this.manager.playerTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playbackSpeed",{get:function(){return this.manager.playbackSpeed},enumerable:!0,configurable:!0}),e.prototype.startReaction=function(){var e=this;return i.reaction((function(){return{isPressed:e.component.isPressed,originX:e.component.originX,originY:e.component.originY,width:e.component.width,height:e.component.height}}),(function(t){t.isPressed?e.pressedRect?e.checkDragOrResize(e.pressedRect,t):e.pressedRect={originX:t.originX,originY:t.originY,width:t.width,height:t.height}:(e._isDraging&&(e._isDraging=!1),e._isResizing&&(e._isResizing=!1),e.pressedRect=null)}))},e.prototype.checkDragOrResize=function(e,t){this._isDraging||e.originX===t.originX&&e.originY===t.originY||(this._isDraging=!0),this._isResizing||e.width===t.width&&e.height===t.height||(this._isResizing=!0)},Object.defineProperty(e.prototype,"context",{get:function(){return this.manager.getPluginContext(this.kind)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originX",{get:function(){return this.component.originX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"originY",{get:function(){return this.component.originY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.component.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.component.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectable",{get:function(){return this.component.selectable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDraging",{get:function(){return this._isDraging&&!this._isResizing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isResizing",{get:function(){return this._isResizing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.component.attributes},set:function(e){this.manager.update(this.identifier,{attributes:e})},enumerable:!0,configurable:!0}),e.prototype.putAttributes=function(e){var t,n=this.component.attributes;if("object"==typeof(t=e)&&null!==t&&o.findClass(n)===Object){var r={};for(var i in n)r[i]=i in e?e[i]:o.copy(n[i]);for(var i in e)i in r||(r[i]=e[i]);this.manager.update(this.identifier,{attributes:r})}},e.prototype.removeAttributeKeys=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.component.attributes;if(o.findClass(n)===Object){var r={};for(var i in n)-1===e.indexOf(i)&&(r[i]=o.copy(n[i]));this.manager.update(this.identifier,{attributes:r})}},e.prototype.update=function(e){this.manager.update(this.identifier,e)},e.prototype.remove=function(){this.manager.remove(this.identifier)},r([i.observable],e.prototype,"_isDraging",void 0),r([i.observable],e.prototype,"_isResizing",void 0),r([i.computed],e.prototype,"isDraging",null),e}();t.PluginImplement=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(0),c=n(1),u=n(4),l=n(2),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.payload;if(!s.isAkkoWrappedObjectAccessible(e))return null;var t=this.props.size,n=t.width,r=t.height,i=e.context.getMemberState(e.belongsTo);if(!i)return null;var o=i.strokeColor,c=o[0],l=o[1],p=o[2];return a.createElement(u.CNode,{key:this.props.id,className:"selected-group",style:{left:0,top:0,width:n,height:r,boxShadow:"0 0 1px 0 #FFFFFF, inset 0 0 1px 0 #FFFFFF",border:"1px solid",borderColor:"rgb("+c+", "+l+", "+p+")",backgroundColor:"rgba("+c+", "+l+", "+p+", 0.15)"},context:this.props.cnode})},o([l.register.defineReact(l.register.componentEngine,c.SelectedGroupRectangleSpace)],t)}(a.Component);t.SelectedGroupRectangleSpaceComponent=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),c=n(0),u=n(1),l=n(4),p=n(11),d=n(2),h=n(7);function f(e,t,n){var r=t[e];return n&&e in n&&(r=n[e]),r}d.register.defineReact(d.register.componentEngine,u.TextareaShape)(h.getEditableComponent());var m=function(e){function t(t){var n=e.call(this,t)||this;n.shadowTextareaRef=null,n.textareaRef=null,n.miniWidth=0,n.miniHeight=0,n.latestTextareaWidth=0,n.latestTextareaHeight=0,n.onEditStateUpdate=function(e){e&&n.textareaRef?(n.textareaRef.readOnly=!1,n.textareaRef.focus()):n.textareaRef&&(n.textareaRef.readOnly=!0,n.textareaRef.blur())},n.onTextAreaChange=function(e){var t=e.target.value;if(n.shadowTextareaRef.value=t,n.props.context.updateTextarea){var r=n.createTextareaBox(t);n.props.context.updateTextarea(r)}},n.setupShadowTextarea=function(e){n.shadowTextareaRef=e;var t=n.props.payload;if(t&&c.isAkkoWrappedObjectAccessible(t)&&n.shadowTextareaRef&&(n.shadowTextareaRef.value=" ",n.miniWidth=n.shadowTextareaRef.scrollWidth,n.miniHeight=n.shadowTextareaRef.scrollHeight,n.shadowTextareaRef.value=t.textareaBox.originalText,n.props.context.updateTextarea)){var r=n.createTextareaBox(n.shadowTextareaRef.value);n.props.context.updateTextarea(r)}},n.setupTextarea=function(e){var t=n.props.payload;t&&c.isAkkoWrappedObjectAccessible(t)&&(n.props.context.observerId===t.editedBy&&e?e.focus():e&&e.blur()),n.textareaRef=e};var r=t.payload,i=t.context.observerId;return n.disposer=p.reaction((function(){return r.editedBy===i}),n.onEditStateUpdate),n}return i(t,e),t.willInterruptEvent=function(e,t,n){var r=t.payload;return!(!r||!c.isAkkoWrappedObjectAccessible(r))&&r.editedBy===e.context.observerId},t.prototype.componentWillMount=function(){var e=this,t=this.props.context.textareaHub;t&&t.addTextareaRectGetter(this.props.payload.identifier,(function(t){var n=null;return e.shadowTextareaRef&&e.isSelectedOrEdited()&&(n=e.createTextareaRect(t)),n}))},t.prototype.componentWillUnmount=function(){var e=this.props.context.textareaHub;e&&e.removeTextareaRectGetter(this.props.payload.identifier),this.disposer()},t.prototype.createTextareaBox=function(e){return o(o({},this.createTextareaRect()),{textLines:[],originalText:e})},t.prototype.createTextareaRect=function(e){var t=this.shadowTextareaRef,n=this.props.payload,r=n.format,i=[];return t.style.fontWeight=f("bold",r,e)?"bold":"normal",t.style.fontStyle=f("italic",r,e)?"italic":"normal",f("underline",r,e)&&i.push("underline"),f("lineThrough",r,e)&&i.push("line-through"),t.style.textDecoration=i.length>0?i.join(" "):"none",{scale:n.currentScale,width:Math.max(t.scrollWidth,this.miniWidth),height:Math.max(t.scrollHeight,this.miniHeight)}},t.prototype.refreshSize=function(e){var t=e.textareaBox;void 0!==t.originalText&&(this.latestTextareaWidth=t.width,this.latestTextareaHeight=t.height)},t.prototype.createTextareaStyle=function(e){var t={},n=e.format,r=[];return n.bold&&(t.fontWeight="bold"),n.italic&&(t.fontStyle="italic"),n.underline&&r.push("underline"),n.lineThrough&&r.push("line-through"),r.length>0&&(t.textDecoration=r.join(" ")),t},t.prototype.isSelectedOrEdited=function(){var e=this.props.context.observerId,t=this.props.payload;return e===t.selectedBy||e===t.editedBy},t.prototype.render=function(){var e=this.props.payload;if(!c.isAkkoWrappedObjectAccessible(e))return null;this.refreshSize(e);var t=e.editedBy===this.props.context.observerId,n=void 0!==e.editedBy,r=n?"textarea-border":"textarea-layout",i={boxSizing:"border-box"},o=n?"editable-textarea":"readonly-textarea",a=!1;if(t&&(o+=" my-textarea",a=!0),n){var u=e.context.getMemberState();if(u){var p=u.strokeColor;i.borderColor="rgb("+p[0]+","+p[1]+","+p[2]+")"}}var d=!0;this.props.context.textareaHub||(d=t);var h=e.format.color;return s.createElement(l.CNode,{className:r,fixedMode:a,context:this.props.cnode,style:i},this.renderEditableTextarea(e,"rgb("+h[0]+","+h[1]+","+h[2]+")",o),d&&this.renderShadowTextarea(e,o))},t.prototype.renderEditableTextarea=function(e,t,n){var r=e.textareaBox.originalText,i=e.editedBy===this.props.context.observerId,a={width:this.latestTextareaWidth*e.currentScale,height:this.latestTextareaHeight*e.currentScale},c=o({position:"fixed",width:this.latestTextareaWidth+16,height:this.latestTextareaHeight,transform:"scale("+e.currentScale+")",transformOrigin:"top left",fontFamily:this.props.context.fontFamily,color:t,fontSize:e.textSize},this.createTextareaStyle(e));return s.createElement("div",{className:"textarea-container",style:a},s.createElement("textarea",{className:n,value:r,readOnly:!i,spellCheck:!1,wrap:"off",ref:this.setupTextarea,onChange:this.onTextAreaChange,style:c}))},t.prototype.renderShadowTextarea=function(e,t){return s.createElement("div",{style:{width:0,height:0,overflow:"hidden"}},s.createElement("textarea",{className:t,spellCheck:!1,wrap:"off",ref:this.setupShadowTextarea,style:{fontFamily:this.props.context.fontFamily,width:0,height:0,visibility:"hidden",fontSize:e.textSize}}))},t.disableVisionTrim=!0,a([d.register.defineReact(d.register.topGraphicsEngine,u.TextareaShape)],t)}(s.Component);t.TextareaShapeComponent=m},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=n(1),c=n(4),u=n(18),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.paintContent=function(e){var t=e.context,n=this.shape.state.strokeWidth,r=this.shape.displayPoints(),i=n/2,o=e.margin,a=this.shape.state.strokeColor,s=a[0],u=a[1],l=a[2];if(t.fillStyle="rgb("+s+","+u+","+l+")",1===r.length)this.paintPoint(t,o.left+r[0].x,o.top+r[0].y,i);else if(r.length>1){var p,d,h=!1,f=void 0,m=void 0;e.screenRect?(f=(p=e.screenRect.originX-n)+e.screenRect.width+2*n,m=(d=e.screenRect.originY-n)+e.screenRect.height+2*n):(h=!0,p=0,d=0,f=0,m=0);var g=h||e.paintingMode!==c.CanvasPaitingMode.Directly,y=r.length>2&&this.shape.enableBezier();t.lineWidth=n,t.strokeStyle="rgb("+s+","+u+","+l+")",t.lineJoin="round",t.lineCap="round",t.beginPath(),y?this.paintBezier(t,r,o,g,p,d,f,m):this.paintPolyline(t,r,o,g,p,d,f,m)}},t.prototype.paintBezier=function(e,t,n,r,i,o,a,s){for(var c={x:0,y:0},l={x:0,y:0},p={x:0,y:0},d=!1,h=0;h<t.length-1;++h){var f=n.left+t[h].x,m=n.left+t[h+1].x,g=n.top+t[h].y,y=n.top+t[h+1].y;h<t.length-2&&this.fillControlPoints(n,t[h],t[h+1],t[h+2],l,p),r||u.isSegementCrossRectangle(f,g,m,y,i,o,a,s)?(d||(e.moveTo(f,g),d=!0),0===h?e.quadraticCurveTo(l.x,l.y,m,y):h===t.length-2?e.quadraticCurveTo(f,g,m,y):e.bezierCurveTo(c.x,c.y,l.x,l.y,m,y)):d&&(e.stroke(),d=!1),c.x=p.x,c.y=p.y}d&&e.stroke()},t.prototype.paintPolyline=function(e,t,n,r,i,o,a,s){for(var c=!1,l=n.left+t[0].x,p=n.top+t[0].y,d=1;d<t.length;++d){var h=n.left+t[d].x,f=n.top+t[d].y;r||u.isSegementCrossRectangle(l,p,h,f,i,o,a,s)?(c||(e.moveTo(l,p),c=!0),e.lineTo(h,f)):c&&(e.stroke(),c=!1),l=h,p=f}c&&e.stroke()},t.prototype.fillControlPoints=function(e,t,n,r,i,o){var a,s,c=this.calcHypotenuse(n.x-t.x,n.y-t.y),u=this.calcHypotenuse(n.x-r.x,n.y-r.y)/(c+1e-6);u>1?(a=t.x-(n.x+(r.x-n.x)/(u+1e-6)),s=t.y-(n.y+(r.y-n.y)/(u+1e-6))):(a=n.x+(t.x-n.x)*u-r.x,s=n.y+(t.y-n.y)*u-r.y),s*=.1,i.x=e.left+n.x+(a*=.1),i.y=e.top+n.y+s,o.x=e.left+n.x-a,o.y=e.top+n.y-s},t.prototype.calcHypotenuse=function(e,t){return Math.sqrt(e*e+t*t)},t.prototype.paintPoint=function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill()},o([a.register.defineCanvas(a.register.canvasGraphicsEngine,s.CurveShape)],t)}(n(12).AbstractCanvasRender);t.CurveShapePainter=l},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.paintContent=function(e){var t=this.shape.state,n=t.strokeColor,r=t.strokeWidth,i=e.margin,o=e.size,a=e.context,s=o.width/2,c=o.height/2,u=i.left+s,l=i.top+c;a.strokeStyle="rgb("+n[0]+","+n[1]+","+n[2]+")",a.lineWidth=r,a.beginPath(),a.ellipse(u,l,s,c,0,0,2*Math.PI),a.stroke()},t.disableCache=!0,o([s.register.defineCanvas(s.register.canvasGraphicsEngine,a.EllipseShape)],t)}(n(12).AbstractCanvasRender);t.EllipseShapePainter=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),c=n(12),u=Object.freeze([5,5]),l=Object.freeze([]),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node=null,t}return i(t,e),t.prototype.getLoadImage=function(e,t){if(this.node&&this.node.src===e){var n=this.node.image;return n.onload?null:n}this.node&&(this.node.image.onload=null);var r=document.createElement("img");return this.node={src:e,image:r},r.src=e,r.onload=function(){t(),r.onload=null},r},t.prototype.remove=function(){e.prototype.remove.call(this),this.node&&(this.node.image.onload=null)},t.prototype.paintContent=function(e){var t=!1,n=e.size,r=e.margin,i=e.context,o=this.shape.imageSrc||null,a=o&&this.getLoadImage(o,e.touch);a&&(i.drawImage(a,r.left,r.top,n.width,n.height),t=!0),t||this.paintLoadingRectangle(i,e)},t.prototype.paintLoadingRectangle=function(e,t){var n=t.margin,r=t.size;e.strokeStyle="rgb(238,238,238)",e.fillStyle="rgb(245,245,245)",e.lineWidth=3,e.setLineDash(u),e.strokeRect(n.left,n.top,r.width,r.height),e.fillRect(n.left,n.top,r.width,r.height),e.setLineDash(l)},t.disableCache=!0,o([s.register.defineCanvas(s.register.canvasGraphicsEngine,a.ImageShape)],t)}(c.AbstractCanvasRender);t.ImageShapePainter=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.paintContent=function(e){var t=this.shape.state,n=t.strokeColor,r=t.strokeWidth,i=e.margin,o=e.size,a=e.context;a.strokeStyle="rgb("+n[0]+","+n[1]+","+n[2]+")",a.lineWidth=r,a.strokeRect(i.left,i.top,o.width,o.height)},t.disableCache=!0,o([s.register.defineCanvas(s.register.canvasGraphicsEngine,a.RectangleShape)],t)}(n(12).AbstractCanvasRender);t.RectangleShapePainter=c},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=n(1),c=n(2),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.paintContent=function(e){var t=this.shape.state,n=t.strokeColor,r=t.strokeWidth,i=e.context,o="rgb("+n[0]+","+n[1]+","+n[2]+")";i.strokeStyle=o,i.fillStyle=o,i.lineWidth=r;var c=r/2,u=this.shape.width,l=this.shape.height,p=c,d=c,h=c,f=c;switch(this.shape.direction){case s.VectorDirection.ToLeftTop:p+=u,d+=l;break;case s.VectorDirection.ToRightTop:d+=l,h+=u;break;case s.VectorDirection.ToLeftBottom:p+=u,f+=l;break;case s.VectorDirection.toRightBottom:h+=u,f+=l}switch(this.shape.kind){case s.VectorKind.Straight:i.lineCap="round",i.beginPath(),i.moveTo(p,d),i.lineTo(h,f),i.stroke();break;case s.VectorKind.Arrow:var m=this.distance(p,d,h,f),g=c,y=!0;m<9.6*g&&(g=m/9.6,y=!1);var v=a.unitVector({x:h-p,y:f-d});if(y){var b=9.6*g-2;i.lineCap="butt",i.beginPath(),i.moveTo(p,d),i.lineTo(h-v.x*b,f-v.y*b),i.stroke()}this.paintArrow(i,v,h,f,g)}},t.prototype.paintArrow=function(e,t,n,r,i){var o=a.verticalVector(t),s=9.6*i,c=6.5*i/2;e.beginPath(),e.moveTo(n+t.x*i,r+t.y*i),e.lineTo(n-t.x*s-o.x*c,r-t.y*s-o.y*c),e.lineTo(n-t.x*s+o.x*c,r-t.y*s+o.y*c),e.closePath(),e.fill()},t.prototype.distance=function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)},t.disableCache=!0,o([c.register.defineCanvas(c.register.canvasGraphicsEngine,s.VectorShape)],t)}(n(12).AbstractCanvasRender);t.VectorShapeComponent=u},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(0),c=n(1),u=n(2),l=n(7);u.register.defineReact(u.register.componentEngine,c.CurveShape)(l.getEditableComponent());var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.payload;if(!s.isAkkoWrappedObjectAccessible(e))return null;var t=e.state,n=t.strokeColor,r=t.strokeWidth,i=n[0],o=n[1],c=n[2],u=e.displayPoints();if(1===u.length){var l=u[0],p=r/2;return a.createElement("ellipse",{cx:l.x,cy:l.y,rx:p,ry:p,style:{fill:"rgb("+i+","+o+","+c+")"}})}var d=u.length>2&&e.enableBezier();return a.createElement("path",{d:this.createPathDefinition(u,d),key:this.props.id,style:{stroke:"rgb("+i+","+o+","+c+")",strokeWidth:r,fill:"none",strokeLinejoin:"round",strokeLinecap:"round"}})},t.prototype.createPathDefinition=function(e,t){var n=[];if(t){var r=e[0];n.push("M "+r.x+" "+r.y);var i=this.getControlPoint(e[1],e[0],e[2],.1);n.push("Q "+i[0].x+" "+i[0].y+", "+e[1].x+" "+e[1].y);for(var o=i[1],a=2;a<e.length-2;++a){var s=this.getControlPoint(e[a],e[a-1],e[a+1],.1);n.push("C "+o.x+" "+o.y+", "+s[0].x+" "+s[0].y+", "+e[a].x+" "+e[a].y),o=s[1]}var c=e.length-2;n.push("Q "+e[c].x+" "+e[c].y+", "+e[c+1].x+" "+e[c+1].y)}else for(a=0;a<e.length;++a){var u=e[a],l=u.x,p=u.y;n.push(0===a?"M"+l+" "+p:"L"+l+" "+p)}return n.join(" ")},t.prototype.getControlPoint=function(e,t,n,r){var i=this.calcHypotenuse(e.x-t.x,e.y-t.y),o=this.calcHypotenuse(e.x-n.x,e.y-n.y)/(i+1e-6),a={x:0,y:0};return o>1?(a.x=t.x-(e.x+(n.x-e.x)/(o+1e-6)),a.y=t.y-(e.y+(n.y-e.y)/(o+1e-6))):(a.x=e.x+(t.x-e.x)*o-n.x,a.y=e.y+(t.y-e.y)*o-n.y),[{x:e.x+(a={x:a.x*r,y:a.y*r}).x,y:e.y+a.y},{x:e.x-a.x,y:e.y-a.y}]},t.prototype.calcHypotenuse=function(e,t){return Math.sqrt(e*e+t*t)},o([u.register.defineReact(u.register.htmlGraphicsEngine,c.CurveShape)],t)}(a.Component);t.CurveShapeComponent=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(0),c=n(1),u=n(2),l=n(7);u.register.defineReact(u.register.componentEngine,c.EllipseShape)(l.getEditableComponent());var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.payload;if(!s.isAkkoWrappedObjectAccessible(e))return null;var t=e.state,n=t.strokeColor,r=this.props.size,i=r.width/2,o=r.height/2;return a.createElement("ellipse",{key:this.props.id,cx:i,cy:o,rx:i,ry:o,style:{stroke:"rgb("+n[0]+","+n[1]+","+n[2]+")",fill:"none",strokeWidth:t.strokeWidth}})},o([u.register.defineReact(u.register.htmlGraphicsEngine,c.EllipseShape)],t)}(a.Component);t.EllipseShapeComponent=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(1),c=n(0),u=n(2),l=n(7);u.register.defineReact(u.register.componentEngine,s.ImageShape)(l.getEditableComponent());var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.payload;if(!c.isAkkoWrappedObjectAccessible(e))return null;var t=this.props.size,n=t.width,r=t.height;if(e.imageSrc){var i=e.imageSrc;return this.props.context.convertIdToUrl&&(i=this.props.context.convertIdToUrl(i)),a.createElement("image",{key:this.props.id,preserveAspectRatio:"none",xlinkHref:i,x:0,y:0,width:n,height:r})}return a.createElement("rect",{strokeDasharray:"5,5",key:this.props.id,x:0,y:0,width:n,height:r,style:{stroke:"#EEEEEE",strokeWidth:3,fill:"#F5F5F5",strokeLinejoin:"round",strokeLinecap:"round"}})},o([u.register.defineReact(u.register.htmlGraphicsEngine,s.ImageShape)],t)}(a.Component);t.ImageShapeComponent=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(0),c=n(1),u=n(2),l=n(7);u.register.defineReact(u.register.componentEngine,c.RectangleShape)(l.getEditableComponent());var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.payload;if(!s.isAkkoWrappedObjectAccessible(e))return null;var t=e.state,n=t.strokeColor,r=this.props.size;return a.createElement("rect",{key:this.props.id,x:0,y:0,width:r.width,height:r.height,style:{stroke:"rgb("+n[0]+","+n[1]+","+n[2]+")",fill:"none",strokeWidth:t.strokeWidth,strokeLinejoin:"round",strokeLinecap:"round"}})},o([u.register.defineReact(u.register.htmlGraphicsEngine,c.RectangleShape)],t)}(a.Component);t.RectangleShapeComponent=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(18),c=n(0),u=n(1),l=n(2),p=n(7);l.register.defineReact(l.register.componentEngine,u.VectorShape)(p.getEditableComponent());var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.render=function(){var e=this.props.payload;if(!c.isAkkoWrappedObjectAccessible(e))return null;var t=e.state,n=t.strokeColor,r=t.strokeWidth,i=this.props.size,o=i.width,l=i.height,p=n[0],d=n[1],h=n[2],f=r/2,m=f,g=f,y=f,v=f;switch(e.direction){case u.VectorDirection.ToLeftTop:m+=o,g+=l;break;case u.VectorDirection.ToRightTop:g+=l,y+=o;break;case u.VectorDirection.ToLeftBottom:m+=o,v+=l;break;case u.VectorDirection.toRightBottom:y+=o,v+=l}var b=null,A=null;switch(e.kind){case u.VectorKind.Straight:b=a.createElement("path",{key:this.props.id,d:"M "+m+" "+g+" L "+y+" "+v,style:{stroke:"rgb("+p+","+d+","+h+")",strokeWidth:r,fill:"none",strokeLinejoin:"round",strokeLinecap:"round"}});break;case u.VectorKind.Arrow:var x=this.distance(m,g,y,v),w=f,_=!0;x<9.6*w&&(w=x/9.6,_=!1);var S=s.unitVector({x:y-m,y:v-g});if(_){var T=9.6*w-2;b=a.createElement("path",{key:this.props.id,d:"M "+m+" "+g+" L "+(y-S.x*T)+" "+(v-S.y*T),style:{stroke:"rgb("+p+","+d+","+h+")",strokeWidth:r,fill:"none",strokeLinejoin:"bevel",strokeLinecap:"butt"}})}A=a.createElement("polygon",{points:this.renderArrowPoints(S,y,v,w),style:{fill:"rgb("+p+","+d+","+h+")",strokeWidth:0}})}return a.createElement(a.Fragment,null,b,A)},t.prototype.renderArrowPoints=function(e,t,n,r){var i=[],o=s.verticalVector(e),a=9.6*r,c=6.5*r/2;return i.push(""+(t+e.x*r),",",""+(n+e.y*r)),i.push(""+(t-e.x*a-o.x*c),",",""+(n-e.y*a-o.y*c)),i.push(""+(t-e.x*a+o.x*c),",",""+(n-e.y*a+o.y*c)),i.join(" ")},t.prototype.distance=function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)},o([l.register.defineReact(l.register.htmlGraphicsEngine,u.VectorShape)],t)}(a.Component);t.VectorShapeComponent=d},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),a=function(){function e(t){this.engines=o.register;for(var n={},a=o.register.engines(t),s=0,c=e.getDefinitions();s<c.length;s++){var u=c[s];n[i.findClassId(u.payloadType)]=u}this.definitions=Object.freeze(n),this.enginesList=Object.freeze(r(a))}return e.getDefinitions=function(){return this.definitionsList||(this.definitionsList=o.register.complete()),this.definitionsList},e.prototype.findDefinition=function(e){return this.definitions[e]},e.definitionsList=null,e}();t.EnginesHub=a},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(107)),r(n(110))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(108),o=n(109),a=n(59),s=function(){function e(e,t,n,r){var s=this;this.findDefinition=function(e){return a.findDefinition(s.engines,e)},this.screen=e,this.applianceManager=n,this.engines=r,this.currentPath=n.getCurrentScenePath().join("/"),this.floatBarManager=new i.FloatBarManager(e),this.container=new o.ApplianceContainer(e,this.findDefinition)}return e.prototype.refreshSceneComponents=function(){var e=this.applianceManager.getCurrentScenePath().join("/"),t=this.applianceManager.scene.components;this.currentPath!==e&&(this.currentPath=e,this.floatBarManager.clean(),this.container.release(),this.container=new o.ApplianceContainer(this.screen,this.findDefinition)),this.container.refreshSceneComponents(t),this.floatBarManager.refreshSceneComponents(t)},e.prototype.getTargetsMap=function(e,t){var n,i=e.payload,o=r.findIdentifierWith(i),s=void 0;if(i){var c=a.findDefinition(this.engines,i);if(c.findTarget){var u=c.findTarget(i,t);void 0!==u&&((n={})[o]=u,s=n)}}return s},e.prototype.release=function(){this.floatBarManager.clean(),this.container.release()},e}();t.WhiteboardRender=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(1),a=n(20),s=function(){function e(e){this.screen=e,this.floatBar=null}return e.prototype.refreshSceneComponents=function(e){var t=this.screen.context.floatBarClass,n=t&&this.selectComponent(e);t&&n?this.floatBar?this.moveFloatBar(this.floatBar,n):this.floatBar=this.createFloatBar(n):this.floatBar&&(this.removeFloatBar(this.floatBar),this.floatBar=null)},e.prototype.clean=function(){this.floatBar&&(this.removeFloatBar(this.floatBar),this.floatBar=null)},e.prototype.selectComponent=function(e){for(var t=this.screen.context.observerId,n=null,r=0,a=e;r<a.length;r++){var s=a[r];if(i.isInstanceOf(s,o.EditorRectangleSpace)){if(s.belongsToUserId===t){n=s;break}}else if(i.isInstanceOf(s,o.TextareaShape)&&s.editedBy===t){n=s;break}}return n},e.prototype.createFloatBar=function(e){var t=this.getDescription(e);return this.screen.scene.addComponent({id:"float-bar",definition:a.floatBarDefinition,sceneMargin:e.hitTestingBoxMargin,disableVisionTrim:!1,absoluteCoordinates:!0,payload:t,originX:0,originY:0,width:this.screen.width,height:this.screen.height})},e.prototype.moveFloatBar=function(e,t){var n=this.getDescription(t);this.isFloatBarDescriptionEquals(e.payload,n)||(e.payload=n)},e.prototype.removeFloatBar=function(e){this.screen.scene.removeComponent(e)},e.prototype.isFloatBarDescriptionEquals=function(e,t){if(e.screenSize.width!==t.screenSize.width)return!1;if(e.screenSize.height!==t.screenSize.height)return!1;var n=e.rectangle,r=t.rectangle;if(n.originX!==r.originX||n.originY!==r.originY||n.width!==r.width||n.height!==r.height)return!1;var i=e.components,o=t.components;if(i.length!==o.length)return!1;for(var a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0},e.prototype.getDescription=function(e){var t=[],n=this.getRectangleOnScreen(e);return i.isInstanceOf(e,o.EditorRectangleSpace)?t.push.apply(t,e.includeComponents):t.push(e),Object.freeze({whiteModel:r,rectangle:n,components:Object.freeze(t),margin:e.hitTestingBoxMargin,screenSize:Object.freeze({width:this.screen.width,height:this.screen.height})})},e.prototype.getRectangleOnScreen=function(e){var t=e.originX,n=e.originY,r=e.width,i=e.height,o=e.hitTestingBoxMargin,a=this.screen.convertPointToScreen(t-o,n-o),s=this.screen.convertPointToScreen(t+r+o,n+i+o);return Object.freeze({originX:a.x,originY:a.y,width:s.x-a.x,height:s.y-a.y})},e}();t.FloatBarManager=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(1),o=n(0),a=function(){function e(e,t){this.applianceNodes={},this.screen=e,this.findDefinition=t}return e.prototype.refreshSceneComponents=function(e){for(var t={},n=[],r=0;r<e.length;++r){var a=e[r],c=o.findIdentifierWith(a);if((d=this.applianceNodes[c])&&d.appliance===a)delete this.applianceNodes[c];else{var u=void 0;o.isInstanceOf(a,i.BackgroundImage)&&(u=a.previewURL),d=new s(this,c,a,u),n.push(d)}d.setOrderIndex(r),t[c]=d}for(var c in this.applianceNodes)this.applianceNodes[c].remove();for(var l=0,p=n;l<p.length;l++){var d;(d=p[l]).addToScene()}this.applianceNodes=t},e.prototype.findApplianceComponent=function(e){var t=this.applianceNodes[e];return t?t.appliance:void 0},e.prototype.release=function(){for(var e in this.applianceNodes)this.applianceNodes[e].remove()},e}();t.ApplianceContainer=a;var s=function(){function e(e,t,n,r){this.didRemoved=!1,this.container=e,this.identifier=t,this.appliance=n,this.previewURL=r}return e.prototype.setOrderIndex=function(e){this.component?this.component.orderIndex=e:this.orderIndex=e},e.prototype.addToScene=function(){var e=this;this.disposer=r.autorun((function(){if(e.component)o.isAkkoWrappedObjectAccessible(e.appliance)&&(e.component.setRectangle(e.appliance.originX,e.appliance.originY,e.appliance.width,e.appliance.height),e.component.setSceneMargin(e.appliance.hitTestingBoxMargin));else if(!e.didRemoved){var t=e.container.findDefinition(e.appliance);e.component=e.container.screen.scene.addComponent({id:e.identifier,definition:t.definition,originX:e.appliance.originX,originY:e.appliance.originY,width:e.appliance.width,height:e.appliance.height,sceneMargin:e.appliance.hitTestingBoxMargin,disableVisionTrim:t.disableVisionTrim,payload:e.appliance,previewURL:e.previewURL,orderIndex:e.orderIndex}),delete e.orderIndex}}))},e.prototype.remove=function(){!this.didRemoved&&this.component&&(this.container.screen.scene.removeComponent(this.component),this.disposer&&this.disposer(),this.didRemoved=!0)},e}()},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=n(0),s=n(4),c=n(19),u=n(31),l=n(59);t.screenshot=function(e){return new p(e).render()};var p=function(){function e(e){this.pluginManager=e.pluginManager;var t=new s.Boundless(s.DeviceType.Desktop);this.scene=t.createScene(),this.width=e.width,this.height=e.height,this.pptAssetsOrigin=e.pptAssetsOrigin,this.applianceManager=e.applianceManager,this.engines=e.engines,this.camera=e.camera,this.userFonts=e.userFonts,this.wrappedComponents=e.wrappedComponents;var n=e.path&&i(e.path),r=e.applianceManager.scenes,o=n?r.getScene(n):r.currentScene;o&&this.addApplianceComponents(o.components)}return e.prototype.addApplianceComponents=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=a.findIdentifierWith(r),s=l.findDefinition(this.engines,r),c=s.definition,u=s.disableVisionTrim,p=void 0;a.isInstanceOf(r,o.BackgroundImage)&&(p=r.previewURL),this.scene.addComponent({id:i,definition:c,originX:r.originX,originY:r.originY,width:r.width,height:r.height,sceneMargin:r.hitTestingBoxMargin,disableVisionTrim:u,previewURL:p,payload:r})}},e.prototype.render=function(){var e={deviceType:s.DeviceType.Desktop,observerId:a.AdminObserverId,forcePPTLandscape:!1,disalbeImageHit:!1,pluginManager:this.pluginManager,dynamicPpt:u.createDynamicPpt({pptAssetsOrigin:this.pptAssetsOrigin,preload:!1,userFonts:this.userFonts,observerId:a.AdminObserverId,renderMode:c.RenderMode.Preview})},t=this.scene.createScreen({engines:this.engines.enginesList,context:e,autoResize:!1,width:this.width,height:this.height,className:"netless-whiteboard",wrappedComponents:this.wrappedComponents}),n=this.camera;return n||(t.adaptRectangle(r(r({},this.createRectangleIncludesAllComponents()),{adapterMode:s.RectangleAdapterMode.Centering,animationMode:s.AnimationMode.Immediately})),n=t.camera),e.dynamicPpt.setGlobalState(this.applianceManager.getGlobalState()),t.renderScreenshot({camera:n})},e.prototype.createRectangleIncludesAllComponents=function(){if(this.scene.components.length>0){for(var e=Number.MAX_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,i=0,s=this.scene.components;i<s.length;i++){var c=s[i],u=c.originX,l=c.originY,p=c.width,d=c.height,h=a.isInstanceOf(c,o.Editable)?c.hitTestingBoxMargin:0;e=Math.min(e,u-h),t=Math.min(t,l-h),n=Math.max(n,u+p+h),r=Math.max(r,l+d+h)}return{originX:e,originY:t,width:n-e,height:r-t}}return{originX:0,originY:0,width:0,height:0}},e}();t.ScreenshotRender=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(4);!function(e){e[e.Background=0]="Background",e[e.Graphics=1]="Graphics",e[e.HtmlGraphics=2]="HtmlGraphics",e[e.Plugin=3]="Plugin",e[e.Component=4]="Component",e[e.MouseCursor=5]="MouseCursor"}(r=t.WhiteLayouts||(t.WhiteLayouts={})),function(e){e.SVG="svg",e.Canvas="canvas"}(i=t.RenderEngine||(t.RenderEngine={})),t.createLayoutDescriptions=function(e){var t,n;switch(void 0===e&&(e=i.SVG),e){case i.SVG:t=o.LayoutKind.SVG,n=o.LayoutRenderMode.AbsoluteSize;break;case i.Canvas:t=o.LayoutKind.CANVAS,n=o.LayoutRenderMode.RelativeSize}return[{layout:r.Background,kind:o.LayoutKind.HTML,renderMode:o.LayoutRenderMode.AbsoluteSize,className:"background"},{layout:r.Graphics,kind:t,renderMode:n,className:"graphics"},{layout:r.HtmlGraphics,kind:o.LayoutKind.HTML,renderMode:o.LayoutRenderMode.AbsoluteSize,className:"graphics"},{layout:r.Plugin,kind:o.LayoutKind.HTML,renderMode:o.LayoutRenderMode.RelativeSize,className:"component"},{layout:r.Component,kind:o.LayoutKind.HTML,renderMode:o.LayoutRenderMode.RelativeSize,className:"component"},{layout:r.MouseCursor,kind:o.LayoutKind.HTML,renderMode:o.LayoutRenderMode.Screen,className:"component"}]}}])),e(n,{"white-model":i.WhiteModel,"white-render":i})}catch(o){e(n,void 0,o)}}(window&&window.__netlessJavaScriptLoader)},B4q0:function(e,t,n){var r=n("lsHq"),i=n("hE+I");e.exports=function(e,t){var n,o,a;return n=function(e){var t=r.copyOptions(e);return r.ensureSpacesExists(t),t}(t),o=i(e,n),a="compact"in n&&n.compact?"_parent":"parent",("addParent"in n&&n.addParent?JSON.stringify(o,(function(e,t){return e===a?"_":t}),n.spaces):JSON.stringify(o,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},BF8C:function(e,t,n){"use strict";var r=n("19KI"),i=n("pVnL"),o=n("g2LC");function a(e,t,n){var r=e;return o(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=i({},t,{uri:e}),r.callback=n,r}function s(e,t,n){return c(t=a(e,t,n))}function c(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,n=function(n,r,i){t||(t=!0,e.callback(n,r,i))};function r(){var e=void 0;if(e=u.response?u.response:u.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;if(""===e.responseType&&(!e.responseXML||"parsererror"!==e.responseXML.documentElement.nodeName))return e.responseXML}catch(t){}return null}(u),g)try{e=JSON.parse(e)}catch(t){}return e}function i(e){return clearTimeout(l),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,n(e,y)}function o(){if(!c){var t;clearTimeout(l);var i=y,o=null;return 0!==(t=e.useXDR&&void 0===u.status?200:1223===u.status?204:u.status)?(i={body:r(),statusCode:t,method:d,headers:{},url:p,rawRequest:u},u.getAllResponseHeaders&&(i.headers=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var n=e.indexOf(":"),r=e.slice(0,n).trim().toLowerCase(),i=e.slice(n+1).trim();void 0===t[r]?t[r]=i:Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]})),t):t}(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),n(o,i,i.body)}}var a,c,u=e.xhr||null;u||(u=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var l,p=u.url=e.uri||e.url,d=u.method=e.method||"GET",h=e.body||e.data,f=u.headers=e.headers||{},m=!!e.sync,g=!1,y={body:void 0,headers:{},statusCode:0,method:d,url:p,rawRequest:u};if("json"in e&&!1!==e.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=i,u.onprogress=function(){},u.onabort=function(){c=!0},u.ontimeout=i,u.open(d,p,!m,e.username,e.password),m||(u.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(l=setTimeout((function(){if(!c){c=!0,u.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",i(e)}}),e.timeout)),u.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&u.setRequestHeader(a,f[a]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(u),u.send(h||null),u}e.exports=s,e.exports.default=s,s.XMLHttpRequest=r.XMLHttpRequest||function(){},s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:r.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],(function(e){s["delete"===e?"del":e]=function(t,n,r){return(n=a(t,n,r)).method=e.toUpperCase(),c(n)}}))},"D3+e":function(e,t,n){!function(){"use strict";var t=n("2As9"),r=function(e){this.curves=[],this._3d=!1,e&&(this.curves=e,this._3d=this.curves[0]._3d)};r.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map((function(e){return t.pointsToString(e.points)})).join(", ")+"]"},addCurve:function(e){this.curves.push(e),this._3d=this._3d||e._3d},length:function(){return this.curves.map((function(e){return e.length()})).reduce((function(e,t){return e+t}))},curve:function(e){return this.curves[e]},bbox:function(){for(var e=this.curves,n=e[0].bbox(),r=1;r<e.length;r++)t.expandbox(n,e[r].bbox());return n},offset:function(e){var t=[];return this.curves.forEach((function(n){t=t.concat(n.offset(e))})),new r(t)}},e.exports=r}()},FflX:function(e,t,n){var r=n("f+Ey").toUnsigned,i=n("jv9p");e.exports=function e(t,n){var o,a,s,c,u,l=[];if(!n.length)return null;for(o=0;o<t.byteLength;)a=r(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]),s=i(t.subarray(o+4,o+8)),c=a>1?o+a:t.byteLength,s===n[0]&&(1===n.length?l.push(t.subarray(o+8,c)):(u=e(t.subarray(o+8,c),n.slice(1))).length&&(l=l.concat(u))),o=c;return l}},Fs82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n("kAgB")),i=s(n("JEve")),o=s(n("3j5D")),a=s(n("A/ap"));function s(e){return e&&e.__esModule?e:{default:e}}var c={state:{detectHover:r.default,detectPointer:i.default,detectTouchEvents:o.default,detectPassiveEvents:a.default},update:function(){c.state.detectHover.update(),c.state.detectPointer.update(),c.state.detectTouchEvents.update(),c.state.detectPassiveEvents.update(),c.updateOnlyOwnProperties()},updateOnlyOwnProperties:function(){var e,t,n;"undefined"!=typeof window&&(c.passiveEvents=c.state.detectPassiveEvents.hasSupport||!1,c.hasTouch=c.state.detectTouchEvents.hasSupport||!1,c.deviceType=(n=c.state,(t=c.hasTouch)&&(c.state.detectHover.anyHover||c.state.detectPointer.anyFine)?"hybrid":t&&Object.keys(n.detectHover).filter((function(e){return"update"!==e})).every((function(e){return!1===n.detectHover[e]}))&&Object.keys(n.detectPointer).filter((function(e){return"update"!==e})).every((function(e){return!1===n.detectPointer[e]}))?window.navigator&&/android/.test(window.navigator.userAgent.toLowerCase())?"touchOnly":"hybrid":t?"touchOnly":"mouseOnly"),c.hasMouse="touchOnly"!==c.deviceType,c.primaryInput=("mouseOnly"===c.deviceType?"mouse":"touchOnly"===c.deviceType&&"touch")||c.state.detectPointer.fine&&"mouse"||c.state.detectPointer.coarse&&"touch"||"mouse",/windows/.test(window.navigator.userAgent.toLowerCase())&&/chrome/.test(window.navigator.userAgent.toLowerCase())&&(e=parseInt(/Chrome\/([0-9.]+)/.exec(navigator.userAgent)[1],10))>=59&&e<62&&c.hasTouch&&(c.deviceType="hybrid",c.hasMouse=!0,c.primaryInput="mouse"))}};c.updateOnlyOwnProperties(),t.default=c},GBY4:function(e,t,n){"use strict";var r=n("RA0T"),i=n("nFlj"),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function p(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var n,r={},i=typeof(e=e||t.location||{});if("blob:"===e.protocol)r=new h(unescape(e.pathname),{});else if("string"===i)for(n in r=new h(e,{}),l)delete r[n];else if("object"===i){for(n in e)n in l||(r[n]=e[n]);void 0===r.slashes&&(r.slashes=o.test(e.href))}return r}function d(e){e=c(e);var t=a.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function h(e,t,n){if(e=c(e),!(this instanceof h))return new h(e,t,n);var o,a,s,l,f,m,g=u.slice(),y=typeof t,v=this,b=0;for("object"!==y&&"string"!==y&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=p(t),o=!(a=d(e||"")).protocol&&!a.slashes,v.slashes=a.slashes||o&&t.slashes,v.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(g[3]=[/(.*)/,"pathname"]);b<g.length;b++)"function"!=typeof(l=g[b])?(m=l[1],(s=l[0])!=s?v[m]=e:"string"==typeof s?~(f=e.indexOf(s))&&("number"==typeof l[2]?(v[m]=e.slice(0,f),e=e.slice(f+l[2])):(v[m]=e.slice(f),e=e.slice(0,f))):(f=s.exec(e))&&(v[m]=f[1],e=e.slice(0,f.index)),v[m]=v[m]||o&&l[3]&&t[m]||"",l[4]&&(v[m]=v[m].toLowerCase())):e=l(e);n&&(v.query=n(v.query)),o&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(v.pathname,t.pathname)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(l=v.auth.split(":"),v.username=l[0]||"",v.password=l[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}h.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<u.length;s++){var c=u[s];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},h.extractProtocol=d,h.location=p,h.trimLeft=c,h.qs=i,e.exports=h},GrlX:function(e,t,n){var r=n("T016"),i=n("JRS9"),o={};for(var a in r)r.hasOwnProperty(a)&&(o[r[a]]=a);var s=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function u(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),n="hsl";break;case"hwb":t=s.get.hwb(e),n="hwb";break;default:t=s.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,n,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var a=2*n;o[n]=parseInt(t.slice(a,a+2),16)}i&&(o[3]=Math.round(parseInt(i,16)/255*100)/100)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);i&&(o[3]=Math.round(parseInt(i+i,16)/255*100)/100)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(t=e.match(/(\D+)/))?"transparent"===t[1]?[0,0,0,0]:(o=r[t[1]])?(o[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=c(o[n],0,255);return o[3]=c(o[3],0,1),o},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},s.to.hex=function(){var e=i(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},s.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return o[e.slice(0,3)]}},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,p=s>0?a-4:a;for(n=0;n<p;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o=[],a=t;a<n;a+=3)o.push(r[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HrR1:function(e,t,n){"use strict";var r,i,o,a,s,c,u,l;void 0===CanvasRenderingContext2D.prototype.ellipse&&(CanvasRenderingContext2D.prototype.ellipse=function(e,t,n,r,i,o,a,s){this.save(),this.translate(e,t),this.rotate(i),this.scale(n,r),this.arc(0,0,1,o,a,s),this.restore()}),void 0===CanvasRenderingContext2D.prototype.resetTransform&&(CanvasRenderingContext2D.prototype.resetTransform=function(){this.setTransform(1,0,0,1,0,0)}),void 0===CanvasRenderingContext2D.prototype.getTransform&&(CanvasRenderingContext2D.prototype.getTransform=function(){return this._t2stack&&this._t2stack[this._t2stack.length-1]||{a:1,b:0,c:0,d:1,e:0,f:0}},CanvasRenderingContext2D.prototype.save=(r=CanvasRenderingContext2D.prototype.save,function(){this._t2stack||(this._t2stack=[{a:1,b:0,c:0,d:1,e:0,f:0}]);var e=this._t2stack[this._t2stack.length-1];this._t2stack.push(e&&{a:e.a,b:e.b,c:e.c,d:e.d,e:e.e,f:e.f}),r.call(this)}),CanvasRenderingContext2D.prototype.restore=(i=CanvasRenderingContext2D.prototype.restore,function(){this._t2stack&&this._t2stack.pop(),i.call(this)}),CanvasRenderingContext2D.prototype.transform=(o=CanvasRenderingContext2D.prototype.transform,function(e,t,n,r,i,a){this._t2stack||(this._t2stack=[{a:1,b:0,c:0,d:1,e:0,f:0}]);var s=this._t2stack[this._t2stack.length-1],c=s.b*e+s.d*t,u=s.a*n+s.c*r,l=s.b*n+s.d*r,p=s.e+s.a*i+s.c*a,d=s.f+s.b*i+s.d*a;s.a=s.a*e+s.c*t,s.b=c,s.c=u,s.d=l,s.e=p,s.f=d,o.call(this,e,t,n,r,i,a)}),CanvasRenderingContext2D.prototype.setTransform=(a=CanvasRenderingContext2D.prototype.setTransform,function(e,t,n,r,i,o){if(this._t2stack||(this._t2stack=[{}]),"object"==typeof e||void 0===e){var s=e.a,c=e.b,u=e.c,l=e.d,p=e.e,d=e.f;this._t2stack[this._t2stack.length-1]={a:s,b:c,c:u,d:l,e:p,f:d},a.call(this,s,c,u,l,p,d)}else this._t2stack[this._t2stack.length-1]={a:e,b:t,c:n,d:r,e:i,f:o},a.call(this,e,t,n,r,i,o)}),CanvasRenderingContext2D.prototype.resetTransform=(s=CanvasRenderingContext2D.prototype.resetTransform,function(){this._t2stack||(this._t2stack=[{}]),this._t2stack[this._t2stack.length-1]={a:1,b:0,c:0,d:1,e:0,f:0},s&&s.call(this)}),CanvasRenderingContext2D.prototype.scale=(c=CanvasRenderingContext2D.prototype.scale,function(e,t){this._t2stack||(this._t2stack=[{a:1,b:0,c:0,d:1,e:0,f:0}]);var n=this._t2stack[this._t2stack.length-1];e=e||1,t=t||e,n.a*=e,n.c*=t,n.b*=e,n.d*=t,c.call(this,e,t)}),CanvasRenderingContext2D.prototype.rotate=(u=CanvasRenderingContext2D.prototype.rotate,function(e){this._t2stack||(this._t2stack=[{a:1,b:0,c:0,d:1,e:0,f:0}]);var t=this._t2stack[this._t2stack.length-1],n=Math.cos(-e),r=Math.sin(-e),i=t.b*n-t.d*r,o=t.c*n+t.a*r,a=t.d*n+t.b*r;return t.a=t.a*n-t.c*r,t.b=i,t.c=o,t.d=a,u.call(this,e)}),CanvasRenderingContext2D.prototype.translate=(l=CanvasRenderingContext2D.prototype.translate,function(e,t){this._t2stack||(this._t2stack=[{a:1,b:0,c:0,d:1,e:0,f:0}]);var n=this._t2stack[this._t2stack.length-1];return n.e+=e*n.a+t*n.c,n.f+=e*n.b+t*n.d,l.call(this,e,t)}))},JEve:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(r.fine=window.matchMedia("(pointer: fine)").matches,r.coarse=window.matchMedia("(pointer: coarse)").matches,r.none=window.matchMedia("(pointer: none)").matches,r.anyFine=window.matchMedia("(any-pointer: fine)").matches,r.anyCoarse=window.matchMedia("(any-pointer: coarse)").matches,r.anyNone=window.matchMedia("(any-pointer: none)").matches)}};r.update(),t.default=r},JRS9:function(e,t,n){"use strict";var r=n("uPr3"),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},"JW/Y":function(e,t,n){"use strict";var r=n("QykG"),i=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},o=function e(t){var n,r;e.prototype.init.call(this),this.type_=t||"shared",this.push=function(e){"shared"!==this.type_&&e.type!==this.type_||(void 0===r&&(r=e.dts),e.dts=i(e.dts,r),e.pts=i(e.pts,r),n=e.dts,this.trigger("data",e))},this.flush=function(){r=n,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,n=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};o.prototype=new r,e.exports={TimestampRolloverStream:o,handleRollover:i}},K4wu:function(e,t,n){var r=n("vgmO"),i=e.exports={WebVTT:n("0CxO"),VTTCue:n("sDzi"),VTTRegion:n("+X0y")};r.vttjs=i,r.WebVTT=i.WebVTT;var o=i.VTTCue,a=i.VTTRegion,s=r.VTTCue,c=r.VTTRegion;i.shim=function(){r.VTTCue=o,r.VTTRegion=a},i.restore=function(){r.VTTCue=s,r.VTTRegion=c},r.VTTCue||i.shim()},KAYj:function(e,t,n){"use strict";var r,i,o,a,s,c,u=n("f+Ey").toUnsigned,l=n("f+Ey").toHexString,p=n("FflX"),d=n("jv9p"),h=n("yqws"),f=n("ii1t"),m=n("29xw");r=function(e){return p(e,["moov","trak"]).reduce((function(e,t){var n,r,i,o;return(n=p(t,["tkhd"])[0])?(i=u(n[r=0===n[0]?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(o=p(t,["mdia","mdhd"])[0])?(e[i]=u(o[r=0===o[0]?12:20]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),e):null):null}),{})},i=function(e,t){var n,r,i;return n=p(t,["moof","traf"]),r=[].concat.apply([],n.map((function(t){return p(t,["tfhd"]).map((function(n){var r,i;return r=u(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i=e[r]||9e4,(p(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=u(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=u(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0]||1/0)/i}))}))),i=Math.min.apply(null,r),isFinite(i)?i:0},o=function(e,t){var n,r=p(t,["moof","traf"]),i=0,o=0;if(r&&r.length){var a=p(r[0],["tfhd"])[0],s=p(r[0],["trun"])[0],c=p(r[0],["tfdt"])[0];if(a&&(n=h(a).trackId),c&&(i=m(c).baseMediaDecodeTime),s){var u=f(s);u.samples&&u.samples.length&&(o=u.samples[0].compositionTimeOffset||0)}}return(i+o)/(e[n]||9e4)},a=function(e){var t=p(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=p(e,["mdia","hdlr"]),r=p(e,["tkhd"]);t.forEach((function(e,t){var i,o,a,s=d(e.subarray(8,12)),c=r[t];"vide"===s&&(o=(i=new DataView(c.buffer,c.byteOffset,c.byteLength)).getUint8(0),a=i.getUint32(0===o?12:20),n.push(a))}))})),n},s=function(e){var t=p(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,r,i={},o=p(e,["tkhd"])[0];o&&(r=(t=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),i.id=t.getUint32(0===r?12:20));var a=p(e,["mdia","hdlr"])[0];if(a){var s=d(a.subarray(8,12));i.type="vide"===s?"video":"soun"===s?"audio":s}var u=p(e,["mdia","minf","stbl","stsd"])[0];if(u){var h=u.subarray(8);i.codec=d(h.subarray(4,8));var f,m=p(h,[i.codec])[0];m&&(/^[a-z]vc[1-9]$/i.test(i.codec)?(f=m.subarray(78),"avcC"===d(f.subarray(4,8))&&f.length>11?(i.codec+=".",i.codec+=l(f[9]),i.codec+=l(f[10]),i.codec+=l(f[11])):i.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(i.codec)&&(f=m.subarray(28),"esds"===d(f.subarray(4,8))&&f.length>20&&0!==f[19]?(i.codec+="."+l(f[19]),i.codec+="."+l(f[20]>>>2&63).replace(/^0/,"")):i.codec="mp4a.40.2"))}var g=p(e,["mdia","mdhd"])[0];g&&(i.timescale=c(g)),n.push(i)})),n},e.exports={findBox:p,parseType:d,timescale:r,startTime:i,compositionStartTime:o,videoTrackIds:a,tracks:s,getTimescaleFromMediaHeader:c=function(e){var t=0===e[0]?12:20;return u(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])}}},KN4Y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n("vgmO"))&&"object"==typeof r&&"default"in r?r:{default:r},o={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/},a=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})):e},s=function(e){return e.map(a)},c=function(e){void 0===e&&(e="");var t=e.split(","),n={};return t.forEach((function(e){e=e.trim(),["video","audio"].forEach((function(t){var r=o[t].exec(e.toLowerCase());if(r&&!(r.length<=1)){var i=e.substring(0,r[1].length),a=e.replace(i,"");n[t]={type:i,details:a}}}))})),n},u=function(e){return void 0===e&&(e=""),o.audio.test(e.trim().toLowerCase())},l=function(e){if(e&&"string"==typeof e){var t=e.toLowerCase().split(",").map((function(e){return a(e.trim())})),n="video";1===t.length&&u(t[0])&&(n="audio");var r="mp4";return t.every((function(e){return o.mp4.test(e)}))?r="mp4":t.every((function(e){return o.webm.test(e)}))?r="webm":t.every((function(e){return o.ogg.test(e)}))&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}};t.DEFAULT_AUDIO_CODEC="mp4a.40.2",t.DEFAULT_VIDEO_CODEC="avc1.4d400d",t.browserSupportsCodec=function(e){return void 0===e&&(e=""),i.default.MediaSource&&i.default.MediaSource.isTypeSupported&&i.default.MediaSource.isTypeSupported(l(e))||!1},t.codecsFromDefault=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var r in n){var i=n[r];if(i.default&&i.playlists)return c(i.playlists[0].attributes.CODECS)}return null},t.getMimeForCodec=l,t.isAudioCodec=u,t.isVideoCodec=function(e){return void 0===e&&(e=""),o.video.test(e.trim().toLowerCase())},t.mapLegacyAvcCodecs=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e){return s([e])[0]}))},t.muxerSupportsCodec=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){return e=e.trim(),o.muxerVideo.test(e)||o.muxerAudio.test(e)}))},t.parseCodecs=c,t.translateLegacyCodec=a,t.translateLegacyCodecs=s},KdhP:function(e,t,n){function r(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new u,o=n.domBuilder||new i,s=n.errorHandler,c=n.locator,l=n.xmlns||{},p={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&o.setDocumentLocator(c),r.errorHandler=function(e,t,n){if(!e){if(t instanceof i)return t;e=t}var r={},o=e instanceof Function;function s(t){var i=e[t];!i&&o&&(i=2==e.length?function(n){e(t,n)}:e),r[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+a(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(s,o,c),r.domBuilder=n.domBuilder||o,/\/x?html?$/.test(t)&&(p.nbsp="\xa0",p.copy="\xa9",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?r.parse(e,l,p):r.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),s=r.length;c(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var u=0;u<s;u++){e=r.getURI(u);var l=r.getValue(u),p=(n=r.getQName(u),i.createAttributeNS(e,n));this.locator&&o(r.getLocator(u),p),p.value=p.nodeValue=l,a.setAttributeNode(p)}},endElement:function(e,t,n){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,n),c(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=s.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&o(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=s.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&o(this.locator,r),c(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&o(this.locator,i),c(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){i.prototype[e]=function(){return null}}));var u=n("1h1e").XMLReader,l=t.DOMImplementation=n("dJxt").DOMImplementation;t.XMLSerializer=n("dJxt").XMLSerializer,t.DOMParser=r},"LRa+":function(e,t,n){!function(){"use strict";var t=Math.abs,r=Math.min,i=Math.max,o=Math.cos,a=Math.sin,s=Math.acos,c=Math.sqrt,u=Math.PI,l={x:0,y:0,z:0},p=n("2As9"),d=n("D3+e"),h=function(e){var n=e&&e.forEach?e:[].slice.call(arguments),r=!1;if("object"==typeof n[0]){r=n.length;var i=[];n.forEach((function(e){["x","y","z"].forEach((function(t){void 0!==e[t]&&i.push(e[t])}))})),n=i}var o=!1,a=n.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(6!==a&&8!==a&&9!==a&&12!==a&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var s=!o&&(9===a||12===a)||e&&e[0]&&void 0!==e[0].z;this._3d=s;for(var c=[],u=0,l=s?3:2;u<a;u+=l){var d={x:n[u],y:n[u+1]};s&&(d.z=n[u+2]),c.push(d)}this.order=c.length-1,this.points=c;var h=["x","y"];s&&h.push("z"),this.dims=h,this.dimlen=h.length,function(e){for(var n=e.points,r=p.align(n,{p1:n[0],p2:n[e.order]}),i=0;i<r.length;i++)if(t(r[i].y)>1e-4)return void(e._linear=!1);e._linear=!0}(this),this._t1=0,this._t2=1,this.update()},f=n("TDvD");function m(e,t,n,r,i){void 0===i&&(i=.5);var o=p.projectionratio(i,e),a=1-o,s={x:o*t.x+a*r.x,y:o*t.y+a*r.y},c=p.abcratio(i,e);return{A:{x:n.x+(n.x-s.x)/c,y:n.y+(n.y-s.y)/c},B:n,C:s}}h.SVGtoBeziers=function(e){return f(h,e)},h.quadraticFromPoints=function(e,t,n,r){if(void 0===r&&(r=.5),0===r)return new h(t,t,n);if(1===r)return new h(e,t,t);var i=m(2,e,t,n,r);return new h(e,i.A,n)},h.cubicFromPoints=function(e,t,n,r,i){void 0===r&&(r=.5);var o=m(3,e,t,n,r);void 0===i&&(i=p.dist(t,o.C));var a=i*(1-r)/r,s=p.dist(e,n),c=(n.x-e.x)/s,u=(n.y-e.y)/s,l=o.A;return new h(e,{x:e.x+(l.x+(t.x-i*c-l.x)/(1-r)-e.x)/r,y:e.y+(l.y+(t.y-i*u-l.y)/(1-r)-e.y)/r},{x:n.x+(l.x+(t.x+a*c-l.x)/r-n.x)/(1-r),y:n.y+(l.y+(t.y+a*u-l.y)/r-n.y)/(1-r)},n)};var g=function(){return p};h.getUtils=g,h.PolyBezier=d,h.prototype={getUtils:g,valueOf:function(){return this.toString()},toString:function(){return p.pointsToString(this.points)},toSVG:function(e){if(this._3d)return!1;for(var t=this.points,n=["M",t[0].x,t[0].y,2===this.order?"Q":"C"],r=1,i=t.length;r<i;r++)n.push(t[r].x),n.push(t[r].y);return n.join(" ")},setRatios:function(e){if(e.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=e,this._lut=[]},verify:function(){var e=this.coordDigest();e!==this._print&&(this._print=e,this.update())},coordDigest:function(){return this.points.map((function(e,t){return""+t+e.x+e.y+(e.z?e.z:0)})).join("")},update:function(e){this._lut=[],this.dpoints=p.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var e=this.points,t=p.angle(e[0],e[this.order],e[1]);this.clockwise=t>0},length:function(){return p.length(this.derivative.bind(this))},_lut:[],getLUT:function(e){if(this.verify(),this._lut.length===(e=e||100))return this._lut;this._lut=[],e--;for(var t=0;t<=e;t++)this._lut.push(this.compute(t/e));return this._lut},on:function(e,t){t=t||5;for(var n,r=this.getLUT(),i=[],o=0,a=0;a<r.length;a++)p.dist(n=r[a],e)<t&&(i.push(n),o+=a/r.length);return!!i.length&&o/i.length},project:function(e){var t,n,r,i,o=this.getLUT(),a=o.length-1,s=p.closest(o,e),c=s.mdist,u=s.mpos,l=(u+1)/a,d=.1/a;for(c+=1,t=n=(u-1)/a;n<l+d;n+=d)r=this.compute(n),(i=p.dist(e,r))<c&&(c=i,t=n);return(r=this.compute(t)).t=t,r.d=c,r},get:function(e){return this.compute(e)},point:function(e){return this.points[e]},compute:function(e){return this.ratios?p.computeWithRatios(e,this.points,this.ratios,this._3d):p.compute(e,this.points,this._3d,this.ratios)},raise:function(){for(var e,t,n=this.points,r=[n[0]],i=n.length,o=1;o<i;o++)r[o]={x:(i-o)/i*(e=n[o]).x+o/i*(t=n[o-1]).x,y:(i-o)/i*e.y+o/i*t.y};return r[i]=n[i-1],new h(r)},derivative:function(e){var t,n,r=1-e,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],l],t=r,n=e),3===this.order&&(t=r*r,n=r*e*2,i=e*e);var a={x:t*o[0].x+n*o[1].x+i*o[2].x,y:t*o[0].y+n*o[1].y+i*o[2].y};return this._3d&&(a.z=t*o[0].z+n*o[1].z+i*o[2].z),a},curvature:function(e){return p.curvature(e,this.points,this._3d)},inflections:function(){return p.inflections(this.points)},normal:function(e){return this._3d?this.__normal3(e):this.__normal2(e)},__normal2:function(e){var t=this.derivative(e),n=c(t.x*t.x+t.y*t.y);return{x:-t.y/n,y:t.x/n}},__normal3:function(e){var t=this.derivative(e),n=this.derivative(e+.01),r=c(t.x*t.x+t.y*t.y+t.z*t.z),i=c(n.x*n.x+n.y*n.y+n.z*n.z);t.x/=r,t.y/=r,t.z/=r,n.x/=i,n.y/=i,n.z/=i;var o={x:n.y*t.z-n.z*t.y,y:n.z*t.x-n.x*t.z,z:n.x*t.y-n.y*t.x},a=c(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=a,o.y/=a,o.z/=a;var s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:s[0]*t.x+s[1]*t.y+s[2]*t.z,y:s[3]*t.x+s[4]*t.y+s[5]*t.z,z:s[6]*t.x+s[7]*t.y+s[8]*t.z}},hull:function(e){var t,n=this.points,r=[],i=[],o=0,a=0,s=0;for(i[o++]=n[0],i[o++]=n[1],i[o++]=n[2],3===this.order&&(i[o++]=n[3]);n.length>1;){for(r=[],a=0,s=n.length-1;a<s;a++)t=p.lerp(e,n[a],n[a+1]),i[o++]=t,r.push(t);n=r}return i},split:function(e,t){if(0===e&&t)return this.split(t).left;if(1===t)return this.split(e).right;var n=this.hull(e),r={left:new h(2===this.order?[n[0],n[3],n[5]]:[n[0],n[4],n[7],n[9]]),right:new h(2===this.order?[n[5],n[4],n[2]]:[n[9],n[8],n[6],n[3]]),span:n};return r.left._t1=p.map(0,0,1,this._t1,this._t2),r.left._t2=p.map(e,0,1,this._t1,this._t2),r.right._t1=p.map(e,0,1,this._t1,this._t2),r.right._t2=p.map(1,0,1,this._t1,this._t2),t?(t=p.map(t,e,1,0,1),r.right.split(t).left):r},extrema:function(){var e,t,n={},r=[];return this.dims.forEach((function(i){e=this.dpoints[0].map(t=function(e){return e[i]}),n[i]=p.droots(e),3===this.order&&(e=this.dpoints[1].map(t),n[i]=n[i].concat(p.droots(e))),n[i]=n[i].filter((function(e){return e>=0&&e<=1})),r=r.concat(n[i].sort(p.numberSort))}).bind(this)),r=r.sort(p.numberSort).filter((function(e,t){return r.indexOf(e)===t})),n.values=r,n},bbox:function(){var e=this.extrema(),t={};return this.dims.forEach((function(n){t[n]=p.getminmax(this,n,e[n])}).bind(this)),t},overlaps:function(e){var t=this.bbox(),n=e.bbox();return p.bboxoverlap(t,n)},offset:function(e,t){if(void 0!==t){var n=this.get(e),r=this.normal(e),i={c:n,n:r,x:n.x+r.x*t,y:n.y+r.y*t};return this._3d&&(i.z=n.z+r.z*t),i}if(this._linear){var o=this.normal(0),a=this.points.map((function(t){var n={x:t.x+e*o.x,y:t.y+e*o.y};return t.z&&r.z&&(n.z=t.z+e*o.z),n}));return[new h(a)]}return this.reduce().map((function(t){return t._linear?t.offset(e)[0]:t.scale(e)}))},simple:function(){if(3===this.order){var e=p.angle(this.points[0],this.points[3],this.points[1]),n=p.angle(this.points[0],this.points[3],this.points[2]);if(e>0&&n<0||e<0&&n>0)return!1}var r=this.normal(0),i=this.normal(1),o=r.x*i.x+r.y*i.y;return this._3d&&(o+=r.z*i.z),t(s(o))<u/3},reduce:function(){var e,n,r=0,i=0,o=[],a=[],s=this.extrema().values;for(-1===s.indexOf(0)&&(s=[0].concat(s)),-1===s.indexOf(1)&&s.push(1),r=s[0],e=1;e<s.length;e++)(n=this.split(r,i=s[e]))._t1=r,n._t2=i,o.push(n),r=i;return o.forEach((function(e){for(r=0,i=0;i<=1;)for(i=r+.01;i<=1.01;i+=.01)if(!(n=e.split(r,i)).simple()){if(t(r-(i-=.01))<.01)return[];(n=e.split(r,i))._t1=p.map(r,0,1,e._t1,e._t2),n._t2=p.map(i,0,1,e._t1,e._t2),a.push(n),r=i;break}r<1&&((n=e.split(r,1))._t1=p.map(r,0,1,e._t1,e._t2),n._t2=e._t2,a.push(n))})),a},scale:function(e){var t=this.order,n=!1;if("function"==typeof e&&(n=e),n&&2===t)return this.raise().scale(n);var r=this.clockwise,i=n?n(0):e,o=n?n(1):e,a=[this.offset(0,10),this.offset(1,10)],s=p.lli4(a[0],a[0].c,a[1],a[1].c);if(!s)throw new Error("cannot scale this curve. Try reducing it first.");var u=this.points,l=[];return[0,1].forEach((function(e){var n=l[e*t]=p.copy(u[e*t]);n.x+=(e?o:i)*a[e].n.x,n.y+=(e?o:i)*a[e].n.y}).bind(this)),n?([0,1].forEach((function(i){if(2!==this.order||!i){var o=u[i+1],a={x:o.x-s.x,y:o.y-s.y},p=n?n((i+1)/t):e;n&&!r&&(p=-p);var d=c(a.x*a.x+a.y*a.y);a.x/=d,a.y/=d,l[i+1]={x:o.x+p*a.x,y:o.y+p*a.y}}}).bind(this)),new h(l)):([0,1].forEach((function(e){if(2!==this.order||!e){var n=l[e*t],r=this.derivative(e);l[e+1]=p.lli4(n,{x:n.x+r.x,y:n.y+r.y},s,u[e+1])}}).bind(this)),new h(l))},outline:function(e,t,n,r){t=void 0===t?e:t;var i,o=this.reduce(),a=o.length,s=[],c=[],u=0,l=this.length(),h=void 0!==n&&void 0!==r;function f(e,t,n,r,i){return function(o){var a=t-e;return p.map(o,0,1,e+r/n*a,e+(r+i)/n*a)}}o.forEach((function(i){A=i.length(),h?(s.push(i.scale(f(e,n,l,u,A))),c.push(i.scale(f(-t,-r,l,u,A)))):(s.push(i.scale(e)),c.push(i.scale(-t))),u+=A})),c=c.map((function(e){return e.points=(i=e.points)[3]?[i[3],i[2],i[1],i[0]]:[i[2],i[1],i[0]],e})).reverse();var m=s[a-1].points[s[a-1].points.length-1],g=c[0].points[0],y=p.makeline(c[a-1].points[c[a-1].points.length-1],s[0].points[0]),v=p.makeline(m,g),b=[y].concat(s).concat([v]).concat(c),A=b.length;return new d(b)},outlineshapes:function(e,t,n){for(var r=this.outline(e,t=t||e).curves,i=[],o=1,a=r.length;o<a/2;o++){var s=p.makeshape(r[o],r[a-o],n);s.startcap.virtual=o>1,s.endcap.virtual=o<a/2-1,i.push(s)}return i},intersects:function(e,t){return e?e.p1&&e.p2?this.lineIntersects(e):(e instanceof h&&(e=e.reduce()),this.curveintersects(this.reduce(),e,t)):this.selfintersects(t)},lineIntersects:function(e){var t=r(e.p1.x,e.p2.x),n=r(e.p1.y,e.p2.y),o=i(e.p1.x,e.p2.x),a=i(e.p1.y,e.p2.y),s=this;return p.roots(this.points,e).filter((function(e){var r=s.get(e);return p.between(r.x,t,o)&&p.between(r.y,n,a)}))},selfintersects:function(e){var t,n,r,i,o=this.reduce(),a=o.length-2,s=[];for(t=0;t<a;t++)r=o.slice(t,t+1),i=o.slice(t+2),n=this.curveintersects(r,i,e),s=s.concat(n);return s},curveintersects:function(e,t,n){var r=[];e.forEach((function(e){t.forEach((function(t){e.overlaps(t)&&r.push({left:e,right:t})}))}));var i=[];return r.forEach((function(e){var t=p.pairiteration(e.left,e.right,n);t.length>0&&(i=i.concat(t))})),i},arcs:function(e){return this._iterate(e=e||.5,[])},_error:function(e,n,r,i){var o=(i-r)/4,a=this.get(r+o),s=this.get(i-o),c=p.dist(e,n),u=p.dist(e,a),l=p.dist(e,s);return t(u-c)+t(l-c)},_iterate:function(e,t){var n,r=0,i=1;do{n=0,i=1;var s,c,u,l,d,h=this.get(r),f=!1,m=!1,g=i,y=1;do{if(m=f,l=u,s=this.get(g=(r+i)/2),c=this.get(i),(u=p.getccenter(h,s,c)).interval={start:r,end:i},f=this._error(u,h,r,i)<=e,(d=m&&!f)||(y=i),f){if(i>=1){if(u.interval.end=y=1,l=u,i>1){var v={x:u.x+u.r*o(u.e),y:u.y+u.r*a(u.e)};u.e+=p.angle({x:u.x,y:u.y},v,this.get(1))}break}i+=(i-r)/2}else i=g}while(!d&&n++<100);if(n>=100)break;t.push(l=l||u),r=y}while(i<1);return t}},e.exports=h}()},MXF5:function(e,t,n){!function(e){e.parser=function(e,t){return new i(e,t)},e.SAXParser=i,e.SAXStream=a,e.createStream=function(e,t){return new a(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(t,n){if(!(this instanceof i))return new i(t,n);!function(e){for(var t=0,n=r.length;t<n;t++)e[r[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=x.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=Object.create(this.strictEntities?e.XML_ENTITIES:e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),_(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),i.prototype={end:function(){E(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return C(this,"Cannot write after close. Assign an onready handler.");if(null===t)return E(this);"object"==typeof t&&(t=t.toString());for(var n,i,o,a,s=0,c="";c=j(t,s++),this.c=c,c;)switch(this.trackPosition&&(this.position++,"\n"===c?(this.line++,this.column=0):this.column++),this.state){case x.BEGIN:if(this.state=x.BEGIN_WHITESPACE,"\ufeff"===c)continue;R(this,c);continue;case x.BEGIN_WHITESPACE:R(this,c);continue;case x.TEXT:if(this.sawRoot&&!this.closedRoot){for(var v=s-1;c&&"<"!==c&&"&"!==c;)(c=j(t,s++))&&this.trackPosition&&(this.position++,"\n"===c?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(v,s-1)}"<"!==c||this.sawRoot&&this.closedRoot&&!this.strict?(h(c)||this.sawRoot&&!this.closedRoot||k(this,"Text data outside of root node."),"&"===c?this.state=x.TEXT_ENTITY:this.textNode+=c):(this.state=x.OPEN_WAKA,this.startTagPosition=this.position);continue;case x.SCRIPT:"<"===c?this.state=x.SCRIPT_ENDING:this.script+=c;continue;case x.SCRIPT_ENDING:"/"===c?this.state=x.CLOSE_TAG:(this.script+="<"+c,this.state=x.SCRIPT);continue;case x.OPEN_WAKA:"!"===c?(this.state=x.SGML_DECL,this.sgmlDecl=""):h(c)||(g(u,c)?(this.state=x.OPEN_TAG,this.tagName=c):"/"===c?(this.state=x.CLOSE_TAG,this.tagName=""):"?"===c?(this.state=x.PROC_INST,this.procInstName=this.procInstBody=""):(k(this,"Unencoded <"),this.startTagPosition+1<this.position&&(c=new Array(this.position-this.startTagPosition).join(" ")+c),this.textNode+="<"+c,this.state=x.TEXT));continue;case x.SGML_DECL:"[CDATA["===(this.sgmlDecl+c).toUpperCase()?(S(this,"onopencdata"),this.state=x.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+c==="--"?(this.state=x.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+c).toUpperCase()?(this.state=x.DOCTYPE,(this.doctype||this.sawRoot)&&k(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===c?(S(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=x.TEXT):f(c)?(this.state=x.SGML_DECL_QUOTED,this.sgmlDecl+=c):this.sgmlDecl+=c;continue;case x.SGML_DECL_QUOTED:c===this.q&&(this.state=x.SGML_DECL,this.q=""),this.sgmlDecl+=c;continue;case x.DOCTYPE:">"===c?(this.state=x.TEXT,S(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=c,"["===c?this.state=x.DOCTYPE_DTD:f(c)&&(this.state=x.DOCTYPE_QUOTED,this.q=c));continue;case x.DOCTYPE_QUOTED:this.doctype+=c,c===this.q&&(this.q="",this.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:this.doctype+=c,"]"===c?this.state=x.DOCTYPE:f(c)&&(this.state=x.DOCTYPE_DTD_QUOTED,this.q=c);continue;case x.DOCTYPE_DTD_QUOTED:this.doctype+=c,c===this.q&&(this.state=x.DOCTYPE_DTD,this.q="");continue;case x.COMMENT:"-"===c?this.state=x.COMMENT_ENDING:this.comment+=c;continue;case x.COMMENT_ENDING:"-"===c?(this.state=x.COMMENT_ENDED,this.comment=P(this.opt,this.comment),this.comment&&S(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+c,this.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==c?(k(this,"Malformed comment"),this.comment+="--"+c,this.state=x.COMMENT):this.state=x.TEXT;continue;case x.CDATA:"]"===c?this.state=x.CDATA_ENDING:this.cdata+=c;continue;case x.CDATA_ENDING:"]"===c?this.state=x.CDATA_ENDING_2:(this.cdata+="]"+c,this.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===c?(this.cdata&&S(this,"oncdata",this.cdata),S(this,"onclosecdata"),this.cdata="",this.state=x.TEXT):"]"===c?this.cdata+="]":(this.cdata+="]]"+c,this.state=x.CDATA);continue;case x.PROC_INST:"?"===c?this.state=x.PROC_INST_ENDING:h(c)?this.state=x.PROC_INST_BODY:this.procInstName+=c;continue;case x.PROC_INST_BODY:if(!this.procInstBody&&h(c))continue;"?"===c?this.state=x.PROC_INST_ENDING:this.procInstBody+=c;continue;case x.PROC_INST_ENDING:">"===c?(S(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=x.TEXT):(this.procInstBody+="?"+c,this.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:g(l,c)?this.tagName+=c:(O(this),">"===c?I(this):"/"===c?this.state=x.OPEN_TAG_SLASH:(h(c)||k(this,"Invalid character in tag name"),this.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===c?(I(this,!0),D(this)):(k(this,"Forward-slash in opening tag not followed by >"),this.state=x.ATTRIB);continue;case x.ATTRIB:if(h(c))continue;">"===c?I(this):"/"===c?this.state=x.OPEN_TAG_SLASH:g(u,c)?(this.attribName=c,this.attribValue="",this.state=x.ATTRIB_NAME):k(this,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===c?this.state=x.ATTRIB_VALUE:">"===c?(k(this,"Attribute without value"),this.attribValue=this.attribName,N(this),I(this)):h(c)?this.state=x.ATTRIB_NAME_SAW_WHITE:g(l,c)?this.attribName+=c:k(this,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===c)this.state=x.ATTRIB_VALUE;else{if(h(c))continue;k(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",S(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===c?I(this):g(u,c)?(this.attribName=c,this.state=x.ATTRIB_NAME):(k(this,"Invalid attribute name"),this.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(h(c))continue;f(c)?(this.q=c,this.state=x.ATTRIB_VALUE_QUOTED):(k(this,"Unquoted attribute value"),this.state=x.ATTRIB_VALUE_UNQUOTED,this.attribValue=c);continue;case x.ATTRIB_VALUE_QUOTED:if(c!==this.q){"&"===c?this.state=x.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=c;continue}N(this),this.q="",this.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:h(c)?this.state=x.ATTRIB:">"===c?I(this):"/"===c?this.state=x.OPEN_TAG_SLASH:g(u,c)?(k(this,"No whitespace between attributes"),this.attribName=c,this.attribValue="",this.state=x.ATTRIB_NAME):k(this,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!m(c)){"&"===c?this.state=x.ATTRIB_VALUE_ENTITY_U:this.attribValue+=c;continue}N(this),">"===c?I(this):this.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(this.tagName)">"===c?D(this):g(l,c)?this.tagName+=c:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=x.SCRIPT):(h(c)||k(this,"Invalid tagname in closing tag"),this.state=x.CLOSE_TAG_SAW_WHITE);else{if(h(c))continue;y(u,c)?this.script?(this.script+="</"+c,this.state=x.SCRIPT):k(this,"Invalid tagname in closing tag."):this.tagName=c}continue;case x.CLOSE_TAG_SAW_WHITE:if(h(c))continue;">"===c?D(this):k(this,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var b,A;switch(this.state){case x.TEXT_ENTITY:b=x.TEXT,A="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:b=x.ATTRIB_VALUE_QUOTED,A="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:b=x.ATTRIB_VALUE_UNQUOTED,A="attribValue"}";"===c?(this[A]+=(n=void 0,i=void 0,a=void 0,o=(i=this.entity).toLowerCase(),a="",this.ENTITIES[i]?this.ENTITIES[i]:this.ENTITIES[o]?this.ENTITIES[o]:("#"===(i=o).charAt(0)&&("x"===i.charAt(1)?(i=i.slice(2),a=(n=parseInt(i,16)).toString(16)):(i=i.slice(1),a=(n=parseInt(i,10)).toString(10))),i=i.replace(/^0+/,""),isNaN(n)||a.toLowerCase()!==i?(k(this,"Invalid character entity"),"&"+this.entity+";"):String.fromCodePoint(n))),this.entity="",this.state=b):g(this.entity.length?d:p,c)?this.entity+=c:(k(this,"Invalid character in entity name"),this[A]+="&"+this.entity+c,this.entity="",this.state=b);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,o=0,a=r.length;o<a;o++){var s=t[r[o]].length;if(s>n)switch(r[o]){case"textNode":T(t);break;case"cdata":S(t,"oncdata",t.cdata),t.cdata="";break;case"script":S(t,"onscript",t.script),t.script="";break;default:C(t,"Max buffer length exceeded: "+r[o])}i=Math.max(i,s)}t.bufferCheckPosition=e.MAX_BUFFER_LENGTH-i+t.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){T(this),""!==this.cdata&&(S(this,"oncdata",this.cdata),this.cdata=""),""!==this.script&&(S(this,"onscript",this.script),this.script="")}};try{t=n(!function(){var e=new Error("Cannot find module 'stream'");throw e.code="MODULE_NOT_FOUND",e}()).Stream}catch(B){t=function(){}}var o=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function a(e,n){if(!(this instanceof a))return new a(e,n);t.apply(this),this._parser=new i(e,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,o.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}(a.prototype=Object.create(t.prototype,{constructor:{value:a}})).write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=n("fXKp").StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},a.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},a.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,n)};var s="http://www.w3.org/XML/1998/namespace",c={xml:s,xmlns:"http://www.w3.org/2000/xmlns/"},u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function h(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function f(e){return'"'===e||"'"===e}function m(e){return">"===e||h(e)}function g(e,t){return e.test(t)}function y(e,t){return!g(e,t)}var v,b,A,x=0;for(var w in e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[w]]=w;function _(e,t,n){e[t]&&e[t](n)}function S(e,t,n){e.textNode&&T(e),_(e,t,n)}function T(e){e.textNode=P(e.opt,e.textNode),e.textNode&&_(e,"ontext",e.textNode),e.textNode=""}function P(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function C(e,t){return T(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,_(e,"onerror",t),e}function E(e){return e.sawRoot&&!e.closedRoot&&k(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&C(e,"Unexpected end"),T(e),e.c="",e.closed=!0,_(e,"onend"),i.call(e,e.strict,e.opt),e}function k(e,t){if("object"!=typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&C(e,t)}function O(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,S(e,"onopentagstart",n)}function M(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function N(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=M(e.attribName,!0),n=t.local;if("xmlns"===t.prefix)if("xml"===n&&e.attribValue!==s)k(e,"xml: prefix must be bound to "+s+"\nActual: "+e.attribValue);else if("xmlns"===n&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)k(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var r=e.tag,i=e.tags[e.tags.length-1]||e;r.ns===i.ns&&(r.ns=Object.create(i.ns)),r.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,S(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function I(e,t){if(e.opt.xmlns){var n=e.tag,r=M(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(k(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix),n.ns&&(e.tags[e.tags.length-1]||e).ns!==n.ns&&Object.keys(n.ns).forEach((function(t){S(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var i=0,o=e.attribList.length;i<o;i++){var a=e.attribList[i],s=a[0],c=a[1],u=M(s,!0),l=u.prefix,p=""===l?"":n.ns[l]||"",d={name:s,value:c,prefix:l,local:u.local,uri:p};l&&"xmlns"!==l&&!p&&(k(e,"Unbound namespace prefix: "+JSON.stringify(l)),d.uri=l),e.tag.attributes[s]=d,S(e,"onattribute",d)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),S(e,"onopentag",e.tag),t||(e.state=e.noscript||"script"!==e.tagName.toLowerCase()?x.TEXT:x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function D(e){if(!e.tagName)return k(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);S(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)k(e,"Unexpected close tag");if(t<0)return k(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,S(e,"onclosetag",e.tagName);var a={};for(var s in o.ns)a[s]=o.ns[s];e.opt.xmlns&&o.ns!==(e.tags[e.tags.length-1]||e).ns&&Object.keys(o.ns).forEach((function(t){S(e,"onclosenamespace",{prefix:t,uri:o.ns[t]})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function R(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):h(t)||(k(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function j(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}x=e.STATE,String.fromCodePoint||(v=String.fromCharCode,b=Math.floor,A=function(){var e=16384,t=[],n=-1,r=arguments.length;if(!r)return"";for(var i="";++n<r;){var o=Number(arguments[n]);if(!isFinite(o)||o<0||o>1114111||b(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?t.push(o):t.push(55296+((o-=65536)>>10),o%1024+56320),(n+1===r||t.length>e)&&(i+=v.apply(null,t),t.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:A,configurable:!0,writable:!0}):String.fromCodePoint=A)}(t)},MgzW:function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,c=a(e),u=1;u<arguments.length;u++){for(var l in n=Object(arguments[u]))i.call(n,l)&&(c[l]=n[l]);if(r){s=r(n);for(var p=0;p<s.length;p++)o.call(n,s[p])&&(c[s[p]]=n[s[p]])}}return c}},Mjzu:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(n("0Tbm")),o=r(n("vgmO"));e.exports=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=i.buildAbsoluteURL(o.location&&o.location.href||"",e)),i.buildAbsoluteURL(e,t))}},NsZL:function(e,t){var n,r,i,o,a,s,c;a=function(e,t){return n(o(e,t))},s=function(e,t){return r(i(e),t)},c=function(e,t,n){return i(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:n=function(e){return 9e4*e},secondsToAudioTs:r=function(e,t){return e*t},videoTsToSeconds:i=function(e){return e/9e4},audioTsToSeconds:o=function(e,t){return e/t},audioTsToVideoTs:a,videoTsToAudioTs:s,metadataTsToSeconds:c}},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},QCnb:function(e,t,n){"use strict";e.exports=n("+wdc")},QSgb:function(e,t,n){var r;!function(i){"use strict";var o,a,s,c=9e15,u="0123456789abcdef",l="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",p="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",d={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-c,maxE:c,crypto:!1},h=!0,f="[DecimalError] Invalid argument: ",m=Math.floor,g=Math.pow,y=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,v=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,b=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,A=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,x=1e7,w=l.length-1,_=p.length-1,S={name:"[object Decimal]"};function T(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=j(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=j(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function P(e,t,n){if(e!==~~e||e<t||e>n)throw Error(f+e)}function C(e,t,n,r){var i,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),o=g(10,7-t),s=e[i]%o|0,null==r?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(e[i+1]/o/100|0)==g(10,t-2)-1||(s==o/2||0==s)&&0==(e[i+1]/o/100|0):t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(e[i+1]/o/1e3|0)==g(10,t-3)-1,a}function E(e,t,n){for(var r,i,o=[0],a=0,s=e.length;a<s;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=u.indexOf(e.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}S.absoluteValue=S.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),O(e)},S.ceil=function(){return O(new this.constructor(this),this.e+1,2)},S.comparedTo=S.cmp=function(e){var t,n,r,i,o=this,a=o.d,s=(e=new o.constructor(e)).d,c=o.s,u=e.s;if(!a||!s)return c&&u?c!==u?c:a===s?0:!a^c<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?c:s[0]?-u:0;if(c!==u)return c;if(o.e!==e.e)return o.e>e.e^c<0?1:-1;for(t=0,n=(r=a.length)<(i=s.length)?r:i;t<n;++t)if(a[t]!==s[t])return a[t]>s[t]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1},S.cosine=S.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.rounding,r.precision=(e=r.precision)+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r,i=t.d.length;i<32?r=(1/q(4,n=Math.ceil(i/3))).toString():(n=16,r="2.3283064365386962890625e-10"),e.precision+=n,t=G(e,1,t.times(r),new e(1));for(var o=n;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,X(r,n)),r.precision=e,r.rounding=t,O(2==s||3==s?n.neg():n,e,t,!0)):new r(1):new r(NaN)},S.cubeRoot=S.cbrt=function(){var e,t,n,r,i,o,a,s,c,u,l=this,p=l.constructor;if(!l.isFinite()||l.isZero())return new p(l);for(h=!1,(o=l.s*g(l.s*l,1/3))&&Math.abs(o)!=1/0?r=new p(o.toString()):(n=T(l.d),(o=((e=l.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=g(n,1/3),e=m((e+1)/3)-(e%3==(e<0?-1:2)),(r=new p(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=l.s),a=(e=p.precision)+3;;)if(u=(c=(s=r).times(s).times(s)).plus(l),r=k(u.plus(l).times(s),u.plus(c),a+2,1),T(s.d).slice(0,a)===(n=T(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(O(r,e+1,1),t=!r.times(r).times(r).eq(l));break}if(!i&&(O(s,e+1,0),s.times(s).times(s).eq(l))){r=s;break}a+=4,i=1}return h=!0,O(r,e,p.rounding,t)},S.decimalPlaces=S.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-m(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},S.dividedBy=S.div=function(e){return k(this,new this.constructor(e))},S.dividedToIntegerBy=S.divToInt=function(e){var t=this.constructor;return O(k(this,new t(e),0,1,1),t.precision,t.rounding)},S.equals=S.eq=function(e){return 0===this.cmp(e)},S.floor=function(){return O(new this.constructor(this),this.e+1,3)},S.greaterThan=S.gt=function(e){return this.cmp(e)>0},S.greaterThanOrEqualTo=S.gte=function(e){var t=this.cmp(e);return 1==t||0===t},S.hyperbolicCosine=S.cosh=function(){var e,t,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;r=a.rounding,a.precision=(n=a.precision)+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?t=(1/q(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=G(a,1,o.times(t),new a(1),!0);for(var c,u=e,l=new a(8);u--;)c=o.times(o),o=s.minus(c.times(l.minus(c.times(l))));return O(o,a.precision=n,a.rounding=r,!0)},S.hyperbolicSine=S.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(n=o.rounding,o.precision=(t=o.precision)+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=G(o,2,i,i,!0);else{e=1.4*Math.sqrt(r),i=G(o,2,i=i.times(1/q(5,e=e>16?16:0|e)),i,!0);for(var a,s=new o(5),c=new o(16),u=new o(20);e--;)a=i.times(i),i=i.times(s.plus(a.times(c.times(a).plus(u))))}return o.precision=t,o.rounding=n,O(i,t,n,!0)},S.hyperbolicTangent=S.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.rounding,r.precision=(e=r.precision)+7,r.rounding=1,k(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},S.inverseCosine=S.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?D(n,i,o):new n(0):new n(NaN):t.isZero()?D(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=D(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},S.inverseHyperbolicCosine=S.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.rounding,r.precision=(e=r.precision)+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,h=!1,n=n.times(n).minus(1).sqrt().plus(n),h=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},S.inverseHyperbolicSine=S.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.rounding,r.precision=(e=r.precision)+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,h=!1,n=n.times(n).plus(1).sqrt().plus(n),h=!0,r.precision=e,r.rounding=t,n.ln())},S.inverseHyperbolicTangent=S.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?O(new o(i),e,t,!0):(o.precision=n=r-i.e,i=k(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},S.inverseSine=S.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=D(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},S.inverseTangent=S.atan=function(){var e,t,n,r,i,o,a,s,c,u=this,l=u.constructor,p=l.precision,d=l.rounding;if(u.isFinite()){if(u.isZero())return new l(u);if(u.abs().eq(1)&&p+4<=_)return(a=D(l,p+4,d).times(.25)).s=u.s,a}else{if(!u.s)return new l(NaN);if(p+4<=_)return(a=D(l,p+4,d).times(.5)).s=u.s,a}for(l.precision=s=p+10,l.rounding=1,e=n=Math.min(28,s/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(h=!1,t=Math.ceil(s/7),r=1,c=u.times(u),a=new l(u),i=u;-1!==e;)if(i=i.times(c),o=a.minus(i.div(r+=2)),i=i.times(c),void 0!==(a=o.plus(i.div(r+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),h=!0,O(a,l.precision=p,l.rounding=d,!0)},S.isFinite=function(){return!!this.d},S.isInteger=S.isInt=function(){return!!this.d&&m(this.e/7)>this.d.length-2},S.isNaN=function(){return!this.s},S.isNegative=S.isNeg=function(){return this.s<0},S.isPositive=S.isPos=function(){return this.s>0},S.isZero=function(){return!!this.d&&0===this.d[0]},S.lessThan=S.lt=function(e){return this.cmp(e)<0},S.lessThanOrEqualTo=S.lte=function(e){return this.cmp(e)<1},S.logarithm=S.log=function(e){var t,n,r,i,o,a,s,c,u=this.constructor,l=u.precision,p=u.rounding;if(null==e)e=new u(10),t=!0;else{if(n=(e=new u(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new u(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(h=!1,a=z(this,s=l+5),r=t?I(u,s+10):z(e,s),C((c=k(a,r,s,1)).d,i=l,p))do{if(a=z(this,s+=10),r=t?I(u,s+10):z(e,s),c=k(a,r,s,1),!o){+T(c.d).slice(i+1,i+15)+1==1e14&&(c=O(c,l+1,0));break}}while(C(c.d,i+=10,p));return h=!0,O(c,l,p)},S.minus=S.sub=function(e){var t,n,r,i,o,a,s,c,u,l,p,d,f=this,g=f.constructor;if(e=new g(e),!f.d||!e.d)return f.s&&e.s?f.d?e.s=-e.s:e=new g(e.d||f.s!==e.s?f:NaN):e=new g(NaN),e;if(f.s!=e.s)return e.s=-e.s,f.plus(e);if(d=e.d,s=g.precision,c=g.rounding,!(u=f.d)[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!u[0])return new g(3===c?-0:0);e=new g(f)}return h?O(e,s,c):e}if(n=m(e.e/7),l=m(f.e/7),u=u.slice(),o=l-n){for((p=o<0)?(t=u,o=-o,a=d.length):(t=d,n=l,a=u.length),o>(r=Math.max(Math.ceil(s/7),a)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((p=(r=u.length)<(a=d.length))&&(a=r),r=0;r<a;r++)if(u[r]!=d[r]){p=u[r]<d[r];break}o=0}for(p&&(t=u,u=d,d=t,e.s=-e.s),r=d.length-(a=u.length);r>0;--r)u[a++]=0;for(r=d.length;r>o;){if(u[--r]<d[r]){for(i=r;i&&0===u[--i];)u[i]=x-1;--u[i],u[r]+=x}u[r]-=d[r]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=N(u,n),h?O(e,s,c):e):new g(3===c?-0:0)},S.modulo=S.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?O(new r(n),r.precision,r.rounding):(h=!1,9==r.modulo?(t=k(n,e.abs(),0,3,1)).s*=e.s:t=k(n,e,0,r.modulo,1),t=t.times(e),h=!0,n.minus(t))},S.naturalExponential=S.exp=function(){return U(this)},S.naturalLogarithm=S.ln=function(){return z(this)},S.negated=S.neg=function(){var e=new this.constructor(this);return e.s=-e.s,O(e)},S.plus=S.add=function(e){var t,n,r,i,o,a,s,c,u,l,p=this,d=p.constructor;if(e=new d(e),!p.d||!e.d)return p.s&&e.s?p.d||(e=new d(e.d||p.s===e.s?p:NaN)):e=new d(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(l=e.d,s=d.precision,c=d.rounding,!(u=p.d)[0]||!l[0])return l[0]||(e=new d(p)),h?O(e,s,c):e;if(o=m(p.e/7),r=m(e.e/7),u=u.slice(),i=o-r){for(i<0?(n=u,i=-i,a=l.length):(n=l,r=o,a=u.length),i>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=u.length)-(i=l.length)<0&&(i=a,n=l,l=u,u=n),t=0;i;)t=(u[--i]=u[i]+l[i]+t)/x|0,u[i]%=x;for(t&&(u.unshift(t),++r),a=u.length;0==u[--a];)u.pop();return e.d=u,e.e=N(u,r),h?O(e,s,c):e},S.precision=S.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(f+e);return n.d?(t=R(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},S.round=function(){var e=this,t=e.constructor;return O(new t(e),e.e+1,t.rounding)},S.sine=S.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.rounding,r.precision=(e=r.precision)+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return G(e,2,t,t);n=1.4*Math.sqrt(r),t=G(e,2,t=t.times(1/q(5,n=n>16?16:0|n)),t);for(var i,o=new e(5),a=new e(16),s=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(s))));return t}(r,X(r,n)),r.precision=e,r.rounding=t,O(s>2?n.neg():n,e,t,!0)):new r(NaN)},S.squareRoot=S.sqrt=function(){var e,t,n,r,i,o,a=this,s=a.d,c=a.e,u=a.s,l=a.constructor;if(1!==u||!s||!s[0])return new l(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);for(h=!1,0==(u=Math.sqrt(+a))||u==1/0?(((t=T(s)).length+c)%2==0&&(t+="0"),u=Math.sqrt(t),c=m((c+1)/2)-(c<0||c%2),r=new l(t=u==1/0?"5e"+c:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new l(u.toString()),n=(c=l.precision)+3;;)if(r=(o=r).plus(k(a,o,n+2,1)).times(.5),T(o.d).slice(0,n)===(t=T(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(O(r,c+1,1),e=!r.times(r).eq(a));break}if(!i&&(O(o,c+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return h=!0,O(r,c,l.rounding,e)},S.tangent=S.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.rounding,r.precision=(e=r.precision)+10,r.rounding=1,(n=n.sin()).s=1,n=k(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,O(2==s||4==s?n.neg():n,e,t,!0)):new r(NaN)},S.times=S.mul=function(e){var t,n,r,i,o,a,s,c,u,l=this,p=l.constructor,d=l.d,f=(e=new p(e)).d;if(e.s*=l.s,!(d&&d[0]&&f&&f[0]))return new p(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:d&&f?0*e.s:e.s/0);for(n=m(l.e/7)+m(e.e/7),(c=d.length)<(u=f.length)&&(o=d,d=f,f=o,a=c,c=u,u=a),o=[],r=a=c+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)s=o[i]+f[r]*d[i-r-1]+t,o[i--]=s%x|0,t=s/x|0;o[i]=(o[i]+t)%x|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=N(o,n),h?O(e,p.precision,p.rounding):e},S.toBinary=function(e,t){return K(this,2,e,t)},S.toDecimalPlaces=S.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(P(e,0,1e9),void 0===t?t=r.rounding:P(t,0,8),O(n,e+n.e+1,t))},S.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=M(r,!0):(P(e,0,1e9),void 0===t?t=i.rounding:P(t,0,8),n=M(r=O(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},S.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=M(i):(P(e,0,1e9),void 0===t?t=o.rounding:P(t,0,8),n=M(r=O(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},S.toFraction=function(e){var t,n,r,i,o,a,s,c,u,l,p,d,m=this,y=m.d,v=m.constructor;if(!y)return new v(m);if(u=n=new v(1),r=c=new v(0),o=(t=new v(r)).e=R(y)-m.e-1,t.d[0]=g(10,(a=o%7)<0?7+a:a),null==e)e=o>0?t:u;else{if(!(s=new v(e)).isInt()||s.lt(u))throw Error(f+s);e=s.gt(t)?o>0?t:u:s}for(h=!1,s=new v(T(y)),l=v.precision,v.precision=o=7*y.length*2;p=k(s,t,0,1,1),1!=(i=n.plus(p.times(r))).cmp(e);)n=r,r=i,u=c.plus(p.times(i=u)),c=i,t=s.minus(p.times(i=t)),s=i;return i=k(e.minus(n),r,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(r)),c.s=u.s=m.s,d=k(u,r,o,1).minus(m).abs().cmp(k(c,n,o,1).minus(m).abs())<1?[u,r]:[c,n],v.precision=l,h=!0,d},S.toHexadecimal=S.toHex=function(e,t){return K(this,16,e,t)},S.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:P(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(h=!1,n=k(n,e,0,t,1).times(e),h=!0,O(n)):(e.s=n.s,n=e),n},S.toNumber=function(){return+this},S.toOctal=function(e,t){return K(this,8,e,t)},S.toPower=S.pow=function(e){var t,n,r,i,o,a,s=this,c=s.constructor,u=+(e=new c(e));if(!(s.d&&e.d&&s.d[0]&&e.d[0]))return new c(g(+s,u));if((s=new c(s)).eq(1))return s;if(r=c.precision,o=c.rounding,e.eq(1))return O(s,r,o);if((t=m(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return i=B(c,s,n,r),e.s<0?new c(1).div(i):O(i,r,o);if((a=s.s)<0){if(t<e.d.length-1)return new c(NaN);if(0==(1&e.d[t])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(n=g(+s,u))&&isFinite(n)?new c(n+"").e:m(u*(Math.log("0."+T(s.d))/Math.LN10+s.e+1)))>c.maxE+1||t<c.minE-1?new c(t>0?a/0:0):(h=!1,c.rounding=s.s=1,n=Math.min(12,(t+"").length),(i=U(e.times(z(s,r+n)),r)).d&&C((i=O(i,r+5,1)).d,r,o)&&+T((i=O(U(e.times(z(s,(t=r+10)+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=O(i,r+1,0)),i.s=a,h=!0,c.rounding=o,O(i,r,o))},S.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=M(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(P(e,1,1e9),void 0===t?t=i.rounding:P(t,0,8),n=M(r=O(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},S.toSignificantDigits=S.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(P(e,1,1e9),void 0===t?t=n.rounding:P(t,0,8)),O(new n(this),e,t)},S.toString=function(){var e=this,t=e.constructor,n=M(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},S.truncated=S.trunc=function(){return O(new this.constructor(this),this.e+1,1)},S.valueOf=S.toJSON=function(){var e=this,t=e.constructor,n=M(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var k=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)e[o]=(r=e[o]*t+i)%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,e[n]=(i=e[n]<t[n]?1:0)*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,s,c,u){var l,p,d,h,f,g,y,v,b,A,w,_,S,T,P,C,E,k,M,N,I=r.constructor,D=r.s==i.s?1:-1,R=r.d,j=i.d;if(!(R&&R[0]&&j&&j[0]))return new I(r.s&&i.s&&(R?!j||R[0]!=j[0]:j)?R&&0==R[0]||!j?0*D:D/0:NaN);for(u?(f=1,p=r.e-i.e):(u=x,p=m(r.e/(f=7))-m(i.e/f)),M=j.length,E=R.length,A=(b=new I(D)).d=[],d=0;j[d]==(R[d]||0);d++);if(j[d]>(R[d]||0)&&p--,null==o?(T=o=I.precision,s=I.rounding):T=c?o+(r.e-i.e)+1:o,T<0)A.push(1),g=!0;else{if(T=T/f+2|0,d=0,1==M){for(h=0,j=j[0],T++;(d<E||h)&&T--;d++)A[d]=(P=h*u+(R[d]||0))/j|0,h=P%j|0;g=h||d<E}else{for((h=u/(j[0]+1)|0)>1&&(j=e(j,h,u),R=e(R,h,u),M=j.length,E=R.length),C=M,_=(w=R.slice(0,M)).length;_<M;)w[_++]=0;(N=j.slice()).unshift(0),k=j[0],j[1]>=u/2&&++k;do{h=0,(l=t(j,w,M,_))<0?(S=w[0],M!=_&&(S=S*u+(w[1]||0)),(h=S/k|0)>1?(h>=u&&(h=u-1),1==(l=t(y=e(j,h,u),w,v=y.length,_=w.length))&&(h--,n(y,M<v?N:j,v,u))):(0==h&&(l=h=1),y=j.slice()),(v=y.length)<_&&y.unshift(0),n(w,y,_,u),-1==l&&(l=t(j,w,M,_=w.length))<1&&(h++,n(w,M<_?N:j,_,u)),_=w.length):0===l&&(h++,w=[0]),A[d++]=h,l&&w[0]?w[_++]=R[C]||0:(w=[R[C]],_=1)}while((C++<E||void 0!==w[0])&&T--);g=void 0!==w[0]}A[0]||A.shift()}if(1==f)b.e=p,a=g;else{for(d=1,h=A[0];h>=10;h/=10)d++;b.e=d+p*f-1,O(b,c?o+b.e+1:o,s,g)}return b}}();function O(e,t,n,r){var i,o,a,s,c,u,l,p,d,f=e.constructor;e:if(null!=t){if(!(p=e.d))return e;for(i=1,s=p[0];s>=10;s/=10)i++;if((o=t-i)<0)o+=7,c=(l=p[d=0])/g(10,i-(a=t)-1)%10|0;else if((d=Math.ceil((o+1)/7))>=(s=p.length)){if(!r)break e;for(;s++<=d;)p.push(0);l=c=0,i=1,a=(o%=7)-7+1}else{for(l=s=p[d],i=1;s>=10;s/=10)i++;c=(a=(o%=7)-7+i)<0?0:l/g(10,i-a-1)%10|0}if(r=r||t<0||void 0!==p[d+1]||(a<0?l:l%g(10,i-a-1)),u=n<4?(c||r)&&(0==n||n==(e.s<0?3:2)):c>5||5==c&&(4==n||r||6==n&&(o>0?a>0?l/g(10,i-a):0:p[d-1])%10&1||n==(e.s<0?8:7)),t<1||!p[0])return p.length=0,u?(p[0]=g(10,(7-(t-=e.e+1)%7)%7),e.e=-t||0):p[0]=e.e=0,e;if(0==o?(p.length=d,s=1,d--):(p.length=d+1,s=g(10,7-o),p[d]=a>0?(l/g(10,i-a)%g(10,a)|0)*s:0),u)for(;;){if(0==d){for(o=1,a=p[0];a>=10;a/=10)o++;for(a=p[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,p[0]==x&&(p[0]=1));break}if(p[d]+=s,p[d]!=x)break;p[d--]=0,s=1}for(o=p.length;0===p[--o];)p.pop()}return h&&(e.e>f.maxE?(e.d=null,e.e=NaN):e.e<f.minE&&(e.e=0,e.d=[0])),e}function M(e,t,n){if(!e.isFinite())return V(e);var r,i=e.e,o=T(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+j(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+j(-i-1)+o,n&&(r=n-a)>0&&(o+=j(r))):i>=a?(o+=j(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+j(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=j(r))),o}function N(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function I(e,t,n){if(t>w)throw h=!0,n&&(e.precision=n),Error("[DecimalError] Precision limit exceeded");return O(new e(l),t,1,!0)}function D(e,t,n){if(t>_)throw Error("[DecimalError] Precision limit exceeded");return O(new e(p),t,n,!0)}function R(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function j(e){for(var t="";e--;)t+="0";return t}function B(e,t,n,r){var i,o=new e(1),a=Math.ceil(r/7+4);for(h=!1;;){if(n%2&&Y((o=o.times(t)).d,a)&&(i=!0),0===(n=m(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}Y((t=t.times(t)).d,a)}return h=!0,o}function F(e){return 1&e.d[e.d.length-1]}function L(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function U(e,t){var n,r,i,o,a,s,c,u=0,l=0,p=0,d=e.constructor,f=d.rounding,m=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(h=!1,c=m):c=t,s=new d(.03125);e.e>-2;)e=e.times(s),p+=5;for(c+=r=Math.log(g(2,p))/Math.LN10*2+5|0,n=o=a=new d(1),d.precision=c;;){if(o=O(o.times(e),c,1),n=n.times(++l),T((s=a.plus(k(o,n,c,1))).d).slice(0,c)===T(a.d).slice(0,c)){for(i=p;i--;)a=O(a.times(a),c,1);if(null!=t)return d.precision=m,a;if(!(u<3&&C(a.d,c-r,f,u)))return O(a,d.precision=m,f,h=!0);d.precision=c+=10,n=o=s=new d(1),l=0,u++}a=s}}function z(e,t){var n,r,i,o,a,s,c,u,l,p,d,f=1,m=e,g=m.d,y=m.constructor,v=y.rounding,b=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(h=!1,l=b):l=t,y.precision=l+=10,r=(n=T(g)).charAt(0),!(Math.abs(o=m.e)<15e14))return u=I(y,l+2,b).times(o+""),m=z(new y(r+"."+n.slice(1)),l-10).plus(u),y.precision=b,null==t?O(m,b,v,h=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=T((m=m.times(e)).d)).charAt(0),f++;for(o=m.e,r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),p=m,c=a=m=k(m.minus(1),m.plus(1),l,1),d=O(m.times(m),l,1),i=3;;){if(a=O(a.times(d),l,1),T((u=c.plus(k(a,new y(i),l,1))).d).slice(0,l)===T(c.d).slice(0,l)){if(c=c.times(2),0!==o&&(c=c.plus(I(y,l+2,b).times(o+""))),c=k(c,new y(f),l,1),null!=t)return y.precision=b,c;if(!C(c.d,l-10,v,s))return O(c,y.precision=b,v,h=!0);y.precision=l+=10,u=a=m=k(p.minus(1),p.plus(1),l,1),d=O(m.times(m),l,1),i=s=1}c=u,i+=2}}function V(e){return String(e.s*e.s/0)}function W(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";e.d.push(+t),h&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function H(e,t){var n,r,i,a,s,c,u,l,p;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(v.test(t))n=16,t=t.toLowerCase();else if(y.test(t))n=2;else{if(!b.test(t))throw Error(f+t);n=8}for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),r=e.constructor,(s=a>=0)&&(a=(c=(t=t.replace(".","")).length)-a,i=B(r,new r(n),a,2*a)),a=p=(l=E(t,n,x)).length-1;0===l[a];--a)l.pop();return a<0?new r(0*e.s):(e.e=N(l,p),e.d=l,h=!1,s&&(e=k(e,i,4*c)),u&&(e=e.times(Math.abs(u)<54?g(2,u):o.pow(2,u))),h=!0,e)}function G(e,t,n,r,i){var o,a,s,c,u=e.precision,l=Math.ceil(u/7);for(h=!1,c=n.times(n),s=new e(r);;){if(a=k(s.times(c),new e(t++*t++),u,1),s=i?r.plus(a):r.minus(a),r=k(a.times(c),new e(t++*t++),u,1),void 0!==(a=s.plus(r)).d[l]){for(o=l;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o}return h=!0,a.d.length=l+1,a}function q(e,t){for(var n=e;--t;)n*=e;return n}function X(e,t){var n,r=t.s<0,i=D(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return s=r?4:1,t;if((n=t.divToInt(i)).isZero())s=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return s=F(n)?r?2:3:r?4:1,t;s=F(n)?r?1:4:r?3:2}return t.minus(i).abs()}function K(e,t,n,r){var i,o,s,c,l,p,d,h,f,m=e.constructor,g=void 0!==n;if(g?(P(n,1,1e9),void 0===r?r=m.rounding:P(r,0,8)):(n=m.precision,r=m.rounding),e.isFinite()){for(g?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(s=(d=M(e)).indexOf("."))>=0&&(d=d.replace(".",""),(f=new m(1)).e=d.length-s,f.d=E(M(f),10,i),f.e=f.d.length),o=l=(h=E(d,10,i)).length;0==h[--l];)h.pop();if(h[0]){if(s<0?o--:((e=new m(e)).d=h,e.e=o,h=(e=k(e,f,n,r,0,i)).d,o=e.e,p=a),s=h[n],c=i/2,p=p||void 0!==h[n+1],p=r<4?(void 0!==s||p)&&(0===r||r===(e.s<0?3:2)):s>c||s===c&&(4===r||p||6===r&&1&h[n-1]||r===(e.s<0?8:7)),h.length=n,p)for(;++h[--n]>i-1;)h[n]=0,n||(++o,h.unshift(1));for(l=h.length;!h[l-1];--l);for(s=0,d="";s<l;s++)d+=u.charAt(h[s]);if(g){if(l>1)if(16==t||8==t){for(s=16==t?4:3,--l;l%s;l++)d+="0";for(l=(h=E(d,i,t)).length;!h[l-1];--l);for(s=1,d="1.";s<l;s++)d+=u.charAt(h[s])}else d=d.charAt(0)+"."+d.slice(1);d=d+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)d="0"+d;d="0."+d}else if(++o>l)for(o-=l;o--;)d+="0";else o<l&&(d=d.slice(0,o)+"."+d.slice(o))}else d=g?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=V(e);return e.s<0?"-"+d:d}function Y(e,t){if(e.length>t)return e.length=t,!0}function Z(e){return new this(e).abs()}function Q(e){return new this(e).acos()}function J(e){return new this(e).acosh()}function $(e,t){return new this(e).plus(t)}function ee(e){return new this(e).asin()}function te(e){return new this(e).asinh()}function ne(e){return new this(e).atan()}function re(e){return new this(e).atanh()}function ie(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?D(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=D(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(k(e,t,o,1)),t=D(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(k(e,t,o,1)):(n=D(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function oe(e){return new this(e).cbrt()}function ae(e){return O(e=new this(e),e.e+1,2)}function se(e){if(!e||"object"!=typeof e)throw Error("[DecimalError] Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-c,0,"toExpPos",0,c,"maxE",0,c,"minE",-c,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=d[n]),void 0!==(r=e[n])){if(!(m(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(f+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=d[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(f+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[n]=!0}else this[n]=!1}return this}function ce(e){return new this(e).cos()}function ue(e){return new this(e).cosh()}function le(e,t){return new this(e).div(t)}function pe(e){return new this(e).exp()}function de(e){return O(e=new this(e),e.e+1,3)}function he(){var e,t,n=new this(0);for(h=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return h=!0,new this(1/0);n=t}return h=!0,n.sqrt()}function fe(e){return e instanceof o||e&&"[object Decimal]"===e.name||!1}function me(e){return new this(e).ln()}function ge(e,t){return new this(e).log(t)}function ye(e){return new this(e).log(2)}function ve(e){return new this(e).log(10)}function be(){return L(this,arguments,"lt")}function Ae(){return L(this,arguments,"gt")}function xe(e,t){return new this(e).mod(t)}function we(e,t){return new this(e).mul(t)}function _e(e,t){return new this(e).pow(t)}function Se(e){var t,n,r,i,o=0,a=new this(1),s=[];if(void 0===e?e=this.precision:P(e,1,1e9),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(s.push(i%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(e%=7,(r=s[--o])&&e&&(i=g(10,7-e),s[o]=(r/i|0)*i);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=7)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=s,a}function Te(e){return O(e=new this(e),e.e+1,this.rounding)}function Pe(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ce(e){return new this(e).sin()}function Ee(e){return new this(e).sinh()}function ke(e){return new this(e).sqrt()}function Oe(e,t){return new this(e).sub(t)}function Me(e){return new this(e).tan()}function Ne(e){return new this(e).tanh()}function Ie(e){return O(e=new this(e),e.e+1,1)}(o=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,e instanceof o)return i.s=e.s,void(h?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"==(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(h?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):W(i,e.toString())}if("string"!==r)throw Error(f+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),A.test(e)?W(i,e):H(i,e)}if(o.prototype=S,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=se,o.clone=e,o.isDecimal=fe,o.abs=Z,o.acos=Q,o.acosh=J,o.add=$,o.asin=ee,o.asinh=te,o.atan=ne,o.atanh=re,o.atan2=ie,o.cbrt=oe,o.ceil=ae,o.cos=ce,o.cosh=ue,o.div=le,o.exp=pe,o.floor=de,o.hypot=he,o.ln=me,o.log=ge,o.log10=ve,o.log2=ye,o.max=be,o.min=Ae,o.mod=xe,o.mul=we,o.pow=_e,o.random=Se,o.round=Te,o.sign=Pe,o.sin=Ce,o.sinh=Ee,o.sqrt=ke,o.sub=Oe,o.tan=Me,o.tanh=Ne,o.trunc=Ie,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(d)).default=o.Decimal=o,l=new o(l),p=new o(p),void 0===(r=(function(){return o}).call(t,n,t,e))||(e.exports=r)}()},Qj6V:function(e,t,n){"use strict";var r=n("rnXk"),i=function(e){var t=31&e[1];return(t<<=8)|e[2]},o=function(e){return!!(64&e[1])},a=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var n=i(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=o(e),n=4+a(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=o(e),r=4+a(e);if(n&&(r+=e[r]+1),1&e[r+5]){var i;i=3+((15&e[r+1])<<8|e[r+2])-4;for(var s=12+((15&e[r+10])<<8|e[r+11]);s<i;){var c=r+s;t[(31&e[c+1])<<8|e[c+2]]=e[c],s+=5+((15&e[c+3])<<8|e[c+4])}return t}},parsePayloadUnitStartIndicator:o,parsePesType:function(e,t){switch(t[i(e)]){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!o(e))return null;var t=4+a(e);if(t>=e.byteLength)return null;var n,r=null;return 192&(n=e[t+7])&&((r={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,r.pts*=4,r.pts+=(6&e[t+13])>>>1,r.dts=r.pts,64&n&&(r.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,r.dts*=4,r.dts+=(6&e[t+18])>>>1)),r},videoPacketContainsKeyFrame:function(e){for(var t=4+a(e),n=e.subarray(t),r=0,i=0,o=!1;i<n.byteLength-3;i++)if(1===n[i+2]){r=i+5;break}for(;r<n.byteLength;)switch(n[r]){case 0:if(0!==n[r-1]){r+=2;break}if(0!==n[r-2]){r++;break}i+3!==r-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0);do{r++}while(1!==n[r]&&r<n.length);i=r-2,r+=3;break;case 1:if(0!==n[r-1]||0!==n[r-2]){r+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0),i=r-2,r+=3;break;default:r+=3}return n=n.subarray(i),r-=i,i=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===s(31&n[i+3])&&(o=!0),o}}},QykG:function(e,t,n){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,i,o;if(n=e[t])if(2===arguments.length)for(i=n.length,r=0;r<i;++r)n[r].call(this,arguments[1]);else{for(o=[],r=arguments.length,r=1;r<arguments.length;++r)o.push(arguments[r]);for(i=n.length,r=0;r<i;++r)n[r].apply(this,o)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},r.prototype.partialFlush=function(e){this.trigger("partialdone",e)},r.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},r.prototype.reset=function(e){this.trigger("reset",e)},e.exports=r},R4gy:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},o={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},a=function(e,t){return r({},e,t)};e.exports=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preserveFormatting,s=void 0!==n&&n,c=t.escapeMapFn,u=void 0===c?a:c,l=String(e),p="",d=u(r({},i),s?r({},o):{}),h=Object.keys(d),f=function(){var e=!1;h.forEach((function(t,n){e||l.length>=t.length&&l.slice(0,t.length)===t&&(p+=d[h[n]],l=l.slice(t.length,l.length),e=!0)})),e||(p+=l.slice(0,1),l=l.slice(1,l.length))};l;)f();return p}},RA0T:function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},SEu1:function(e,t,n){"use strict";var r=n("ZFOp"),i=n("MgzW"),o=n("8jRI");function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),r[e=e.replace(/\[\]$/,"")]=t?void 0!==r[e]?[].concat(r[e],n):[n]:n};default:return function(e,t,n){n[e]=void 0!==n[e]?[].concat(n[e],t):t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return e[t]=Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):n,e}),Object.create(null))):r}t.extract=s,t.parse=c,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return a(r,t)+"="+a(i,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(s(e),t)}}},STtz:function(e,t,n){var r=n("zvmt");e.exports=function(e,t){e instanceof Buffer&&(e=e.toString());var n=null;if("string"==typeof e)try{n=JSON.parse(e)}catch(i){throw new Error("The JSON structure is invalid")}else n=e;return r(n,t)}},SksO:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},T016:function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},TDvD:function(e,t,n){var r=n("W8SP"),i={x:!1,y:!1};function o(e,t,n){if("Z"!==t){if("M"!==t){var r=[!1,i.x,i.y].concat(n),o=new(e.bind.apply(e,r)),a=n.slice(-2);return i={x:a[0],y:a[1]},o}i={x:n[0],y:n[1]}}}e.exports=function(e,t){for(var n,i,a=r(t).split(" "),s=new RegExp("[MLCQZ]",""),c=[],u={C:6,Q:4,L:2,M:2};a.length;)n=a.splice(0,1)[0],s.test(n)&&(i=o(e,n,a.splice(0,u[n]).map(parseFloat)))&&c.push(i);return new e.PolyBezier(c)}},VbXa:function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},VdUG:function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return h})),n.d(t,"v3",(function(){return x})),n.d(t,"v4",(function(){return w})),n.d(t,"v5",(function(){return T}));var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}for(var a=[],s=0;s<256;++s)a[s]=(s+256).toString(16).substr(1);var c,u,l=function(e,t){var n=t||0;return[a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],"-",a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]],a[e[n++]]].join("")},p=0,d=0,h=function(e,t,n){var r=t&&n||0,i=t||[],a=(e=e||{}).node||c,s=void 0!==e.clockseq?e.clockseq:u;if(null==a||null==s){var h=e.random||(e.rng||o)();null==a&&(a=c=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==s&&(s=u=16383&(h[6]<<8|h[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:d+1,g=f-p+(m-d)/1e4;if(g<0&&void 0===e.clockseq&&(s=s+1&16383),(g<0||f>p)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=f,d=m,u=s;var y=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;i[r++]=y>>>24&255,i[r++]=y>>>16&255,i[r++]=y>>>8&255,i[r++]=255&y;var v=f/4294967296*1e4&268435455;i[r++]=v>>>8&255,i[r++]=255&v,i[r++]=v>>>24&15|16,i[r++]=v>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var b=0;b<6;++b)i[r+b]=a[b];return t||l(i)},f=function(e,t,n){var r=function(e,r,i,o){var a=i&&o||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)),"string"==typeof r&&(r=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(r)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var s=n(r.concat(e));if(s[6]=15&s[6]|t,s[8]=63&s[8]|128,i)for(var c=0;c<16;++c)i[a+c]=s[c];return i||l(s)};try{r.name=e}catch(i){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function g(e,t,n,r,i,o){return m((a=m(m(t,e),m(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function y(e,t,n,r,i,o,a){return g(t&n|~t&r,e,t,i,o,a)}function v(e,t,n,r,i,o,a){return g(t&r|n&~r,e,t,i,o,a)}function b(e,t,n,r,i,o,a){return g(t^n^r,e,t,i,o,a)}function A(e,t,n,r,i,o,a){return g(n^(t|~r),e,t,i,o,a)}var x=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var n=0;n<t.length;n++)e[n]=t.charCodeAt(n)}return function(e){var t,n,r,i=[],o=32*e.length;for(t=0;t<o;t+=8)n=e[t>>5]>>>t%32&255,r=parseInt("0123456789abcdef".charAt(n>>>4&15)+"0123456789abcdef".charAt(15&n),16),i.push(r);return i}(function(e,t){var n,r,i,o,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,c=-271733879,u=-1732584194,l=271733878;for(n=0;n<e.length;n+=16)r=s,i=c,o=u,a=l,s=y(s,c,u,l,e[n],7,-680876936),l=y(l,s,c,u,e[n+1],12,-389564586),u=y(u,l,s,c,e[n+2],17,606105819),c=y(c,u,l,s,e[n+3],22,-1044525330),s=y(s,c,u,l,e[n+4],7,-176418897),l=y(l,s,c,u,e[n+5],12,1200080426),u=y(u,l,s,c,e[n+6],17,-1473231341),c=y(c,u,l,s,e[n+7],22,-45705983),s=y(s,c,u,l,e[n+8],7,1770035416),l=y(l,s,c,u,e[n+9],12,-1958414417),u=y(u,l,s,c,e[n+10],17,-42063),c=y(c,u,l,s,e[n+11],22,-1990404162),s=y(s,c,u,l,e[n+12],7,1804603682),l=y(l,s,c,u,e[n+13],12,-40341101),u=y(u,l,s,c,e[n+14],17,-1502002290),s=v(s,c=y(c,u,l,s,e[n+15],22,1236535329),u,l,e[n+1],5,-165796510),l=v(l,s,c,u,e[n+6],9,-1069501632),u=v(u,l,s,c,e[n+11],14,643717713),c=v(c,u,l,s,e[n],20,-373897302),s=v(s,c,u,l,e[n+5],5,-701558691),l=v(l,s,c,u,e[n+10],9,38016083),u=v(u,l,s,c,e[n+15],14,-660478335),c=v(c,u,l,s,e[n+4],20,-405537848),s=v(s,c,u,l,e[n+9],5,568446438),l=v(l,s,c,u,e[n+14],9,-1019803690),u=v(u,l,s,c,e[n+3],14,-187363961),c=v(c,u,l,s,e[n+8],20,1163531501),s=v(s,c,u,l,e[n+13],5,-1444681467),l=v(l,s,c,u,e[n+2],9,-51403784),u=v(u,l,s,c,e[n+7],14,1735328473),s=b(s,c=v(c,u,l,s,e[n+12],20,-1926607734),u,l,e[n+5],4,-378558),l=b(l,s,c,u,e[n+8],11,-2022574463),u=b(u,l,s,c,e[n+11],16,1839030562),c=b(c,u,l,s,e[n+14],23,-35309556),s=b(s,c,u,l,e[n+1],4,-1530992060),l=b(l,s,c,u,e[n+4],11,1272893353),u=b(u,l,s,c,e[n+7],16,-155497632),c=b(c,u,l,s,e[n+10],23,-1094730640),s=b(s,c,u,l,e[n+13],4,681279174),l=b(l,s,c,u,e[n],11,-358537222),u=b(u,l,s,c,e[n+3],16,-722521979),c=b(c,u,l,s,e[n+6],23,76029189),s=b(s,c,u,l,e[n+9],4,-640364487),l=b(l,s,c,u,e[n+12],11,-421815835),u=b(u,l,s,c,e[n+15],16,530742520),s=A(s,c=b(c,u,l,s,e[n+2],23,-995338651),u,l,e[n],6,-198630844),l=A(l,s,c,u,e[n+7],10,1126891415),u=A(u,l,s,c,e[n+14],15,-1416354905),c=A(c,u,l,s,e[n+5],21,-57434055),s=A(s,c,u,l,e[n+12],6,1700485571),l=A(l,s,c,u,e[n+3],10,-1894986606),u=A(u,l,s,c,e[n+10],15,-1051523),c=A(c,u,l,s,e[n+1],21,-2054922799),s=A(s,c,u,l,e[n+8],6,1873313359),l=A(l,s,c,u,e[n+15],10,-30611744),u=A(u,l,s,c,e[n+6],15,-1560198380),c=A(c,u,l,s,e[n+13],21,1309151649),s=A(s,c,u,l,e[n+4],6,-145523070),l=A(l,s,c,u,e[n+11],10,-1120210379),u=A(u,l,s,c,e[n+2],15,718787259),c=A(c,u,l,s,e[n+9],21,-343485551),s=m(s,r),c=m(c,i),u=m(u,o),l=m(l,a);return[s,c,u,l]}(function(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e[t/8])<<t%32;return n}(e),8*e.length))})),w=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;++a)t[r+a]=i[a];return t||l(i)};function _(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function S(e,t){return e<<t|e>>>32-t}var T=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=new Array(r.length);for(var i=0;i<r.length;i++)e[i]=r.charCodeAt(i)}e.push(128);var o=Math.ceil((e.length/4+2)/16),a=new Array(o);for(i=0;i<o;i++){a[i]=new Array(16);for(var s=0;s<16;s++)a[i][s]=e[64*i+4*s]<<24|e[64*i+4*s+1]<<16|e[64*i+4*s+2]<<8|e[64*i+4*s+3]}for(a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295,i=0;i<o;i++){for(var c=new Array(80),u=0;u<16;u++)c[u]=a[i][u];for(u=16;u<80;u++)c[u]=S(c[u-3]^c[u-8]^c[u-14]^c[u-16],1);var l=n[0],p=n[1],d=n[2],h=n[3],f=n[4];for(u=0;u<80;u++){var m=Math.floor(u/20),g=S(l,5)+_(m,p,d,h)+f+t[m]+c[u]>>>0;f=h,h=d,d=S(p,30)>>>0,p=l,l=g}n[0]=n[0]+l>>>0,n[1]=n[1]+p>>>0,n[2]=n[2]+d>>>0,n[3]=n[3]+h>>>0,n[4]=n[4]+f>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}))},W8SP:function(e,t){e.exports=function(e){var t,n,r,i,o,a,s=(e=e.replace(/,/g," ").replace(/-/g," - ").replace(/-\s+/g,"-").replace(/([a-zA-Z])/g," $1 ")).replace(/([a-zA-Z])\s?/g,"|$1").split("|"),c=s.length,u=[],l=0,p=0,d=0,h=0,f=0,m=0,g=0,y=0,v="";for(t=1;t<c;t++)if(i=(r=(n=s[t]).substring(0,1)).toLowerCase(),o=(u=(u=n.replace(r,"").trim().split(" ")).filter((function(e){return""!==e})).map(parseFloat)).length,"m"===i){if(v+="M ","m"===r?(d+=u[0],h+=u[1]):(d=u[0],h=u[1]),l=d,p=h,v+=d+" "+h+" ",o>2)for(a=0;a<o;a+=2)"m"===r?(d+=u[a],h+=u[a+1]):(d=u[a],h=u[a+1]),v+=["L",d,h,""].join(" ")}else if("l"===i)for(a=0;a<o;a+=2)"l"===r?(d+=u[a],h+=u[a+1]):(d=u[a],h=u[a+1]),v+=["L",d,h,""].join(" ");else if("h"===i)for(a=0;a<o;a++)"h"===r?d+=u[a]:d=u[a],v+=["L",d,h,""].join(" ");else if("v"===i)for(a=0;a<o;a++)"v"===r?h+=u[a]:h=u[a],v+=["L",d,h,""].join(" ");else if("q"===i)for(a=0;a<o;a+=4)"q"===r?(f=d+u[a],m=h+u[a+1],d+=u[a+2],h+=u[a+3]):(f=u[a],m=u[a+1],d=u[a+2],h=u[a+3]),v+=["Q",f,m,d,h,""].join(" ");else if("t"===i)for(a=0;a<o;a+=2)f=d+(d-f),m=h+(h-m),"t"===r?(d+=u[a],h+=u[a+1]):(d=u[a],h=u[a+1]),v+=["Q",f,m,d,h,""].join(" ");else if("c"===i)for(a=0;a<o;a+=6)"c"===r?(f=d+u[a],m=h+u[a+1],g=d+u[a+2],y=h+u[a+3],d+=u[a+4],h+=u[a+5]):(f=u[a],m=u[a+1],g=u[a+2],y=u[a+3],d=u[a+4],h=u[a+5]),v+=["C",f,m,g,y,d,h,""].join(" ");else if("s"===i)for(a=0;a<o;a+=4)f=d+(d-g),m=h+(h-y),"s"===r?(g=d+u[a],y=h+u[a+1],d+=u[a+2],h+=u[a+3]):(g=u[a],y=u[a+1],d=u[a+2],h=u[a+3]),v+=["C",f,m,g,y,d,h,""].join(" ");else"z"===i&&(v+="Z ",d=l,h=p);return v.trim()}},"X8+f":function(e,t,n){"use strict";var r=n("0Tbm"),i=n("vgmO");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(r),s=o(i);e.exports=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=a.default.buildAbsoluteURL(s.default.location&&s.default.location.href||"",e)),a.default.buildAbsoluteURL(e,t))}},ZFOp:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},a1gu:function(e,t,n){var r=n("cDf5"),i=n("PJYZ");e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}},aSns:function(e,t,n){"use strict";var r=n("GrlX"),i=n("uxXc"),o=[].slice,a=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[o.call(i[e].labels).sort().join("")]=e}));var c={};function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in a&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var n,l;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var p=r.get(e);if(null===p)throw new Error("Unable to parse color from string: "+e);this.model=p.model,this.color=p.value.slice(0,l=i[this.model].channels),this.valpha="number"==typeof p.value[l]?p.value[l]:1}else if(e.length){this.model=t||"rgb";var d=o.call(e,0,l=i[this.model].channels);this.color=h(d,l),this.valpha="number"==typeof e[l]?e[l]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var f=Object.keys(e);"alpha"in e&&(f.splice(f.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=f.sort().join("");if(!(m in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[m];var g=i[this.model].labels,y=[];for(n=0;n<g.length;n++)y.push(e[g[n]]);this.color=h(y)}if(c[this.model])for(l=i[this.model].channels,n=0;n<l;n++){var v=c[this.model][n];v&&(this.color[n]=v(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function l(e,t,n){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(c[e]||(c[e]=[]))[t]=n})),e=e[0],function(r){var i;return arguments.length?(n&&(r=n(r)),(i=this[e]()).color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function p(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e){return Array.isArray(e)?e:[e]}function h(e,t){for(var n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in r.to?this:this.rgb(),n=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return r.to[t.model](n)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:t.color.concat(this.valpha);return r.to.rgb.percent(n)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,n=i[this.model].labels,r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:l("rgb",0,p(255)),green:l("rgb",1,p(255)),blue:l("rgb",2,p(255)),hue:l(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:l("hsl",1,p(100)),lightness:l("hsl",2,p(100)),saturationv:l("hsv",1,p(100)),value:l("hsv",2,p(100)),chroma:l("hcg",1,p(100)),gray:l("hcg",2,p(100)),white:l("hwb",1,p(100)),wblack:l("hwb",2,p(100)),cyan:l("cmyk",0,p(100)),magenta:l("cmyk",1,p(100)),yellow:l("cmyk",2,p(100)),black:l("cmyk",3,p(100)),x:l("xyz",0,p(100)),y:l("xyz",1,p(100)),z:l("xyz",2,p(100)),l:l("lab",0,p(100)),a:l("lab",1),b:l("lab",2),keyword:function(e){return arguments.length?new u(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):r.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return u.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),n=t.color[0];return t.color[0]=n=(n=(n+e)%360)<0?360+n:n,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,c=1-s;return u.rgb(s*n.red()+c*r.red(),s*n.green()+c*r.green(),s*n.blue()+c*r.blue(),n.alpha()*i+r.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===a.indexOf(e)){var t=i[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var n="number"==typeof arguments[t]?t:this.valpha;return new u(d(i[this.model][e].raw(this.color)).concat(n),e)},u[e]=function(n){return"number"==typeof n&&(n=h(o.call(arguments),t)),new u(n,e)}}})),e.exports=u},aaBP:function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,a,s,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,o[14]=s,o[15]=c,n(l,o),l}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,i,o,a,s=this.byteLength,c=e(t,s),u=s;return void 0!==n&&(u=e(n,s)),c>u?new ArrayBuffer(0):(r=u-c,i=new ArrayBuffer(r),o=new Uint8Array(i),a=new Uint8Array(this,c,r),o.set(a),i)}}(),l.prototype.append=function(e){return this.appendBinary(c(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=u(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var r,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},l.hash=function(e,t){return l.hashBinary(c(e),t)},l.hashBinary=function(e,t){var n=s(o(e));return t?u(n):n},(l.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,r,o,a,s=(r=this._buff.buffer,o=e,(a=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),a.set(new Uint8Array(o),r.byteLength),a),c=s.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)n(this._hash,i(s.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(s.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=u(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e=l.prototype.getState.call(this);return e.buff=String.fromCharCode.apply(null,new Uint8Array(e.buff)),e},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return o}(e.buff),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,o,a,s,c,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(l,i(e.subarray(t-64,t)));for(r=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),c=parseInt(a[1],16)||0,o[14]=s,o[15]=c,n(l,o),l}(new Uint8Array(e)));return t?u(r):r},l}()},"acA/":function(e,t,n){"use strict";n.r(t),n.d(t,"config",(function(){return oe})),n.d(t,"ResultSet",(function(){return ku})),n.d(t,"Complex",(function(){return Ou})),n.d(t,"Range",(function(){return Mu})),n.d(t,"eye",(function(){return Nu})),n.d(t,"_false",(function(){return Iu})),n.d(t,"_null",(function(){return Du})),n.d(t,"_true",(function(){return Ru})),n.d(t,"BigNumber",(function(){return ju})),n.d(t,"Matrix",(function(){return Bu})),n.d(t,"replacer",(function(){return Fu})),n.d(t,"i",(function(){return Lu})),n.d(t,"LN10",(function(){return Uu})),n.d(t,"LOG10E",(function(){return zu})),n.d(t,"_NaN",(function(){return Vu})),n.d(t,"pi",(function(){return Wu})),n.d(t,"SQRT1_2",(function(){return Hu})),n.d(t,"tau",(function(){return Gu})),n.d(t,"efimovFactor",(function(){return qu})),n.d(t,"fineStructure",(function(){return Xu})),n.d(t,"sackurTetrode",(function(){return Ku})),n.d(t,"weakMixingAngle",(function(){return Yu})),n.d(t,"Fraction",(function(){return Zu})),n.d(t,"e",(function(){return Qu})),n.d(t,"_Infinity",(function(){return Ju})),n.d(t,"LOG2E",(function(){return $u})),n.d(t,"version",(function(){return el})),n.d(t,"DenseMatrix",(function(){return tl})),n.d(t,"phi",(function(){return nl})),n.d(t,"typed",(function(){return rl})),n.d(t,"isInteger",(function(){return il})),n.d(t,"isNumeric",(function(){return ol})),n.d(t,"isPositive",(function(){return al})),n.d(t,"isNaN",(function(){return sl})),n.d(t,"equalScalar",(function(){return cl})),n.d(t,"number",(function(){return ul})),n.d(t,"boolean",(function(){return ll})),n.d(t,"complex",(function(){return pl})),n.d(t,"splitUnit",(function(){return dl})),n.d(t,"unaryPlus",(function(){return hl})),n.d(t,"apply",(function(){return fl})),n.d(t,"cube",(function(){return ml})),n.d(t,"expm1",(function(){return gl})),n.d(t,"log10",(function(){return yl})),n.d(t,"multiplyScalar",(function(){return vl})),n.d(t,"sign",(function(){return bl})),n.d(t,"square",(function(){return Al})),n.d(t,"bitNot",(function(){return xl})),n.d(t,"arg",(function(){return wl})),n.d(t,"im",(function(){return _l})),n.d(t,"not",(function(){return Sl})),n.d(t,"filter",(function(){return Tl})),n.d(t,"forEach",(function(){return Pl})),n.d(t,"map",(function(){return Cl})),n.d(t,"erf",(function(){return El})),n.d(t,"format",(function(){return kl})),n.d(t,"isPrime",(function(){return Ol})),n.d(t,"acos",(function(){return Ml})),n.d(t,"acot",(function(){return Nl})),n.d(t,"acsc",(function(){return Il})),n.d(t,"asec",(function(){return Dl})),n.d(t,"asin",(function(){return Rl})),n.d(t,"atan",(function(){return jl})),n.d(t,"atanh",(function(){return Bl})),n.d(t,"cosh",(function(){return Fl})),n.d(t,"coth",(function(){return Ll})),n.d(t,"csch",(function(){return Ul})),n.d(t,"sech",(function(){return zl})),n.d(t,"sinh",(function(){return Vl})),n.d(t,"tanh",(function(){return Wl})),n.d(t,"combinations",(function(){return Hl})),n.d(t,"pickRandom",(function(){return Gl})),n.d(t,"randomInt",(function(){return ql})),n.d(t,"LN2",(function(){return Xl})),n.d(t,"clone",(function(){return Kl})),n.d(t,"hasNumericValue",(function(){return Yl})),n.d(t,"typeOf",(function(){return Zl})),n.d(t,"string",(function(){return Ql})),n.d(t,"fraction",(function(){return Jl})),n.d(t,"unaryMinus",(function(){return $l})),n.d(t,"addScalar",(function(){return ep})),n.d(t,"exp",(function(){return tp})),n.d(t,"log2",(function(){return np})),n.d(t,"sqrt",(function(){return rp})),n.d(t,"conj",(function(){return ip})),n.d(t,"getMatrixDataType",(function(){return op})),n.d(t,"mode",(function(){return ap})),n.d(t,"print",(function(){return sp})),n.d(t,"acosh",(function(){return cp})),n.d(t,"acsch",(function(){return up})),n.d(t,"asinh",(function(){return lp})),n.d(t,"cos",(function(){return pp})),n.d(t,"csc",(function(){return dp})),n.d(t,"sin",(function(){return hp})),n.d(t,"combinationsWithRep",(function(){return fp})),n.d(t,"random",(function(){return mp})),n.d(t,"SQRT2",(function(){return gp})),n.d(t,"isNegative",(function(){return yp})),n.d(t,"SparseMatrix",(function(){return vp})),n.d(t,"matrix",(function(){return bp})),n.d(t,"cbrt",(function(){return Ap})),n.d(t,"gcd",(function(){return xp})),n.d(t,"mod",(function(){return wp})),n.d(t,"nthRoot",(function(){return _p})),n.d(t,"xgcd",(function(){return Sp})),n.d(t,"bitAnd",(function(){return Tp})),n.d(t,"bitXor",(function(){return Pp})),n.d(t,"or",(function(){return Cp})),n.d(t,"concat",(function(){return Ep})),n.d(t,"diag",(function(){return kp})),n.d(t,"identity",(function(){return Op})),n.d(t,"ones",(function(){return Mp})),n.d(t,"reshape",(function(){return Np})),n.d(t,"size",(function(){return Ip})),n.d(t,"subset",(function(){return Dp})),n.d(t,"zeros",(function(){return Rp})),n.d(t,"to",(function(){return jp})),n.d(t,"round",(function(){return Bp})),n.d(t,"leftShift",(function(){return Fp})),n.d(t,"rightLogShift",(function(){return Lp})),n.d(t,"compare",(function(){return Up})),n.d(t,"compareText",(function(){return zp})),n.d(t,"smaller",(function(){return Vp})),n.d(t,"larger",(function(){return Wp})),n.d(t,"unequal",(function(){return Hp})),n.d(t,"max",(function(){return Gp})),n.d(t,"ImmutableDenseMatrix",(function(){return qp})),n.d(t,"FibonacciHeap",(function(){return Xp})),n.d(t,"sparse",(function(){return Kp})),n.d(t,"acoth",(function(){return Yp})),n.d(t,"atan2",(function(){return Zp})),n.d(t,"sec",(function(){return Qp})),n.d(t,"add",(function(){return Jp})),n.d(t,"trace",(function(){return $p})),n.d(t,"composition",(function(){return ed})),n.d(t,"isZero",(function(){return td})),n.d(t,"abs",(function(){return nd})),n.d(t,"floor",(function(){return rd})),n.d(t,"multiply",(function(){return id})),n.d(t,"dotMultiply",(function(){return od})),n.d(t,"re",(function(){return ad})),n.d(t,"flatten",(function(){return sd})),n.d(t,"resize",(function(){return cd})),n.d(t,"squeeze",(function(){return ud})),n.d(t,"prod",(function(){return ld})),n.d(t,"pow",(function(){return pd})),n.d(t,"dotPow",(function(){return dd})),n.d(t,"rightArithShift",(function(){return hd})),n.d(t,"compareNatural",(function(){return fd})),n.d(t,"equalText",(function(){return md})),n.d(t,"largerEq",(function(){return gd})),n.d(t,"partitionSelect",(function(){return yd})),n.d(t,"min",(function(){return vd})),n.d(t,"Spa",(function(){return bd})),n.d(t,"asech",(function(){return Ad})),n.d(t,"tan",(function(){return xd})),n.d(t,"setSize",(function(){return wd})),n.d(t,"norm",(function(){return _d})),n.d(t,"quantileSeq",(function(){return Sd})),n.d(t,"gamma",(function(){return Td})),n.d(t,"bignumber",(function(){return Pd})),n.d(t,"lcm",(function(){return Cd})),n.d(t,"bitOr",(function(){return Ed})),n.d(t,"kron",(function(){return kd})),n.d(t,"transpose",(function(){return Od})),n.d(t,"numeric",(function(){return Md})),n.d(t,"and",(function(){return Nd})),n.d(t,"smallerEq",(function(){return Id})),n.d(t,"sort",(function(){return Dd})),n.d(t,"cot",(function(){return Rd})),n.d(t,"dot",(function(){return jd})),n.d(t,"sum",(function(){return Bd})),n.d(t,"factorial",(function(){return Fd})),n.d(t,"permutations",(function(){return Ld})),n.d(t,"ceil",(function(){return Ud})),n.d(t,"subtract",(function(){return zd})),n.d(t,"cross",(function(){return Vd})),n.d(t,"ctranspose",(function(){return Wd})),n.d(t,"equal",(function(){return Hd})),n.d(t,"Index",(function(){return Gd})),n.d(t,"setCartesian",(function(){return qd})),n.d(t,"setDistinct",(function(){return Xd})),n.d(t,"setIsSubset",(function(){return Kd})),n.d(t,"setPowerset",(function(){return Yd})),n.d(t,"index",(function(){return Zd})),n.d(t,"fix",(function(){return Qd})),n.d(t,"range",(function(){return Jd})),n.d(t,"divideScalar",(function(){return $d})),n.d(t,"nthRoots",(function(){return eh})),n.d(t,"lsolve",(function(){return th})),n.d(t,"deepEqual",(function(){return nh})),n.d(t,"setDifference",(function(){return rh})),n.d(t,"setMultiplicity",(function(){return ih})),n.d(t,"hypot",(function(){return oh})),n.d(t,"lup",(function(){return ah})),n.d(t,"slu",(function(){return sh})),n.d(t,"det",(function(){return ch})),n.d(t,"distance",(function(){return uh})),n.d(t,"stirlingS2",(function(){return lh})),n.d(t,"catalan",(function(){return ph})),n.d(t,"xor",(function(){return dh})),n.d(t,"row",(function(){return hh})),n.d(t,"dotDivide",(function(){return fh})),n.d(t,"Unit",(function(){return mh})),n.d(t,"createUnit",(function(){return gh})),n.d(t,"setSymDifference",(function(){return yh})),n.d(t,"qr",(function(){return vh})),n.d(t,"inv",(function(){return bh})),n.d(t,"expm",(function(){return Ah})),n.d(t,"divide",(function(){return xh})),n.d(t,"mean",(function(){return wh})),n.d(t,"variance",(function(){return _h})),n.d(t,"std",(function(){return Sh})),n.d(t,"multinomial",(function(){return Th})),n.d(t,"atomicMass",(function(){return Ph})),n.d(t,"bohrMagneton",(function(){return Ch})),n.d(t,"boltzmann",(function(){return Eh})),n.d(t,"conductanceQuantum",(function(){return kh})),n.d(t,"deuteronMass",(function(){return Oh})),n.d(t,"electronMass",(function(){return Mh})),n.d(t,"faraday",(function(){return Nh})),n.d(t,"firstRadiation",(function(){return Ih})),n.d(t,"gravitationConstant",(function(){return Dh})),n.d(t,"hartreeEnergy",(function(){return Rh})),n.d(t,"klitzing",(function(){return jh})),n.d(t,"magneticConstant",(function(){return Bh})),n.d(t,"molarMass",(function(){return Fh})),n.d(t,"molarPlanckConstant",(function(){return Lh})),n.d(t,"neutronMass",(function(){return Uh})),n.d(t,"planckCharge",(function(){return zh})),n.d(t,"planckLength",(function(){return Vh})),n.d(t,"planckTemperature",(function(){return Wh})),n.d(t,"protonMass",(function(){return Hh})),n.d(t,"reducedPlanckConstant",(function(){return Gh})),n.d(t,"secondRadiation",(function(){return qh})),n.d(t,"stefanBoltzmann",(function(){return Xh})),n.d(t,"vacuumImpedance",(function(){return Kh})),n.d(t,"column",(function(){return Yh})),n.d(t,"usolve",(function(){return Zh})),n.d(t,"setIntersect",(function(){return Qh})),n.d(t,"lusolve",(function(){return Jh})),n.d(t,"eigs",(function(){return $h})),n.d(t,"intersect",(function(){return ef})),n.d(t,"bellNumbers",(function(){return tf})),n.d(t,"avogadro",(function(){return nf})),n.d(t,"classicalElectronRadius",(function(){return rf})),n.d(t,"electricConstant",(function(){return of})),n.d(t,"fermiCoupling",(function(){return af})),n.d(t,"gravity",(function(){return sf})),n.d(t,"loschmidt",(function(){return cf})),n.d(t,"molarMassC12",(function(){return uf})),n.d(t,"nuclearMagneton",(function(){return lf})),n.d(t,"planckMass",(function(){return pf})),n.d(t,"quantumOfCirculation",(function(){return df})),n.d(t,"speedOfLight",(function(){return hf})),n.d(t,"wienDisplacement",(function(){return ff})),n.d(t,"log",(function(){return mf})),n.d(t,"unit",(function(){return gf})),n.d(t,"sqrtm",(function(){return yf})),n.d(t,"kldivergence",(function(){return vf})),n.d(t,"bohrRadius",(function(){return bf})),n.d(t,"elementaryCharge",(function(){return Af})),n.d(t,"inverseConductanceQuantum",(function(){return xf})),n.d(t,"molarVolume",(function(){return wf})),n.d(t,"planckTime",(function(){return _f})),n.d(t,"thomsonCrossSection",(function(){return Sf})),n.d(t,"log1p",(function(){return Tf})),n.d(t,"median",(function(){return Pf})),n.d(t,"gasConstant",(function(){return Cf})),n.d(t,"planckConstant",(function(){return Ef})),n.d(t,"setUnion",(function(){return kf})),n.d(t,"magneticFluxQuantum",(function(){return Of})),n.d(t,"coulomb",(function(){return Mf})),n.d(t,"mad",(function(){return Nf})),n.d(t,"rydberg",(function(){return If})),n.d(t,"Node",(function(){return dg})),n.d(t,"ArrayNode",(function(){return hg})),n.d(t,"BlockNode",(function(){return fg})),n.d(t,"ConstantNode",(function(){return mg})),n.d(t,"ObjectNode",(function(){return gg})),n.d(t,"ParenthesisNode",(function(){return yg})),n.d(t,"RelationalNode",(function(){return vg})),n.d(t,"Chain",(function(){return bg})),n.d(t,"reviver",(function(){return Ag})),n.d(t,"ConditionalNode",(function(){return xg})),n.d(t,"OperatorNode",(function(){return wg})),n.d(t,"RangeNode",(function(){return _g})),n.d(t,"FunctionAssignmentNode",(function(){return Sg})),n.d(t,"chain",(function(){return Tg})),n.d(t,"AccessorNode",(function(){return Pg})),n.d(t,"IndexNode",(function(){return Cg})),n.d(t,"AssignmentNode",(function(){return Eg})),n.d(t,"SymbolNode",(function(){return kg})),n.d(t,"FunctionNode",(function(){return Og})),n.d(t,"parse",(function(){return Mg})),n.d(t,"evaluate",(function(){return Ng})),n.d(t,"Parser",(function(){return Ig})),n.d(t,"Help",(function(){return Dg})),n.d(t,"compile",(function(){return Rg})),n.d(t,"parser",(function(){return jg})),n.d(t,"simplify",(function(){return Bg})),n.d(t,"rationalize",(function(){return Fg})),n.d(t,"help",(function(){return Lg})),n.d(t,"derivative",(function(){return Ug})),n.d(t,"docs",(function(){return Um})),n.d(t,"isAccessorNode",(function(){return E})),n.d(t,"isArray",(function(){return d})),n.d(t,"isArrayNode",(function(){return k})),n.d(t,"isAssignmentNode",(function(){return O})),n.d(t,"isBigNumber",(function(){return s})),n.d(t,"isBlockNode",(function(){return M})),n.d(t,"isBoolean",(function(){return b})),n.d(t,"isChain",(function(){return W})),n.d(t,"isCollection",(function(){return f})),n.d(t,"isComplex",(function(){return c})),n.d(t,"isConditionalNode",(function(){return N})),n.d(t,"isConstantNode",(function(){return I})),n.d(t,"isDate",(function(){return _})),n.d(t,"isDenseMatrix",(function(){return m})),n.d(t,"isFraction",(function(){return u})),n.d(t,"isFunction",(function(){return w})),n.d(t,"isFunctionAssignmentNode",(function(){return D})),n.d(t,"isFunctionNode",(function(){return R})),n.d(t,"isHelp",(function(){return x})),n.d(t,"isIndex",(function(){return v})),n.d(t,"isIndexNode",(function(){return j})),n.d(t,"isMatrix",(function(){return h})),n.d(t,"isNode",(function(){return B})),n.d(t,"isNull",(function(){return P})),n.d(t,"isNumber",(function(){return a})),n.d(t,"isString",(function(){return p})),n.d(t,"isUndefined",(function(){return C})),n.d(t,"isObject",(function(){return T})),n.d(t,"isObjectNode",(function(){return F})),n.d(t,"isOperatorNode",(function(){return L})),n.d(t,"isParenthesisNode",(function(){return U})),n.d(t,"isRange",(function(){return y})),n.d(t,"isRangeNode",(function(){return z})),n.d(t,"isRegExp",(function(){return S})),n.d(t,"isResultSet",(function(){return A})),n.d(t,"isSparseMatrix",(function(){return g})),n.d(t,"isSymbolNode",(function(){return V})),n.d(t,"isUnit",(function(){return l})),n.d(t,"IndexError",(function(){return je})),n.d(t,"DimensionError",(function(){return Re})),n.d(t,"ArgumentsError",(function(){return Ss})),n.d(t,"typedDependencies",(function(){return qg})),n.d(t,"ResultSetDependencies",(function(){return Xg})),n.d(t,"BigNumberDependencies",(function(){return zg})),n.d(t,"ComplexDependencies",(function(){return Vg})),n.d(t,"FractionDependencies",(function(){return Gg})),n.d(t,"RangeDependencies",(function(){return Kg})),n.d(t,"MatrixDependencies",(function(){return Wg})),n.d(t,"DenseMatrixDependencies",(function(){return Hg})),n.d(t,"cloneDependencies",(function(){return Yg})),n.d(t,"isIntegerDependencies",(function(){return Zg})),n.d(t,"isNegativeDependencies",(function(){return Qg})),n.d(t,"isNumericDependencies",(function(){return Jg})),n.d(t,"hasNumericValueDependencies",(function(){return $g})),n.d(t,"isPositiveDependencies",(function(){return ey})),n.d(t,"isZeroDependencies",(function(){return ty})),n.d(t,"isNaNDependencies",(function(){return ny})),n.d(t,"typeOfDependencies",(function(){return ry})),n.d(t,"typeofDependencies",(function(){return iy})),n.d(t,"equalScalarDependencies",(function(){return oy})),n.d(t,"SparseMatrixDependencies",(function(){return ay})),n.d(t,"numberDependencies",(function(){return sy})),n.d(t,"stringDependencies",(function(){return cy})),n.d(t,"booleanDependencies",(function(){return uy})),n.d(t,"bignumberDependencies",(function(){return ly})),n.d(t,"complexDependencies",(function(){return py})),n.d(t,"fractionDependencies",(function(){return dy})),n.d(t,"matrixDependencies",(function(){return hy})),n.d(t,"splitUnitDependencies",(function(){return fy})),n.d(t,"unaryMinusDependencies",(function(){return my})),n.d(t,"unaryPlusDependencies",(function(){return gy})),n.d(t,"absDependencies",(function(){return yy})),n.d(t,"applyDependencies",(function(){return vy})),n.d(t,"addScalarDependencies",(function(){return by})),n.d(t,"cbrtDependencies",(function(){return Ay})),n.d(t,"ceilDependencies",(function(){return _y})),n.d(t,"cubeDependencies",(function(){return Sy})),n.d(t,"expDependencies",(function(){return Ty})),n.d(t,"expm1Dependencies",(function(){return Py})),n.d(t,"fixDependencies",(function(){return Ey})),n.d(t,"floorDependencies",(function(){return Cy})),n.d(t,"gcdDependencies",(function(){return ky})),n.d(t,"lcmDependencies",(function(){return Oy})),n.d(t,"log10Dependencies",(function(){return My})),n.d(t,"log2Dependencies",(function(){return Ny})),n.d(t,"modDependencies",(function(){return Iy})),n.d(t,"multiplyScalarDependencies",(function(){return Dy})),n.d(t,"multiplyDependencies",(function(){return Ry})),n.d(t,"nthRootDependencies",(function(){return jy})),n.d(t,"signDependencies",(function(){return By})),n.d(t,"sqrtDependencies",(function(){return Fy})),n.d(t,"squareDependencies",(function(){return Ly})),n.d(t,"subtractDependencies",(function(){return Uy})),n.d(t,"xgcdDependencies",(function(){return zy})),n.d(t,"dotMultiplyDependencies",(function(){return Vy})),n.d(t,"bitAndDependencies",(function(){return Wy})),n.d(t,"bitNotDependencies",(function(){return Hy})),n.d(t,"bitOrDependencies",(function(){return Gy})),n.d(t,"bitXorDependencies",(function(){return qy})),n.d(t,"argDependencies",(function(){return Xy})),n.d(t,"conjDependencies",(function(){return Ky})),n.d(t,"imDependencies",(function(){return Yy})),n.d(t,"reDependencies",(function(){return Zy})),n.d(t,"notDependencies",(function(){return Qy})),n.d(t,"orDependencies",(function(){return Jy})),n.d(t,"xorDependencies",(function(){return $y})),n.d(t,"concatDependencies",(function(){return ev})),n.d(t,"columnDependencies",(function(){return cv})),n.d(t,"crossDependencies",(function(){return uv})),n.d(t,"diagDependencies",(function(){return lv})),n.d(t,"eyeDependencies",(function(){return pv})),n.d(t,"filterDependencies",(function(){return dv})),n.d(t,"flattenDependencies",(function(){return hv})),n.d(t,"forEachDependencies",(function(){return fv})),n.d(t,"getMatrixDataTypeDependencies",(function(){return mv})),n.d(t,"identityDependencies",(function(){return gv})),n.d(t,"kronDependencies",(function(){return yv})),n.d(t,"mapDependencies",(function(){return vv})),n.d(t,"onesDependencies",(function(){return bv})),n.d(t,"rangeDependencies",(function(){return sv})),n.d(t,"reshapeDependencies",(function(){return Av})),n.d(t,"resizeDependencies",(function(){return xv})),n.d(t,"rowDependencies",(function(){return wv})),n.d(t,"sizeDependencies",(function(){return _v})),n.d(t,"squeezeDependencies",(function(){return Sv})),n.d(t,"subsetDependencies",(function(){return Tv})),n.d(t,"transposeDependencies",(function(){return Pv})),n.d(t,"ctransposeDependencies",(function(){return Cv})),n.d(t,"zerosDependencies",(function(){return xy})),n.d(t,"erfDependencies",(function(){return Ev})),n.d(t,"modeDependencies",(function(){return kv})),n.d(t,"prodDependencies",(function(){return Ov})),n.d(t,"formatDependencies",(function(){return Mv})),n.d(t,"printDependencies",(function(){return Nv})),n.d(t,"toDependencies",(function(){return Iv})),n.d(t,"isPrimeDependencies",(function(){return Dv})),n.d(t,"numericDependencies",(function(){return Rv})),n.d(t,"divideScalarDependencies",(function(){return jv})),n.d(t,"powDependencies",(function(){return Bv})),n.d(t,"roundDependencies",(function(){return wy})),n.d(t,"logDependencies",(function(){return Fv})),n.d(t,"log1pDependencies",(function(){return Lv})),n.d(t,"nthRootsDependencies",(function(){return Uv})),n.d(t,"dotPowDependencies",(function(){return zv})),n.d(t,"dotDivideDependencies",(function(){return Vv})),n.d(t,"lsolveDependencies",(function(){return Wv})),n.d(t,"usolveDependencies",(function(){return Hv})),n.d(t,"leftShiftDependencies",(function(){return Gv})),n.d(t,"rightArithShiftDependencies",(function(){return qv})),n.d(t,"rightLogShiftDependencies",(function(){return Xv})),n.d(t,"andDependencies",(function(){return Kv})),n.d(t,"compareDependencies",(function(){return Yv})),n.d(t,"compareNaturalDependencies",(function(){return Zv})),n.d(t,"compareTextDependencies",(function(){return Qv})),n.d(t,"equalDependencies",(function(){return Jv})),n.d(t,"equalTextDependencies",(function(){return $v})),n.d(t,"smallerDependencies",(function(){return tv})),n.d(t,"smallerEqDependencies",(function(){return av})),n.d(t,"largerDependencies",(function(){return iv})),n.d(t,"largerEqDependencies",(function(){return ov})),n.d(t,"deepEqualDependencies",(function(){return eb})),n.d(t,"unequalDependencies",(function(){return tb})),n.d(t,"partitionSelectDependencies",(function(){return nb})),n.d(t,"sortDependencies",(function(){return rb})),n.d(t,"maxDependencies",(function(){return ib})),n.d(t,"minDependencies",(function(){return ob})),n.d(t,"ImmutableDenseMatrixDependencies",(function(){return nv})),n.d(t,"IndexDependencies",(function(){return rv})),n.d(t,"FibonacciHeapDependencies",(function(){return ab})),n.d(t,"SpaDependencies",(function(){return sb})),n.d(t,"UnitDependencies",(function(){return cb})),n.d(t,"unitDependencies",(function(){return ub})),n.d(t,"sparseDependencies",(function(){return lb})),n.d(t,"createUnitDependencies",(function(){return pb})),n.d(t,"acosDependencies",(function(){return db})),n.d(t,"acoshDependencies",(function(){return hb})),n.d(t,"acotDependencies",(function(){return fb})),n.d(t,"acothDependencies",(function(){return mb})),n.d(t,"acscDependencies",(function(){return gb})),n.d(t,"acschDependencies",(function(){return yb})),n.d(t,"asecDependencies",(function(){return vb})),n.d(t,"asechDependencies",(function(){return bb})),n.d(t,"asinDependencies",(function(){return Ab})),n.d(t,"asinhDependencies",(function(){return xb})),n.d(t,"atanDependencies",(function(){return wb})),n.d(t,"atan2Dependencies",(function(){return _b})),n.d(t,"atanhDependencies",(function(){return Sb})),n.d(t,"cosDependencies",(function(){return Tb})),n.d(t,"coshDependencies",(function(){return Pb})),n.d(t,"cotDependencies",(function(){return Cb})),n.d(t,"cothDependencies",(function(){return Eb})),n.d(t,"cscDependencies",(function(){return kb})),n.d(t,"cschDependencies",(function(){return Ob})),n.d(t,"secDependencies",(function(){return Mb})),n.d(t,"sechDependencies",(function(){return Nb})),n.d(t,"sinDependencies",(function(){return Ib})),n.d(t,"sinhDependencies",(function(){return Db})),n.d(t,"tanDependencies",(function(){return Rb})),n.d(t,"tanhDependencies",(function(){return jb})),n.d(t,"setCartesianDependencies",(function(){return Bb})),n.d(t,"setDifferenceDependencies",(function(){return Fb})),n.d(t,"setDistinctDependencies",(function(){return Lb})),n.d(t,"setIntersectDependencies",(function(){return Ub})),n.d(t,"setIsSubsetDependencies",(function(){return zb})),n.d(t,"setMultiplicityDependencies",(function(){return Vb})),n.d(t,"setPowersetDependencies",(function(){return Wb})),n.d(t,"setSizeDependencies",(function(){return Hb})),n.d(t,"setSymDifferenceDependencies",(function(){return Gb})),n.d(t,"setUnionDependencies",(function(){return qb})),n.d(t,"addDependencies",(function(){return Xb})),n.d(t,"hypotDependencies",(function(){return Kb})),n.d(t,"normDependencies",(function(){return Yb})),n.d(t,"dotDependencies",(function(){return Zb})),n.d(t,"traceDependencies",(function(){return Qb})),n.d(t,"indexDependencies",(function(){return Jb})),n.d(t,"NodeDependencies",(function(){return $b})),n.d(t,"AccessorNodeDependencies",(function(){return eA})),n.d(t,"ArrayNodeDependencies",(function(){return tA})),n.d(t,"AssignmentNodeDependencies",(function(){return nA})),n.d(t,"BlockNodeDependencies",(function(){return rA})),n.d(t,"ConditionalNodeDependencies",(function(){return iA})),n.d(t,"ConstantNodeDependencies",(function(){return oA})),n.d(t,"FunctionAssignmentNodeDependencies",(function(){return aA})),n.d(t,"IndexNodeDependencies",(function(){return sA})),n.d(t,"ObjectNodeDependencies",(function(){return cA})),n.d(t,"OperatorNodeDependencies",(function(){return uA})),n.d(t,"ParenthesisNodeDependencies",(function(){return lA})),n.d(t,"RangeNodeDependencies",(function(){return pA})),n.d(t,"RelationalNodeDependencies",(function(){return dA})),n.d(t,"SymbolNodeDependencies",(function(){return hA})),n.d(t,"FunctionNodeDependencies",(function(){return fA})),n.d(t,"parseDependencies",(function(){return mA})),n.d(t,"compileDependencies",(function(){return gA})),n.d(t,"evaluateDependencies",(function(){return yA})),n.d(t,"evalDependencies",(function(){return bA})),n.d(t,"ParserDependencies",(function(){return AA})),n.d(t,"parserDependencies",(function(){return xA})),n.d(t,"lupDependencies",(function(){return wA})),n.d(t,"qrDependencies",(function(){return _A})),n.d(t,"sluDependencies",(function(){return SA})),n.d(t,"lusolveDependencies",(function(){return TA})),n.d(t,"HelpDependencies",(function(){return PA})),n.d(t,"ChainDependencies",(function(){return CA})),n.d(t,"helpDependencies",(function(){return EA})),n.d(t,"chainDependencies",(function(){return kA})),n.d(t,"detDependencies",(function(){return OA})),n.d(t,"invDependencies",(function(){return MA})),n.d(t,"eigsDependencies",(function(){return NA})),n.d(t,"expmDependencies",(function(){return IA})),n.d(t,"sqrtmDependencies",(function(){return DA})),n.d(t,"divideDependencies",(function(){return RA})),n.d(t,"distanceDependencies",(function(){return jA})),n.d(t,"intersectDependencies",(function(){return BA})),n.d(t,"sumDependencies",(function(){return FA})),n.d(t,"meanDependencies",(function(){return LA})),n.d(t,"medianDependencies",(function(){return UA})),n.d(t,"madDependencies",(function(){return zA})),n.d(t,"varianceDependencies",(function(){return VA})),n.d(t,"varDependencies",(function(){return WA})),n.d(t,"quantileSeqDependencies",(function(){return HA})),n.d(t,"stdDependencies",(function(){return GA})),n.d(t,"combinationsDependencies",(function(){return qA})),n.d(t,"combinationsWithRepDependencies",(function(){return XA})),n.d(t,"gammaDependencies",(function(){return KA})),n.d(t,"factorialDependencies",(function(){return YA})),n.d(t,"kldivergenceDependencies",(function(){return ZA})),n.d(t,"multinomialDependencies",(function(){return QA})),n.d(t,"permutationsDependencies",(function(){return JA})),n.d(t,"pickRandomDependencies",(function(){return $A})),n.d(t,"randomDependencies",(function(){return ex})),n.d(t,"randomIntDependencies",(function(){return tx})),n.d(t,"stirlingS2Dependencies",(function(){return nx})),n.d(t,"bellNumbersDependencies",(function(){return rx})),n.d(t,"catalanDependencies",(function(){return ix})),n.d(t,"compositionDependencies",(function(){return ox})),n.d(t,"simplifyDependencies",(function(){return ax})),n.d(t,"derivativeDependencies",(function(){return sx})),n.d(t,"rationalizeDependencies",(function(){return cx})),n.d(t,"reviverDependencies",(function(){return ux})),n.d(t,"replacerDependencies",(function(){return lx})),n.d(t,"eDependencies",(function(){return px})),n.d(t,"EDependencies",(function(){return dx})),n.d(t,"falseDependencies",(function(){return hx})),n.d(t,"iDependencies",(function(){return fx})),n.d(t,"InfinityDependencies",(function(){return mx})),n.d(t,"LN10Dependencies",(function(){return gx})),n.d(t,"LN2Dependencies",(function(){return yx})),n.d(t,"LOG10EDependencies",(function(){return vx})),n.d(t,"LOG2EDependencies",(function(){return bx})),n.d(t,"NaNDependencies",(function(){return Ax})),n.d(t,"nullDependencies",(function(){return xx})),n.d(t,"phiDependencies",(function(){return wx})),n.d(t,"piDependencies",(function(){return _x})),n.d(t,"PIDependencies",(function(){return Sx})),n.d(t,"SQRT1_2Dependencies",(function(){return Tx})),n.d(t,"SQRT2Dependencies",(function(){return Px})),n.d(t,"tauDependencies",(function(){return Cx})),n.d(t,"trueDependencies",(function(){return Ex})),n.d(t,"versionDependencies",(function(){return kx})),n.d(t,"atomicMassDependencies",(function(){return Ox})),n.d(t,"avogadroDependencies",(function(){return Mx})),n.d(t,"bohrMagnetonDependencies",(function(){return Nx})),n.d(t,"bohrRadiusDependencies",(function(){return Ix})),n.d(t,"boltzmannDependencies",(function(){return Dx})),n.d(t,"classicalElectronRadiusDependencies",(function(){return Rx})),n.d(t,"conductanceQuantumDependencies",(function(){return jx})),n.d(t,"coulombDependencies",(function(){return Bx})),n.d(t,"deuteronMassDependencies",(function(){return Fx})),n.d(t,"efimovFactorDependencies",(function(){return Lx})),n.d(t,"electricConstantDependencies",(function(){return Ux})),n.d(t,"electronMassDependencies",(function(){return zx})),n.d(t,"elementaryChargeDependencies",(function(){return Vx})),n.d(t,"faradayDependencies",(function(){return Wx})),n.d(t,"fermiCouplingDependencies",(function(){return Hx})),n.d(t,"fineStructureDependencies",(function(){return Gx})),n.d(t,"firstRadiationDependencies",(function(){return qx})),n.d(t,"gasConstantDependencies",(function(){return Xx})),n.d(t,"gravitationConstantDependencies",(function(){return Kx})),n.d(t,"gravityDependencies",(function(){return Yx})),n.d(t,"hartreeEnergyDependencies",(function(){return Zx})),n.d(t,"inverseConductanceQuantumDependencies",(function(){return Qx})),n.d(t,"klitzingDependencies",(function(){return Jx})),n.d(t,"loschmidtDependencies",(function(){return $x})),n.d(t,"magneticConstantDependencies",(function(){return ew})),n.d(t,"magneticFluxQuantumDependencies",(function(){return tw})),n.d(t,"molarMassDependencies",(function(){return nw})),n.d(t,"molarMassC12Dependencies",(function(){return rw})),n.d(t,"molarPlanckConstantDependencies",(function(){return iw})),n.d(t,"molarVolumeDependencies",(function(){return ow})),n.d(t,"neutronMassDependencies",(function(){return aw})),n.d(t,"nuclearMagnetonDependencies",(function(){return sw})),n.d(t,"planckChargeDependencies",(function(){return cw})),n.d(t,"planckConstantDependencies",(function(){return uw})),n.d(t,"planckLengthDependencies",(function(){return lw})),n.d(t,"planckMassDependencies",(function(){return pw})),n.d(t,"planckTemperatureDependencies",(function(){return dw})),n.d(t,"planckTimeDependencies",(function(){return hw})),n.d(t,"protonMassDependencies",(function(){return fw})),n.d(t,"quantumOfCirculationDependencies",(function(){return mw})),n.d(t,"reducedPlanckConstantDependencies",(function(){return gw})),n.d(t,"rydbergDependencies",(function(){return yw})),n.d(t,"sackurTetrodeDependencies",(function(){return vw})),n.d(t,"secondRadiationDependencies",(function(){return bw})),n.d(t,"speedOfLightDependencies",(function(){return Aw})),n.d(t,"stefanBoltzmannDependencies",(function(){return xw})),n.d(t,"thomsonCrossSectionDependencies",(function(){return ww})),n.d(t,"vacuumImpedanceDependencies",(function(){return _w})),n.d(t,"weakMixingAngleDependencies",(function(){return Sw})),n.d(t,"wienDisplacementDependencies",(function(){return Tw})),n.d(t,"applyTransformDependencies",(function(){return Pw})),n.d(t,"columnTransformDependencies",(function(){return Cw})),n.d(t,"filterTransformDependencies",(function(){return Ew})),n.d(t,"forEachTransformDependencies",(function(){return kw})),n.d(t,"indexTransformDependencies",(function(){return Ow})),n.d(t,"mapTransformDependencies",(function(){return Mw})),n.d(t,"maxTransformDependencies",(function(){return Nw})),n.d(t,"meanTransformDependencies",(function(){return Iw})),n.d(t,"minTransformDependencies",(function(){return Dw})),n.d(t,"rangeTransformDependencies",(function(){return Rw})),n.d(t,"rowTransformDependencies",(function(){return jw})),n.d(t,"subsetTransformDependencies",(function(){return Bw})),n.d(t,"concatTransformDependencies",(function(){return Fw})),n.d(t,"stdTransformDependencies",(function(){return Lw})),n.d(t,"sumTransformDependencies",(function(){return Uw})),n.d(t,"varianceTransformDependencies",(function(){return zw})),n.d(t,"all",(function(){return Vw})),n.d(t,"createTyped",(function(){return Jn})),n.d(t,"createResultSet",(function(){return rt})),n.d(t,"createBigNumberClass",(function(){return Wt})),n.d(t,"createComplexClass",(function(){return st})),n.d(t,"createFractionClass",(function(){return Xn})),n.d(t,"createRangeClass",(function(){return ct})),n.d(t,"createMatrixClass",(function(){return Ht})),n.d(t,"createDenseMatrixClass",(function(){return Kn})),n.d(t,"createClone",(function(){return To})),n.d(t,"createIsInteger",(function(){return cr})),n.d(t,"createIsNegative",(function(){return Qo})),n.d(t,"createIsNumeric",(function(){return ur})),n.d(t,"createHasNumericValue",(function(){return Po})),n.d(t,"createIsPositive",(function(){return fr})),n.d(t,"createIsZero",(function(){return ys})),n.d(t,"createIsNaN",(function(){return mr})),n.d(t,"createTypeOf",(function(){return Eo})),n.d(t,"createDeprecatedTypeof",(function(){return ko})),n.d(t,"createEqualScalar",(function(){return yr})),n.d(t,"createSparseMatrixClass",(function(){return Jo})),n.d(t,"createNumber",(function(){return vr})),n.d(t,"createString",(function(){return Oo})),n.d(t,"createBoolean",(function(){return br})),n.d(t,"createBignumber",(function(){return Ks})),n.d(t,"createComplex",(function(){return Ar})),n.d(t,"createFraction",(function(){return Mo})),n.d(t,"createMatrix",(function(){return $o})),n.d(t,"createSplitUnit",(function(){return xr})),n.d(t,"createUnaryMinus",(function(){return No})),n.d(t,"createUnaryPlus",(function(){return Hr})),n.d(t,"createAbs",(function(){return vs})),n.d(t,"createApply",(function(){return Gr})),n.d(t,"createAddScalar",(function(){return Io})),n.d(t,"createCbrt",(function(){return ea})),n.d(t,"createCeil",(function(){return uc})),n.d(t,"createCube",(function(){return Xr})),n.d(t,"createExp",(function(){return Do})),n.d(t,"createExpm1",(function(){return Kr})),n.d(t,"createFix",(function(){return xc})),n.d(t,"createFloor",(function(){return bs})),n.d(t,"createGcd",(function(){return aa})),n.d(t,"createLcm",(function(){return Ys})),n.d(t,"createLog10",(function(){return Yr})),n.d(t,"createLog2",(function(){return Ro})),n.d(t,"createMod",(function(){return da})),n.d(t,"createMultiplyScalar",(function(){return Zr})),n.d(t,"createMultiply",(function(){return As})),n.d(t,"createNthRoot",(function(){return fa})),n.d(t,"createSign",(function(){return Qr})),n.d(t,"createSqrt",(function(){return jo})),n.d(t,"createSquare",(function(){return Jr})),n.d(t,"createSubtract",(function(){return lc})),n.d(t,"createXgcd",(function(){return ma})),n.d(t,"createDotMultiply",(function(){return xs})),n.d(t,"createBitAnd",(function(){return ga})),n.d(t,"createBitNot",(function(){return mi})),n.d(t,"createBitOr",(function(){return Zs})),n.d(t,"createBitXor",(function(){return va})),n.d(t,"createArg",(function(){return gi})),n.d(t,"createConj",(function(){return Bo})),n.d(t,"createIm",(function(){return yi})),n.d(t,"createRe",(function(){return ws})),n.d(t,"createNot",(function(){return wi})),n.d(t,"createOr",(function(){return ba})),n.d(t,"createXor",(function(){return Yc})),n.d(t,"createConcat",(function(){return Aa})),n.d(t,"createColumn",(function(){return hu})),n.d(t,"createCross",(function(){return dc})),n.d(t,"createDiag",(function(){return wa})),n.d(t,"createEye",(function(){return ut})),n.d(t,"createFilter",(function(){return _i})),n.d(t,"createFlatten",(function(){return _s})),n.d(t,"createForEach",(function(){return Ti})),n.d(t,"createGetMatrixDataType",(function(){return Fo})),n.d(t,"createIdentity",(function(){return _a})),n.d(t,"createKron",(function(){return Qs})),n.d(t,"createMap",(function(){return Ci})),n.d(t,"createOnes",(function(){return Sa})),n.d(t,"createRange",(function(){return wc})),n.d(t,"createReshape",(function(){return Ta})),n.d(t,"createResize",(function(){return Ts})),n.d(t,"createRow",(function(){return Zc})),n.d(t,"createSize",(function(){return ka})),n.d(t,"createSqueeze",(function(){return Ps})),n.d(t,"createSubset",(function(){return Fa})),n.d(t,"createTranspose",(function(){return Js})),n.d(t,"createCtranspose",(function(){return hc})),n.d(t,"createZeros",(function(){return Wa})),n.d(t,"createErf",(function(){return ki})),n.d(t,"createMode",(function(){return Lo})),n.d(t,"createProd",(function(){return Cs})),n.d(t,"createFormat",(function(){return Ri})),n.d(t,"createPrint",(function(){return Uo})),n.d(t,"createTo",(function(){return Ha})),n.d(t,"createIsPrime",(function(){return ji})),n.d(t,"createNumeric",(function(){return $s})),n.d(t,"createDivideScalar",(function(){return _c})),n.d(t,"createPow",(function(){return Es})),n.d(t,"createRound",(function(){return Ya})),n.d(t,"createLog",(function(){return xu})),n.d(t,"createLog1p",(function(){return Tu})),n.d(t,"createNthRoots",(function(){return Sc})),n.d(t,"createDotPow",(function(){return ks})),n.d(t,"createDotDivide",(function(){return Qc})),n.d(t,"createLsolve",(function(){return Pc})),n.d(t,"createUsolve",(function(){return fu})),n.d(t,"createLeftShift",(function(){return Ja})),n.d(t,"createRightArithShift",(function(){return Os})),n.d(t,"createRightLogShift",(function(){return $a})),n.d(t,"createAnd",(function(){return ec})),n.d(t,"createCompare",(function(){return es})),n.d(t,"createCompareNatural",(function(){return Is})),n.d(t,"createCompareText",(function(){return ts})),n.d(t,"createEqual",(function(){return fc})),n.d(t,"createEqualText",(function(){return Ds})),n.d(t,"createSmaller",(function(){return ns})),n.d(t,"createSmallerEq",(function(){return tc})),n.d(t,"createLarger",(function(){return rs})),n.d(t,"createLargerEq",(function(){return Rs})),n.d(t,"createDeepEqual",(function(){return Cc})),n.d(t,"createUnequal",(function(){return is})),n.d(t,"createPartitionSelect",(function(){return js})),n.d(t,"createSort",(function(){return nc})),n.d(t,"createMax",(function(){return as})),n.d(t,"createMin",(function(){return Bs})),n.d(t,"createImmutableDenseMatrixClass",(function(){return ss})),n.d(t,"createIndexClass",(function(){return mc})),n.d(t,"createFibonacciHeapClass",(function(){return cs}));n.d(t,"createSpaClass",(function(){return Fs})),n.d(t,"createUnitClass",(function(){return eu})),n.d(t,"createUnitFunction",(function(){return wu})),n.d(t,"createSparse",(function(){return us})),n.d(t,"createCreateUnit",(function(){return tu})),n.d(t,"createAcos",(function(){return Bi})),n.d(t,"createAcosh",(function(){return Vo})),n.d(t,"createAcot",(function(){return eo})),n.d(t,"createAcoth",(function(){return ls})),n.d(t,"createAcsc",(function(){return to})),n.d(t,"createAcsch",(function(){return Wo})),n.d(t,"createAsec",(function(){return no})),n.d(t,"createAsech",(function(){return Ls})),n.d(t,"createAsin",(function(){return ro})),n.d(t,"createAsinh",(function(){return Ho})),n.d(t,"createAtan",(function(){return io})),n.d(t,"createAtan2",(function(){return ds})),n.d(t,"createAtanh",(function(){return oo})),n.d(t,"createCos",(function(){return Go})),n.d(t,"createCosh",(function(){return ao})),n.d(t,"createCot",(function(){return rc})),n.d(t,"createCoth",(function(){return so})),n.d(t,"createCsc",(function(){return qo})),n.d(t,"createCsch",(function(){return co})),n.d(t,"createSec",(function(){return hs})),n.d(t,"createSech",(function(){return uo})),n.d(t,"createSin",(function(){return Xo})),n.d(t,"createSinh",(function(){return lo})),n.d(t,"createTan",(function(){return Us})),n.d(t,"createTanh",(function(){return po})),n.d(t,"createSetCartesian",(function(){return gc})),n.d(t,"createSetDifference",(function(){return Ec})),n.d(t,"createSetDistinct",(function(){return yc})),n.d(t,"createSetIntersect",(function(){return mu})),n.d(t,"createSetIsSubset",(function(){return vc})),n.d(t,"createSetMultiplicity",(function(){return kc})),n.d(t,"createSetPowerset",(function(){return bc})),n.d(t,"createSetSize",(function(){return zs})),n.d(t,"createSetSymDifference",(function(){return nu})),n.d(t,"createSetUnion",(function(){return Cu})),n.d(t,"createAdd",(function(){return fs})),n.d(t,"createHypot",(function(){return Oc})),n.d(t,"createNorm",(function(){return Vs})),n.d(t,"createDot",(function(){return ic})),n.d(t,"createTrace",(function(){return ms})),n.d(t,"createIndex",(function(){return Ac})),n.d(t,"createNode",(function(){return jf})),n.d(t,"createAccessorNode",(function(){return dm})),n.d(t,"createArrayNode",(function(){return Bf})),n.d(t,"createAssignmentNode",(function(){return gm})),n.d(t,"createBlockNode",(function(){return Ff})),n.d(t,"createConditionalNode",(function(){return im})),n.d(t,"createConstantNode",(function(){return Xf})),n.d(t,"createFunctionAssignmentNode",(function(){return sm})),n.d(t,"createIndexNode",(function(){return fm})),n.d(t,"createObjectNode",(function(){return Yf})),n.d(t,"createOperatorNode",(function(){return om})),n.d(t,"createParenthesisNode",(function(){return Zf})),n.d(t,"createRangeNode",(function(){return am})),n.d(t,"createRelationalNode",(function(){return tm})),n.d(t,"createSymbolNode",(function(){return ym})),n.d(t,"createFunctionNode",(function(){return Am})),n.d(t,"createParse",(function(){return wm})),n.d(t,"createCompile",(function(){return Pm})),n.d(t,"createEvaluate",(function(){return _m})),n.d(t,"createDeprecatedEval",(function(){return vA})),n.d(t,"createParserClass",(function(){return Sm})),n.d(t,"createParser",(function(){return Cm})),n.d(t,"createLup",(function(){return Mc})),n.d(t,"createQr",(function(){return iu})),n.d(t,"createSlu",(function(){return Hc})),n.d(t,"createLusolve",(function(){return yu})),n.d(t,"createHelpClass",(function(){return Tm})),n.d(t,"createChainClass",(function(){return nm})),n.d(t,"createHelp",(function(){return zm})),n.d(t,"createChain",(function(){return cm})),n.d(t,"createDet",(function(){return Gc})),n.d(t,"createInv",(function(){return ou})),n.d(t,"createEigs",(function(){return vu})),n.d(t,"createExpm",(function(){return au})),n.d(t,"createSqrtm",(function(){return _u})),n.d(t,"createDivide",(function(){return su})),n.d(t,"createDistance",(function(){return qc})),n.d(t,"createIntersect",(function(){return bu})),n.d(t,"createSum",(function(){return oc})),n.d(t,"createMean",(function(){return cu})),n.d(t,"createMedian",(function(){return Pu})),n.d(t,"createMad",(function(){return Eu})),n.d(t,"createVariance",(function(){return uu})),n.d(t,"createDeprecatedVar",(function(){return lu})),n.d(t,"createQuantileSeq",(function(){return Ws})),n.d(t,"createStd",(function(){return pu})),n.d(t,"createCombinations",(function(){return mo})),n.d(t,"createCombinationsWithRep",(function(){return Ko})),n.d(t,"createGamma",(function(){return Xs})),n.d(t,"createFactorial",(function(){return ac})),n.d(t,"createKldivergence",(function(){return Su})),n.d(t,"createMultinomial",(function(){return du})),n.d(t,"createPermutations",(function(){return sc})),n.d(t,"createPickRandom",(function(){return xo})),n.d(t,"createRandom",(function(){return Zo})),n.d(t,"createRandomInt",(function(){return So})),n.d(t,"createStirlingS2",(function(){return Xc})),n.d(t,"createBellNumbers",(function(){return Au})),n.d(t,"createCatalan",(function(){return Kc})),n.d(t,"createComposition",(function(){return gs})),n.d(t,"createSimplify",(function(){return Im})),n.d(t,"createDerivative",(function(){return Vm})),n.d(t,"createRationalize",(function(){return Dm})),n.d(t,"createReviver",(function(){return rm})),n.d(t,"createReplacer",(function(){return Gt})),n.d(t,"createE",(function(){return Et})),n.d(t,"createUppercaseE",(function(){return Ft})),n.d(t,"createFalse",(function(){return wt})),n.d(t,"createI",(function(){return jt})),n.d(t,"createInfinity",(function(){return St})),n.d(t,"createLN10",(function(){return Mt})),n.d(t,"createLN2",(function(){return Ot})),n.d(t,"createLOG10E",(function(){return It})),n.d(t,"createLOG2E",(function(){return Nt})),n.d(t,"createNaN",(function(){return Tt})),n.d(t,"createNull",(function(){return _t})),n.d(t,"createPhi",(function(){return kt})),n.d(t,"createPi",(function(){return Pt})),n.d(t,"createUppercasePi",(function(){return Bt})),n.d(t,"createSQRT1_2",(function(){return Dt})),n.d(t,"createSQRT2",(function(){return Rt})),n.d(t,"createTau",(function(){return Ct})),n.d(t,"createTrue",(function(){return xt})),n.d(t,"createVersion",(function(){return Lt})),n.d(t,"createAtomicMass",(function(){return wn})),n.d(t,"createAvogadro",(function(){return _n})),n.d(t,"createBohrMagneton",(function(){return tn})),n.d(t,"createBohrRadius",(function(){return cn})),n.d(t,"createBoltzmann",(function(){return Sn})),n.d(t,"createClassicalElectronRadius",(function(){return un})),n.d(t,"createConductanceQuantum",(function(){return nn})),n.d(t,"createCoulomb",(function(){return $t})),n.d(t,"createDeuteronMass",(function(){return mn})),n.d(t,"createEfimovFactor",(function(){return xn})),n.d(t,"createElectricConstant",(function(){return Qt})),n.d(t,"createElectronMass",(function(){return ln})),n.d(t,"createElementaryCharge",(function(){return en})),n.d(t,"createFaraday",(function(){return Tn})),n.d(t,"createFermiCoupling",(function(){return pn})),n.d(t,"createFineStructure",(function(){return dn})),n.d(t,"createFirstRadiation",(function(){return Pn})),n.d(t,"createGasConstant",(function(){return En})),n.d(t,"createGravitationConstant",(function(){return Xt})),n.d(t,"createGravity",(function(){return Bn})),n.d(t,"createHartreeEnergy",(function(){return hn})),n.d(t,"createInverseConductanceQuantum",(function(){return rn})),n.d(t,"createKlitzing",(function(){return sn})),n.d(t,"createLoschmidt",(function(){return Cn})),n.d(t,"createMagneticConstant",(function(){return Zt})),n.d(t,"createMagneticFluxQuantum",(function(){return on})),n.d(t,"createMolarMass",(function(){return Rn})),n.d(t,"createMolarMassC12",(function(){return jn})),n.d(t,"createMolarPlanckConstant",(function(){return kn})),n.d(t,"createMolarVolume",(function(){return On})),n.d(t,"createNeutronMass",(function(){return gn})),n.d(t,"createNuclearMagneton",(function(){return an})),n.d(t,"createPlanckCharge",(function(){return zn})),n.d(t,"createPlanckConstant",(function(){return Kt})),n.d(t,"createPlanckLength",(function(){return Fn})),n.d(t,"createPlanckMass",(function(){return Ln})),n.d(t,"createPlanckTemperature",(function(){return Vn})),n.d(t,"createPlanckTime",(function(){return Un})),n.d(t,"createProtonMass",(function(){return fn})),n.d(t,"createQuantumOfCirculation",(function(){return yn})),n.d(t,"createReducedPlanckConstant",(function(){return Yt})),n.d(t,"createRydberg",(function(){return vn})),n.d(t,"createSackurTetrode",(function(){return Mn})),n.d(t,"createSecondRadiation",(function(){return Nn})),n.d(t,"createSpeedOfLight",(function(){return qt})),n.d(t,"createStefanBoltzmann",(function(){return In})),n.d(t,"createThomsonCrossSection",(function(){return bn})),n.d(t,"createVacuumImpedance",(function(){return Jt})),n.d(t,"createWeakMixingAngle",(function(){return An})),n.d(t,"createWienDisplacement",(function(){return Dn})),n.d(t,"createApplyTransform",(function(){return Wm})),n.d(t,"createColumnTransform",(function(){return rg})),n.d(t,"createFilterTransform",(function(){return Gm})),n.d(t,"createForEachTransform",(function(){return Ym})),n.d(t,"createIndexTransform",(function(){return ng})),n.d(t,"createMapTransform",(function(){return Xm})),n.d(t,"createMaxTransform",(function(){return Zm})),n.d(t,"createMeanTransform",(function(){return og})),n.d(t,"createMinTransform",(function(){return Qm})),n.d(t,"createRangeTransform",(function(){return eg})),n.d(t,"createRowTransform",(function(){return ig})),n.d(t,"createSubsetTransform",(function(){return Jm})),n.d(t,"createConcatTransform",(function(){return $m})),n.d(t,"createStdTransform",(function(){return sg})),n.d(t,"createSumTransform",(function(){return tg})),n.d(t,"createVarianceTransform",(function(){return ag})),n.d(t,"create",(function(){return Xw})),n.d(t,"factory",(function(){return et})),n.d(t,"deprecatedEval",(function(){return Kw})),n.d(t,"deprecatedImport",(function(){return Yw})),n.d(t,"deprecatedVar",(function(){return Zw})),n.d(t,"deprecatedTypeof",(function(){return Qw})),n.d(t,"type",(function(){return Jw})),n.d(t,"expression",(function(){return $w})),n.d(t,"json",(function(){return e_})),n.d(t,"error",(function(){return t_}));var r={};n.r(r),n.d(r,"createTyped",(function(){return Jn})),n.d(r,"createResultSet",(function(){return rt})),n.d(r,"createBigNumberClass",(function(){return Wt})),n.d(r,"createComplexClass",(function(){return st})),n.d(r,"createFractionClass",(function(){return Xn})),n.d(r,"createRangeClass",(function(){return ct})),n.d(r,"createMatrixClass",(function(){return Ht})),n.d(r,"createDenseMatrixClass",(function(){return Kn})),n.d(r,"createClone",(function(){return To})),n.d(r,"createIsInteger",(function(){return cr})),n.d(r,"createIsNegative",(function(){return Qo})),n.d(r,"createIsNumeric",(function(){return ur})),n.d(r,"createHasNumericValue",(function(){return Po})),n.d(r,"createIsPositive",(function(){return fr})),n.d(r,"createIsZero",(function(){return ys})),n.d(r,"createIsNaN",(function(){return mr})),n.d(r,"createTypeOf",(function(){return Eo})),n.d(r,"createDeprecatedTypeof",(function(){return ko})),n.d(r,"createEqualScalar",(function(){return yr})),n.d(r,"createSparseMatrixClass",(function(){return Jo})),n.d(r,"createNumber",(function(){return vr})),n.d(r,"createString",(function(){return Oo})),n.d(r,"createBoolean",(function(){return br})),n.d(r,"createBignumber",(function(){return Ks})),n.d(r,"createComplex",(function(){return Ar})),n.d(r,"createFraction",(function(){return Mo})),n.d(r,"createMatrix",(function(){return $o})),n.d(r,"createSplitUnit",(function(){return xr})),n.d(r,"createUnaryMinus",(function(){return No})),n.d(r,"createUnaryPlus",(function(){return Hr})),n.d(r,"createAbs",(function(){return vs})),n.d(r,"createApply",(function(){return Gr})),n.d(r,"createAddScalar",(function(){return Io})),n.d(r,"createCbrt",(function(){return ea})),n.d(r,"createCeil",(function(){return uc})),n.d(r,"createCube",(function(){return Xr})),n.d(r,"createExp",(function(){return Do})),n.d(r,"createExpm1",(function(){return Kr})),n.d(r,"createFix",(function(){return xc})),n.d(r,"createFloor",(function(){return bs})),n.d(r,"createGcd",(function(){return aa})),n.d(r,"createLcm",(function(){return Ys})),n.d(r,"createLog10",(function(){return Yr})),n.d(r,"createLog2",(function(){return Ro})),n.d(r,"createMod",(function(){return da})),n.d(r,"createMultiplyScalar",(function(){return Zr})),n.d(r,"createMultiply",(function(){return As})),n.d(r,"createNthRoot",(function(){return fa})),n.d(r,"createSign",(function(){return Qr})),n.d(r,"createSqrt",(function(){return jo})),n.d(r,"createSquare",(function(){return Jr})),n.d(r,"createSubtract",(function(){return lc})),n.d(r,"createXgcd",(function(){return ma})),n.d(r,"createDotMultiply",(function(){return xs})),n.d(r,"createBitAnd",(function(){return ga})),n.d(r,"createBitNot",(function(){return mi})),n.d(r,"createBitOr",(function(){return Zs})),n.d(r,"createBitXor",(function(){return va})),n.d(r,"createArg",(function(){return gi})),n.d(r,"createConj",(function(){return Bo})),n.d(r,"createIm",(function(){return yi})),n.d(r,"createRe",(function(){return ws})),n.d(r,"createNot",(function(){return wi})),n.d(r,"createOr",(function(){return ba})),n.d(r,"createXor",(function(){return Yc})),n.d(r,"createConcat",(function(){return Aa})),n.d(r,"createColumn",(function(){return hu})),n.d(r,"createCross",(function(){return dc})),n.d(r,"createDiag",(function(){return wa})),n.d(r,"createEye",(function(){return ut})),n.d(r,"createFilter",(function(){return _i})),n.d(r,"createFlatten",(function(){return _s})),n.d(r,"createForEach",(function(){return Ti})),n.d(r,"createGetMatrixDataType",(function(){return Fo})),n.d(r,"createIdentity",(function(){return _a})),n.d(r,"createKron",(function(){return Qs})),n.d(r,"createMap",(function(){return Ci})),n.d(r,"createOnes",(function(){return Sa})),n.d(r,"createRange",(function(){return wc})),n.d(r,"createReshape",(function(){return Ta})),n.d(r,"createResize",(function(){return Ts})),n.d(r,"createRow",(function(){return Zc})),n.d(r,"createSize",(function(){return ka})),n.d(r,"createSqueeze",(function(){return Ps})),n.d(r,"createSubset",(function(){return Fa})),n.d(r,"createTranspose",(function(){return Js})),n.d(r,"createCtranspose",(function(){return hc})),n.d(r,"createZeros",(function(){return Wa})),n.d(r,"createErf",(function(){return ki})),n.d(r,"createMode",(function(){return Lo})),n.d(r,"createProd",(function(){return Cs})),n.d(r,"createFormat",(function(){return Ri})),n.d(r,"createPrint",(function(){return Uo})),n.d(r,"createTo",(function(){return Ha})),n.d(r,"createIsPrime",(function(){return ji})),n.d(r,"createNumeric",(function(){return $s})),n.d(r,"createDivideScalar",(function(){return _c})),n.d(r,"createPow",(function(){return Es})),n.d(r,"createRound",(function(){return Ya})),n.d(r,"createLog",(function(){return xu})),n.d(r,"createLog1p",(function(){return Tu})),n.d(r,"createNthRoots",(function(){return Sc})),n.d(r,"createDotPow",(function(){return ks})),n.d(r,"createDotDivide",(function(){return Qc})),n.d(r,"createLsolve",(function(){return Pc})),n.d(r,"createUsolve",(function(){return fu})),n.d(r,"createLeftShift",(function(){return Ja})),n.d(r,"createRightArithShift",(function(){return Os})),n.d(r,"createRightLogShift",(function(){return $a})),n.d(r,"createAnd",(function(){return ec})),n.d(r,"createCompare",(function(){return es})),n.d(r,"createCompareNatural",(function(){return Is})),n.d(r,"createCompareText",(function(){return ts})),n.d(r,"createEqual",(function(){return fc})),n.d(r,"createEqualText",(function(){return Ds})),n.d(r,"createSmaller",(function(){return ns})),n.d(r,"createSmallerEq",(function(){return tc})),n.d(r,"createLarger",(function(){return rs})),n.d(r,"createLargerEq",(function(){return Rs})),n.d(r,"createDeepEqual",(function(){return Cc})),n.d(r,"createUnequal",(function(){return is})),n.d(r,"createPartitionSelect",(function(){return js})),n.d(r,"createSort",(function(){return nc})),n.d(r,"createMax",(function(){return as})),n.d(r,"createMin",(function(){return Bs})),n.d(r,"createImmutableDenseMatrixClass",(function(){return ss})),n.d(r,"createIndexClass",(function(){return mc})),n.d(r,"createFibonacciHeapClass",(function(){return cs})),n.d(r,"createSpaClass",(function(){return Fs})),n.d(r,"createUnitClass",(function(){return eu})),n.d(r,"createUnitFunction",(function(){return wu})),n.d(r,"createSparse",(function(){return us})),n.d(r,"createCreateUnit",(function(){return tu})),n.d(r,"createAcos",(function(){return Bi})),n.d(r,"createAcosh",(function(){return Vo})),n.d(r,"createAcot",(function(){return eo})),n.d(r,"createAcoth",(function(){return ls})),n.d(r,"createAcsc",(function(){return to})),n.d(r,"createAcsch",(function(){return Wo})),n.d(r,"createAsec",(function(){return no})),n.d(r,"createAsech",(function(){return Ls})),n.d(r,"createAsin",(function(){return ro})),n.d(r,"createAsinh",(function(){return Ho})),n.d(r,"createAtan",(function(){return io})),n.d(r,"createAtan2",(function(){return ds})),n.d(r,"createAtanh",(function(){return oo})),n.d(r,"createCos",(function(){return Go})),n.d(r,"createCosh",(function(){return ao})),n.d(r,"createCot",(function(){return rc})),n.d(r,"createCoth",(function(){return so})),n.d(r,"createCsc",(function(){return qo})),n.d(r,"createCsch",(function(){return co})),n.d(r,"createSec",(function(){return hs})),n.d(r,"createSech",(function(){return uo})),n.d(r,"createSin",(function(){return Xo})),n.d(r,"createSinh",(function(){return lo})),n.d(r,"createTan",(function(){return Us})),n.d(r,"createTanh",(function(){return po})),n.d(r,"createSetCartesian",(function(){return gc})),n.d(r,"createSetDifference",(function(){return Ec})),n.d(r,"createSetDistinct",(function(){return yc})),n.d(r,"createSetIntersect",(function(){return mu})),n.d(r,"createSetIsSubset",(function(){return vc})),n.d(r,"createSetMultiplicity",(function(){return kc})),n.d(r,"createSetPowerset",(function(){return bc})),n.d(r,"createSetSize",(function(){return zs})),n.d(r,"createSetSymDifference",(function(){return nu})),n.d(r,"createSetUnion",(function(){return Cu})),n.d(r,"createAdd",(function(){return fs})),n.d(r,"createHypot",(function(){return Oc})),n.d(r,"createNorm",(function(){return Vs})),n.d(r,"createDot",(function(){return ic})),n.d(r,"createTrace",(function(){return ms})),n.d(r,"createIndex",(function(){return Ac})),n.d(r,"createNode",(function(){return jf})),n.d(r,"createAccessorNode",(function(){return dm})),n.d(r,"createArrayNode",(function(){return Bf})),n.d(r,"createAssignmentNode",(function(){return gm})),n.d(r,"createBlockNode",(function(){return Ff})),n.d(r,"createConditionalNode",(function(){return im})),n.d(r,"createConstantNode",(function(){return Xf})),n.d(r,"createFunctionAssignmentNode",(function(){return sm})),n.d(r,"createIndexNode",(function(){return fm})),n.d(r,"createObjectNode",(function(){return Yf})),n.d(r,"createOperatorNode",(function(){return om})),n.d(r,"createParenthesisNode",(function(){return Zf})),n.d(r,"createRangeNode",(function(){return am})),n.d(r,"createRelationalNode",(function(){return tm})),n.d(r,"createSymbolNode",(function(){return ym})),n.d(r,"createFunctionNode",(function(){return Am})),n.d(r,"createParse",(function(){return wm})),n.d(r,"createCompile",(function(){return Pm})),n.d(r,"createEvaluate",(function(){return _m})),n.d(r,"createDeprecatedEval",(function(){return vA})),n.d(r,"createParserClass",(function(){return Sm})),n.d(r,"createParser",(function(){return Cm})),n.d(r,"createLup",(function(){return Mc})),n.d(r,"createQr",(function(){return iu})),n.d(r,"createSlu",(function(){return Hc})),n.d(r,"createLusolve",(function(){return yu})),n.d(r,"createHelpClass",(function(){return Tm})),n.d(r,"createChainClass",(function(){return nm})),n.d(r,"createHelp",(function(){return zm})),n.d(r,"createChain",(function(){return cm})),n.d(r,"createDet",(function(){return Gc})),n.d(r,"createInv",(function(){return ou})),n.d(r,"createEigs",(function(){return vu})),n.d(r,"createExpm",(function(){return au})),n.d(r,"createSqrtm",(function(){return _u})),n.d(r,"createDivide",(function(){return su})),n.d(r,"createDistance",(function(){return qc})),n.d(r,"createIntersect",(function(){return bu})),n.d(r,"createSum",(function(){return oc})),n.d(r,"createMean",(function(){return cu})),n.d(r,"createMedian",(function(){return Pu})),n.d(r,"createMad",(function(){return Eu})),n.d(r,"createVariance",(function(){return uu})),n.d(r,"createDeprecatedVar",(function(){return lu})),n.d(r,"createQuantileSeq",(function(){return Ws})),n.d(r,"createStd",(function(){return pu})),n.d(r,"createCombinations",(function(){return mo})),n.d(r,"createCombinationsWithRep",(function(){return Ko})),n.d(r,"createGamma",(function(){return Xs})),n.d(r,"createFactorial",(function(){return ac})),n.d(r,"createKldivergence",(function(){return Su})),n.d(r,"createMultinomial",(function(){return du})),n.d(r,"createPermutations",(function(){return sc})),n.d(r,"createPickRandom",(function(){return xo})),n.d(r,"createRandom",(function(){return Zo})),n.d(r,"createRandomInt",(function(){return So})),n.d(r,"createStirlingS2",(function(){return Xc})),n.d(r,"createBellNumbers",(function(){return Au})),n.d(r,"createCatalan",(function(){return Kc})),n.d(r,"createComposition",(function(){return gs})),n.d(r,"createSimplify",(function(){return Im})),n.d(r,"createDerivative",(function(){return Vm})),n.d(r,"createRationalize",(function(){return Dm})),n.d(r,"createReviver",(function(){return rm})),n.d(r,"createReplacer",(function(){return Gt})),n.d(r,"createE",(function(){return Et})),n.d(r,"createUppercaseE",(function(){return Ft})),n.d(r,"createFalse",(function(){return wt})),n.d(r,"createI",(function(){return jt})),n.d(r,"createInfinity",(function(){return St})),n.d(r,"createLN10",(function(){return Mt})),n.d(r,"createLN2",(function(){return Ot})),n.d(r,"createLOG10E",(function(){return It})),n.d(r,"createLOG2E",(function(){return Nt})),n.d(r,"createNaN",(function(){return Tt})),n.d(r,"createNull",(function(){return _t})),n.d(r,"createPhi",(function(){return kt})),n.d(r,"createPi",(function(){return Pt})),n.d(r,"createUppercasePi",(function(){return Bt})),n.d(r,"createSQRT1_2",(function(){return Dt})),n.d(r,"createSQRT2",(function(){return Rt})),n.d(r,"createTau",(function(){return Ct})),n.d(r,"createTrue",(function(){return xt})),n.d(r,"createVersion",(function(){return Lt})),n.d(r,"createAtomicMass",(function(){return wn})),n.d(r,"createAvogadro",(function(){return _n})),n.d(r,"createBohrMagneton",(function(){return tn})),n.d(r,"createBohrRadius",(function(){return cn})),n.d(r,"createBoltzmann",(function(){return Sn})),n.d(r,"createClassicalElectronRadius",(function(){return un})),n.d(r,"createConductanceQuantum",(function(){return nn})),n.d(r,"createCoulomb",(function(){return $t})),n.d(r,"createDeuteronMass",(function(){return mn})),n.d(r,"createEfimovFactor",(function(){return xn})),n.d(r,"createElectricConstant",(function(){return Qt})),n.d(r,"createElectronMass",(function(){return ln})),n.d(r,"createElementaryCharge",(function(){return en})),n.d(r,"createFaraday",(function(){return Tn})),n.d(r,"createFermiCoupling",(function(){return pn})),n.d(r,"createFineStructure",(function(){return dn})),n.d(r,"createFirstRadiation",(function(){return Pn})),n.d(r,"createGasConstant",(function(){return En})),n.d(r,"createGravitationConstant",(function(){return Xt})),n.d(r,"createGravity",(function(){return Bn})),n.d(r,"createHartreeEnergy",(function(){return hn})),n.d(r,"createInverseConductanceQuantum",(function(){return rn})),n.d(r,"createKlitzing",(function(){return sn})),n.d(r,"createLoschmidt",(function(){return Cn})),n.d(r,"createMagneticConstant",(function(){return Zt})),n.d(r,"createMagneticFluxQuantum",(function(){return on})),n.d(r,"createMolarMass",(function(){return Rn})),n.d(r,"createMolarMassC12",(function(){return jn})),n.d(r,"createMolarPlanckConstant",(function(){return kn})),n.d(r,"createMolarVolume",(function(){return On})),n.d(r,"createNeutronMass",(function(){return gn})),n.d(r,"createNuclearMagneton",(function(){return an})),n.d(r,"createPlanckCharge",(function(){return zn})),n.d(r,"createPlanckConstant",(function(){return Kt})),n.d(r,"createPlanckLength",(function(){return Fn})),n.d(r,"createPlanckMass",(function(){return Ln})),n.d(r,"createPlanckTemperature",(function(){return Vn})),n.d(r,"createPlanckTime",(function(){return Un})),n.d(r,"createProtonMass",(function(){return fn})),n.d(r,"createQuantumOfCirculation",(function(){return yn})),n.d(r,"createReducedPlanckConstant",(function(){return Yt})),n.d(r,"createRydberg",(function(){return vn})),n.d(r,"createSackurTetrode",(function(){return Mn})),n.d(r,"createSecondRadiation",(function(){return Nn})),n.d(r,"createSpeedOfLight",(function(){return qt})),n.d(r,"createStefanBoltzmann",(function(){return In})),n.d(r,"createThomsonCrossSection",(function(){return bn})),n.d(r,"createVacuumImpedance",(function(){return Jt})),n.d(r,"createWeakMixingAngle",(function(){return An})),n.d(r,"createWienDisplacement",(function(){return Dn})),n.d(r,"createApplyTransform",(function(){return Wm})),n.d(r,"createColumnTransform",(function(){return rg})),n.d(r,"createFilterTransform",(function(){return Gm})),n.d(r,"createForEachTransform",(function(){return Ym})),n.d(r,"createIndexTransform",(function(){return ng})),n.d(r,"createMapTransform",(function(){return Xm})),n.d(r,"createMaxTransform",(function(){return Zm})),n.d(r,"createMeanTransform",(function(){return og})),n.d(r,"createMinTransform",(function(){return Qm})),n.d(r,"createRangeTransform",(function(){return eg})),n.d(r,"createRowTransform",(function(){return ig})),n.d(r,"createSubsetTransform",(function(){return Jm})),n.d(r,"createConcatTransform",(function(){return $m})),n.d(r,"createStdTransform",(function(){return sg})),n.d(r,"createSumTransform",(function(){return tg})),n.d(r,"createVarianceTransform",(function(){return ag}));var i={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return"number"==typeof e}function s(e){return e&&!0===e.constructor.prototype.isBigNumber||!1}function c(e){return e&&"object"===o(e)&&!0===Object.getPrototypeOf(e).isComplex||!1}function u(e){return e&&"object"===o(e)&&!0===Object.getPrototypeOf(e).isFraction||!1}function l(e){return e&&!0===e.constructor.prototype.isUnit||!1}function p(e){return"string"==typeof e}var d=Array.isArray;function h(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function f(e){return Array.isArray(e)||h(e)}function m(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function g(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function y(e){return e&&!0===e.constructor.prototype.isRange||!1}function v(e){return e&&!0===e.constructor.prototype.isIndex||!1}function b(e){return"boolean"==typeof e}function A(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function x(e){return e&&!0===e.constructor.prototype.isHelp||!1}function w(e){return"function"==typeof e}function _(e){return e instanceof Date}function S(e){return e instanceof RegExp}function T(e){return!(!e||"object"!==o(e)||e.constructor!==Object||c(e)||u(e))}function P(e){return null===e}function C(e){return void 0===e}function E(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function k(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function O(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function M(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function N(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function I(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function D(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function R(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function j(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function B(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function F(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function L(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function U(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function z(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function V(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function W(e){return e&&!0===e.constructor.prototype.isChain||!1}function H(e){var t=o(e);return"object"===t?null===e?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":s(e)?"BigNumber":c(e)?"Complex":u(e)?"Fraction":h(e)?"Matrix":l(e)?"Unit":v(e)?"Index":y(e)?"Range":A(e)?"ResultSet":B(e)?e.type:W(e)?"Chain":x(e)?"Help":"Object":"function"===t?"Function":t}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e){var t=G(e);if("number"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map((function(e){return q(e)}));if(e instanceof Date)return new Date(e.valueOf());if(s(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return X(e,q)}function X(e,t){var n={};for(var r in e)J(e,r)&&(n[r]=t(e[r]));return n}function K(e,t){for(var n in t)J(t,n)&&(e[n]=t[n]);return e}function Y(e,t){var n,r,i;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(r=0,i=e.length;r<i;r++)if(!Y(e[r],t[r]))return!1;return!0}if("function"==typeof e)return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!(n in t)||!Y(e[n],t[n]))return!1;for(n in t)if(!(n in e)||!Y(e[n],t[n]))return!1;return!0}return e===t}function Z(e,t,n){var r,i=!0;Object.defineProperty(e,t,{get:function(){return i&&(r=n(),i=!1),r},set:function(e){r=e,i=!1},configurable:!0,enumerable:!0})}function Q(e,t){if(t&&"string"==typeof t)return Q(e,t.split("."));var n=e;if(t)for(var r=0;r<t.length;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}return n}function J(e,t){return e&&Object.hasOwnProperty.call(e,t)}function $(e){return e&&"function"==typeof e.factory}function ee(e){return Object.keys(e).map((function(t){return e[t]}))}var te=["Matrix","Array"],ne=["number","BigNumber","Fraction"];function re(e,t,n){if(void 0!==e[t]&&-1===n.indexOf(e[t])){var r=(i=n,o=e[t],i.map((function(e){return e.toLowerCase()})).indexOf(o.toLowerCase()));-1!==r?(console.warn('Warning: Wrong casing for configuration option "'+t+'", should be "'+n[r]+'" instead of "'+e[t]+'".'),e[t]=n[r]):console.warn('Warning: Unknown value "'+e[t]+'" for configuration option "'+t+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}var i,o}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oe=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(i)};function ae(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}ie(oe,i,{MATRIX_OPTIONS:te,NUMBER_OPTIONS:ne});var se=Math.sign||function(e){return e>0?1:e<0?-1:0},ce=Math.log2||function(e){return Math.log(e)/Math.LN2},ue=Math.log10||function(e){return Math.log(e)/Math.LN10},le=Math.log1p||function(e){return Math.log(e+1)},pe=Math.cbrt||function(e){if(0===e)return e;var t,n=e<0;return n&&(e=-e),t=isFinite(e)?(e/((t=Math.exp(Math.log(e)/3))*t)+2*t)/3:e,n?-t:t},de=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function he(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n,r="auto";switch(t&&(t.notation&&(r=t.notation),a(t)?n=t:a(t.precision)&&(n=t.precision)),r){case"fixed":return me(e,n);case"exponential":return ge(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=ve(fe(e),t),r=n.exponent,i=n.coefficients,o=r%3==0?r:r<0?r-3-r%3:r-r%3;if(a(t))for(;t>i.length||r-o+1>i.length;)i.push(0);else for(var s=Math.abs(r-o)-(i.length-1),c=0;c<s;c++)i.push(0);for(var u=Math.abs(r-o),l=1;u>0;)l++,u--;var p=i.slice(l).join(""),d=a(t)&&p.length||p.match(/[1-9]/)?"."+p:"",h=i.slice(0,l).join("")+d+"e"+(r>=0?"+":"")+o.toString();return n.sign+h}(e,n);case"auto":if(t&&t.exponential&&(void 0!==t.exponential.lower||void 0!==t.exponential.upper)){var i=X(t,(function(e){return e}));return i.exponential=void 0,void 0!==t.exponential.lower&&(i.lowerExp=Math.round(Math.log(t.exponential.lower)/Math.LN10)),void 0!==t.exponential.upper&&(i.upperExp=Math.round(Math.log(t.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(t)+" with "+JSON.stringify(i)),ye(e,n,i)}return ye(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}}function fe(e){var t=String(e).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var n=t[1],r=t[2],i=parseFloat(t[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(e){return i-=e.length,""})).replace(/0*$/,"").split("").map((function(e){return parseInt(e)}));return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function me(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=fe(e),r="number"==typeof t?ve(n,n.exponent+1+t):n,i=r.coefficients,o=r.exponent+1,a=o+(t||0);return i.length<a&&(i=i.concat(be(a-i.length))),o<0&&(i=be(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),r.sign+i.join("")}function ge(e,t){if(isNaN(e)||!isFinite(e))return String(e);var n=fe(e),r=t?ve(n,t):n,i=r.coefficients,o=r.exponent;i.length<t&&(i=i.concat(be(t-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function ye(e,t,n){if(isNaN(e)||!isFinite(e))return String(e);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=fe(e),a=t?ve(o,t):o;if(a.exponent<r||a.exponent>=i)return ge(e,t);var s=a.coefficients,c=a.exponent;s.length<t&&(s=s.concat(be(t-s.length))),s=s.concat(be(c-s.length+1+(s.length<t?t-s.length:0)));var u=c>0?c:0;return u<(s=be(-c).concat(s)).length-1&&s.splice(u+1,0,"."),a.sign+s.join("")}function ve(e,t){for(var n={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},r=n.coefficients;t<=0;)r.unshift(0),n.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function be(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}var Ae=Number.EPSILON||2220446049250313e-31;function xe(e,t,n){if(null==n)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var r=Math.abs(e-t);return r<Ae||r<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}var we=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},_e=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},Se=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},Te=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},Pe=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},Ce=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function Ee(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){return e.substring(e.length-t.length,e.length)===t}function Me(e,t){return"number"==typeof e?he(e,t):s(e)?function e(t,n){if("function"==typeof n)return n(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r,i="auto";switch(void 0!==n&&(n.notation&&(i=n.notation),"number"==typeof n?r=n:n.precision&&(r=n.precision)),i){case"fixed":return function(e,t){return e.toFixed(t)}(t,r);case"exponential":return Ee(t,r);case"engineering":return function(e,t){var n=e.e,r=n%3==0?n:n<0?n-3-n%3:n-n%3,i=e.mul(Math.pow(10,-r)),o=i.toPrecision(t);return-1!==o.indexOf("e")&&(o=i.toString()),o+"e"+(n>=0?"+":"")+r.toString()}(t,r);case"auto":if(n&&n.exponential&&(void 0!==n.exponential.lower||void 0!==n.exponential.upper)){var o=X(n,(function(e){return e}));return o.exponential=void 0,void 0!==n.exponential.lower&&(o.lowerExp=Math.round(Math.log(n.exponential.lower)/Math.LN10)),void 0!==n.exponential.upper&&(o.upperExp=Math.round(Math.log(n.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(n)+" with "+JSON.stringify(o)),e(t,o)}var a=n&&void 0!==n.lowerExp?n.lowerExp:-3,s=n&&void 0!==n.upperExp?n.upperExp:5;if(t.isZero())return"0";var c=t.toSignificantDigits(r),u=c.e;return(u>=a&&u<s?c.toFixed():Ee(t,r)).replace(/((\.\d*?)(0+))($|e)/,(function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}}(e,t):function(e){return e&&"object"===ke(e)&&"number"==typeof e.s&&"number"==typeof e.n&&"number"==typeof e.d||!1}(e)?t&&"decimal"===t.fraction?e.toString():e.s*e.n+"/"+e.d:Array.isArray(e)?function e(t,n){if(Array.isArray(t)){for(var r="[",i=t.length,o=0;o<i;o++)0!==o&&(r+=", "),r+=e(t[o],n);return r+"]"}return Me(t,n)}(e,t):p(e)?'"'+e+'"':"function"==typeof e?e.syntax?String(e.syntax):"function":e&&"object"===ke(e)?"function"==typeof e.format?e.format(t):e&&e.toString(t)!=={}.toString()?e.toString(t):"{"+Object.keys(e).map((function(n){return'"'+n+'": '+Me(e[n],t)})).join(", ")+"}":String(e)}function Ne(e){for(var t=String(e),n="",r=0;r<t.length;){var i=t.charAt(r);"\\"===i?(n+=i,r++,""!==(i=t.charAt(r))&&-1!=='"\\/bfnrtu'.indexOf(i)||(n+="\\"),n+=i):n+='"'===i?'\\"':i,r++}return'"'+n+'"'}function Ie(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function De(e,t){if(!p(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+H(e)+", index: 0)");if(!p(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+H(t)+", index: 1)");return e===t?0:e>t?1:-1}function Re(e,t,n){if(!(this instanceof Re))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function je(e,t,n){if(!(this instanceof je))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function Be(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Fe(e,t){if(0===t.length){if(Array.isArray(e))throw new Re(e.length,0)}else!function e(t,n,r){var i,o=t.length;if(o!==n[r])throw new Re(o,n[r]);if(r<n.length-1){var a=r+1;for(i=0;i<o;i++){if(!Array.isArray(t[i]))throw new Re(n.length-1,n.length,"<");e(t[i],n,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new Re(n.length+1,n.length,">")}(e,t,0)}function Le(e,t){if(!a(e)||!ae(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new je(e,t)}function Ue(e,t,n){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(e){if(!a(e)||!ae(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Me(t)+")")})),function e(t,n,r,i){var o,a,s=n[r],c=Math.min(t.length,s);if(t.length=s,r<n.length-1){var u=r+1;for(o=0;o<c;o++)a=t[o],Array.isArray(a)||(t[o]=a=[a]),e(a,n,u,i);for(o=c;o<s;o++)t[o]=a=[],e(a,n,u,i)}else{for(o=0;o<c;o++)for(;Array.isArray(t[o]);)t[o]=t[o][0];for(o=c;o<s;o++)t[o]=i}}(e,t,0,void 0!==n?n:0),e}function ze(e,t){var n,r=He(e);function i(e){return e.reduce((function(e,t){return e*t}))}if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Re(0,i(Be(e)),"!=");for(var o=1,a=0;a<t.length;a++)o*=t[a];if(r.length!==o)throw new Re(i(t),i(Be(e)),"!=");try{n=function(e,t){for(var n,r=e,i=t.length-1;i>0;i--){var o=t[i];n=[];for(var a=r.length/o,s=0;s<a;s++)n.push(r.slice(s*o,(s+1)*o));r=n}return r}(r,t)}catch(s){if(s instanceof Re)throw new Re(i(t),i(Be(e)),"!=");throw s}return n}function Ve(e,t){for(var n=t||Be(e);Array.isArray(e)&&1===e.length;)e=e[0],n.shift();for(var r=n.length;1===n[r-1];)r--;return r<n.length&&(e=function e(t,n,r){var i,o;if(r<n){var a=r+1;for(i=0,o=t.length;i<o;i++)t[i]=e(t[i],n,a)}else for(;Array.isArray(t);)t=t[0];return t}(e,r,0),n.length=r),e}function We(e,t,n,r){var i=r||Be(e);if(n)for(var o=0;o<n;o++)e=[e],i.unshift(1);for(e=function e(t,n,r){var i,o;if(Array.isArray(t)){var a=r+1;for(i=0,o=t.length;i<o;i++)t[i]=e(t[i],n,a)}else for(var s=r;s<n;s++)t=[t];return t}(e,t,0);i.length<t;)i.push(1);return e}function He(e){if(!Array.isArray(e))return e;var t=[];return e.forEach((function e(n){Array.isArray(n)?n.forEach(e):t.push(n)})),t}function Ge(e,t){return Array.prototype.map.call(e,t)}function qe(e,t){Array.prototype.forEach.call(e,t)}function Xe(e,t){if(1!==Be(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function Ke(e,t){if(1!==Be(e).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,(function(e){return t.test(e)}))}function Ye(e,t){return Array.prototype.join.call(e,t)}function Ze(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;var t=[],n=0;t[0]={value:e[0],identifier:0};for(var r=1;r<e.length;r++)e[r]===e[r-1]?n++:n=0,t.push({value:e[r],identifier:n});return t}function Qe(e){if(!Array.isArray(e))throw new TypeError("Array input expected");if(0===e.length)return e;for(var t=[],n=0;n<e.length;n++)t.push(e[n].value);return t}function Je(e,t){for(var n,r=0,i=0;i<e.length;i++){var o=e[i],a=Array.isArray(o);if(0===i&&a&&(r=o.length),a&&o.length!==r)return;var s=a?Je(o,t):t(o);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function $e(e,t){return-1!==e.indexOf(t)}function et(e,t,n,r){function i(r){var i=function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r],o=e[i];void 0!==o&&(n[i]=o)}return n}(r,t.map(nt));return function(e,t,n){if(!t.filter((function(e){return!function(e){return e&&"?"===e[0]}(e)})).every((function(e){return void 0!==n[e]}))){var r=t.filter((function(e){return void 0===n[e]}));throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(r.map((function(e){return'"'.concat(e,'"')})).join(", "),"."))}}(e,t,r),n(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function tt(e){return"function"==typeof e&&"string"==typeof e.fn&&Array.isArray(e.dependencies)}function nt(e){return e&&"?"===e[0]?e.slice(1):e}(Re.prototype=new RangeError).constructor=RangeError,Re.prototype.name="DimensionError",Re.prototype.isDimensionError=!0,(je.prototype=new RangeError).constructor=RangeError,je.prototype.name="IndexError",je.prototype.isIndexError=!0;var rt=et("ResultSet",[],(function(){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return e.prototype.type="ResultSet",e.prototype.isResultSet=!0,e.prototype.valueOf=function(){return this.entries},e.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},e.fromJSON=function(t){return new e(t.entries)},e}),{isClass:!0}),it=n("7a9l"),ot=n.n(it);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var st=et("Complex",[],(function(){return ot.a.prototype.type="Complex",ot.a.prototype.isComplex=!0,ot.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ot.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ot.a.prototype.format=function(e){var t=this.im,n=this.re,r=he(this.re,e),i=he(this.im,e),o=a(e)?e:e?e.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(n/t)<s&&(n=0),Math.abs(t/n)<s&&(t=0)}return 0===t?r:0===n?1===t?"i":-1===t?"-i":i+"i":t<0?-1===t?r+" - i":r+" - "+i.substring(1)+"i":1===t?r+" + i":r+" + "+i+"i"},ot.a.fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"===at(t))return ot()(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(a(n)){if(l(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),a(r))return new ot.a({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ot.a.prototype.valueOf=ot.a.prototype.toString,ot.a.fromJSON=function(e){return new ot.a(e)},ot.a.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},ot.a}),{isClass:!0}),ct=et("Range",[],(function(){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=t,o=null!=n,a=null!=r;if(i)if(s(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(o)if(s(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter end must be a number");if(a)if(s(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=o?parseFloat(n):0,this.step=a?parseFloat(r):1}return e.prototype.type="Range",e.prototype.isRange=!0,e.parse=function(t){if("string"!=typeof t)return null;var n=t.split(":").map((function(e){return parseFloat(e)}));if(n.some((function(e){return isNaN(e)})))return null;switch(n.length){case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[2],n[1]);default:return null}},e.prototype.clone=function(){return new e(this.start,this.end,this.step)},e.prototype.size=function(){var e=0,t=this.step,n=this.end-this.start;return se(t)===se(n)?e=Math.ceil(n/t):0===n&&(e=0),isNaN(e)&&(e=0),[e]},e.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},e.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},e.prototype.forEach=function(e){var t=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;t<r;)e(t,[i],this),t+=n,i++;else if(n<0)for(;t>r;)e(t,[i],this),t+=n,i++},e.prototype.map=function(e){var t=[];return this.forEach((function(n,r,i){t[r[0]]=e(n,r,i)})),t},e.prototype.toArray=function(){var e=[];return this.forEach((function(t,n){e[n[0]]=t})),e},e.prototype.valueOf=function(){return this.toArray()},e.prototype.format=function(e){var t=he(this.start,e);return 1!==this.step&&(t+=":"+he(this.step,e)),t+":"+he(this.end,e)},e.prototype.toString=function(){return this.format()},e.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},e.fromJSON=function(t){return new e(t.start,t.end,t.step)},e}),{isClass:!0}),ut=et("eye",[],(function(){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}}));function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){return function n(){"object"!==lt(n.cache)&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t?t(r):JSON.stringify(r);return o in n.cache||(n.cache[o]=e.apply(e,r)),n.cache[o]}}function dt(e){return Object.keys(e.signatures||{}).reduce((function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)}),-1)}var ht=pt((function(e){return new e(1).exp()}),yt),ft=pt((function(e){return new e(1).plus(new e(5).sqrt()).div(2)}),yt),mt=pt((function(e){return e.acos(-1)}),yt),gt=pt((function(e){return mt(e).times(2)}),yt);function yt(e){return e[0].precision}var vt=Math.PI,bt=2*Math.PI,At=Math.E,xt=et("true",[],(function(){return!0})),wt=et("false",[],(function(){return!1})),_t=et("null",[],(function(){return null})),St=Ut("Infinity",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(1/0):1/0})),Tt=Ut("NaN",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(NaN):NaN})),Pt=Ut("pi",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?mt(e.BigNumber):vt})),Ct=Ut("tau",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?gt(e.BigNumber):bt})),Et=Ut("e",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?ht(e.BigNumber):At})),kt=Ut("phi",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?ft(e.BigNumber):1.618033988749895})),Ot=Ut("LN2",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(2).ln():Math.LN2})),Mt=Ut("LN10",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(10).ln():Math.LN10})),Nt=Ut("LOG2E",["config","?BigNumber"],(function(e){var t=e.BigNumber;return"BigNumber"===e.config.number?new t(1).div(new t(2).ln()):Math.LOG2E})),It=Ut("LOG10E",["config","?BigNumber"],(function(e){var t=e.BigNumber;return"BigNumber"===e.config.number?new t(1).div(new t(10).ln()):Math.LOG10E})),Dt=Ut("SQRT1_2",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)("0.5").sqrt():Math.SQRT1_2})),Rt=Ut("SQRT2",["config","?BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(2).sqrt():Math.SQRT2})),jt=Ut("i",["Complex"],(function(e){return e.Complex.I})),Bt=et("PI",["pi"],(function(e){return e.pi})),Ft=et("E",["e"],(function(e){return e.e})),Lt=et("version",[],(function(){return"6.6.5"}));function Ut(e,t,n){return et(e,t,n,{recreateOnConfigChange:!0})}var zt=n("QSgb"),Vt=n.n(zt),Wt=et("BigNumber",["?on","config"],(function(e){var t=e.on,n=Vt.a.clone({precision:e.config.precision});return n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(e){return new n(e.value)},t&&t("config",(function(e,t){e.precision!==t.precision&&n.config({precision:e.precision})})),n}),{isClass:!0}),Ht=et("Matrix",[],(function(){function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.storage=function(e){throw new Error("Matrix.storage is deprecated since v6.0.0. Use the factory function math.matrix instead.")},e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e}),{isClass:!0}),Gt=et("replacer",[],(function(){return function(e,t){return"number"!=typeof t||isFinite(t)&&!isNaN(t)?t:{mathjs:"number",value:String(t)}}})),qt=Wn("speedOfLight","299792458","m s^-1"),Xt=Wn("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Kt=Wn("planckConstant","6.62607015e-34","J s"),Yt=Wn("reducedPlanckConstant","1.0545718176461565e-34","J s"),Zt=Wn("magneticConstant","1.25663706212e-6","N A^-2"),Qt=Wn("electricConstant","8.8541878128e-12","F m^-1"),Jt=Wn("vacuumImpedance","376.730313667","ohm"),$t=Wn("coulomb","8.987551792261171e9","N m^2 C^-2"),en=Wn("elementaryCharge","1.602176634e-19","C"),tn=Wn("bohrMagneton","9.2740100783e-24","J T^-1"),nn=Wn("conductanceQuantum","7.748091729863649e-5","S"),rn=Wn("inverseConductanceQuantum","12906.403729652257","ohm"),on=Wn("magneticFluxQuantum","2.0678338484619295e-15","Wb"),an=Wn("nuclearMagneton","5.0507837461e-27","J T^-1"),sn=Wn("klitzing","25812.807459304513","ohm"),cn=Wn("bohrRadius","5.29177210903e-11","m"),un=Wn("classicalElectronRadius","2.8179403262e-15","m"),ln=Wn("electronMass","9.1093837015e-31","kg"),pn=Wn("fermiCoupling","1.1663787e-5","GeV^-2"),dn=Hn("fineStructure",.0072973525693),hn=Wn("hartreeEnergy","4.3597447222071e-18","J"),fn=Wn("protonMass","1.67262192369e-27","kg"),mn=Wn("deuteronMass","3.3435830926e-27","kg"),gn=Wn("neutronMass","1.6749271613e-27","kg"),yn=Wn("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),vn=Wn("rydberg","10973731.568160","m^-1"),bn=Wn("thomsonCrossSection","6.6524587321e-29","m^2"),An=Hn("weakMixingAngle",.2229),xn=Hn("efimovFactor",22.7),wn=Wn("atomicMass","1.66053906660e-27","kg"),_n=Wn("avogadro","6.02214076e23","mol^-1"),Sn=Wn("boltzmann","1.380649e-23","J K^-1"),Tn=Wn("faraday","96485.33212331001","C mol^-1"),Pn=Wn("firstRadiation","3.7417718521927573e-16","W m^2"),Cn=Wn("loschmidt","2.686780111798444e25","m^-3"),En=Wn("gasConstant","8.31446261815324","J K^-1 mol^-1"),kn=Wn("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),On=Wn("molarVolume","0.022413969545014137","m^3 mol^-1"),Mn=Hn("sackurTetrode",-1.16487052358),Nn=Wn("secondRadiation","0.014387768775039337","m K"),In=Wn("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Dn=Wn("wienDisplacement","2.897771955e-3","m K"),Rn=Wn("molarMass","0.99999999965e-3","kg mol^-1"),jn=Wn("molarMassC12","11.9999999958e-3","kg mol^-1"),Bn=Wn("gravity","9.80665","m s^-2"),Fn=Wn("planckLength","1.616255e-35","m"),Ln=Wn("planckMass","2.176435e-8","kg"),Un=Wn("planckTime","5.391245e-44","s"),zn=Wn("planckCharge","1.87554603778e-18","C"),Vn=Wn("planckTemperature","1.416785e+32","K");function Wn(e,t,n){return et(e,["config","Unit","BigNumber"],(function(e){var r=new(0,e.Unit)("BigNumber"===e.config.number?new(0,e.BigNumber)(t):parseFloat(t),n);return r.fixPrefix=!0,r}))}function Hn(e,t){return et(e,["config","BigNumber"],(function(e){return"BigNumber"===e.config.number?new(0,e.BigNumber)(t):t}))}var Gn=n("1h5C"),qn=n.n(Gn),Xn=et("Fraction",[],(function(){return qn.a.prototype.type="Fraction",qn.a.prototype.isFraction=!0,qn.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},qn.a.fromJSON=function(e){return new qn.a(e)},qn.a}),{isClass:!0}),Kn=et("DenseMatrix",["Matrix"],(function(e){function t(e,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(n&&!p(n))throw new Error("Invalid datatype: "+n);if(h(e))"DenseMatrix"===e.type?(this._data=q(e._data),this._size=q(e._size),this._datatype=n||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=n||e._datatype);else if(e&&d(e.data)&&d(e.size))this._data=e.data,this._size=e.size,Fe(this._data,this._size),this._datatype=n||e.datatype;else if(d(e))this._data=function e(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];d(i)?t[n]=e(i):i&&!0===i.isMatrix&&(t[n]=e(i.valueOf()))}return t}(e),this._size=Be(this._data),Fe(this._data,this._size),this._datatype=n;else{if(e)throw new TypeError("Unsupported type of data ("+H(e)+")");this._data=[],this._size=[0],this._datatype=n}}function n(e,n){if(!v(n))throw new TypeError("Invalid index");if(n.isScalar())return e.get(n.min());var r=n.size();if(r.length!==e._size.length)throw new Re(r.length,e._size.length);for(var i=n.min(),o=n.max(),a=0,s=e._size.length;a<s;a++)Le(i[a],e._size[a]),Le(o[a],e._size[a]);return new t(function e(t,n,r,i){var o=i===r-1,a=n.dimension(i);return o?a.map((function(e){return Le(e,t.length),t[e]})).valueOf():a.map((function(o){return Le(o,t.length),e(t[o],n,r,i+1)})).valueOf()}(e._data,n,r.length,0),e._datatype)}function r(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,a=t.size(),s=t.isScalar();if(h(n)?(i=n.size(),n=n.valueOf()):i=Be(n),s){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(a.length<e._size.length)throw new Re(a.length,e._size.length,"<");if(i.length<a.length){for(var c=0,u=0;1===a[c]&&1===i[c];)c++;for(;1===a[c];)u++,c++;n=We(n,a.length,u,i)}if(!Y(a,i))throw new Re(a,i,">");o(e,t.max().map((function(e){return e+1})),r),function e(t,n,r,i,o){var a=o===i-1;n.dimension(o).forEach(a?function(e,n){Le(e),t[e]=r[n[0]]}:function(a,s){Le(a),e(t[a],n,r[s[0]],i,o+1)})}(e._data,t,n,a.length,0)}return e}function i(e,t,n){if(0===t.length){for(var r=e._data;d(r);)r=r[0];return r}return e._size=t.slice(0),e._data=Ue(e._data,e._size,n),e}function o(e,t,n){for(var r=e._size.slice(0),o=!1;r.length<t.length;)r.push(0),o=!0;for(var a=0,s=t.length;a<s;a++)t[a]>r[a]&&(r[a]=t[a],o=!0);o&&i(e,r,n)}return(t.prototype=new(0,e.Matrix)).createDenseMatrix=function(e,n){return new t(e,n)},t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Je(this._data,H)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(e,n){return new t(e,n)},t.prototype.subset=function(e,t,i){switch(arguments.length){case 1:return n(this,e);case 2:case 3:return r(this,e,t,i);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(e){if(!d(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Re(e.length,this._size.length);for(var t=0;t<e.length;t++)Le(e[t],this._size[t]);for(var n=this._data,r=0,i=e.length;r<i;r++){var o=e[r];Le(o,n.length),n=n[o]}return n},t.prototype.set=function(e,t,n){if(!d(e))throw new TypeError("Array expected");if(e.length<this._size.length)throw new Re(e.length,this._size.length,"<");var r,i,a;o(this,e.map((function(e){return e+1})),n);var s=this._data;for(r=0,i=e.length-1;r<i;r++)Le(a=e[r],s.length),s=s[a];return Le(a=e[e.length-1],s.length),s[a]=t,this},t.prototype.resize=function(e,t,n){if(!d(e))throw new TypeError("Array expected");return i(n?this.clone():this,e,t)},t.prototype.reshape=function(e,t){var n=t?this.clone():this;return n._data=ze(n._data,e),n._size=e.slice(0),n},t.prototype.clone=function(){return new t({data:q(this._data),size:q(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(e){var n=this,r=function t(r,i){return d(r)?r.map((function(e,n){return t(e,i.concat(n))})):e(r,i,n)}(this._data,[]);return new t(r,void 0!==this._datatype?Je(r,H):void 0)},t.prototype.forEach=function(e){var t=this;!function n(r,i){d(r)?r.forEach((function(e,t){n(e,i.concat(t))})):e(r,i,t)}(this._data,[])},t.prototype.toArray=function(){return q(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(e){return Me(this._data,e)},t.prototype.toString=function(){return Me(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(e){if(e){if(s(e)&&(e=e.toNumber()),!a(e)||!ae(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var n=e>0?e:0,r=e<0?-e:0,i=Math.min(this._size[0]-r,this._size[1]-n),o=[],c=0;c<i;c++)o[c]=this._data[c+r][c+n];return new t({data:o,size:[i],datatype:this._datatype})},t.diagonal=function(e,n,r,i){if(!d(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(s(e)&&(e=e.toNumber()),!a(e)||!ae(e)||e<1)throw new Error("Size values must be positive integers");return e})),r){if(s(r)&&(r=r.toNumber()),!a(r)||!ae(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o,c=r>0?r:0,u=r<0?-r:0,l=e[0],p=e[1],f=Math.min(l-u,p-c);if(d(n)){if(n.length!==f)throw new Error("Invalid value array length");o=function(e){return n[e]}}else if(h(n)){var m=n.size();if(1!==m.length||m[0]!==f)throw new Error("Invalid matrix length");o=function(e){return n.get([e])}}else o=function(){return n};i||(i=s(o(0))?o(0).mul(0):0);var g=[];if(e.length>0){g=Ue(g,e,i);for(var y=0;y<f;y++)g[y+u][y+c]=o(y)}return new t({data:g,size:[l,p]})},t.fromJSON=function(e){return new t(e)},t.prototype.swapRows=function(e,n){if(!(a(e)&&ae(e)&&a(n)&&ae(n)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Le(e,this._size[0]),Le(n,this._size[0]),t._swapRows(e,n,this._data),this},t._swapRows=function(e,t,n){var r=n[e];n[e]=n[t],n[t]=r},t}),{isClass:!0}),Yn=n("djRN"),Zn=n.n(Yn),Qn=function(){return Qn=Zn.a.create,Zn.a},Jn=et("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(e){var t=e.BigNumber,n=e.Complex,r=e.DenseMatrix,i=e.Fraction,o=Qn();return o.types=[{name:"number",test:a},{name:"Complex",test:c},{name:"BigNumber",test:s},{name:"Fraction",test:u},{name:"Unit",test:l},{name:"string",test:p},{name:"Chain",test:W},{name:"Array",test:d},{name:"Matrix",test:h},{name:"DenseMatrix",test:m},{name:"SparseMatrix",test:g},{name:"Range",test:y},{name:"Index",test:v},{name:"boolean",test:b},{name:"ResultSet",test:A},{name:"Help",test:x},{name:"function",test:w},{name:"Date",test:_},{name:"RegExp",test:S},{name:"null",test:P},{name:"undefined",test:C},{name:"AccessorNode",test:E},{name:"ArrayNode",test:k},{name:"AssignmentNode",test:O},{name:"BlockNode",test:M},{name:"ConditionalNode",test:N},{name:"ConstantNode",test:I},{name:"FunctionNode",test:R},{name:"FunctionAssignmentNode",test:D},{name:"IndexNode",test:j},{name:"Node",test:B},{name:"ObjectNode",test:F},{name:"OperatorNode",test:L},{name:"ParenthesisNode",test:U},{name:"RangeNode",test:z},{name:"SymbolNode",test:V},{name:"Object",test:T}],o.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(t||$n(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return n||er(e),new n(e,0)}},{from:"number",to:"string",convert:function(e){return e+""}},{from:"BigNumber",to:"Complex",convert:function(e){return n||er(e),new n(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return n||er(e),new n(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||tr(e);var t=new i(e);if(t.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw new Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||$n(e);try{return new t(e)}catch(n){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){i||tr(e);try{return new i(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){n||er(e);try{return new n(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||$n(e),new t(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||tr(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}],o}));function $n(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function er(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function tr(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}function nr(e){for(var t=0;t<e.length;t++)if(f(e[t]))return!0;return!1}function rr(e,t){h(e)&&(e=e.valueOf());for(var n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?rr(i,t):t(i)}}function ir(e,t,n){return e&&"function"==typeof e.map?e.map((function(e){return ir(e,t,n)})):t(e)}function or(e,t,n){var r=Array.isArray(e)?Be(e):e.size();if(t<0||t>=r.length)throw new je(t,r.length);return h(e)?e.create(ar(e.valueOf(),t,n)):ar(e,t,n)}function ar(e,t,n){var r,i,o,a;if(t<=0){if(Array.isArray(e[0])){for(a=function(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;n<i;n++){var a=[];for(t=0;t<r;t++)a.push(e[t][n]);o.push(a)}return o}(e),i=[],r=0;r<a.length;r++)i[r]=ar(a[r],t-1,n);return i}for(o=e[0],r=1;r<e.length;r++)o=n(o,e[r]);return o}for(i=[],r=0;r<e.length;r++)i[r]=ar(e[r],t-1,n);return i}function sr(e,t,n,r,i,o,a,s,c,u,l){var p,d,h,f=e._values,m=e._index,g=e._ptr;if(r)for(d=g[t+1],p=g[t];p<d;p++)n[h=m[p]]!==o?(n[h]=o,a.push(h),u?(r[h]=c?s(f[p],l):s(l,f[p]),i[h]=o):r[h]=f[p]):(r[h]=c?s(f[p],r[h]):s(r[h],f[p]),i[h]=o);else for(d=g[t+1],p=g[t];p<d;p++)n[h=m[p]]!==o?(n[h]=o,a.push(h)):i[h]=o}var cr=et("isInteger",["typed"],(function(e){var t=(0,e.typed)("isInteger",{number:ae,BigNumber:function(e){return e.isInt()},Fraction:function(e){return 1===e.d&&isFinite(e.n)},"Array | Matrix":function(e){return ir(e,t)}});return t})),ur=et("isNumeric",["typed"],(function(e){var t=(0,e.typed)("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(e){return ir(e,t)}});return t}));function lr(e){return e<0}function pr(e){return e>0}function dr(e){return 0===e}function hr(e){return Number.isNaN(e)}lr.signature="number",pr.signature="number",dr.signature="number",hr.signature="number";var fr=et("isPositive",["typed"],(function(e){var t=(0,e.typed)("isPositive",{number:pr,BigNumber:function(e){return!e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s>0&&e.n>0},Unit:function(e){return t(e.value)},"Array | Matrix":function(e){return ir(e,t)}});return t})),mr=et("isNaN",["typed"],(function(e){return(0,e.typed)("isNaN",{number:hr,BigNumber:function(e){return e.isNaN()},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":function(e){return ir(e,Number.isNaN)}})}));function gr(e,t,n){if(null==n)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var r=e.minus(t).abs();if(r.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return r.lte(i.times(n))}return!1}var yr=et("equalScalar",["typed","config"],(function(e){var t=e.config,n=(0,e.typed)("equalScalar",{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,n){return xe(e,n,t.epsilon)},"BigNumber, BigNumber":function(e,n){return e.eq(n)||gr(e,n,t.epsilon)},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,n){return function(e,t,n){return xe(e.re,t.re,n)&&xe(e.im,t.im,n)}(e,n,t.epsilon)},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return n(e.value,t.value)}});return n})),vr=(et("equalScalar",["typed","config"],(function(e){var t=e.config;return(0,e.typed)("equalScalar",{"number, number":function(e,n){return xe(e,n,t.epsilon)}})})),et("number",["typed"],(function(e){var t=(0,e.typed)("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return ir(e,t)}});return t.fromJSON=function(e){return parseFloat(e.value)},t}))),br=et("boolean",["typed"],(function(e){var t=(0,e.typed)("boolean",{"":function(){return!1},boolean:function(e){return e},number:function(e){return!!e},null:function(e){return!1},BigNumber:function(e){return!e.isZero()},string:function(e){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;var n=Number(e);if(""!==e&&!isNaN(n))return!!n;throw new Error('Cannot convert "'+e+'" to a boolean')},"Array | Matrix":function(e){return ir(e,t)}});return t})),Ar=et("complex",["typed","Complex"],(function(e){var t=e.Complex,n=(0,e.typed)("complex",{"":function(){return t.ZERO},number:function(e){return new t(e,0)},"number, number":function(e,n){return new t(e,n)},"BigNumber, BigNumber":function(e,n){return new t(e.toNumber(),n.toNumber())},Fraction:function(e){return new t(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return t(e)},null:function(e){return t(0)},Object:function(e){if("re"in e&&"im"in e)return new t(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new t(e);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(e){return ir(e,n)}});return n})),xr=et("splitUnit",["typed"],(function(e){return(0,e.typed)("splitUnit",{"Unit, Array":function(e,t){return e.splitUnit(t)}})}));function wr(e){return Math.abs(e)}function _r(e,t){return e+t}function Sr(e,t){return e*t}function Tr(e){return-e}function Pr(e){return e}function Cr(e){return pe(e)}function Er(e){return Math.ceil(e)}function kr(e){return e*e*e}function Or(e){return Math.exp(e)}function Mr(e){return de(e)}function Nr(e,t){if(!ae(e)||!ae(t))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==t;)n=e%t,e=t,t=n;return e<0?-e:e}function Ir(e,t){if(!ae(e)||!ae(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var n,r=e*t;0!==t;)t=e%(n=t),e=n;return Math.abs(r/e)}function Dr(e){return Math.log(e)}function Rr(e){return ue(e)}function jr(e){return ce(e)}function Br(e,t){if(t>0)return e-t*Math.floor(e/t);if(0===t)return e;throw new Error("Cannot calculate mod for a negative divisor")}function Fr(e,t){var n=t<0;if(n&&(t=-t),0===t)throw new Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===e)return n?1/0:0;if(!isFinite(e))return n?0:e;var r=Math.pow(Math.abs(e),1/t);return r=e<0?-r:r,n?1/r:r}function Lr(e){return se(e)}function Ur(e){return e*e}function zr(e,t){var n,r,i,o=0,a=1,s=1,c=0;if(!ae(e)||!ae(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)i=e-(r=Math.floor(e/t))*t,n=o,o=a-r*o,a=n,n=s,s=c-r*s,c=n,e=t,t=i;return e<0?[-e,-a,-c]:[e,e?a:0,c]}function Vr(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function Wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(me(e,t))}wr.signature="number",_r.signature="number, number",Sr.signature="number, number",Tr.signature="number",Pr.signature="number",Cr.signature="number",Er.signature="number",kr.signature="number",Or.signature="number",Mr.signature="number",Nr.signature="number, number",Ir.signature="number, number",Dr.signature="number",Rr.signature="number",jr.signature="number",Br.signature="number, number",Fr.signature="number, number",Lr.signature="number",Ur.signature="number",zr.signature="number, number",Vr.signature="number, number",Wr.signature="number, number";var Hr=et("unaryPlus",["typed","config","BigNumber"],(function(e){var t=e.config,n=e.BigNumber,r=(0,e.typed)("unaryPlus",{number:Pr,Complex:function(e){return e},BigNumber:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":function(e){return ir(e,r,!0)},"boolean | string":function(e){return"BigNumber"===t.number?new n(+e):+e}});return r})),Gr=et("apply",["typed","isInteger"],(function(e){var t=e.isInteger;return(0,e.typed)("apply",{"Array | Matrix, number | BigNumber, function":function(e,n,r){if(!t(n))throw new TypeError("Integer number expected for dimension");var i=Array.isArray(e)?Be(e):e.size();if(n<0||n>=i.length)throw new je(n,i.length);return h(e)?e.create(qr(e.valueOf(),n,r)):qr(e,n,r)}})}));function qr(e,t,n){var r,i,o;if(t<=0){if(Array.isArray(e[0])){for(o=function(e){var t,n,r=e.length,i=e[0].length,o=[];for(n=0;n<i;n++){var a=[];for(t=0;t<r;t++)a.push(e[t][n]);o.push(a)}return o}(e),i=[],r=0;r<o.length;r++)i[r]=qr(o[r],t-1,n);return i}return n(e)}for(i=[],r=0;r<e.length;r++)i[r]=qr(e[r],t-1,n);return i}var Xr=et("cube",["typed"],(function(e){var t=(0,e.typed)("cube",{number:kr,Complex:function(e){return e.mul(e).mul(e)},BigNumber:function(e){return e.times(e).times(e)},Fraction:function(e){return e.pow(3)},"Array | Matrix":function(e){return ir(e,t,!0)},Unit:function(e){return e.pow(3)}});return t})),Kr=et("expm1",["typed","Complex"],(function(e){var t=e.Complex,n=(0,e.typed)("expm1",{number:Mr,Complex:function(e){var n=Math.exp(e.re);return new t(n*Math.cos(e.im)-1,n*Math.sin(e.im))},BigNumber:function(e){return e.exp().minus(1)},"Array | Matrix":function(e){return ir(e,n)}});return n})),Yr=et("log10",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex,r=(0,e.typed)("log10",{number:function(e){return e>=0||t.predictable?Rr(e):new n(e,0).log().div(Math.LN10)},Complex:function(e){return new n(e).log().div(Math.LN10)},BigNumber:function(e){return!e.isNegative()||t.predictable?e.log():new n(e.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(e){return ir(e,r)}});return r})),Zr=et("multiplyScalar",["typed"],(function(e){var t=(0,e.typed)("multiplyScalar",{"number, number":Sr,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(e,n){var r=n.clone();return r.value=null===r.value?r._normalize(e):t(r.value,e),r},"Unit, number | Fraction | BigNumber | Complex":function(e,n){var r=e.clone();return r.value=null===r.value?r._normalize(n):t(r.value,n),r},"Unit, Unit":function(e,t){return e.multiply(t)}});return t})),Qr=et("sign",["typed","BigNumber","Fraction","complex"],(function(e){var t=e.BigNumber,n=e.complex,r=e.Fraction,i=(0,e.typed)("sign",{number:Lr,Complex:function(e){return 0===e.im?n(Lr(e.re)):e.sign()},BigNumber:function(e){return new t(e.cmp(0))},Fraction:function(e){return new r(e.s,1)},"Array | Matrix":function(e){return ir(e,i,!0)},Unit:function(e){return i(e.value)}});return i})),Jr=et("square",["typed"],(function(e){var t=(0,e.typed)("square",{number:Ur,Complex:function(e){return e.mul(e)},BigNumber:function(e){return e.times(e)},Fraction:function(e){return e.mul(e)},"Array | Matrix":function(e){return ir(e,t,!0)},Unit:function(e){return e.pow(2)}});return t}));function $r(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new n(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e}return ni(e,t,(function(e,t){return e&t}))}function ei(e){if(e.isFinite()&&!e.isInteger())throw new Error("Integer expected in function bitNot");var t=e.constructor,n=t.precision;t.config({precision:1e9});var r=e.plus(new t(1));return r.s=-r.s||null,t.config({precision:n}),r}function ti(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);var r=new n(-1);return e.isZero()||t.eq(r)||e.eq(t)?t:t.isZero()||e.eq(r)?e:e.isFinite()&&t.isFinite()?ni(e,t,(function(e,t){return e|t})):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?r:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function ni(e,t,n){var r,i,o,a,s,c=e.constructor,u=+(e.s<0),l=+(t.s<0);if(u){r=ri(ei(e));for(var p=0;p<r.length;++p)r[p]^=1}else r=ri(e);if(l){i=ri(ei(t));for(var d=0;d<i.length;++d)i[d]^=1}else i=ri(t);r.length<=i.length?(o=r,a=i,s=u):(o=i,a=r,s=l);var h=o.length,f=a.length,m=1^n(u,l),g=new c(1^m),y=new c(1),v=new c(2),b=c.precision;for(c.config({precision:1e9});h>0;)n(o[--h],a[--f])===m&&(g=g.plus(y)),y=y.times(v);for(;f>0;)n(s,a[--f])===m&&(g=g.plus(y)),y=y.times(v);return c.config({precision:b}),0===m&&(g.s=-g.s),g}function ri(e){for(var t=e.d,n=t[0]+"",r=1;r<t.length;++r){for(var i=t[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}for(var a=n.length;"0"===n.charAt(a);)a--;var s=e.e,c=n.slice(0,a+1||1),u=c.length;if(s>0)if(++s>u)for(s-=u;s--;)c+="0";else s<u&&(c=c.slice(0,s)+"."+c.slice(s));for(var l=[0],p=0;p<c.length;){for(var d=l.length;d--;)l[d]*=10;l[0]+=parseInt(c.charAt(p++));for(var h=0;h<l.length;++h)l[h]>1&&(null==l[h+1]&&(l[h+1]=0),l[h+1]+=l[h]>>1,l[h]&=1)}return l.reverse()}function ii(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var n=e.constructor;if(e.isNaN()||t.isNaN())return new n(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new n(0);var r=new n(-1);return e.eq(r)?ei(t):t.eq(r)?ei(e):e.isFinite()&&t.isFinite()?ni(e,t,(function(e,t){return e^t})):e.isFinite()||t.isFinite()?new n(e.isNegative()===t.isNegative()?1/0:-1/0):r}function oi(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new n(2).pow(t)):new n(NaN)}function ai(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var n=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new n(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new n(2).pow(t)).floor():e.isNegative()?new n(-1):e.isFinite()?new n(0):new n(NaN)}var si="number, number";function ci(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function bitAnd");return e&t}function ui(e){if(!ae(e))throw new Error("Integer expected in function bitNot");return~e}function li(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function bitOr");return e|t}function pi(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function bitXor");return e^t}function di(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function leftShift");return e<<t}function hi(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function rightArithShift");return e>>t}function fi(e,t){if(!ae(e)||!ae(t))throw new Error("Integers expected in function rightLogShift");return e>>>t}ci.signature=si,ui.signature="number",li.signature=si,pi.signature=si,di.signature=si,hi.signature=si,fi.signature=si;var mi=et("bitNot",["typed"],(function(e){var t=(0,e.typed)("bitNot",{number:ui,BigNumber:ei,"Array | Matrix":function(e){return ir(e,t)}});return t})),gi=et("arg",["typed"],(function(e){var t=(0,e.typed)("arg",{number:function(e){return Math.atan2(0,e)},BigNumber:function(e){return e.constructor.atan2(0,e)},Complex:function(e){return e.arg()},"Array | Matrix":function(e){return ir(e,t)}});return t})),yi=et("im",["typed"],(function(e){var t=(0,e.typed)("im",{number:function(e){return 0},BigNumber:function(e){return e.mul(0)},Complex:function(e){return e.im},"Array | Matrix":function(e){return ir(e,t)}});return t}));function vi(e){return!e}function bi(e,t){return!(!e&&!t)}function Ai(e,t){return!!e!=!!t}function xi(e,t){return!(!e||!t)}vi.signature="number",bi.signature="number, number",Ai.signature="number, number",xi.signature="number, number";var wi=et("not",["typed"],(function(e){var t=(0,e.typed)("not",{number:vi,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},Unit:function(e){return null===e.value||t(e.value)},"Array | Matrix":function(e){return ir(e,t)}});return t})),_i=et("filter",["typed"],(function(e){return(0,e.typed)("filter",{"Array, function":Si,"Matrix, function":function(e,t){return e.create(Si(e.toArray(),t))},"Array, RegExp":Ke,"Matrix, RegExp":function(e,t){return e.create(Ke(e.toArray(),t))}})}));function Si(e,t){var n=dt(t);return Xe(e,(function(e,r,i){return 1===n?t(e):2===n?t(e,[r]):t(e,[r],i)}))}var Ti=et("forEach",["typed"],(function(e){return(0,e.typed)("forEach",{"Array, function":Pi,"Matrix, function":function(e,t){return e.forEach(t)}})}));function Pi(e,t){var n=dt(t);!function r(i,o){Array.isArray(i)?qe(i,(function(e,t){r(e,o.concat(t))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e,[])}var Ci=et("map",["typed"],(function(e){return(0,e.typed)("map",{"Array, function":Ei,"Matrix, function":function(e,t){return e.map(t)}})}));function Ei(e,t){var n=dt(t);return function r(i,o){return Array.isArray(i)?i.map((function(e,t){return r(e,o.concat(t))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e,[])}var ki=et("erf",["typed"],(function(e){var t=(0,e.typed)("name",{number:function(e){var t=Math.abs(e);return t>=Di?se(e):t<=Oi?se(e)*function(e){var t,n=e*e,r=Ni[0][4]*n,i=n;for(t=0;t<3;t+=1)r=(r+Ni[0][t])*n,i=(i+Ii[0][t])*n;return e*(r+Ni[0][3])/(i+Ii[0][3])}(t):t<=4?se(e)*(1-function(e){var t,n=Ni[1][8]*e,r=e;for(t=0;t<7;t+=1)n=(n+Ni[1][t])*e,r=(r+Ii[1][t])*e;var i=(n+Ni[1][7])/(r+Ii[1][7]),o=parseInt(16*e)/16,a=(e-o)*(e+o);return Math.exp(-o*o)*Math.exp(-a)*i}(t)):se(e)*(1-function(e){var t,n=1/(e*e),r=Ni[2][5]*n,i=n;for(t=0;t<4;t+=1)r=(r+Ni[2][t])*n,i=(i+Ii[2][t])*n;var o=n*(r+Ni[2][4])/(i+Ii[2][4]);o=(Mi-o)/e;var a=(e-(n=parseInt(16*e)/16))*(e+n);return Math.exp(-n*n)*Math.exp(-a)*o}(t))},"Array | Matrix":function(e){return ir(e,t)}});return t})),Oi=.46875,Mi=.5641895835477563,Ni=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Ii=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],Di=Math.pow(2,53),Ri=et("format",["typed"],(function(e){return(0,e.typed)("format",{any:Me,"any, Object | function | number":Me})})),ji=et("isPrime",["typed"],(function(e){var t=(0,e.typed)("isPrime",{number:function(e){if(0*e!=0)return!1;if(e<=3)return e>1;if(e%2==0||e%3==0)return!1;for(var t=5;t*t<=e;t+=6)if(e%t==0||e%(t+2)==0)return!1;return!0},BigNumber:function(e){if(0*e.toNumber()!=0)return!1;if(e.lte(3))return e.gt(1);if(e.mod(2).eq(0)||e.mod(3).eq(0))return!1;for(var t=5;e.gte(t*t);t+=6)if(e.mod(t).eq(0)||e.mod(t+2).eq(0))return!1;return!0},"Array | Matrix":function(e){return ir(e,t)}});return t})),Bi=et("acos",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex,r=(0,e.typed)("acos",{number:function(e){return e>=-1&&e<=1||t.predictable?Math.acos(e):new n(e,0).acos()},Complex:function(e){return e.acos()},BigNumber:function(e){return e.acos()},"Array | Matrix":function(e){return ir(e,r)}});return r}));function Fi(e){return we(e)}function Li(e){return Math.atan(1/e)}function Ui(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function zi(e){return Math.asin(1/e)}function Vi(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function Wi(e){return Math.acos(1/e)}function Hi(e){var t=1/e,n=Math.sqrt(t*t-1);return Math.log(n+t)}function Gi(e){return _e(e)}function qi(e){return Se(e)}function Xi(e){return 1/Math.tan(e)}function Ki(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function Yi(e){return 1/Math.sin(e)}function Zi(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*se(e)}function Qi(e){return 1/Math.cos(e)}function Ji(e){return 2/(Math.exp(e)+Math.exp(-e))}function $i(e){return Pe(e)}Fi.signature="number",Li.signature="number",Ui.signature="number",zi.signature="number",Vi.signature="number",Wi.signature="number",Hi.signature="number",Gi.signature="number",qi.signature="number",Xi.signature="number",Ki.signature="number",Yi.signature="number",Zi.signature="number",Qi.signature="number",Ji.signature="number",$i.signature="number";var eo=et("acot",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("acot",{number:Li,Complex:function(e){return e.acot()},BigNumber:function(e){return new t(1).div(e).atan()},"Array | Matrix":function(e){return ir(e,n)}});return n})),to=et("acsc",["typed","config","Complex","BigNumber"],(function(e){var t=e.config,n=e.Complex,r=e.BigNumber,i=(0,e.typed)("acsc",{number:function(e){return e<=-1||e>=1||t.predictable?zi(e):new n(e,0).acsc()},Complex:function(e){return e.acsc()},BigNumber:function(e){return new r(1).div(e).asin()},"Array | Matrix":function(e){return ir(e,i)}});return i})),no=et("asec",["typed","config","Complex","BigNumber"],(function(e){var t=e.config,n=e.Complex,r=e.BigNumber,i=(0,e.typed)("asec",{number:function(e){return e<=-1||e>=1||t.predictable?Wi(e):new n(e,0).asec()},Complex:function(e){return e.asec()},BigNumber:function(e){return new r(1).div(e).acos()},"Array | Matrix":function(e){return ir(e,i)}});return i})),ro=et("asin",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex,r=(0,e.typed)("asin",{number:function(e){return e>=-1&&e<=1||t.predictable?Math.asin(e):new n(e,0).asin()},Complex:function(e){return e.asin()},BigNumber:function(e){return e.asin()},"Array | Matrix":function(e){return ir(e,r,!0)}});return r})),io=et("atan",["typed"],(function(e){var t=(0,e.typed)("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()},"Array | Matrix":function(e){return ir(e,t,!0)}});return t})),oo=et("atanh",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex,r=(0,e.typed)("atanh",{number:function(e){return e<=1&&e>=-1||t.predictable?qi(e):new n(e,0).atanh()},Complex:function(e){return e.atanh()},BigNumber:function(e){return e.atanh()},"Array | Matrix":function(e){return ir(e,r,!0)}});return r})),ao=et("cosh",["typed"],(function(e){var t=(0,e.typed)("cosh",{number:Te,Complex:function(e){return e.cosh()},BigNumber:function(e){return e.cosh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return t(e.value)},"Array | Matrix":function(e){return ir(e,t)}});return t})),so=et("coth",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("coth",{number:Ki,Complex:function(e){return e.coth()},BigNumber:function(e){return new t(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return n(e.value)},"Array | Matrix":function(e){return ir(e,n)}});return n})),co=et("csch",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("csch",{number:Zi,Complex:function(e){return e.csch()},BigNumber:function(e){return new t(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return n(e.value)},"Array | Matrix":function(e){return ir(e,n)}});return n})),uo=et("sech",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("sech",{number:Ji,Complex:function(e){return e.sech()},BigNumber:function(e){return new t(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return n(e.value)},"Array | Matrix":function(e){return ir(e,n)}});return n})),lo=et("sinh",["typed"],(function(e){var t=(0,e.typed)("sinh",{number:$i,Complex:function(e){return e.sinh()},BigNumber:function(e){return e.sinh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return t(e.value)},"Array | Matrix":function(e){return ir(e,t,!0)}});return t})),po=et("tanh",["typed"],(function(e){var t=(0,e.typed)("tanh",{number:Ce,Complex:function(e){return e.tanh()},BigNumber:function(e){return e.tanh()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return t(e.value)},"Array | Matrix":function(e){return ir(e,t,!0)}});return t}));function ho(e,t){if(t<e)return 1;if(t===e)return t;var n=t+e>>1;return ho(e,n)*ho(n+1,t)}function fo(e,t){if(!ae(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(!ae(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>e)throw new TypeError("k must be less than or equal to n");var n=e-t;return t<n?ho(n+1,e)/ho(1,t):ho(t+1,e)/ho(1,n)}fo.signature="number, number";var mo=et("combinations",["typed"],(function(e){return(0,e.typed)("combinations",{"number, number":fo,"BigNumber, BigNumber":function(e,t){var n,r,i=e.constructor,o=e.minus(t),a=new i(1);if(!go(e)||!go(t))throw new TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw new TypeError("k must be less than n in function combinations");if(n=a,t.lt(o))for(r=a;r.lte(o);r=r.plus(a))n=n.times(t.plus(r)).dividedBy(r);else for(r=a;r.lte(t);r=r.plus(a))n=n.times(o.plus(r)).dividedBy(r);return n}})}));function go(e){return e.isInteger()&&e.gte(0)}var yo=n("rpcZ"),vo=n.n(yo),bo=vo()();function Ao(e){var t,n;return t=null===(n=e)?bo:vo()(String(n)),function(){return t()}}var xo=et("pickRandom",["typed","config","?on"],(function(e){var t=e.typed,n=e.on,r=Ao(e.config.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(r=Ao(e.randomSeed))})),t({"Array | Matrix":function(e){return i(e)},"Array | Matrix, number":function(e,t){return i(e,t,void 0)},"Array | Matrix, Array":function(e,t){return i(e,void 0,t)},"Array | Matrix, Array | Matrix, number":function(e,t,n){return i(e,n,t)},"Array | Matrix, number, Array | Matrix":function(e,t,n){return i(e,t,n)}});function i(e,t,n){var i=void 0===t;if(i&&(t=1),e=e.valueOf(),n&&(n=n.valueOf()),Be(e).length>1)throw new Error("Only one dimensional vectors supported");var o=0;if(void 0!==n){if(n.length!==e.length)throw new Error("Weights must have the same length as possibles");for(var s=0,c=n.length;s<c;s++){if(!a(n[s])||n[s]<0)throw new Error("Weights must be an array of positive numbers");o+=n[s]}}var u=e.length;if(0===u)return[];if(t>=u)return t>1?e:e[0];for(var l,p=[];p.length<t;){if(void 0===n)l=e[Math.floor(r()*u)];else for(var d=r()*o,h=0,f=e.length;h<f;h++)if((d-=n[h])<0){l=e[h];break}-1===p.indexOf(l)&&p.push(l)}return i?p[0]:p}}));function wo(e,t){var n=[];if((e=e.slice(0)).length>1)for(var r=0,i=e.shift();r<i;r++)n.push(wo(e,t));else for(var o=0,a=e.shift();o<a;o++)n.push(t());return n}var _o,So=et("randomInt",["typed","config","?on"],(function(e){var t=e.typed,n=e.on,r=Ao(e.config.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(r=Ao(e.randomSeed))})),t("randomInt",{"":function(){return o(0,1)},number:function(e){return o(0,e)},"number, number":function(e,t){return o(e,t)},"Array | Matrix":function(e){return i(e,0,1)},"Array | Matrix, number":function(e,t){return i(e,0,t)},"Array | Matrix, number, number":function(e,t,n){return i(e,t,n)}});function i(e,t,n){var r=wo(e.valueOf(),(function(){return o(t,n)}));return h(e)?e.create(r):r}function o(e,t){return Math.floor(e+r()*(t-e))}})),To=et("clone",["typed"],(function(e){return(0,e.typed)("clone",{any:q})})),Po=et("hasNumericValue",["typed","isNumeric"],(function(e){var t=e.isNumeric;return(0,e.typed)("hasNumericValue",{string:function(e){return e.trim().length>0&&!isNaN(Number(e))},any:function(e){return t(e)}})})),Co=(_o={},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t.join(", ");_o[i]||(_o[i]=!0,(r=console).warn.apply(r,["Warning:"].concat(t)))}),Eo=et("typeOf",["typed"],(function(e){return(0,e.typed)("typeOf",{any:H})})),ko=et("typeof",[],(function(){return function(){Co('Function "typeof" has been renamed to "typeOf" in v6.0.0, please use the new function instead.');for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return H.apply(H,t)}})),Oo=et("string",["typed"],(function(e){var t=(0,e.typed)("string",{"":function(){return""},number:he,null:function(e){return"null"},boolean:function(e){return e+""},string:function(e){return e},"Array | Matrix":function(e){return ir(e,t)},any:function(e){return String(e)}});return t})),Mo=et("fraction",["typed","Fraction"],(function(e){var t=e.Fraction,n=(0,e.typed)("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t(e)},string:function(e){return new t(e)},"number, number":function(e,n){return new t(e,n)},null:function(e){return new t(0)},BigNumber:function(e){return new t(e.toString())},Fraction:function(e){return e},Object:function(e){return new t(e)},"Array | Matrix":function(e){return ir(e,n)}});return n})),No=et("unaryMinus",["typed"],(function(e){var t=(0,e.typed)("unaryMinus",{number:Tr,Complex:function(e){return e.neg()},BigNumber:function(e){return e.neg()},Fraction:function(e){return e.neg()},Unit:function(e){var n=e.clone();return n.value=t(e.value),n},"Array | Matrix":function(e){return ir(e,t,!0)}});return t})),Io=et("addScalar",["typed"],(function(e){var t=(0,e.typed)("addScalar",{"number, number":_r,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":function(e,n){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==n.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(n))throw new Error("Units do not match");var r=e.clone();return r.value=t(r.value,n.value),r.fixPrefix=!1,r}});return t})),Do=et("exp",["typed"],(function(e){var t=(0,e.typed)("exp",{number:Or,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()},"Array | Matrix":function(e){return ir(e,t)}});return t})),Ro=et("log2",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex,r=(0,e.typed)("log2",{number:function(e){return e>=0||t.predictable?jr(e):i(new n(e,0))},Complex:i,BigNumber:function(e){return!e.isNegative()||t.predictable?e.log(2):i(new n(e.toNumber(),0))},"Array | Matrix":function(e){return ir(e,r)}});function i(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}return r})),jo=et("sqrt",["config","typed","Complex"],(function(e){var t=e.config,n=e.Complex,r=(0,e.typed)("sqrt",{number:i,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():i(e.toNumber())},"Array | Matrix":function(e){return ir(e,r,!0)},Unit:function(e){return e.pow(.5)}});function i(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new n(e,0).sqrt()}return r})),Bo=et("conj",["typed"],(function(e){var t=(0,e.typed)("conj",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.conjugate()},"Array | Matrix":function(e){return ir(e,t)}});return t})),Fo=et("getMatrixDataType",["typed"],(function(e){return(0,e.typed)("getMatrixDataType",{Array:function(e){return Je(e,H)},Matrix:function(e){return e.getDataType()}})})),Lo=et("mode",["typed","isNaN","isNumeric"],(function(e){var t=e.isNaN,n=e.isNumeric;return(0,e.typed)("mode",{"Array | Matrix":r,"...":function(e){return r(e)}});function r(e){if(0===(e=He(e.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var r={},i=[],o=0,a=0;a<e.length;a++){var s=e[a];if(n(s)&&t(s))throw new Error("Cannot calculate mode of an array containing NaN values");s in r||(r[s]=0),r[s]++,r[s]===o?i.push(s):r[s]>o&&(o=r[s],i=[s])}return i}})),Uo=et("print",["typed"],(function(e){return(0,e.typed)("print",{"string, Object | Array":zo,"string, Object | Array, number | Object":zo})}));function zo(e,t,n){return e.replace(/\$([\w.]+)/g,(function(e,r){for(var i=r.split("."),o=t[i.shift()];i.length&&void 0!==o;){var a=i.shift();o=a?o[a]:o+"."}return void 0!==o?p(o)?o:Me(o,n):e}))}var Vo=et("acosh",["typed","config","Complex"],(function(e){var t=e.config,n=e.Complex,r=(0,e.typed)("acosh",{number:function(e){return e>=1||t.predictable?Fi(e):e<=-1?new n(Math.log(Math.sqrt(e*e-1)-e),Math.PI):new n(e,0).acosh()},Complex:function(e){return e.acosh()},BigNumber:function(e){return e.acosh()},"Array | Matrix":function(e){return ir(e,r)}});return r})),Wo=et("acsch",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("acsch",{number:Vi,Complex:function(e){return e.acsch()},BigNumber:function(e){return new t(1).div(e).asinh()},"Array | Matrix":function(e){return ir(e,n)}});return n})),Ho=et("asinh",["typed"],(function(e){var t=(0,e.typed)("asinh",{number:Gi,Complex:function(e){return e.asinh()},BigNumber:function(e){return e.asinh()},"Array | Matrix":function(e){return ir(e,t,!0)}});return t})),Go=et("cos",["typed"],(function(e){var t=(0,e.typed)("cos",{number:Math.cos,Complex:function(e){return e.cos()},BigNumber:function(e){return e.cos()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return t(e.value)},"Array | Matrix":function(e){return ir(e,t)}});return t})),qo=et("csc",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("csc",{number:Yi,Complex:function(e){return e.csc()},BigNumber:function(e){return new t(1).div(e.sin())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return n(e.value)},"Array | Matrix":function(e){return ir(e,n)}});return n})),Xo=et("sin",["typed"],(function(e){var t=(0,e.typed)("sin",{number:Math.sin,Complex:function(e){return e.sin()},BigNumber:function(e){return e.sin()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return t(e.value)},"Array | Matrix":function(e){return ir(e,t,!0)}});return t})),Ko=et("combinationsWithRep",["typed"],(function(e){return(0,e.typed)("combinationsWithRep",{"number, number":function(e,t){if(!ae(e)||e<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!ae(t)||t<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e<1)throw new TypeError("k must be less than or equal to n + k - 1");return t<e-1?ho(e,e+t-1)/ho(1,t):ho(t+1,e+t-1)/ho(1,e-1)},"BigNumber, BigNumber":function(e,t){var n,r,i=new(0,e.constructor)(1),o=e.minus(i);if(!Yo(e)||!Yo(t))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(e.lt(i))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(n=i,t.lt(o))for(r=i;r.lte(o);r=r.plus(i))n=n.times(t.plus(r)).dividedBy(r);else for(r=i;r.lte(t);r=r.plus(i))n=n.times(o.plus(r)).dividedBy(r);return n}})}));function Yo(e){return e.isInteger()&&e.gte(0)}var Zo=et("random",["typed","config","?on"],(function(e){var t=e.typed,n=e.on,r=Ao(e.config.randomSeed);return n&&n("config",(function(e,t){e.randomSeed!==t.randomSeed&&(r=Ao(e.randomSeed))})),t("random",{"":function(){return o(0,1)},number:function(e){return o(0,e)},"number, number":function(e,t){return o(e,t)},"Array | Matrix":function(e){return i(e,0,1)},"Array | Matrix, number":function(e,t){return i(e,0,t)},"Array | Matrix, number, number":function(e,t,n){return i(e,t,n)}});function i(e,t,n){var r=wo(e.valueOf(),(function(){return o(t,n)}));return h(e)?e.create(r):r}function o(e,t){return e+r()*(t-e)}})),Qo=et("isNegative",["typed"],(function(e){var t=(0,e.typed)("isNegative",{number:lr,BigNumber:function(e){return e.isNeg()&&!e.isZero()&&!e.isNaN()},Fraction:function(e){return e.s<0},Unit:function(e){return t(e.value)},"Array | Matrix":function(e){return ir(e,t)}});return t})),Jo=et("SparseMatrix",["typed","equalScalar","Matrix"],(function(e){var t=e.typed,n=e.equalScalar;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!p(t))throw new Error("Invalid datatype: "+t);if(h(e))!function(e,t,n){"SparseMatrix"===t.type?(e._values=t._values?q(t._values):void 0,e._index=q(t._index),e._ptr=q(t._ptr),e._size=q(t._size),e._datatype=n||t._datatype):i(e,t.valueOf(),n||t._datatype)}(this,e,t);else if(e&&d(e.index)&&d(e.ptr)&&d(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(d(e))i(this,e,t);else{if(e)throw new TypeError("Unsupported type of data ("+H(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}}function i(e,r,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var o=r.length,a=0,s=n,c=0;if(p(i)&&(s=t.find(n,[i,i])||n,c=t.convert(0,i)),o>0){var u=0;do{e._ptr.push(e._index.length);for(var l=0;l<o;l++){var h=r[l];if(d(h)){if(0===u&&a<h.length&&(a=h.length),u<h.length){var f=h[u];s(f,c)||(e._values.push(f),e._index.push(l))}}else 0===u&&a<1&&(a=1),s(h,c)||(e._values.push(h),e._index.push(l))}u++}while(u<a)}e._ptr.push(e._index.length),e._size=[o,a]}function o(e,t){if(!v(t))throw new TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n,i,o,a,s=t.size();if(s.length!==e._size.length)throw new Re(s.length,e._size.length);var c=t.min(),u=t.max();for(n=0,i=e._size.length;n<i;n++)Le(c[n],e._size[n]),Le(u[n],e._size[n]);var l=e._values,p=e._index,d=e._ptr,h=t.dimension(0),f=t.dimension(1),m=[],g=[];h.forEach((function(e,t){g[e]=t[0],m[e]=!0}));var y=l?[]:void 0,b=[],A=[];return f.forEach((function(e){for(A.push(b.length),o=d[e],a=d[e+1];o<a;o++)!0===m[n=p[o]]&&(b.push(g[n]),y&&y.push(l[o]))})),A.push(b.length),new r({values:y,index:b,ptr:A,size:s,datatype:e._datatype})}function c(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Invalid index");var i,o=t.size(),a=t.isScalar();if(h(n)?(i=n.size(),n=n.toArray()):i=Be(n),a){if(0!==i.length)throw new TypeError("Scalar expected");e.set(t.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new Re(o.length,e._size.length,"<");if(i.length<o.length){for(var s=0,c=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)c++,s++;n=We(n,o.length,c,i)}if(!Y(o,i))throw new Re(o,i,">");for(var u=t.min()[0],l=t.min()[1],p=i[0],d=i[1],f=0;f<p;f++)for(var m=0;m<d;m++)e.set([f+u,m+l],n[f][m],r)}return e}function u(e,t,n,r){if(n-t==0)return n;for(var i=t;i<n;i++)if(r[i]===e)return i;return t}function l(e,t,n,r,i,o,a){i.splice(e,0,r),o.splice(e,0,t);for(var s=n+1;s<a.length;s++)a[s]++}function f(e,r,i,o){var a=o||0,s=n,c=0;p(e._datatype)&&(s=t.find(n,[e._datatype,e._datatype])||n,c=t.convert(0,e._datatype),a=t.convert(a,e._datatype));var u,l,d,h=!s(a,c),f=e._size[0],m=e._size[1];if(i>m){for(l=m;l<i;l++)if(e._ptr[l]=e._values.length,h)for(u=0;u<f;u++)e._values.push(a),e._index.push(u);e._ptr[i]=e._values.length}else i<m&&(e._ptr.splice(i+1,m-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(m=i,r>f){if(h){var g=0;for(l=0;l<m;l++){e._ptr[l]=e._ptr[l]+g,d=e._ptr[l+1]+g;var y=0;for(u=f;u<r;u++,y++)e._values.splice(d+y,0,a),e._index.splice(d+y,0,u),g++}e._ptr[m]=e._values.length}}else if(r<f){var v=0;for(l=0;l<m;l++){e._ptr[l]=e._ptr[l]-v;var b=e._ptr[l+1]-v;for(d=e._ptr[l];d<b;d++)(u=e._index[d])>r-1&&(e._values.splice(d,1),e._index.splice(d,1),v++)}e._ptr[l]=e._values.length}return e._size[0]=r,e._size[1]=i,e}function m(e,t,n,r,i){var o,a,s=r[0],c=r[1],u=[];for(o=0;o<s;o++)for(u[o]=[],a=0;a<c;a++)u[o][a]=0;for(a=0;a<c;a++)for(var l=n[a+1],p=n[a];p<l;p++)u[o=t[p]][a]=e?i?q(e[p]):e[p]:1;return u}return(r.prototype=new(0,e.Matrix)).createSparseMatrix=function(e,t){return new r(e,t)},r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return Je(this._values,H)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(e,t){return new r(e,t)},r.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},r.prototype.subset=function(e,t,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,e);case 2:case 3:return c(this,e,t,n);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){if(!d(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Re(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=e[0],n=e[1];Le(t,this._size[0]),Le(n,this._size[1]);var r=u(t,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===t?this._values[r]:0},r.prototype.set=function(e,r,i){if(!d(e))throw new TypeError("Array expected");if(e.length!==this._size.length)throw new Re(e.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=e[0],a=e[1],s=this._size[0],c=this._size[1],h=n,m=0;p(this._datatype)&&(h=t.find(n,[this._datatype,this._datatype])||n,m=t.convert(0,this._datatype)),(o>s-1||a>c-1)&&(f(this,Math.max(o+1,s),Math.max(a+1,c),i),s=this._size[0],c=this._size[1]),Le(o,s),Le(a,c);var g=u(o,this._ptr[a],this._ptr[a+1],this._index);return g<this._ptr[a+1]&&this._index[g]===o?h(r,m)?function(e,t,n,r,i){n.splice(e,1),r.splice(e,1);for(var o=t+1;o<i.length;o++)i[o]--}(g,a,this._values,this._index,this._ptr):this._values[g]=r:l(g,o,a,r,this._values,this._index,this._ptr),this},r.prototype.resize=function(e,t,n){if(!d(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");return e.forEach((function(t){if(!a(t)||!ae(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Me(e)+")")})),f(n?this.clone():this,e[0],e[1],t)},r.prototype.reshape=function(e,t){if(!d(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach((function(t){if(!a(t)||!ae(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Me(e)+")")})),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return n;for(var r=[],i=0;i<n._ptr.length;i++)for(var o=0;o<n._ptr[i+1]-n._ptr[i];o++)r.push(i);for(var s=n._values.slice(),c=n._index.slice(),p=0;p<n._index.length;p++){var h=c[p]*n._size[1]+r[p];r[p]=h%e[1],c[p]=Math.floor(h/e[1])}n._values.length=0,n._index.length=0,n._ptr.length=e[1]+1,n._size=e.slice();for(var f=0;f<n._ptr.length;f++)n._ptr[f]=0;for(var m=0;m<s.length;m++){var g=c[m],y=r[m],v=s[m];l(u(g,n._ptr[y],n._ptr[y+1],n._index),g,y,v,n._values,n._index,n._ptr)}return n},r.prototype.clone=function(){return new r({values:this._values?q(this._values):void 0,index:q(this._index),ptr:q(this._ptr),size:q(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(e,i){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(e,i,o,a,s,c,u){var l=[],d=[],h=[],f=n,m=0;p(e._datatype)&&(f=t.find(n,[e._datatype,e._datatype])||n,m=t.convert(0,e._datatype));for(var g=function(e,t,n){e=c(e,t,n),f(e,m)||(l.push(e),d.push(t))},y=0;y<=s;y++){h.push(l.length);var v=e._ptr[y],b=e._ptr[y+1];if(u)for(var A=v;A<b;A++){var x=e._index[A];x>=0&&x<=o&&g(e._values[A],x-0,y-0)}else{for(var w={},_=v;_<b;_++)w[e._index[_]]=e._values[_];for(var S=0;S<=o;S++)g(S in w?w[S]:0,S-0,y-0)}}return h.push(l.length),new r({values:l,index:d,ptr:h,size:[o-0+1,s-0+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(t,n,r){return e(t,[n,r],o)}),i)},r.prototype.forEach=function(e,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],a=this._ptr[i+1];if(t)for(var s=o;s<a;s++)e(this._values[s],[this._index[s],i],this);else{for(var c={},u=o;u<a;u++)c[this._index[u]]=this._values[u];for(var l=0;l<n;l++)e(l in c?c[l]:0,[l,i],this)}}},r.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)},r.prototype.format=function(e){for(var t=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+Me(t,e)+" x "+Me(n,e)+"] density: "+Me(r,e)+"\n",o=0;o<n;o++)for(var a=this._ptr[o+1],s=this._ptr[o];s<a;s++)i+="\n    ("+Me(this._index[s],e)+", "+Me(o,e)+") ==> "+(this._values?Me(this._values[s],e):"X");return i},r.prototype.toString=function(){return Me(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(e){if(e){if(s(e)&&(e=e.toNumber()),!a(e)||!ae(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,n=e<0?-e:0,i=this._size[1],o=Math.min(this._size[0]-n,i-t),c=[],u=[],l=[];l[0]=0;for(var p=t;p<i&&c.length<o;p++)for(var d=this._ptr[p+1],h=this._ptr[p];h<d;h++){var f=this._index[h];if(f===p-t+n){c.push(this._values[h]),u[c.length-1]=f-n;break}}return l.push(c.length),new r({values:c,index:u,ptr:l,size:[o,1]})},r.fromJSON=function(e){return new r(e)},r.diagonal=function(e,i,o,c,u){if(!d(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map((function(e){if(s(e)&&(e=e.toNumber()),!a(e)||!ae(e)||e<1)throw new Error("Size values must be positive integers");return e})),o){if(s(o)&&(o=o.toNumber()),!a(o)||!ae(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var l=n,f=0;p(u)&&(l=t.find(n,[u,u])||n,f=t.convert(0,u));var m,g=o>0?o:0,y=o<0?-o:0,v=e[0],b=e[1],A=Math.min(v-y,b-g);if(d(i)){if(i.length!==A)throw new Error("Invalid value array length");m=function(e){return i[e]}}else if(h(i)){var x=i.size();if(1!==x.length||x[0]!==A)throw new Error("Invalid matrix length");m=function(e){return i.get([e])}}else m=function(){return i};for(var w=[],_=[],S=[],T=0;T<b;T++){S.push(w.length);var P=T-g;if(P>=0&&P<A){var C=m(P);l(C,f)||(_.push(P+y),w.push(C))}}return S.push(w.length),new r({values:w,index:_,ptr:S,size:[v,b]})},r.prototype.swapRows=function(e,t){if(!(a(e)&&ae(e)&&a(t)&&ae(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Le(e,this._size[0]),Le(t,this._size[0]),r._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(e,t,n,r,i){for(var o=r[e+1],a=r[e];a<o;a++)i(n[a],t[a])},r._swapRows=function(e,t,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],c=o[a+1],l=u(e,s,c,i),p=u(t,s,c,i);if(l<c&&p<c&&i[l]===e&&i[p]===t){if(r){var d=r[l];r[l]=r[p],r[p]=d}}else if(l<c&&i[l]===e&&(p>=c||i[p]!==t)){var h=r?r[l]:void 0;i.splice(p,0,t),r&&r.splice(p,0,h),i.splice(p<=l?l+1:l,1),r&&r.splice(p<=l?l+1:l,1)}else if(p<c&&i[p]===t&&(l>=c||i[l]!==e)){var f=r?r[p]:void 0;i.splice(l,0,e),r&&r.splice(l,0,f),i.splice(l<=p?p+1:p,1),r&&r.splice(l<=p?p+1:p,1)}}},r}),{isClass:!0}),$o=et("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.DenseMatrix,n=e.SparseMatrix;return(0,e.typed)("matrix",{"":function(){return r([])},string:function(e){return r([],e)},"string, string":function(e,t){return r([],e,t)},Array:function(e){return r(e)},Matrix:function(e){return r(e,e.storage())},"Array | Matrix, string":r,"Array | Matrix, string, string":r});function r(e,r,i){if("dense"===r||"default"===r||void 0===r)return new t(e,i);if("sparse"===r)return new n(e,i);throw new TypeError("Unknown matrix type "+JSON.stringify(r)+".")}})),ea=et("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],(function(e){var t=e.config,n=e.isNegative,r=e.unaryMinus,i=e.matrix,o=e.Complex,a=e.BigNumber,l=e.Fraction,p=(0,e.typed)("cbrt",{number:Cr,Complex:d,"Complex, boolean":d,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&c(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=d(e.value),t}var i,o=n(e.value);o&&(e.value=r(e.value)),i=s(e.value)?new a(1).div(3):u(e.value)?new l(1,3):1/3;var p=e.pow(i);return o&&(p.value=r(p.value)),p},"Array | Matrix":function(e){return ir(e,p,!0)}});function d(e,n){var r=e.arg()/3,a=e.abs(),s=new o(Cr(a),0).mul(new o(0,r).exp());if(n){var c=[s,new o(Cr(a),0).mul(new o(0,r+2*Math.PI/3).exp()),new o(Cr(a),0).mul(new o(0,r-2*Math.PI/3).exp())];return"Array"===t.matrix?c:i(c)}return s}return p})),ta=et("algorithm01",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o=e._data,a=e._size,s=e._datatype,c=n._values,u=n._index,l=n._ptr,p=n._size,d=n._datatype;if(a.length!==p.length)throw new Re(a.length,p.length);if(a[0]!==p[0]||a[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,f,m=a[0],g=a[1],y="string"==typeof s&&s===d?s:void 0,v=y?t.find(r,[y,y]):r,b=[];for(h=0;h<m;h++)b[h]=[];var A=[],x=[];for(f=0;f<g;f++){for(var w=f+1,_=l[f+1],S=l[f];S<_;S++)A[h=u[S]]=i?v(c[S],o[h][f]):v(o[h][f],c[S]),x[h]=w;for(h=0;h<m;h++)b[h][f]=x[h]===w?A[h]:o[h][f]}return e.createDenseMatrix({data:b,size:[m,g],datatype:y})}})),na=et("algorithm04",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._index,s=e._ptr,c=e._size,u=e._datatype,l=r._values,p=r._index,d=r._ptr,h=r._size,f=r._datatype;if(c.length!==h.length)throw new Re(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var m,g=c[0],y=c[1],v=n,b=0,A=i;"string"==typeof u&&u===f&&(v=t.find(n,[m=u,m]),b=t.convert(0,m),A=t.find(i,[m,m]));var x,w,_,S,T=o&&l?[]:void 0,P=[],C=[],E=o&&l?[]:void 0,k=o&&l?[]:void 0,O=[],M=[];for(w=0;w<y;w++){C[w]=P.length;var N=w+1;for(S=s[w+1],_=s[w];_<S;_++)P.push(x=a[_]),O[x]=N,E&&(E[x]=o[_]);for(S=d[w+1],_=d[w];_<S;_++)if(O[x=p[_]]===N){if(E){var I=A(E[x],l[_]);v(I,b)?O[x]=null:E[x]=I}}else P.push(x),M[x]=N,k&&(k[x]=l[_]);if(E&&k)for(_=C[w];_<P.length;)O[x=P[_]]===N?(T[_]=E[x],_++):M[x]===N?(T[_]=k[x],_++):P.splice(_,1)}return C[y]=P.length,e.createSparseMatrix({values:T,index:P,ptr:C,size:[g,y],datatype:m})}})),ra=et("algorithm10",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,r,i,o){var a=e._values,s=e._index,c=e._ptr,u=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,d=u[0],h=u[1],f=i;"string"==typeof l&&(r=t.convert(r,p=l),f=t.find(i,[p,p]));for(var m=[],g=[],y=[],v=0;v<h;v++){for(var b=v+1,A=c[v+1],x=c[v];x<A;x++){var w=s[x];g[w]=a[x],y[w]=b}for(var _=0;_<d;_++)0===v&&(m[_]=[]),m[_][v]=y[_]===b?o?f(r,g[_]):f(g[_],r):r}return new n({data:m,size:[d,h],datatype:p})}})),ia=et("algorithm13",["typed"],(function(e){var t=e.typed;return function(e,n,r){var i,o=e._data,a=e._size,s=e._datatype,c=n._data,u=n._size,l=n._datatype,p=[];if(a.length!==u.length)throw new Re(a.length,u.length);for(var d=0;d<a.length;d++){if(a[d]!==u[d])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");p[d]=a[d]}var h=r;"string"==typeof s&&s===l&&(h=t.find(r,[i=s,i]));var f=p.length>0?function e(t,n,r,i,o,a){var s=[];if(n===r.length-1)for(var c=0;c<i;c++)s[c]=t(o[c],a[c]);else for(var u=0;u<i;u++)s[u]=e(t,n+1,r,r[n+1],o[u],a[u]);return s}(h,0,p,p[0],o,c):[];return e.createDenseMatrix({data:f,size:p,datatype:i})}})),oa=et("algorithm14",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o,a=e._data,s=e._size,c=e._datatype,u=r;"string"==typeof c&&(n=t.convert(n,o=c),u=t.find(r,[o,o]));var l=s.length>0?function e(t,n,r,i,o,a,s){var c=[];if(n===r.length-1)for(var u=0;u<i;u++)c[u]=s?t(a,o[u]):t(o[u],a);else for(var l=0;l<i;l++)c[l]=e(t,n+1,r,r[n+1],o[l],a,s);return c}(u,0,s,s[0],a,n,i):[];return e.createDenseMatrix({data:l,size:q(s),datatype:o})}})),aa=et("gcd",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=e.DenseMatrix,a=ta({typed:t}),s=na({typed:t,equalScalar:r}),c=ra({typed:t,DenseMatrix:o}),u=ia({typed:t}),l=oa({typed:t}),p=t("gcd",{"number, number":Nr,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var n=new i(0);!t.isZero();){var r=e.mod(t);e=t,t=r}return e.lt(n)?e.neg():e},"Fraction, Fraction":function(e,t){return e.gcd(t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,p)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,p)},"Array, Array":function(e,t){return p(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return p(n(e),t)},"Matrix, Array":function(e,t){return p(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(e,t,p,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,p,!1)},"number | BigNumber, SparseMatrix":function(e,t){return c(t,e,p,!0)},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,p,!0)},"Array, number | BigNumber":function(e,t){return l(n(e),t,p,!1).valueOf()},"number | BigNumber, Array":function(e,t){return l(n(t),e,p,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=p(e,t),i=0;i<n.length;i++)r=p(r,n[i]);return r}});return p})),sa=et("algorithm02",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i,o){var a=e._data,s=e._size,c=e._datatype,u=r._values,l=r._index,p=r._ptr,d=r._size,h=r._datatype;if(s.length!==d.length)throw new Re(s.length,d.length);if(s[0]!==d[0]||s[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+d+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var f,m=s[0],g=s[1],y=n,v=0,b=i;"string"==typeof c&&c===h&&(y=t.find(n,[f=c,f]),v=t.convert(0,f),b=t.find(i,[f,f]));for(var A=[],x=[],w=[],_=0;_<g;_++){w[_]=x.length;for(var S=p[_+1],T=p[_];T<S;T++){var P=l[T],C=o?b(u[T],a[P][_]):b(a[P][_],u[T]);y(C,v)||(x.push(P),A.push(C))}}return w[g]=x.length,r.createSparseMatrix({values:A,index:x,ptr:w,size:[m,g],datatype:f})}})),ca=et("algorithm03",["typed"],(function(e){var t=e.typed;return function(e,n,r,i){var o=e._data,a=e._size,s=e._datatype,c=n._values,u=n._index,l=n._ptr,p=n._size,d=n._datatype;if(a.length!==p.length)throw new Re(a.length,p.length);if(a[0]!==p[0]||a[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,f=a[0],m=a[1],g=0,y=r;"string"==typeof s&&s===d&&(g=t.convert(0,h=s),y=t.find(r,[h,h]));for(var v=[],b=0;b<f;b++)v[b]=[];for(var A=[],x=[],w=0;w<m;w++){for(var _=w+1,S=l[w+1],T=l[w];T<S;T++){var P=u[T];A[P]=i?y(c[T],o[P][w]):y(o[P][w],c[T]),x[P]=_}for(var C=0;C<f;C++)v[C][w]=x[C]===_?A[C]:i?y(g,o[C][w]):y(o[C][w],g)}return e.createDenseMatrix({data:v,size:[f,m],datatype:h})}})),ua=et("algorithm05",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._index,s=e._ptr,c=e._size,u=e._datatype,l=r._values,p=r._index,d=r._ptr,h=r._size,f=r._datatype;if(c.length!==h.length)throw new Re(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var m,g=c[0],y=c[1],v=n,b=0,A=i;"string"==typeof u&&u===f&&(v=t.find(n,[m=u,m]),b=t.convert(0,m),A=t.find(i,[m,m]));var x,w,_,S,T=o&&l?[]:void 0,P=[],C=[],E=T?[]:void 0,k=T?[]:void 0,O=[],M=[];for(w=0;w<y;w++){C[w]=P.length;var N=w+1;for(_=s[w],S=s[w+1];_<S;_++)P.push(x=a[_]),O[x]=N,E&&(E[x]=o[_]);for(_=d[w],S=d[w+1];_<S;_++)O[x=p[_]]!==N&&P.push(x),M[x]=N,k&&(k[x]=l[_]);if(T)for(_=C[w];_<P.length;){var I=O[x=P[_]],D=M[x];if(I===N||D===N){var R=A(I===N?E[x]:b,D===N?k[x]:b);v(R,b)?P.splice(_,1):(T.push(R),_++)}}}return C[y]=P.length,e.createSparseMatrix({values:T,index:P,ptr:C,size:[g,y],datatype:m})}})),la=et("algorithm11",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i,o){var a=e._values,s=e._index,c=e._ptr,u=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,d=u[0],h=u[1],f=n,m=0,g=i;"string"==typeof l&&(f=t.find(n,[p=l,p]),m=t.convert(0,p),r=t.convert(r,p),g=t.find(i,[p,p]));for(var y=[],v=[],b=[],A=0;A<h;A++){b[A]=v.length;for(var x=c[A+1],w=c[A];w<x;w++){var _=s[w],S=o?g(r,a[w]):g(a[w],r);f(S,m)||(v.push(_),y.push(S))}}return b[h]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[d,h],datatype:p})}})),pa=et("algorithm12",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,r,i,o){var a=e._values,s=e._index,c=e._ptr,u=e._size,l=e._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,d=u[0],h=u[1],f=i;"string"==typeof l&&(r=t.convert(r,p=l),f=t.find(i,[p,p]));for(var m=[],g=[],y=[],v=0;v<h;v++){for(var b=v+1,A=c[v+1],x=c[v];x<A;x++){var w=s[x];g[w]=a[x],y[w]=b}for(var _=0;_<d;_++)0===v&&(m[_]=[]),m[_][v]=y[_]===b?o?f(r,g[_]):f(g[_],r):o?f(r,0):f(0,r)}return new n({data:m,size:[d,h],datatype:p})}})),da=et("mod",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=sa({typed:t,equalScalar:r}),a=ca({typed:t}),s=ua({typed:t,equalScalar:r}),c=la({typed:t,equalScalar:r}),u=pa({typed:t,DenseMatrix:i}),l=ia({typed:t}),p=oa({typed:t}),d=t("mod",{"number, number":Br,"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.mod(t)},"Fraction, Fraction":function(e,t){return e.mod(t)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,d,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,d,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,d)},"Array, Array":function(e,t){return d(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return d(n(e),t)},"Matrix, Array":function(e,t){return d(e,n(t))},"SparseMatrix, any":function(e,t){return c(e,t,d,!1)},"DenseMatrix, any":function(e,t){return p(e,t,d,!1)},"any, SparseMatrix":function(e,t){return u(t,e,d,!0)},"any, DenseMatrix":function(e,t){return p(t,e,d,!0)},"Array, any":function(e,t){return p(n(e),t,d,!1).valueOf()},"any, Array":function(e,t){return p(n(t),e,d,!0).valueOf()}});return d})),ha=et("algorithm06",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._size,s=e._datatype,c=r._values,u=r._size,l=r._datatype;if(a.length!==u.length)throw new Re(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var p,d=a[0],h=a[1],f=n,m=0,g=i;"string"==typeof s&&s===l&&(f=t.find(n,[p=s,p]),m=t.convert(0,p),g=t.find(i,[p,p]));for(var y=o&&c?[]:void 0,v=[],b=[],A=y?[]:void 0,x=[],w=[],_=0;_<h;_++){b[_]=v.length;var S=_+1;if(sr(e,_,x,A,w,S,v,g),sr(r,_,x,A,w,S,v,g),A)for(var T=b[_];T<v.length;){var P=v[T];if(w[P]===S){var C=A[P];f(C,m)?v.splice(T,1):(y.push(C),T++)}else v.splice(T,1)}else for(var E=b[_];E<v.length;)w[v[E]]!==S?v.splice(E,1):E++}return b[h]=v.length,e.createSparseMatrix({values:y,index:v,ptr:b,size:[d,h],datatype:p})}})),fa=et("nthRoot",["typed","matrix","equalScalar","BigNumber"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=ta({typed:t}),a=sa({typed:t,equalScalar:r}),s=ha({typed:t,equalScalar:r}),c=la({typed:t,equalScalar:r}),u=ia({typed:t}),l=oa({typed:t}),p="Complex number not supported in function nthRoot. Use nthRoots instead.",d=t("nthRoot",{number:function(e){return Fr(e,2)},"number, number":Fr,BigNumber:function(e){return h(e,new i(2))},Complex:function(e){throw new Error(p)},"Complex, number":function(e,t){throw new Error(p)},"BigNumber, BigNumber":h,"Array | Matrix":function(e){return d(e,2)},"SparseMatrix, SparseMatrix":function(e,t){if(1===t.density())return s(e,t,d);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,d,!0)},"DenseMatrix, SparseMatrix":function(e,t){if(1===t.density())return o(e,t,d,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,d)},"Array, Array":function(e,t){return d(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return d(n(e),t)},"Matrix, Array":function(e,t){return d(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return c(e,t,d,!1)},"DenseMatrix, number | BigNumber":function(e,t){return l(e,t,d,!1)},"number | BigNumber, SparseMatrix":function(e,t){if(1===t.density())return c(t,e,d,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(e,t){return l(t,e,d,!0)},"Array, number | BigNumber":function(e,t){return d(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return d(e,n(t)).valueOf()}});return d;function h(e,t){var n=i.precision,r=i.clone({precision:n+2}),o=new i(0),a=new r(1),s=t.isNegative();if(s&&(t=t.neg()),t.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!t.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new r(1/0):0;if(!e.isFinite())return s?o:e;var c=e.abs().pow(a.div(t));return c=e.isNeg()?c.neg():c,new i((s?a.div(c):c).toPrecision(n))}})),ma=et("xgcd",["typed","config","matrix","BigNumber"],(function(e){var t=e.config,n=e.matrix,r=e.BigNumber;return(0,e.typed)("xgcd",{"number, number":function(e,r){var i=zr(e,r);return"Array"===t.matrix?i:n(i)},"BigNumber, BigNumber":function(e,i){var o,a,s,c,u=new r(0),l=new r(1),p=u,d=l,h=l,f=u;if(!e.isInt()||!i.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!i.isZero();)a=e.div(i).floor(),s=e.mod(i),o=p,p=d.minus(a.times(p)),d=o,o=h,h=f.minus(a.times(h)),f=o,e=i,i=s;return c=e.lt(u)?[e.neg(),d.neg(),f.neg()]:[e,e.isZero()?0:d,f],"Array"===t.matrix?c:n(c)}})})),ga=et("bitAnd",["typed","matrix","equalScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=sa({typed:t,equalScalar:r}),o=ha({typed:t,equalScalar:r}),a=la({typed:t,equalScalar:r}),s=ia({typed:t}),c=oa({typed:t}),u=t("bitAnd",{"number, number":ci,"BigNumber, BigNumber":$r,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,u,!1)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,u,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,u,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,u)},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,u,!1)},"DenseMatrix, any":function(e,t){return c(e,t,u,!1)},"any, SparseMatrix":function(e,t){return a(t,e,u,!0)},"any, DenseMatrix":function(e,t){return c(t,e,u,!0)},"Array, any":function(e,t){return c(n(e),t,u,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,u,!0).valueOf()}});return u})),ya=et("algorithm07",["typed","DenseMatrix"],(function(e){var t=e.typed,n=e.DenseMatrix;return function(e,i,o){var a=e._size,s=e._datatype,c=i._size,u=i._datatype;if(a.length!==c.length)throw new Re(a.length,c.length);if(a[0]!==c[0]||a[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");var l,p,d,h=a[0],f=a[1],m=0,g=o;"string"==typeof s&&s===u&&(m=t.convert(0,l=s),g=t.find(o,[l,l]));var y=[];for(p=0;p<h;p++)y[p]=[];var v=[],b=[],A=[],x=[];for(d=0;d<f;d++){var w=d+1;for(r(e,d,A,v,w),r(i,d,x,b,w),p=0;p<h;p++)y[p][d]=g(A[p]===w?v[p]:m,x[p]===w?b[p]:m)}return new n({data:y,size:[h,f],datatype:l})};function r(e,t,n,r,i){for(var o=e._values,a=e._index,s=e._ptr,c=s[t],u=s[t+1];c<u;c++){var l=a[c];n[l]=i,r[l]=o[c]}}})),va=et("bitXor",["typed","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.DenseMatrix,i=ca({typed:t}),o=ya({typed:t,DenseMatrix:r}),a=pa({typed:t,DenseMatrix:r}),s=ia({typed:t}),c=oa({typed:t}),u=t("bitXor",{"number, number":pi,"BigNumber, BigNumber":ii,"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,u)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,u,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,u,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,u)},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,u,!1)},"DenseMatrix, any":function(e,t){return c(e,t,u,!1)},"any, SparseMatrix":function(e,t){return a(t,e,u,!0)},"any, DenseMatrix":function(e,t){return c(t,e,u,!0)},"Array, any":function(e,t){return c(n(e),t,u,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,u,!0).valueOf()}});return u})),ba=et("or",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=ca({typed:t}),a=ua({typed:t,equalScalar:r}),s=pa({typed:t,DenseMatrix:i}),c=ia({typed:t}),u=oa({typed:t}),l=t("or",{"number, number":bi,"Complex, Complex":function(e,t){return 0!==e.re||0!==e.im||0!==t.re||0!==t.im},"BigNumber, BigNumber":function(e,t){return!e.isZero()&&!e.isNaN()||!t.isZero()&&!t.isNaN()},"Unit, Unit":function(e,t){return l(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return l(n(e),t)},"Matrix, Array":function(e,t){return l(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return u(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return u(t,e,l,!0)},"Array, any":function(e,t){return u(n(e),t,l,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,l,!0).valueOf()}});return l})),Aa=et("concat",["typed","matrix","isInteger"],(function(e){var t=e.matrix,n=e.isInteger;return(0,e.typed)("concat",{"...Array | Matrix | number | BigNumber":function(e){var r,i,o=e.length,c=-1,u=!1,l=[];for(r=0;r<o;r++){var p=e[r];if(h(p)&&(u=!0),a(p)||s(p)){if(r!==o-1)throw new Error("Dimension must be specified as last argument");if(i=c,c=p.valueOf(),!n(c))throw new TypeError("Integer number expected for dimension");if(c<0||r>0&&c>i)throw new je(c,i+1)}else{var d=q(p).valueOf(),f=Be(d);if(l[r]=d,i=c,c=f.length-1,r>0&&c!==i)throw new Re(i+1,c+1)}}if(0===l.length)throw new SyntaxError("At least one matrix expected");for(var m=l.shift();l.length;)m=xa(m,l.shift(),c,0);return u?t(m):m},"...string":function(e){return e.join("")}})}));function xa(e,t,n,r){if(r<n){if(e.length!==t.length)throw new Re(e.length,t.length);for(var i=[],o=0;o<e.length;o++)i[o]=xa(e[o],t[o],n,r+1);return i}return e.concat(t)}var wa=et("diag",["typed","matrix","DenseMatrix","SparseMatrix"],(function(e){var t=e.matrix,n=e.DenseMatrix,r=e.SparseMatrix;return(0,e.typed)("diag",{Array:function(e){return i(e,0,Be(e),null)},"Array, number":function(e,t){return i(e,t,Be(e),null)},"Array, BigNumber":function(e,t){return i(e,t.toNumber(),Be(e),null)},"Array, string":function(e,t){return i(e,0,Be(e),t)},"Array, number, string":function(e,t,n){return i(e,t,Be(e),n)},"Array, BigNumber, string":function(e,t,n){return i(e,t.toNumber(),Be(e),n)},Matrix:function(e){return i(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return i(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return i(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return i(e,0,e.size(),t)},"Matrix, number, string":function(e,t,n){return i(e,t,e.size(),n)},"Matrix, BigNumber, string":function(e,t,n){return i(e,t.toNumber(),e.size(),n)}});function i(e,i,o,a){if(!ae(i))throw new TypeError("Second parameter in function diag must be an integer");var s=i>0?i:0,c=i<0?-i:0;switch(o.length){case 1:return function(e,t,i,o,a,s){var c=[o+a,o+s];if(i&&"sparse"!==i&&"dense"!==i)throw new TypeError("Unknown matrix type ".concat(i,'"'));var u="sparse"===i?r.diagonal(c,e,t):n.diagonal(c,e,t);return null!==i?u:u.valueOf()}(e,i,a,o[0],c,s);case 2:return function(e,n,r,i,o,a){if(h(e)){var s=e.diagonal(n);return null!==r?r!==s.storage()?t(s,r):s:s.valueOf()}for(var c=Math.min(i[0]-o,i[1]-a),u=[],l=0;l<c;l++)u[l]=e[l+o][l+a];return null!==r?t(u):u}(e,i,a,o,c,s)}throw new RangeError("Matrix for function diag must be 2 dimensional")}})),_a=et("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],(function(e){var t=e.config,n=e.matrix,r=e.BigNumber,i=e.DenseMatrix,o=e.SparseMatrix;return(0,e.typed)("identity",{"":function(){return"Matrix"===t.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return c(e,e,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return c(e,e,t)},"number | BigNumber, number | BigNumber":function(e,n){return c(e,n,"Matrix"===t.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,n){return c(e,t,n)},Array:function(e){return a(e)},"Array, string":function(e,t){return a(e,t)},Matrix:function(e){return a(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return a(e.valueOf(),t)}});function a(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return c(e[0],e[0],t);case 2:return c(e[0],e[1],t);default:throw new Error("Vector containing two values expected")}}function c(e,t,n){var a=s(e)||s(t)?r:null;if(s(e)&&(e=e.toNumber()),s(t)&&(t=t.toNumber()),!ae(e)||e<1)throw new Error("Parameters in function identity must be positive integers");if(!ae(t)||t<1)throw new Error("Parameters in function identity must be positive integers");var c=a?new r(1):1,u=a?new a(0):0,l=[e,t];if(n){if("sparse"===n)return o.diagonal(l,c,0,u);if("dense"===n)return i.diagonal(l,c,0,u);throw new TypeError('Unknown matrix type "'.concat(n,'"'))}for(var p=Ue([],l,u),d=e<t?e:t,h=0;h<d;h++)p[h][h]=c;return p}})),Sa=et("ones",["typed","config","matrix","BigNumber"],(function(e){var t=e.config,n=e.matrix,r=e.BigNumber;return(0,e.typed)("ones",{"":function(){return"Array"===t.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var n=e.pop();return i(e,n)}return"Array"===t.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){var i=function(e){var t=!1;return e.forEach((function(e,n,r){s(e)&&(t=!0,r[n]=e.toNumber())})),t}(e)?new r(1):1;if(function(e){e.forEach((function(e){if("number"!=typeof e||!ae(e)||e<0)throw new Error("Parameters in function ones must be positive integers")}))}(e),t){var o=n(t);return e.length>0?o.resize(e,i):o}var a=[];return e.length>0?Ue(a,e,i):a}})),Ta=et("reshape",["typed","isInteger","matrix"],(function(e){var t=e.isInteger,n=e.matrix;return(0,e.typed)("reshape",{"Matrix, Array":function(e,t){return e.reshape?e.reshape(t):n(ze(e.valueOf(),t))},"Array, Array":function(e,n){return n.forEach((function(e){if(!t(e))throw new TypeError("Invalid size for dimension: "+e)})),ze(e,n)}})}));function Pa(){throw new Error('No "bignumber" implementation available')}function Ca(){throw new Error('No "fraction" implementation available')}function Ea(){throw new Error('No "matrix" implementation available')}var ka=et("size",["typed","config","?matrix"],(function(e){var t=e.config,n=e.matrix;return(0,e.typed)("size",{Matrix:function(e){return e.create(e.size())},Array:Be,string:function(e){return"Array"===t.matrix?[e.length]:n([e.length])},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===t.matrix?[]:n?n([]):Ea()}})}));function Oa(e){return(Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e,t){if(Ra(e)&&Ia(e,t))return e[t];if("function"==typeof e[t]&&Da(e,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')}function Na(e,t,n){if(Ra(e)&&Ia(e,t))return e[t]=n,n;throw new Error('No access to property "'+t+'"')}function Ia(e,t){return!(!e||"object"!==Oa(e)||!J(ja,t)&&(t in Object.prototype||t in Function.prototype))}function Da(e,t){return!(null==e||"function"!=typeof e[t]||J(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)||!J(Ba,t)&&(t in Object.prototype||t in Function.prototype))}function Ra(e){return"object"===Oa(e)&&e&&e.constructor===Object}var ja={length:!0,name:!0},Ba={toString:!0,valueOf:!0,toLocaleString:!0},Fa=et("subset",["typed","matrix"],(function(e){var t=e.matrix;return(0,e.typed)("subset",{"Array, Index":function(e,n){var r=t(e).subset(n);return n.isScalar()?r:r.valueOf()},"Matrix, Index":function(e,t){return e.subset(t)},"Object, Index":za,"string, Index":La,"Array, Index, any":function(e,n,r){return t(q(e)).subset(n,r,void 0).valueOf()},"Array, Index, any, any":function(e,n,r,i){return t(q(e)).subset(n,r,i).valueOf()},"Matrix, Index, any":function(e,t,n){return e.clone().subset(t,n)},"Matrix, Index, any, any":function(e,t,n,r){return e.clone().subset(t,n,r)},"string, Index, string":Ua,"string, Index, string, string":Ua,"Object, Index, any":Va})}));function La(e,t){if(!v(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new Re(t.size().length,1);var n=e.length;Le(t.min()[0],n),Le(t.max()[0],n);var r=t.dimension(0),i="";return r.forEach((function(t){i+=e.charAt(t)})),i}function Ua(e,t,n,r){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!==t.size().length)throw new Re(t.size().length,1);if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=t.dimension(0);if(i.size()[0]!==n.length)throw new Re(i.size()[0],n.length);var o=e.length;Le(t.min()[0]),Le(t.max()[0]);for(var a=[],s=0;s<o;s++)a[s]=e.charAt(s);if(i.forEach((function(e,t){a[e]=n.charAt(t[0])})),a.length>o)for(var c=o-1,u=a.length;c<u;c++)a[c]||(a[c]=r);return a.join("")}function za(e,t){if(1!==t.size().length)throw new Re(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");return Ma(e,n)}function Va(e,t,n){if(1!==t.size().length)throw new Re(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");var i=q(e);return Na(i,r,n),i}var Wa=et("zeros",["typed","config","matrix","BigNumber"],(function(e){var t=e.config,n=e.matrix,r=e.BigNumber;return(0,e.typed)("zeros",{"":function(){return"Array"===t.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var n=e.pop();return i(e,n)}return"Array"===t.matrix?i(e):i(e,"default")},Array:i,Matrix:function(e){var t=e.storage();return i(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return i(e.valueOf(),t)}});function i(e,t){var i=function(e){var t=!1;return e.forEach((function(e,n,r){s(e)&&(t=!0,r[n]=e.toNumber())})),t}(e)?new r(0):0;if(function(e){e.forEach((function(e){if("number"!=typeof e||!ae(e)||e<0)throw new Error("Parameters in function zeros must be positive integers")}))}(e),t){var o=n(t);return e.length>0?o.resize(e,i):o}var a=[];return e.length>0?Ue(a,e,i):a}})),Ha=et("to",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=ia({typed:t}),i=oa({typed:t}),o=t("to",{"Unit, Unit | string":function(e,t){return e.to(t)},"Matrix, Matrix":function(e,t){return r(e,t,o)},"Array, Array":function(e,t){return o(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return o(n(e),t)},"Matrix, Array":function(e,t){return o(e,n(t))},"Matrix, any":function(e,t){return i(e,t,o,!1)},"any, Matrix":function(e,t){return i(t,e,o,!0)},"Array, any":function(e,t){return i(n(e),t,o,!1).valueOf()},"any, Array":function(e,t){return i(n(t),e,o,!0).valueOf()}});return o}));function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Xa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ka="Number of decimals in function round must be an integer",Ya=et("round",["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.BigNumber,a=e.DenseMatrix,s=la({typed:t,equalScalar:r}),c=pa({typed:t,DenseMatrix:a}),u=oa({typed:t}),l=t("round",qa(qa({},Za),{},{Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw new TypeError(Ka);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Ka);var n=t.toNumber();return e.round(n)},"number, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Ka);return new o(e).toDecimalPlaces(t.toNumber())},BigNumber:function(e){return e.toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw new TypeError(Ka);return e.toDecimalPlaces(t.toNumber())},Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw new TypeError(Ka);return e.round(t)},"Array | Matrix":function(e){return ir(e,l,!0)},"SparseMatrix, number | BigNumber":function(e,t){return s(e,t,l,!1)},"DenseMatrix, number | BigNumber":function(e,t){return u(e,t,l,!1)},"number | Complex | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):c(t,e,l,!0)},"number | Complex | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,l,!0)},"Array, number | BigNumber":function(e,t){return u(n(e),t,l,!1).valueOf()},"number | Complex | BigNumber, Array":function(e,t){return u(n(t),e,l,!0).valueOf()}}));return l})),Za={number:Wr,"number, number":function(e,t){if(!ae(t))throw new TypeError(Ka);if(t<0||t>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return Wr(e,t)}},Qa=et("algorithm08",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._index,s=e._ptr,c=e._size,u=e._datatype,l=r._values,p=r._index,d=r._ptr,h=r._size,f=r._datatype;if(c.length!==h.length)throw new Re(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");if(!o||!l)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var m,g=c[0],y=c[1],v=n,b=0,A=i;"string"==typeof u&&u===f&&(v=t.find(n,[m=u,m]),b=t.convert(0,m),A=t.find(i,[m,m]));for(var x,w,_,S=[],T=[],P=[],C=[],E=[],k=0;k<y;k++){P[k]=T.length;var O=k+1;for(w=s[k+1],x=s[k];x<w;x++)E[_=a[x]]=O,C[_]=o[x],T.push(_);for(w=d[k+1],x=d[k];x<w;x++)E[_=p[x]]===O&&(C[_]=A(C[_],l[x]));for(x=P[k];x<T.length;){var M=C[_=T[x]];v(M,b)?T.splice(x,1):(S.push(M),x++)}}return P[y]=T.length,e.createSparseMatrix({values:S,index:T,ptr:P,size:[g,y],datatype:m})}})),Ja=et("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,a=ta({typed:t}),s=sa({typed:t,equalScalar:r}),c=Qa({typed:t,equalScalar:r}),u=ra({typed:t,DenseMatrix:o}),l=la({typed:t,equalScalar:r}),p=ia({typed:t}),d=oa({typed:t}),h=t("leftShift",{"number, number":di,"BigNumber, BigNumber":oi,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():l(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,h,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return h(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return h(e,n(t)).valueOf()}});return h})),$a=et("rightLogShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,a=ta({typed:t}),s=sa({typed:t,equalScalar:r}),c=Qa({typed:t,equalScalar:r}),u=ra({typed:t,DenseMatrix:o}),l=la({typed:t,equalScalar:r}),p=ia({typed:t}),d=oa({typed:t}),h=t("rightLogShift",{"number, number":fi,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():l(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,h,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return h(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return h(e,n(t)).valueOf()}});return h})),es=et("compare",["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.equalScalar,i=e.matrix,o=e.BigNumber,a=e.Fraction,s=e.DenseMatrix,c=ca({typed:t}),u=ua({typed:t,equalScalar:r}),l=pa({typed:t,DenseMatrix:s}),p=ia({typed:t}),d=oa({typed:t}),h=t("compare",{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"number, number":function(e,t){return xe(e,t,n.epsilon)?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return gr(e,t,n.epsilon)?new o(0):new o(e.cmp(t))},"Fraction, Fraction":function(e,t){return new a(e.compare(t))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return h(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return u(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return c(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return c(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(i(e),i(t)).valueOf()},"Array, Matrix":function(e,t){return h(i(e),t)},"Matrix, Array":function(e,t){return h(e,i(t))},"SparseMatrix, any":function(e,t){return l(e,t,h,!1)},"DenseMatrix, any":function(e,t){return d(e,t,h,!1)},"any, SparseMatrix":function(e,t){return l(t,e,h,!0)},"any, DenseMatrix":function(e,t){return d(t,e,h,!0)},"Array, any":function(e,t){return d(i(e),t,h,!1).valueOf()},"any, Array":function(e,t){return d(i(t),e,h,!0).valueOf()}});return h})),ts=et("compareText",["typed","matrix"],(function(e){var t=e.typed,n=e.matrix,r=ia({typed:t}),i=oa({typed:t}),o=t("compareText",{"any, any":De,"DenseMatrix, DenseMatrix":function(e,t){return r(e,t,De)},"Array, Array":function(e,t){return o(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return o(n(e),t)},"Matrix, Array":function(e,t){return o(e,n(t))},"DenseMatrix, any":function(e,t){return i(e,t,De,!1)},"any, DenseMatrix":function(e,t){return i(t,e,De,!0)},"Array, any":function(e,t){return i(n(e),t,De,!1).valueOf()},"any, Array":function(e,t){return i(n(t),e,De,!0).valueOf()}});return o})),ns=et("smaller",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=ca({typed:t}),a=ya({typed:t,DenseMatrix:i}),s=pa({typed:t,DenseMatrix:i}),c=ia({typed:t}),u=oa({typed:t}),l=t("smaller",{"boolean, boolean":function(e,t){return e<t},"number, number":function(e,t){return e<t&&!xe(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lt(t)&&!gr(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1===e.compare(t)},"Complex, Complex":function(e,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return l(r(e),t)},"Matrix, Array":function(e,t){return l(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return u(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return u(t,e,l,!0)},"Array, any":function(e,t){return u(r(e),t,l,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,l,!0).valueOf()}});return l})),rs=et("larger",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=ca({typed:t}),a=ya({typed:t,DenseMatrix:i}),s=pa({typed:t,DenseMatrix:i}),c=ia({typed:t}),u=oa({typed:t}),l=t("larger",{"boolean, boolean":function(e,t){return e>t},"number, number":function(e,t){return e>t&&!xe(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gt(t)&&!gr(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1===e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return l(r(e),t)},"Matrix, Array":function(e,t){return l(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return u(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return u(t,e,l,!0)},"Array, any":function(e,t){return u(r(e),t,l,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,l,!0).valueOf()}});return l})),is=et("unequal",["typed","config","equalScalar","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.equalScalar,r=e.matrix,i=e.DenseMatrix,o=ca({typed:t}),a=ya({typed:t,DenseMatrix:i}),s=pa({typed:t,DenseMatrix:i}),c=ia({typed:t}),u=oa({typed:t}),l=t("unequal",{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:p(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,p)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,p)},"Array, Array":function(e,t){return l(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return l(r(e),t)},"Matrix, Array":function(e,t){return l(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,p,!1)},"DenseMatrix, any":function(e,t){return u(e,t,p,!1)},"any, SparseMatrix":function(e,t){return s(t,e,p,!0)},"any, DenseMatrix":function(e,t){return u(t,e,p,!0)},"Array, any":function(e,t){return u(r(e),t,p,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,p,!0).valueOf()}});function p(e,t){return!n(e,t)}return l}));function os(e,t,n){var r;return-1!==String(e).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+H(n)+", value: "+JSON.stringify(n)+")":" (type: "+e.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+r)):-1!==String(e).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+H(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+r)):e}et("unequal",["typed","equalScalar"],(function(e){var t=e.equalScalar;return(0,e.typed)("unequal",{"any, any":function(e,n){return null===e?null!==n:null===n?null!==e:void 0===e?void 0!==n:void 0===n?void 0!==e:!t(e,n)}})}));var as=et("max",["typed","larger"],(function(e){var t=e.larger;return(0,e.typed)("max",{"Array | Matrix":r,"Array | Matrix, number | BigNumber":function(e,t){return or(e,t.valueOf(),n)},"...":function(e){if(nr(e))throw new TypeError("Scalar values expected in function max");return r(e)}});function n(e,n){try{return t(e,n)?e:n}catch(r){throw os(r,"max",n)}}function r(e){var n;if(rr(e,(function(e){try{isNaN(e)&&"number"==typeof e?n=NaN:(void 0===n||t(e,n))&&(n=e)}catch(r){throw os(r,"max",e)}})),void 0===n)throw new Error("Cannot calculate max of an empty array");return n}})),ss=et("ImmutableDenseMatrix",["smaller","DenseMatrix"],(function(e){var t=e.smaller,n=e.DenseMatrix;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t&&!p(t))throw new Error("Invalid datatype: "+t);if(h(e)||d(e)){var i=new n(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&d(e.data)&&d(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+H(e)+")");this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}}return(r.prototype=new n).type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(e){switch(arguments.length){case 1:var t=n.prototype.subset.call(this,e);return h(t)?new r({data:t._data,size:t._size,datatype:t._datatype}):t;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:q(this._data),size:q(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(null===this._min){var e=null;this.forEach((function(n){(null===e||t(n,e))&&(e=n)})),this._min=null!==e?e:void 0}return this._min},r.prototype.max=function(){if(null===this._max){var e=null;this.forEach((function(n){(null===e||t(e,n))&&(e=n)})),this._max=null!==e?e:void 0}return this._max},r}),{isClass:!0}),cs=et("FibonacciHeap",["smaller","larger"],(function(e){var t=e.smaller,n=e.larger,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(e,t,n){t.left.right=t.right,t.right.left=t.left,n.degree--,n.child===t&&(n.child=t.right),0===n.degree&&(n.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,n){var r={key:e,value:n,degree:0};if(this._minimum){var i=this._minimum;r.left=i,r.right=i.right,i.right=r,r.right.left=r,t(e,i.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,o=e.degree,s=e.child;o>0;){var c=s.right;s.left.right=s.right,s.right.left=s.left,s.left=i,s.right=i.right,i.right=s,s.right.left=s,s.parent=null,s=c,o--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var o,s=Math.floor(Math.log(i)*r)+1,c=new Array(s),u=0,l=e;if(l)for(u++,l=l.right;l!==e;)u++,l=l.right;for(;u>0;){for(var p=l.degree,d=l.right;o=c[p];){if(n(l.key,o.key)){var h=o;o=l,l=h}a(o,l),c[p]=null,p++}c[p]=l,l=d,u--}e=null;for(var f=0;f<s;f++)(o=c[f])&&(e?(o.left.right=o.right,o.right.left=o.left,o.left=e,o.right=e.right,e.right=o,o.right.left=o,t(o.key,e.key)&&(e=o)):e=o);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){this._minimum=function(e,n,r){n.key=-1;var i=n.parent;return i&&t(n.key,i.key)&&(o(e,n,i),function e(t,n){var r=n.parent;r&&(n.mark?(o(t,n,r),e(r)):n.mark=!0)}(e,i)),t(n.key,e.key)&&(e=n),e}(this._minimum,e),this.extractMinimum()};var a=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i}),{isClass:!0}),us=et("sparse",["typed","SparseMatrix"],(function(e){var t=e.SparseMatrix;return(0,e.typed)("sparse",{"":function(){return new t([])},string:function(e){return new t([],e)},"Array | Matrix":function(e){return new t(e)},"Array | Matrix, string":function(e,n){return new t(e,n)}})})),ls=et("acoth",["typed","config","Complex","BigNumber"],(function(e){var t=e.config,n=e.Complex,r=e.BigNumber,i=(0,e.typed)("acoth",{number:function(e){return e>=1||e<=-1||t.predictable?Ui(e):new n(e,0).acoth()},Complex:function(e){return e.acoth()},BigNumber:function(e){return new r(1).div(e).atanh()},"Array | Matrix":function(e){return ir(e,i)}});return i})),ps=et("algorithm09",["typed","equalScalar"],(function(e){var t=e.typed,n=e.equalScalar;return function(e,r,i){var o=e._values,a=e._index,s=e._ptr,c=e._size,u=e._datatype,l=r._values,p=r._index,d=r._ptr,h=r._size,f=r._datatype;if(c.length!==h.length)throw new Re(c.length,h.length);if(c[0]!==h[0]||c[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+h+")");var m,g=c[0],y=c[1],v=n,b=0,A=i;"string"==typeof u&&u===f&&(v=t.find(n,[m=u,m]),b=t.convert(0,m),A=t.find(i,[m,m]));var x,w,_,S,T=o&&l?[]:void 0,P=[],C=[],E=T?[]:void 0,k=[];for(w=0;w<y;w++){C[w]=P.length;var O=w+1;if(E)for(S=d[w+1],_=d[w];_<S;_++)k[x=p[_]]=O,E[x]=l[_];for(S=s[w+1],_=s[w];_<S;_++)if(x=a[_],E){var M=A(o[_],k[x]===O?E[x]:b);v(M,b)||(P.push(x),T.push(M))}else P.push(x)}return C[y]=P.length,e.createSparseMatrix({values:T,index:P,ptr:C,size:[g,y],datatype:m})}})),ds=et("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.BigNumber,o=e.DenseMatrix,a=sa({typed:t,equalScalar:r}),s=ca({typed:t}),c=ps({typed:t,equalScalar:r}),u=la({typed:t,equalScalar:r}),l=pa({typed:t,DenseMatrix:o}),p=ia({typed:t}),d=oa({typed:t}),h=t("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,t){return i.atan2(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return u(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return d(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){return l(t,e,h,!0)},"number | BigNumber, DenseMatrix":function(e,t){return d(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return d(n(e),t,h,!1).valueOf()},"number | BigNumber, Array":function(e,t){return d(n(t),e,h,!0).valueOf()}});return h})),hs=et("sec",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("sec",{number:Qi,Complex:function(e){return e.sec()},BigNumber:function(e){return new t(1).div(e.cos())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return n(e.value)},"Array | Matrix":function(e){return ir(e,n)}});return n})),fs=et("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.addScalar,i=e.equalScalar,o=e.DenseMatrix,a=ta({typed:t}),s=na({typed:t,equalScalar:i}),c=ra({typed:t,DenseMatrix:o}),u=ia({typed:t}),l=oa({typed:t}),p=t("add",K({"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,r)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,r,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,r,!0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,r)},"Array, Array":function(e,t){return p(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return p(n(e),t)},"Matrix, Array":function(e,t){return p(e,n(t))},"DenseMatrix, any":function(e,t){return l(e,t,r,!1)},"SparseMatrix, any":function(e,t){return c(e,t,r,!1)},"any, DenseMatrix":function(e,t){return l(t,e,r,!0)},"any, SparseMatrix":function(e,t){return c(t,e,r,!0)},"Array, any":function(e,t){return l(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return l(n(t),e,r,!0).valueOf()},"any, any":r,"any, any, ...any":function(e,t,n){for(var r=p(e,t),i=0;i<n.length;i++)r=p(r,n[i]);return r}},r.signatures));return p})),ms=et("trace",["typed","matrix","add"],(function(e){var t=e.matrix,n=e.add;return(0,e.typed)("trace",{Array:function(e){return r(t(e))},SparseMatrix:function(e){var t=e._values,r=e._index,i=e._ptr,o=e._size,a=o[1];if(o[0]===a){var s=0;if(t.length>0)for(var c=0;c<a;c++)for(var u=i[c+1],l=i[c];l<u;l++){var p=r[l];if(p===c){s=n(s,t[l]);break}if(p>c)break}return s}throw new RangeError("Matrix must be square (size: "+Me(o)+")")},DenseMatrix:r,any:q});function r(e){var t=e._size,r=e._data;switch(t.length){case 1:if(1===t[0])return q(r[0]);throw new RangeError("Matrix must be square (size: "+Me(t)+")");case 2:var i=t[0];if(i===t[1]){for(var o=0,a=0;a<i;a++)o=n(o,r[a][a]);return o}throw new RangeError("Matrix must be square (size: "+Me(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Me(t)+")")}}})),gs=et("composition",["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],(function(e){var t=e.addScalar,n=e.combinations,r=e.isPositive,i=e.isInteger,o=e.larger;return(0,e.typed)("composition",{"number | BigNumber, number | BigNumber":function(e,a){if(!(i(e)&&r(e)&&i(a)&&r(a)))throw new TypeError("Positive integer value expected in function composition");if(o(a,e))throw new TypeError("k must be less than or equal to n in function composition");return n(t(e,-1),t(a,-1))}})})),ys=et("isZero",["typed"],(function(e){var t=(0,e.typed)("isZero",{number:dr,BigNumber:function(e){return e.isZero()},Complex:function(e){return 0===e.re&&0===e.im},Fraction:function(e){return 1===e.d&&0===e.n},Unit:function(e){return t(e.value)},"Array | Matrix":function(e){return ir(e,t)}});return t})),vs=et("abs",["typed"],(function(e){var t=(0,e.typed)("abs",{number:wr,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},Fraction:function(e){return e.abs()},"Array | Matrix":function(e){return ir(e,t,!0)},Unit:function(e){return e.abs()}});return t})),bs=et("floor",["typed","config","round"],(function(e){var t=e.config,n=e.round,r=(0,e.typed)("floor",{number:function(e){return xe(e,n(e),t.epsilon)?n(e):Math.floor(e)},Complex:function(e){return e.floor()},BigNumber:function(e){return gr(e,n(e),t.epsilon)?n(e):e.floor()},Fraction:function(e){return e.floor()},"Array | Matrix":function(e){return ir(e,r,!0)}});return r})),As=et("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.addScalar,i=e.multiplyScalar,o=e.equalScalar,a=la({typed:t,equalScalar:o}),s=oa({typed:t}),c=t("multiply",K({"Array, Array":function(e,t){u(Be(e),Be(t));var r=c(n(e),n(t));return h(r)?r.valueOf():r},"Matrix, Matrix":function(e,n){var o=e.size(),a=n.size();return u(o,a),1===o.length?1===a.length?function(e,n,o){if(0===o)throw new Error("Cannot multiply two empty vectors");var a,s=e._data,c=e._datatype,u=n._data,l=n._datatype,p=r,d=i;c&&l&&c===l&&"string"==typeof c&&(p=t.find(r,[a=c,a]),d=t.find(i,[a,a]));for(var h=d(s[0],u[0]),f=1;f<o;f++)h=p(h,d(s[f],u[f]));return h}(e,n,o[0]):function(e,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(e,n){var o,a=e._data,s=e._datatype,c=n._data,u=n._datatype,l=e._size[0],p=n._size[1],d=r,h=i;s&&u&&s===u&&"string"==typeof s&&(d=t.find(r,[o=s,o]),h=t.find(i,[o,o]));for(var f=[],m=0;m<p;m++){for(var g=h(a[0],c[0][m]),y=1;y<l;y++)g=d(g,h(a[y],c[y][m]));f[m]=g}return e.createDenseMatrix({data:f,size:[p],datatype:o})}(e,n)}(e,n):1===a.length?l(e,n):p(e,n)},"Matrix, Array":function(e,t){return c(e,n(t))},"Array, Matrix":function(e,t){return c(n(e,t.storage()),t)},"SparseMatrix, any":function(e,t){return a(e,t,i,!1)},"DenseMatrix, any":function(e,t){return s(e,t,i,!1)},"any, SparseMatrix":function(e,t){return a(t,e,i,!0)},"any, DenseMatrix":function(e,t){return s(t,e,i,!0)},"Array, any":function(e,t){return s(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return s(n(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(e,t,n){for(var r=c(e,t),i=0;i<n.length;i++)r=c(r,n[i]);return r}},i.signatures));function u(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var l=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,n){var o,a=e._data,s=e._size,c=e._datatype,u=n._data,l=n._datatype,p=s[0],d=s[1],h=r,f=i;c&&l&&c===l&&"string"==typeof c&&(h=t.find(r,[o=c,o]),f=t.find(i,[o,o]));for(var m=[],g=0;g<p;g++){for(var y=a[g],v=f(y[0],u[0]),b=1;b<d;b++)v=h(v,f(y[b],u[b]));m[g]=v}return e.createDenseMatrix({data:m,size:[p],datatype:o})},"SparseMatrix, any":function(e,n){var a=e._values,s=e._index,c=e._ptr,u=e._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,p=n._data,d=n._datatype,h=e._size[0],f=n._size[0],m=[],g=[],y=[],v=r,b=i,A=o,x=0;u&&d&&u===d&&"string"==typeof u&&(v=t.find(r,[l=u,l]),b=t.find(i,[l,l]),A=t.find(o,[l,l]),x=t.convert(0,l));var w=[],_=[];y[0]=0;for(var S=0;S<f;S++){var T=p[S];if(!A(T,x))for(var P=c[S+1],C=c[S];C<P;C++){var E=s[C];_[E]?w[E]=v(w[E],b(T,a[C])):(_[E]=!0,g.push(E),w[E]=b(T,a[C]))}}for(var k=g.length,O=0;O<k;O++)m[O]=w[g[O]];return y[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:y,size:[h,1],datatype:l})}}),p=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,n){var o,a=e._data,s=e._size,c=e._datatype,u=n._data,l=n._datatype,p=s[0],d=s[1],h=n._size[1],f=r,m=i;c&&l&&c===l&&"string"==typeof c&&(f=t.find(r,[o=c,o]),m=t.find(i,[o,o]));for(var g=[],y=0;y<p;y++){var v=a[y];g[y]=[];for(var b=0;b<h;b++){for(var A=m(v[0],u[0][b]),x=1;x<d;x++)A=f(A,m(v[x],u[x][b]));g[y][b]=A}}return e.createDenseMatrix({data:g,size:[p,h],datatype:o})},"DenseMatrix, SparseMatrix":function(e,n){var a=e._data,s=e._size,c=e._datatype,u=n._values,l=n._index,p=n._ptr,d=n._size,h=n._datatype;if(!u)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var f,m=s[0],g=d[1],y=r,v=i,b=o,A=0;c&&h&&c===h&&"string"==typeof c&&(y=t.find(r,[f=c,f]),v=t.find(i,[f,f]),b=t.find(o,[f,f]),A=t.convert(0,f));for(var x=[],w=[],_=[],S=n.createSparseMatrix({values:x,index:w,ptr:_,size:[m,g],datatype:f}),T=0;T<g;T++){_[T]=w.length;var P=p[T],C=p[T+1];if(C>P)for(var E=0,k=0;k<m;k++){for(var O=k+1,M=void 0,N=P;N<C;N++){var I=l[N];E!==O?(M=v(a[k][I],u[N]),E=O):M=y(M,v(a[k][I],u[N]))}E!==O||b(M,A)||(w.push(k),x.push(M))}}return _[g]=w.length,S},"SparseMatrix, DenseMatrix":function(e,n){var a=e._values,s=e._index,c=e._ptr,u=e._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var l,p=n._data,d=n._datatype,h=e._size[0],f=n._size[0],m=n._size[1],g=r,y=i,v=o,b=0;u&&d&&u===d&&"string"==typeof u&&(g=t.find(r,[l=u,l]),y=t.find(i,[l,l]),v=t.find(o,[l,l]),b=t.convert(0,l));for(var A=[],x=[],w=[],_=e.createSparseMatrix({values:A,index:x,ptr:w,size:[h,m],datatype:l}),S=[],T=[],P=0;P<m;P++){w[P]=x.length;for(var C=P+1,E=0;E<f;E++){var k=p[E][P];if(!v(k,b))for(var O=c[E+1],M=c[E];M<O;M++){var N=s[M];T[N]!==C?(T[N]=C,x.push(N),S[N]=y(k,a[M])):S[N]=g(S[N],y(k,a[M]))}}for(var I=x.length,D=w[P];D<I;D++)A[D]=S[x[D]]}return w[m]=x.length,_},"SparseMatrix, SparseMatrix":function(e,n){var o,a=e._values,s=e._index,c=e._ptr,u=e._datatype,l=n._values,p=n._index,d=n._ptr,h=n._datatype,f=e._size[0],m=n._size[1],g=a&&l,y=r,v=i;u&&h&&u===h&&"string"==typeof u&&(y=t.find(r,[o=u,o]),v=t.find(i,[o,o]));for(var b,A,x,w,_,S,T=g?[]:void 0,P=[],C=[],E=e.createSparseMatrix({values:T,index:P,ptr:C,size:[f,m],datatype:o}),k=g?[]:void 0,O=[],M=0;M<m;M++){C[M]=P.length;var N=M+1;for(w=d[M+1],x=d[M];x<w;x++)if(S=p[x],g)for(A=c[S+1],b=c[S];b<A;b++)O[_=s[b]]!==N?(O[_]=N,P.push(_),k[_]=v(l[x],a[b])):k[_]=y(k[_],v(l[x],a[b]));else for(A=c[S+1],b=c[S];b<A;b++)O[_=s[b]]!==N&&(O[_]=N,P.push(_));if(g)for(var I=P.length,D=C[M];D<I;D++)T[D]=k[P[D]]}return C[m]=P.length,E}});return c})),xs=et("dotMultiply",["typed","matrix","equalScalar","multiplyScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.multiplyScalar,o=sa({typed:t,equalScalar:r}),a=ps({typed:t,equalScalar:r}),s=la({typed:t,equalScalar:r}),c=ia({typed:t}),u=oa({typed:t}),l=t("dotMultiply",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,i)},"Array, Array":function(e,t){return l(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return l(n(e),t)},"Matrix, Array":function(e,t){return l(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"any, SparseMatrix":function(e,t){return s(t,e,i,!0)},"any, DenseMatrix":function(e,t){return u(t,e,i,!0)},"Array, any":function(e,t){return u(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,i,!0).valueOf()}});return l})),ws=et("re",["typed"],(function(e){var t=(0,e.typed)("re",{number:function(e){return e},BigNumber:function(e){return e},Complex:function(e){return e.re},"Array | Matrix":function(e){return ir(e,t)}});return t})),_s=et("flatten",["typed","matrix"],(function(e){var t=e.matrix;return(0,e.typed)("flatten",{Array:function(e){return He(q(e))},Matrix:function(e){var n=He(q(e.toArray()));return t(n)}})}));function Ss(e,t,n,r){if(!(this instanceof Ss))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(null!=r?"-"+r:"")+" expected)",this.stack=(new Error).stack}(Ss.prototype=new Error).constructor=Error,Ss.prototype.name="ArgumentsError",Ss.prototype.isArgumentsError=!0;var Ts=et("resize",["config","matrix"],(function(e){var t=e.config,n=e.matrix;return function(e,i,o){if(2!==arguments.length&&3!==arguments.length)throw new Ss("resize",arguments.length,2,3);if(h(i)&&(i=i.valueOf()),s(i[0])&&(i=i.map((function(e){return s(e)?e.toNumber():e}))),h(e))return e.resize(i,o,!0);if("string"==typeof e)return r(e,i,o);var a=!Array.isArray(e)&&"Array"!==t.matrix;if(0===i.length){for(;Array.isArray(e);)e=e[0];return q(e)}Array.isArray(e)||(e=[e]);var c=Ue(e=q(e),i,o);return a?n(c):c};function r(e,t,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==t.length)throw new Re(t.length,1);var r=t[0];if("number"!=typeof r||!ae(r))throw new TypeError("Invalid size, must contain positive integers (size: "+Me(t)+")");if(e.length>r)return e.substring(0,r);if(e.length<r){for(var i=e,o=0,a=r-e.length;o<a;o++)i+=n;return i}return e}})),Ps=et("squeeze",["typed","matrix"],(function(e){var t=e.matrix;return(0,e.typed)("squeeze",{Array:function(e){return Ve(q(e))},Matrix:function(e){var n=Ve(e.toArray());return Array.isArray(n)?t(n):n},any:function(e){return q(e)}})})),Cs=et("prod",["typed","multiply"],(function(e){var t=e.multiply;return(0,e.typed)("prod",{"Array | Matrix":n,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("prod(A, dim) is not yet supported")},"...":function(e){return n(e)}});function n(e){var n;if(rr(e,(function(e){try{n=void 0===n?e:t(n,e)}catch(r){throw os(r,"prod",e)}})),void 0===n)throw new Error("Cannot calculate prod of an empty array");return n}})),Es=et("pow",["typed","config","identity","multiply","matrix","fraction","number","Complex"],(function(e){var t=e.config,n=e.identity,r=e.multiply,i=e.matrix,o=e.number,a=e.fraction,s=e.Complex;return(0,e.typed)("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,n){return n.isInteger()||e>=0||t.predictable?e.pow(n):new s(e.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(e,n){if(1!==n.d){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(e.valueOf(),n.valueOf())}return e.pow(n)},"Array, number":u,"Array, BigNumber":function(e,t){return u(e,t.toNumber())},"Matrix, number":l,"Matrix, BigNumber":function(e,t){return l(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,n){if(t.predictable&&!ae(n)&&e<0)try{var r=a(n),i=o(r);if((n===i||Math.abs((n-i)/n)<1e-14)&&r.d%2==1)return(r.n%2==0?1:-1)*Math.pow(-e,n)}catch(c){}return t.predictable&&(e<-1&&n===1/0||e>-1&&e<0&&n===-1/0)?NaN:ae(n)||e>=0||t.predictable?Vr(e,n):e*e<1&&n===1/0||e*e>1&&n===-1/0?0:new s(e,0).pow(n,0)}function u(e,t){if(!ae(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var i=Be(e);if(2!==i.length)throw new Error("For A^b, A must be 2 dimensional (A has "+i.length+" dimensions)");if(i[0]!==i[1])throw new Error("For A^b, A must be square (size is "+i[0]+"x"+i[1]+")");for(var o=n(i[0]).valueOf(),a=e;t>=1;)1==(1&t)&&(o=r(a,o)),t>>=1,a=r(a,a);return o}function l(e,t){return i(u(e.valueOf(),t))}})),ks=et("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix"],(function(e){var t=e.typed,n=e.equalScalar,r=e.matrix,i=e.pow,o=e.DenseMatrix,a=ca({typed:t}),s=ya({typed:t,DenseMatrix:o}),c=la({typed:t,equalScalar:n}),u=pa({typed:t,DenseMatrix:o}),l=ia({typed:t}),p=oa({typed:t}),d=t("dotPow",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return l(e,t,i)},"Array, Array":function(e,t){return d(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return d(r(e),t)},"Matrix, Array":function(e,t){return d(e,r(t))},"SparseMatrix, any":function(e,t){return c(e,t,d,!1)},"DenseMatrix, any":function(e,t){return p(e,t,d,!1)},"any, SparseMatrix":function(e,t){return u(t,e,d,!0)},"any, DenseMatrix":function(e,t){return p(t,e,d,!0)},"Array, any":function(e,t){return p(r(e),t,d,!1).valueOf()},"any, Array":function(e,t){return p(r(t),e,d,!0).valueOf()}});return d})),Os=et("rightArithShift",["typed","matrix","equalScalar","zeros","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.DenseMatrix,a=ta({typed:t}),s=sa({typed:t,equalScalar:r}),c=Qa({typed:t,equalScalar:r}),u=ra({typed:t,DenseMatrix:o}),l=la({typed:t,equalScalar:r}),p=ia({typed:t}),d=oa({typed:t}),h=t("rightArithShift",{"number, number":hi,"BigNumber, BigNumber":ai,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,h,!1)},"SparseMatrix, DenseMatrix":function(e,t){return s(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():l(e,t,h,!1)},"DenseMatrix, number | BigNumber":function(e,t){return r(t,0)?e.clone():d(e,t,h,!1)},"number | BigNumber, SparseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):u(t,e,h,!0)},"number | BigNumber, DenseMatrix":function(e,t){return r(e,0)?i(t.size(),t.storage()):d(t,e,h,!0)},"Array, number | BigNumber":function(e,t){return h(n(e),t).valueOf()},"number | BigNumber, Array":function(e,t){return h(e,n(t)).valueOf()}});return h})),Ms=n("6XX6"),Ns=n.n(Ms),Is=et("compareNatural",["typed","compare"],(function(e){var t=e.compare,n=t.signatures["boolean,boolean"],r=(0,e.typed)("compareNatural",{"any, any":function(e,o){var a,s=H(e),c=H(o);if(!("number"!==s&&"BigNumber"!==s&&"Fraction"!==s||"number"!==c&&"BigNumber"!==c&&"Fraction"!==c))return"0"!==(a=t(e,o)).toString()?a>0?1:-1:Ns()(s,c);if("Array"===s||"Matrix"===s||"Array"===c||"Matrix"===c)return 0!==(a=function e(t,n){return g(t)&&g(n)?i(t.toJSON().values,n.toJSON().values):g(t)?e(t.toArray(),n):g(n)?e(t,n.toArray()):m(t)?e(t.toJSON().data,n):m(n)?e(t,n.toJSON().data):Array.isArray(t)?Array.isArray(n)?i(t,n):e(t,[n]):e([t],n)}(e,o))?a:Ns()(s,c);if(s!==c)return Ns()(s,c);if("Complex"===s)return function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0}(e,o);if("Unit"===s)return e.equalBase(o)?r(e.value,o.value):i(e.formatUnits(),o.formatUnits());if("boolean"===s)return n(e,o);if("string"===s)return Ns()(e,o);if("Object"===s)return function(e,t){var n=Object.keys(e),o=Object.keys(t);n.sort(Ns.a),o.sort(Ns.a);var a=i(n,o);if(0!==a)return a;for(var s=0;s<n.length;s++){var c=r(e[n[s]],t[o[s]]);if(0!==c)return c}return 0}(e,o);if("null"===s)return 0;if("undefined"===s)return 0;throw new TypeError('Unsupported type of value "'+s+'"')}});function i(e,t){for(var n=0,i=Math.min(e.length,t.length);n<i;n++){var o=r(e[n],t[n]);if(0!==o)return o}return e.length>t.length?1:e.length<t.length?-1:0}return r})),Ds=et("equalText",["typed","compareText","isZero"],(function(e){var t=e.compareText,n=e.isZero;return(0,e.typed)("equalText",{"any, any":function(e,r){return n(t(e,r))}})})),Rs=et("largerEq",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=ca({typed:t}),a=ya({typed:t,DenseMatrix:i}),s=pa({typed:t,DenseMatrix:i}),c=ia({typed:t}),u=oa({typed:t}),l=t("largerEq",{"boolean, boolean":function(e,t){return e>=t},"number, number":function(e,t){return e>=t||xe(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.gte(t)||gr(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return-1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return l(r(e),t)},"Matrix, Array":function(e,t){return l(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return u(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return u(t,e,l,!0)},"Array, any":function(e,t){return u(r(e),t,l,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,l,!0).valueOf()}});return l})),js=et("partitionSelect",["typed","isNumeric","isNaN","compare"],(function(e){var t=e.isNumeric,n=e.isNaN,r=e.compare,i=r,o=function(e,t){return-r(e,t)};return(0,e.typed)("partitionSelect",{"Array | Matrix, number":function(e,t){return a(e,t,i)},"Array | Matrix, number, string":function(e,t,n){if("asc"===n)return a(e,t,i);if("desc"===n)return a(e,t,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(e,t,n){if(!ae(t)||t<0)throw new Error("k must be a non-negative integer");if(h(e)){if(e.size().length>1)throw new Error("Only one dimensional matrices supported");return s(e.valueOf(),t,n)}if(Array.isArray(e))return s(e,t,n)}function s(e,r,i){if(r>=e.length)throw new Error("k out of bounds");for(var o=0;o<e.length;o++)if(t(e[o])&&n(e[o]))return e[o];for(var a=0,s=e.length-1;a<s;){for(var c=a,u=s,l=e[Math.floor(Math.random()*(s-a+1))+a];c<u;)if(i(e[c],l)>=0){var p=e[u];e[u]=e[c],e[c]=p,--u}else++c;i(e[c],l)>0&&--c,r<=c?s=c:a=c+1}return e[r]}})),Bs=et("min",["typed","smaller"],(function(e){var t=e.smaller;return(0,e.typed)("min",{"Array | Matrix":r,"Array | Matrix, number | BigNumber":function(e,t){return or(e,t.valueOf(),n)},"...":function(e){if(nr(e))throw new TypeError("Scalar values expected in function min");return r(e)}});function n(e,n){try{return t(e,n)?e:n}catch(r){throw os(r,"min",n)}}function r(e){var n;if(rr(e,(function(e){try{isNaN(e)&&"number"==typeof e?n=NaN:(void 0===n||t(e,n))&&(n=e)}catch(r){throw os(r,"min",e)}})),void 0===n)throw new Error("Cannot calculate min of an empty array");return n}})),Fs=et("Spa",["addScalar","equalScalar","FibonacciHeap"],(function(e){var t=e.addScalar,n=e.equalScalar,r=e.FibonacciHeap;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var n=this._heap.insert(e,t);this._values[e]=n}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,n){var r=this._values[e];r?r.value=t(r.value,n):(r=this._heap.insert(e,n),this._values[e]=r)},i.prototype.forEach=function(e,t,r){var i=this._heap,o=this._values,a=[],s=i.extractMinimum();for(s&&a.push(s);s&&s.key<=t;)s.key>=e&&(n(s.value,0)||r(s.key,s.value,this)),(s=i.extractMinimum())&&a.push(s);for(var c=0;c<a.length;c++){var u=a[c];o[(s=i.insert(u.key,u.value)).key]=s}},i.prototype.swap=function(e,t){var n=this._values[e],r=this._values[t];if(!n&&r)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(n&&!r)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}),{isClass:!0}),Ls=et("asech",["typed","config","Complex","BigNumber"],(function(e){var t=e.config,n=e.Complex,r=e.BigNumber,i=(0,e.typed)("asech",{number:function(e){if(e<=1&&e>=-1||t.predictable){var r=1/e;if(r>0||t.predictable)return Hi(e);var i=Math.sqrt(r*r-1);return new n(Math.log(i-r),Math.PI)}return new n(e,0).asech()},Complex:function(e){return e.asech()},BigNumber:function(e){return new r(1).div(e).acosh()},"Array | Matrix":function(e){return ir(e,i)}});return i})),Us=et("tan",["typed"],(function(e){var t=(0,e.typed)("tan",{number:Math.tan,Complex:function(e){return e.tan()},BigNumber:function(e){return e.tan()},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return t(e.value)},"Array | Matrix":function(e){return ir(e,t,!0)}});return t})),zs=et("setSize",["typed","compareNatural"],(function(e){var t=e.compareNatural;return(0,e.typed)("setSize",{"Array | Matrix":function(e){return Array.isArray(e)?He(e).length:He(e.toArray()).length},"Array | Matrix, boolean":function(e,n){if(!1===n||0===e.length)return Array.isArray(e)?He(e).length:He(e.toArray()).length;for(var r=He(Array.isArray(e)?e:e.toArray()).sort(t),i=1,o=1;o<r.length;o++)0!==t(r[o],r[o-1])&&i++;return i}})})),Vs=et("norm",["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix"],(function(e){var t=e.abs,n=e.add,r=e.pow,i=e.conj,o=e.sqrt,a=e.multiply,s=e.equalScalar,c=e.larger,u=e.smaller,l=e.matrix,p=(0,e.typed)("norm",{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return d(l(e),2)},Matrix:function(e){return d(e,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(e){return p(e)},"Array, number | BigNumber | string":function(e,t){return d(l(e),t)},"Matrix, number | BigNumber | string":function(e,t){return d(e,t)}});function d(e,l){var p=e.size();if(1===p.length){if(l===Number.POSITIVE_INFINITY||"inf"===l){var h=0;return e.forEach((function(e){var n=t(e);c(n,h)&&(h=n)}),!0),h}var f;if(l===Number.NEGATIVE_INFINITY||"-inf"===l)return e.forEach((function(e){var n=t(e);f&&!u(n,f)||(f=n)}),!0),f||0;if("fro"===l)return d(e,2);if("number"==typeof l&&!isNaN(l)){if(!s(l,0)){var m=0;return e.forEach((function(e){m=n(r(t(e),l),m)}),!0),r(m,1/l)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2===p.length){if(1===l){var g=[],y=0;return e.forEach((function(e,r){var i=r[1],o=n(g[i]||0,t(e));c(o,y)&&(y=o),g[i]=o}),!0),y}if(l===Number.POSITIVE_INFINITY||"inf"===l){var v=[],b=0;return e.forEach((function(e,r){var i=r[0],o=n(v[i]||0,t(e));c(o,b)&&(b=o),v[i]=o}),!0),b}if("fro"===l){var A=0;return e.forEach((function(e,t){A=n(A,a(e,i(e)))})),t(o(A))}if(2===l)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return p})),Ws=et("quantileSeq",["typed","add","multiply","partitionSelect","compare"],(function(e){var t=e.add,n=e.multiply,r=e.partitionSelect,i=e.compare;function o(e,o,s){var u=He(e),l=u.length;if(0===l)throw new Error("Cannot calculate quantile of an empty sequence");if(a(o)){var p=o*(l-1),d=p%1;if(0===d){var h=s?u[p]:r(u,p);return c(h),h}var f,m,g=Math.floor(p);if(s)f=u[g],m=u[g+1];else{m=r(u,g+1),f=u[g];for(var y=0;y<g;++y)i(u[y],f)>0&&(f=u[y])}return c(f),c(m),t(n(f,1-d),n(m,d))}var v=o.times(l-1);if(v.isInteger()){v=v.toNumber();var b=s?u[v]:r(u,v);return c(b),b}var A,x,w=v.floor(),_=v.minus(w),S=w.toNumber();if(s)A=u[S],x=u[S+1];else{x=r(u,S+1),A=u[S];for(var T=0;T<S;++T)i(u[T],A)>0&&(A=u[T])}c(A),c(x);var P=new _.constructor(1);return t(n(A,P.minus(_)),n(x,_))}var c=(0,e.typed)({"number | BigNumber | Unit":function(e){return e}});return function(e,t,n){var r,i,c;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(f(e)){if("boolean"==typeof(n=n||!1)){if(i=e.valueOf(),a(t)){if(t<0)throw new Error("N/prob must be non-negative");if(t<=1)return o(i,t,n);if(t>1){if(!ae(t))throw new Error("N must be a positive integer");var u=t+1;r=new Array(t);for(var l=0;l<t;)r[l]=o(i,++l/u,n);return r}}if(s(t)){var p=t.constructor;if(t.isNegative())throw new Error("N/prob must be non-negative");if(c=new p(1),t.lte(c))return new p(o(i,t,n));if(t.gt(c)){if(!t.isInteger())throw new Error("N must be a positive integer");var d=t.toNumber();if(d>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var h=new p(d+1);r=new Array(d);for(var m=0;m<d;)r[m]=new p(o(i,new p(++m).div(h),n));return r}}if(Array.isArray(t)){r=new Array(t.length);for(var g=0;g<r.length;++g){var y=t[g];if(a(y)){if(y<0||y>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!s(y))throw new TypeError("Unexpected type of argument in function quantileSeq");if(c=new y.constructor(1),y.isNegative()||y.gt(c))throw new Error("Probability must be between 0 and 1, inclusive")}r[g]=o(i,y,n)}return r}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}));function Hs(e){var t;if(ae(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:ho(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Hs(1-e));if(e>=171.35)return 1/0;if(e>85){var n=e*e,r=n*e,i=r*e,o=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*e))}--e,t=qs[0];for(var a=1;a<qs.length;++a)t+=qs[a]/(e+a);var s=e+Gs+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}Hs.signature="number";var Gs=4.7421875,qs=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Xs=et("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],(function(e){var t=e.config,n=e.multiplyScalar,r=e.pow,i=e.BigNumber,o=e.Complex,a=(0,e.typed)("gamma",{number:Hs,Complex:function(e){if(0===e.im)return a(e.re);e=new o(e.re-1,e.im);for(var t=new o(qs[0],0),i=1;i<qs.length;++i){var s=e.re+i,c=s*s+e.im*e.im;0!==c?(t.re+=qs[i]*s/c,t.im+=-qs[i]*e.im/c):t.re=qs[i]<0?-1/0:1/0}var u=new o(e.re+Gs+.5,e.im),l=Math.sqrt(2*Math.PI);e.re+=.5;var p=r(u,e);0===p.im?p.re*=l:(0===p.re||(p.re*=l),p.im*=l);var d=Math.exp(-u.re);return u.re=d*Math.cos(-u.im),u.im=d*Math.sin(-u.im),n(n(p,u),t)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new i(1/0):function e(n){if(n<8)return new i([1,1,2,6,24,120,720,5040][n]);var r=t.precision+(0|Math.log(n.toNumber())),o=i.clone({precision:r});if(n%2==1)return n.times(e(new i(n-1)));for(var a=n,s=new o(n),c=n.toNumber();a>2;)s=s.times(c+=a-=2);return new i(s.toPrecision(i.precision))}(e.minus(1));if(!e.isFinite())return new i(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return ir(e,a)}});return a})),Ks=et("bignumber",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("bignumber",{"":function(){return new t(0)},number:function(e){return new t(e+"")},string:function(e){return new t(e)},BigNumber:function(e){return e},Fraction:function(e){return new t(e.n).div(e.d).times(e.s)},null:function(e){return new t(0)},"Array | Matrix":function(e){return ir(e,n)}});return n})),Ys=et("lcm",["typed","matrix","equalScalar"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=sa({typed:t,equalScalar:r}),o=ha({typed:t,equalScalar:r}),a=la({typed:t,equalScalar:r}),s=ia({typed:t}),c=oa({typed:t}),u=t("lcm",{"number, number":Ir,"BigNumber, BigNumber":function(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero())return e;if(t.isZero())return t;for(var n=e.times(t);!t.isZero();){var r=t;t=e.mod(r),e=r}return n.div(e).abs()},"Fraction, Fraction":function(e,t){return e.lcm(t)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,u)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,u,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,u,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,u)},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"SparseMatrix, number | BigNumber":function(e,t){return a(e,t,u,!1)},"DenseMatrix, number | BigNumber":function(e,t){return c(e,t,u,!1)},"number | BigNumber, SparseMatrix":function(e,t){return a(t,e,u,!0)},"number | BigNumber, DenseMatrix":function(e,t){return c(t,e,u,!0)},"Array, number | BigNumber":function(e,t){return c(n(e),t,u,!1).valueOf()},"number | BigNumber, Array":function(e,t){return c(n(t),e,u,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(e,t,n){for(var r=u(e,t),i=0;i<n.length;i++)r=u(r,n[i]);return r}});return u})),Zs=et("bitOr",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=ta({typed:t}),a=na({typed:t,equalScalar:r}),s=ra({typed:t,DenseMatrix:i}),c=ia({typed:t}),u=oa({typed:t}),l=t("bitOr",{"number, number":li,"BigNumber, BigNumber":ti,"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return l(n(e),t)},"Matrix, Array":function(e,t){return l(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return u(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return u(t,e,l,!0)},"Array, any":function(e,t){return u(n(e),t,l,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,l,!0).valueOf()}});return l})),Qs=et("kron",["typed","matrix","multiplyScalar"],(function(e){var t=e.matrix,n=e.multiplyScalar;return(0,e.typed)("kron",{"Matrix, Matrix":function(e,n){return t(r(e.toArray(),n.toArray()))},"Matrix, Array":function(e,n){return t(r(e.toArray(),n))},"Array, Matrix":function(e,n){return t(r(e,n.toArray()))},"Array, Array":r});function r(e,t){if(1===Be(e).length&&(e=[e]),1===Be(t).length&&(t=[t]),Be(e).length>2||Be(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(e.length)+", y = "+JSON.stringify(t.length)+")");var r=[],i=[];return e.map((function(e){return t.map((function(t){return r.push(i=[]),e.map((function(e){return t.map((function(t){return i.push(n(e,t))}))}))}))}))&&r}})),Js=et("transpose",["typed","matrix"],(function(e){var t=e.matrix,n=(0,e.typed)("transpose",{Array:function(e){return n(t(e)).valueOf()},Matrix:function(e){var t,n=e.size();switch(n.length){case 1:t=e.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Me(n)+")");switch(e.storage()){case"dense":t=function(e,t,n){for(var r,i=e._data,o=[],a=0;a<n;a++){r=o[a]=[];for(var s=0;s<t;s++)r[s]=q(i[s][a])}return e.createDenseMatrix({data:o,size:[n,t],datatype:e._datatype})}(e,r,i);break;case"sparse":t=function(e,t,n){for(var r,i,o,a=e._values,s=e._index,c=e._ptr,u=a?[]:void 0,l=[],p=[],d=[],h=0;h<t;h++)d[h]=0;for(r=0,i=s.length;r<i;r++)d[s[r]]++;for(var f=0,m=0;m<t;m++)p.push(f),f+=d[m],d[m]=p[m];for(p.push(f),o=0;o<n;o++)for(var g=c[o+1],y=c[o];y<g;y++){var v=d[s[y]]++;l[v]=o,a&&(u[v]=q(a[y]))}return e.createSparseMatrix({values:u,index:l,ptr:p,size:[n,t],datatype:e._datatype})}(e,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Me(this._size)+")")}return t},any:function(e){return q(e)}});return n})),$s=et("numeric",["number","?bignumber","?fraction"],(function(e){var t=e.number,n=e.bignumber,r=e.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:function(e){return t(e)},BigNumber:n?function(e){return n(e)}:Pa,Fraction:r?function(e){return r(e)}:Ca};return function(e,t){var n=H(e);if(!(n in i))throw new TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in o))throw new TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(o).join(", "));return t===n?e:o[t](e)}})),ec=et("and",["typed","matrix","equalScalar","zeros","not"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.zeros,o=e.not,a=sa({typed:t,equalScalar:r}),s=ha({typed:t,equalScalar:r}),c=la({typed:t,equalScalar:r}),u=ia({typed:t}),l=oa({typed:t}),p=t("and",{"number, number":xi,"Complex, Complex":function(e,t){return!(0===e.re&&0===e.im||0===t.re&&0===t.im)},"BigNumber, BigNumber":function(e,t){return!(e.isZero()||t.isZero()||e.isNaN()||t.isNaN())},"Unit, Unit":function(e,t){return p(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return s(e,t,p,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,p,!0)},"DenseMatrix, SparseMatrix":function(e,t){return a(e,t,p,!1)},"DenseMatrix, DenseMatrix":function(e,t){return u(e,t,p)},"Array, Array":function(e,t){return p(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return p(n(e),t)},"Matrix, Array":function(e,t){return p(e,n(t))},"SparseMatrix, any":function(e,t){return o(t)?i(e.size(),e.storage()):c(e,t,p,!1)},"DenseMatrix, any":function(e,t){return o(t)?i(e.size(),e.storage()):l(e,t,p,!1)},"any, SparseMatrix":function(e,t){return o(e)?i(e.size(),e.storage()):c(t,e,p,!0)},"any, DenseMatrix":function(e,t){return o(e)?i(e.size(),e.storage()):l(t,e,p,!0)},"Array, any":function(e,t){return p(n(e),t).valueOf()},"any, Array":function(e,t){return p(e,n(t)).valueOf()}});return p})),tc=et("smallerEq",["typed","config","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.config,r=e.matrix,i=e.DenseMatrix,o=ca({typed:t}),a=ya({typed:t,DenseMatrix:i}),s=pa({typed:t,DenseMatrix:i}),c=ia({typed:t}),u=oa({typed:t}),l=t("smallerEq",{"boolean, boolean":function(e,t){return e<=t},"number, number":function(e,t){return e<=t||xe(e,t,n.epsilon)},"BigNumber, BigNumber":function(e,t){return e.lte(t)||gr(e,t,n.epsilon)},"Fraction, Fraction":function(e,t){return 1!==e.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(e,t){if(!e.equalBase(t))throw new Error("Cannot compare units with different base");return l(e.value,t.value)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,l)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,l,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,l,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,l)},"Array, Array":function(e,t){return l(r(e),r(t)).valueOf()},"Array, Matrix":function(e,t){return l(r(e),t)},"Matrix, Array":function(e,t){return l(e,r(t))},"SparseMatrix, any":function(e,t){return s(e,t,l,!1)},"DenseMatrix, any":function(e,t){return u(e,t,l,!1)},"any, SparseMatrix":function(e,t){return s(t,e,l,!0)},"any, DenseMatrix":function(e,t){return u(t,e,l,!0)},"Array, any":function(e,t){return u(r(e),t,l,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,l,!0).valueOf()}});return l})),nc=et("sort",["typed","matrix","compare","compareNatural"],(function(e){var t=e.matrix,n=e.compare,r=e.compareNatural,i=n,o=function(e,t){return-n(e,t)};return(0,e.typed)("sort",{Array:function(e){return s(e),e.sort(i)},Matrix:function(e){return c(e),t(e.toArray().sort(i),e.storage())},"Array, function":function(e,t){return s(e),e.sort(t)},"Matrix, function":function(e,n){return c(e),t(e.toArray().sort(n),e.storage())},"Array, string":function(e,t){return s(e),e.sort(a(t))},"Matrix, string":function(e,n){return c(e),t(e.toArray().sort(a(n)),e.storage())}});function a(e){if("asc"===e)return i;if("desc"===e)return o;if("natural"===e)return r;throw new Error('String "asc", "desc", or "natural" expected')}function s(e){if(1!==Be(e).length)throw new Error("One dimensional array expected")}function c(e){if(1!==e.size().length)throw new Error("One dimensional matrix expected")}})),rc=et("cot",["typed","BigNumber"],(function(e){var t=e.BigNumber,n=(0,e.typed)("cot",{number:Xi,Complex:function(e){return e.cot()},BigNumber:function(e){return new t(1).div(e.tan())},Unit:function(e){if(!e.hasBase(e.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return n(e.value)},"Array | Matrix":function(e){return ir(e,n)}});return n})),ic=et("dot",["typed","add","multiply"],(function(e){var t=e.add,n=e.multiply;return(0,e.typed)("dot",{"Matrix, Matrix":function(e,t){return r(e.toArray(),t.toArray())},"Matrix, Array":function(e,t){return r(e.toArray(),t)},"Array, Matrix":function(e,t){return r(e,t.toArray())},"Array, Array":r});function r(e,r){var i=Be(e),o=Be(r),a=i[0];if(1!==i.length||1!==o.length)throw new RangeError("Vector expected");if(i[0]!==o[0])throw new RangeError("Vectors must have equal length ("+i[0]+" != "+o[0]+")");if(0===a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,c=0;c<a;c++)s=t(s,n(e[c],r[c]));return s}})),oc=et("sum",["typed","config","add","?bignumber","?fraction"],(function(e){var t=e.config,n=e.add,r=e.bignumber,i=e.fraction;return(0,e.typed)("sum",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){try{return or(e,t,n)}catch(r){throw os(r,"sum")}},"...":function(e){if(nr(e))throw new TypeError("Scalar values expected in function sum");return o(e)}});function o(e){var o;if(rr(e,(function(e){try{o=void 0===o?e:n(o,e)}catch(t){throw os(t,"sum",e)}})),void 0===o)switch(t.number){case"number":return 0;case"BigNumber":return r?r(0):Pa();case"Fraction":return i?i(0):Ca();default:return 0}return o}})),ac=et("factorial",["typed","gamma"],(function(e){var t=e.gamma,n=(0,e.typed)("factorial",{number:function(e){if(e<0)throw new Error("Value must be non-negative");return t(e+1)},BigNumber:function(e){if(e.isNegative())throw new Error("Value must be non-negative");return t(e.plus(1))},"Array | Matrix":function(e){return ir(e,n)}});return n})),sc=et("permutations",["typed","factorial"],(function(e){return(0,e.typed)("permutations",{"number | BigNumber":e.factorial,"number, number":function(e,t){if(!ae(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(!ae(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(t>e)throw new TypeError("second argument k must be less than or equal to first argument n");return ho(e-t+1,e)},"BigNumber, BigNumber":function(e,t){var n,r;if(!cc(e)||!cc(t))throw new TypeError("Positive integer value expected in function permutations");if(t.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=e.mul(0).add(1),r=e.minus(t).plus(1);r.lte(e);r=r.plus(1))n=n.times(r);return n}})}));function cc(e){return e.isInteger()&&e.gte(0)}var uc=et("ceil",["typed","config","round"],(function(e){var t=e.config,n=e.round,r=(0,e.typed)("ceil",{number:function(e){return xe(e,n(e),t.epsilon)?n(e):Er(e)},Complex:function(e){return e.ceil()},BigNumber:function(e){return gr(e,n(e),t.epsilon)?n(e):e.ceil()},Fraction:function(e){return e.ceil()},"Array | Matrix":function(e){return ir(e,r,!0)}});return r})),lc=et("subtract",["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.addScalar,o=e.unaryMinus,a=e.DenseMatrix,s=ta({typed:t}),c=ca({typed:t}),u=ua({typed:t,equalScalar:r}),l=ra({typed:t,DenseMatrix:a}),p=ia({typed:t}),d=oa({typed:t}),h=t("subtract",{"number, number":function(e,t){return e-t},"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":function(e,t){if(null===e.value)throw new Error("Parameter x contains a unit with undefined value");if(null===t.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(t))throw new Error("Units do not match");var n=e.clone();return n.value=h(n.value,t.value),n.fixPrefix=!1,n},"SparseMatrix, SparseMatrix":function(e,t){return pc(e,t),u(e,t,h)},"SparseMatrix, DenseMatrix":function(e,t){return pc(e,t),c(t,e,h,!0)},"DenseMatrix, SparseMatrix":function(e,t){return pc(e,t),s(e,t,h,!1)},"DenseMatrix, DenseMatrix":function(e,t){return pc(e,t),p(e,t,h)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, any":function(e,t){return l(e,o(t),i)},"DenseMatrix, any":function(e,t){return d(e,t,h)},"any, SparseMatrix":function(e,t){return l(t,e,h,!0)},"any, DenseMatrix":function(e,t){return d(t,e,h,!0)},"Array, any":function(e,t){return d(n(e),t,h,!1).valueOf()},"any, Array":function(e,t){return d(n(t),e,h,!0).valueOf()}});return h}));function pc(e,t){var n=e.size(),r=t.size();if(n.length!==r.length)throw new Re(n.length,r.length)}var dc=et("cross",["typed","matrix","subtract","multiply"],(function(e){var t=e.matrix,n=e.subtract,r=e.multiply;return(0,e.typed)("cross",{"Matrix, Matrix":function(e,n){return t(i(e.toArray(),n.toArray()))},"Matrix, Array":function(e,n){return t(i(e.toArray(),n))},"Array, Matrix":function(e,n){return t(i(e,n.toArray()))},"Array, Array":i});function i(e,t){var i=Math.max(Be(e).length,Be(t).length);e=Ve(e),t=Ve(t);var o=Be(e),a=Be(t);if(1!==o.length||1!==a.length||3!==o[0]||3!==a[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+o.join(", ")+"], B = ["+a.join(", ")+"])");var s=[n(r(e[1],t[2]),r(e[2],t[1])),n(r(e[2],t[0]),r(e[0],t[2])),n(r(e[0],t[1]),r(e[1],t[0]))];return i>1?[s]:s}})),hc=et("ctranspose",["typed","transpose","conj"],(function(e){var t=e.transpose,n=e.conj;return(0,e.typed)("ctranspose",{any:function(e){return n(t(e))}})})),fc=et("equal",["typed","matrix","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.DenseMatrix,o=ca({typed:t}),a=ya({typed:t,DenseMatrix:i}),s=pa({typed:t,DenseMatrix:i}),c=ia({typed:t}),u=oa({typed:t}),l=t("equal",{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)},"SparseMatrix, SparseMatrix":function(e,t){return a(e,t,r)},"SparseMatrix, DenseMatrix":function(e,t){return o(t,e,r,!0)},"DenseMatrix, SparseMatrix":function(e,t){return o(e,t,r,!1)},"DenseMatrix, DenseMatrix":function(e,t){return c(e,t,r)},"Array, Array":function(e,t){return l(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return l(n(e),t)},"Matrix, Array":function(e,t){return l(e,n(t))},"SparseMatrix, any":function(e,t){return s(e,t,r,!1)},"DenseMatrix, any":function(e,t){return u(e,t,r,!1)},"any, SparseMatrix":function(e,t){return s(t,e,r,!0)},"any, DenseMatrix":function(e,t){return u(t,e,r,!0)},"Array, any":function(e,t){return u(n(e),t,r,!1).valueOf()},"any, Array":function(e,t){return u(n(t),e,r,!0).valueOf()}});return l})),mc=(et("equal",["typed","equalScalar"],(function(e){var t=e.equalScalar;return(0,e.typed)("equal",{"any, any":function(e,n){return null===e?null===n:null===n?null===e:void 0===e?void 0===n:void 0===n?void 0===e:t(e,n)}})})),et("Index",["ImmutableDenseMatrix"],(function(e){var t=e.ImmutableDenseMatrix;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var t=0,i=arguments.length;t<i;t++){var o=arguments[t];if(y(o))this._dimensions.push(o),this._isScalar=!1;else if(Array.isArray(o)||h(o)){var a=r(o.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(r([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function r(e){for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!ae(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t(e)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var e=new n;return e._dimensions=q(this._dimensions),e._isScalar=this._isScalar,e},n.create=function(e){var t=new n;return n.apply(t,e),t},n.prototype.size=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"==typeof r?1:r.size()[0]}return e},n.prototype.max=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"==typeof r?r:r.max()}return e},n.prototype.min=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e[t]="string"==typeof r?r:r.min()}return e},n.prototype.forEach=function(e){for(var t=0,n=this._dimensions.length;t<n;t++)e(this._dimensions[t],t,this)},n.prototype.dimension=function(e){return this._dimensions[e]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.valueOf=n.prototype.toArray=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e.push("string"==typeof r?r:r.toArray())}return e},n.prototype.toString=function(){for(var e=[],t=0,n=this._dimensions.length;t<n;t++){var r=this._dimensions[t];e.push("string"==typeof r?JSON.stringify(r):r.toString())}return"["+e.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(e){return n.create(e.dimensions)},n}),{isClass:!0})),gc=et("setCartesian",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index,o=e.DenseMatrix;return(0,e.typed)("setCartesian",{"Array | Matrix, Array | Matrix":function(e,a){var s=[];if(0!==n(t(e),new i(0))&&0!==n(t(a),new i(0))){var c=He(Array.isArray(e)?e:e.toArray()).sort(r),u=He(Array.isArray(a)?a:a.toArray()).sort(r);s=[];for(var l=0;l<c.length;l++)for(var p=0;p<u.length;p++)s.push([c[l],u[p]])}return Array.isArray(e)&&Array.isArray(a)?s:new o(s)}})})),yc=et("setDistinct",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index,o=e.DenseMatrix;return(0,e.typed)("setDistinct",{"Array | Matrix":function(e){var a;if(0===n(t(e),new i(0)))a=[];else{var s=He(Array.isArray(e)?e:e.toArray()).sort(r);(a=[]).push(s[0]);for(var c=1;c<s.length;c++)0!==r(s[c],s[c-1])&&a.push(s[c])}return Array.isArray(e)?a:new o(a)}})})),vc=et("setIsSubset",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index;return(0,e.typed)("setIsSubset",{"Array | Matrix, Array | Matrix":function(e,o){if(0===n(t(e),new i(0)))return!0;if(0===n(t(o),new i(0)))return!1;for(var a,s=Ze(He(Array.isArray(e)?e:e.toArray()).sort(r)),c=Ze(He(Array.isArray(o)?o:o.toArray()).sort(r)),u=0;u<s.length;u++){a=!1;for(var l=0;l<c.length;l++)if(0===r(s[u].value,c[l].value)&&s[u].identifier===c[l].identifier){a=!0;break}if(!1===a)return!1}return!0}})})),bc=et("setPowerset",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index;return(0,e.typed)("setPowerset",{"Array | Matrix":function(e){if(0===n(t(e),new i(0)))return[];for(var a=He(Array.isArray(e)?e:e.toArray()).sort(r),s=[],c=0;c.toString(2).length<=a.length;)s.push(o(a,c.toString(2).split("").reverse())),c++;return function(e){for(var t=[],n=e.length-1;n>0;n--)for(var r=0;r<n;r++)e[r].length>e[r+1].length&&(t=e[r],e[r]=e[r+1],e[r+1]=t);return e}(s)}});function o(e,t){for(var n=[],r=0;r<t.length;r++)"1"===t[r]&&n.push(e[r]);return n}})),Ac=et("index",["typed","Index"],(function(e){var t=e.Index;return(0,e.typed)("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map((function(e){return s(e)?e.toNumber():Array.isArray(e)||h(e)?e.map((function(e){return s(e)?e.toNumber():e})):e})),r=new t;return t.apply(r,n),r}})})),xc=et("fix",["typed","Complex","ceil","floor"],(function(e){var t=e.Complex,n=e.ceil,r=e.floor,i=(0,e.typed)("fix",{number:function(e){return e>0?r(e):n(e)},Complex:function(e){return new t(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(e){return e.isNegative()?n(e):r(e)},Fraction:function(e){return e.s<0?e.ceil():e.floor()},"Array | Matrix":function(e){return ir(e,i,!0)}});return i})),wc=et("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.config,n=e.matrix,r=e.bignumber,i=e.smaller,o=e.smallerEq,a=e.larger,s=e.largerEq;return(0,e.typed)("range",{string:u,"string, boolean":u,"number, number":function(e,t){return c(l(e,t,1))},"number, number, number":function(e,t,n){return c(l(e,t,n))},"number, number, boolean":function(e,t,n){return c(n?p(e,t,1):l(e,t,1))},"number, number, number, boolean":function(e,t,n,r){return c(r?p(e,t,n):l(e,t,n))},"BigNumber, BigNumber":function(e,t){return c(d(e,t,new(0,e.constructor)(1)))},"BigNumber, BigNumber, BigNumber":function(e,t,n){return c(d(e,t,n))},"BigNumber, BigNumber, boolean":function(e,t,n){var r=e.constructor;return c(n?h(e,t,new r(1)):d(e,t,new r(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,n,r){return c(r?h(e,t,n):d(e,t,n))}});function c(e){return"Matrix"===t.matrix?n?n(e):Ea():e}function u(e,n){var i=function(e){var t=e.split(":").map((function(e){return Number(e)}));if(t.some((function(e){return isNaN(e)})))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!i)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===t.number?(void 0===r&&Pa(),c((n?h:d)(r(i.start),r(i.end),r(i.step)))):c((n?p:l)(i.start,i.end,i.step))}function l(e,t,n){var r=[],o=e;if(n>0)for(;i(o,t);)r.push(o),o+=n;else if(n<0)for(;a(o,t);)r.push(o),o+=n;return r}function p(e,t,n){var r=[],i=e;if(n>0)for(;o(i,t);)r.push(i),i+=n;else if(n<0)for(;s(i,t);)r.push(i),i+=n;return r}function d(e,t,n){var o=r(0),s=[],c=e;if(n.gt(o))for(;i(c,t);)s.push(c),c=c.plus(n);else if(n.lt(o))for(;a(c,t);)s.push(c),c=c.plus(n);return s}function h(e,t,n){var i=r(0),a=[],c=e;if(n.gt(i))for(;o(c,t);)a.push(c),c=c.plus(n);else if(n.lt(i))for(;s(c,t);)a.push(c),c=c.plus(n);return a}})),_c=et("divideScalar",["typed","numeric"],(function(e){var t=e.numeric,n=(0,e.typed)("divideScalar",{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Fraction | BigNumber":function(e,r){var i=e.clone(),o=t(1,H(r));return i.value=n(null===i.value?i._normalize(o):i.value,r),i},"number | Fraction | BigNumber, Unit":function(e,r){var i=r.clone();i=i.pow(-1);var o=t(1,H(e));return i.value=n(e,null===r.value?r._normalize(o):r.value),i},"Unit, Unit":function(e,t){return e.divide(t)}});return n})),Sc=et("nthRoots",["config","typed","divideScalar","Complex"],(function(e){var t=e.Complex,n=(0,e.typed)("nthRoots",{Complex:function(e){return i(e,2)},"Complex, number":i}),r=[function(e){return new t(e,0)},function(e){return new t(0,e)},function(e){return new t(-e,0)},function(e){return new t(0,-e)}];function i(e,n){if(n<0)throw new Error("Root must be greater than zero");if(0===n)throw new Error("Root must be non-zero");if(n%1!=0)throw new Error("Root must be an integer");if(0===e||0===e.abs())return[new t(0,0)];var i,o="number"==typeof e;(o||0===e.re||0===e.im)&&(i=o?2*+(e<0):0===e.im?2*+(e.re<0):2*+(e.im<0)+1);for(var a=e.arg(),s=e.abs(),c=[],u=Math.pow(s,1/n),l=0;l<n;l++){var p=(i+4*l)/n;p!==Math.round(p)?c.push(new t({r:u,phi:(a+2*Math.PI*l)/n})):c.push(r[p%4](u))}return c}return n}));function Tc(e){var t=e.DenseMatrix;return function(e,n,r){var i=e.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+Me(i)+")");var o,a,s,c=i[0];if(c!==i[1])throw new RangeError("Matrix must be square (size: "+Me(i)+")");if(h(n)){var u=n.size();if(1===u.length){if(u[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],s=n._data,a=0;a<c;a++)o[a]=[s[a]];return new t({data:o,size:[c,1],datatype:n._datatype})}if(2===u.length){if(u[0]!==c||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(m(n)){if(r){for(o=[],s=n._data,a=0;a<c;a++)o[a]=[s[a][0]];return new t({data:o,size:[c,1],datatype:n._datatype})}return n}for(o=[],a=0;a<c;a++)o[a]=[0];for(var l=n._values,p=n._index,f=n._ptr,g=f[1],y=f[0];y<g;y++)o[a=p[y]][0]=l[y];return new t({data:o,size:[c,1],datatype:n._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(d(n)){var v=Be(n);if(1===v.length){if(v[0]!==c)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],a=0;a<c;a++)o[a]=[n[a]];return new t({data:o,size:[c,1]})}if(2===v.length){if(v[0]!==c||1!==v[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(o=[],a=0;a<c;a++)o[a]=[n[a][0]];return new t({data:o,size:[c,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}}}var Pc=et("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.divideScalar,i=e.multiplyScalar,o=e.subtract,a=e.equalScalar,s=e.DenseMatrix,c=Tc({DenseMatrix:s});return t("lsolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n,u,l=(t=c(e,t,!0))._data,p=e._size[0],d=e._size[1],h=e._values,f=e._index,m=e._ptr,g=[],y=0;y<d;y++){var v=l[y][0]||0;if(a(v,0))g[y]=[0];else{var b=0,A=[],x=[],w=m[y+1];for(u=m[y];u<w;u++)(n=f[u])===y?b=h[u]:n>y&&(A.push(h[u]),x.push(n));if(a(b,0))throw new Error("Linear system cannot be solved since matrix is singular");var _=r(v,b);for(u=0,w=x.length;u<w;u++)l[n=x[u]]=[o(l[n][0]||0,i(_,A[u]))];g[y]=[_]}}return new s({data:g,size:[p,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).valueOf()}});function u(e,t){for(var n=(t=c(e,t,!0))._data,u=e._size[0],l=e._size[1],p=[],d=e._data,h=0;h<l;h++){var f=n[h][0]||0,m=void 0;if(a(f,0))m=0;else{var g=d[h][h];if(a(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=r(f,g);for(var y=h+1;y<u;y++)n[y]=[o(n[y][0]||0,i(m,d[y][h]))]}p[h]=[m]}return new s({data:p,size:[u,1]})}})),Cc=et("deepEqual",["typed","equal"],(function(e){var t=e.equal;return(0,e.typed)("deepEqual",{"any, any":function(e,n){return function e(n,r){if(Array.isArray(n)){if(Array.isArray(r)){var i=n.length;if(i!==r.length)return!1;for(var o=0;o<i;o++)if(!e(n[o],r[o]))return!1;return!0}return!1}return!Array.isArray(r)&&t(n,r)}(e.valueOf(),n.valueOf())}})})),Ec=et("setDifference",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index,o=e.DenseMatrix;return(0,e.typed)("setDifference",{"Array | Matrix, Array | Matrix":function(e,a){var s;if(0===n(t(e),new i(0)))s=[];else{if(0===n(t(a),new i(0)))return He(e.toArray());var c,u=Ze(He(Array.isArray(e)?e:e.toArray()).sort(r)),l=Ze(He(Array.isArray(a)?a:a.toArray()).sort(r));s=[];for(var p=0;p<u.length;p++){c=!1;for(var d=0;d<l.length;d++)if(0===r(u[p].value,l[d].value)&&u[p].identifier===l[d].identifier){c=!0;break}c||s.push(u[p])}}return Array.isArray(e)&&Array.isArray(a)?Qe(s):new o(Qe(s))}})})),kc=et("setMultiplicity",["typed","size","subset","compareNatural","Index"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index;return(0,e.typed)("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(e,o){if(0===n(t(o),new i(0)))return 0;for(var a=He(Array.isArray(o)?o:o.toArray()),s=0,c=0;c<a.length;c++)0===r(a[c],e)&&s++;return s}})})),Oc=et("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],(function(e){var t=e.abs,n=e.addScalar,r=e.divideScalar,i=e.multiplyScalar,o=e.sqrt,a=e.smaller,s=e.isPositive,c=(0,e.typed)("hypot",{"... number | BigNumber":function(e){for(var c=0,u=0,l=0;l<e.length;l++){var p=t(e[l]);a(u,p)?(c=i(c,i(r(u,p),r(u,p))),c=n(c,1),u=p):c=n(c,s(p)?i(r(p,u),r(p,u)):p)}return i(u,o(c))},Array:function(e){return c.apply(c,He(e))},Matrix:function(e){return c.apply(c,He(e.toArray()))}});return c})),Mc=et("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],(function(e){var t=e.matrix,n=e.abs,r=e.addScalar,i=e.divideScalar,o=e.multiplyScalar,a=e.subtract,s=e.larger,c=e.equalScalar,u=e.unaryMinus,l=e.DenseMatrix,p=e.SparseMatrix,d=e.Spa;return(0,e.typed)("lup",{DenseMatrix:function(e){return h(e)},SparseMatrix:function(e){return function(e){var t,r,a,l=e._size[0],h=e._size[1],f=Math.min(l,h),m=e._values,g=e._index,y=e._ptr,v=[],b=[],A=[],x=[l,f],w=[],_=[],S=[],T=[f,h],P=[],C=[];for(t=0;t<l;t++)P[t]=t,C[t]=t;var E=function(){var e=new d;r<l&&(A.push(v.length),v.push(1),b.push(r)),S.push(w.length);var h=y[r+1];for(a=y[r];a<h;a++)e.set(P[t=g[a]],m[a]);r>0&&e.forEach(0,r-1,(function(t,n){p._forEachRow(t,v,b,A,(function(r,i){r>t&&e.accumulate(r,u(o(i,n)))}))}));var f,E,k,O,M=r,N=e.get(r),I=n(N);e.forEach(r+1,l-1,(function(e,t){var r=n(t);s(r,I)&&(M=e,I=r,N=t)})),r!==M&&(p._swapRows(r,M,x[1],v,b,A),p._swapRows(r,M,T[1],w,_,S),e.swap(r,M),O=C[E=M],P[k=C[f=r]]=E,P[O]=f,C[f]=O,C[E]=k),e.forEach(0,l-1,(function(e,t){e<=r?(w.push(t),_.push(e)):(t=i(t,N),c(t,0)||(v.push(t),b.push(e)))}))};for(r=0;r<h;r++)E();return S.push(w.length),A.push(v.length),{L:new p({values:v,index:b,ptr:A,size:x}),U:new p({values:w,index:_,ptr:S,size:T}),p:P,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var n=h(t(e));return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}});function h(e){var t,u,p,d=e._size[0],h=e._size[1],f=Math.min(d,h),m=q(e._data),g=[],y=[d,f],v=[],b=[f,h],A=[];for(t=0;t<d;t++)A[t]=t;for(u=0;u<h;u++){if(u>0)for(t=0;t<d;t++){var x=Math.min(t,u),w=0;for(p=0;p<x;p++)w=r(w,o(m[t][p],m[p][u]));m[t][u]=a(m[t][u],w)}var _=u,S=0,T=0;for(t=u;t<d;t++){var P=m[t][u],C=n(P);s(C,S)&&(_=t,S=C,T=P)}if(u!==_&&(A[u]=[A[_],A[_]=A[u]][0],l._swapRows(u,_,m)),u<d)for(t=u+1;t<d;t++)c(m[t][u],0)||(m[t][u]=i(m[t][u],T))}for(u=0;u<h;u++)for(t=0;t<d;t++)0===u&&(t<h&&(v[t]=[]),g[t]=[]),t<u?(t<h&&(v[t][u]=m[t][u]),u<d&&(g[t][u]=0)):t!==u?(t<h&&(v[t][u]=0),u<d&&(g[t][u]=m[t][u])):(t<h&&(v[t][u]=m[t][u]),u<d&&(g[t][u]=1));var E=new l({data:g,size:y}),k=new l({data:v,size:b}),O=[];for(t=0,f=A.length;t<f;t++)O[A[t]]=t;return{L:E,U:k,p:O,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}));function Nc(e,t,n,r,i,o,a){var s=0;for(n[a]=e;s>=0;){var c=n[a+s],u=n[r+c];-1===u?(s--,o[t++]=c):(n[r+c]=n[i+u],n[a+ ++s]=u)}return t}function Ic(e){return-e-2}var Dc=et("csAmd",["add","multiply","transpose"],(function(e){var t=e.add,n=e.multiply,r=e.transpose;return function(e,a){if(!a||e<=0||e>3)return null;var s=a._size,c=s[0],u=s[1],l=0,p=Math.max(16,10*Math.sqrt(u)),d=function(e,i,o,a,s){var c=r(i);if(1===e&&a===o)return t(i,c);if(2===e){for(var u=c._index,l=c._ptr,p=0,d=0;d<o;d++){var h=l[d];if(l[d]=p,!(l[d+1]-h>s))for(var f=l[d+1];h<f;h++)u[p++]=u[h]}return l[o]=p,i=r(c),n(c,i)}return n(c,i)}(e,a,c,u,p=Math.min(u-2,p));!function(e,t,n){for(var r=e._values,i=e._index,o=e._ptr,a=e._size[1],s=0,c=0;c<a;c++){var u=o[c];for(o[c]=s;u<o[c+1];u++)t(i[u],c,r?r[u]:1,null)&&(i[s]=i[u],r&&(r[s]=r[u]),s++)}o[a]=s,i.splice(s,i.length-s),r&&r.splice(s,r.length-s)}(d,o);for(var h,f,m,g,y,v,b,A,x,w,_,S,T,P,C,E,k=d._index,O=d._ptr,M=O[u],N=[],I=[],D=u+1,R=2*(u+1),j=3*(u+1),B=4*(u+1),F=5*(u+1),L=6*(u+1),U=7*(u+1),z=N,V=function(e,t,n,r,o,a,s,c,u,l,p,d){for(var h=0;h<e;h++)n[0+h]=t[h+1]-t[h];n[0+e]=0;for(var f=0;f<=e;f++)n[o+f]=-1,a[f]=-1,n[s+f]=-1,n[c+f]=-1,n[u+f]=1,n[l+f]=1,n[p+f]=0,n[d+f]=n[0+f];var m=i(0,0,n,l,e);return n[p+e]=-2,t[e]=-1,n[l+e]=0,m}(u,O,I,0,j,z,R,U,D,L,B,F),W=function(e,t,n,r,i,o,a,s,c,u,l){for(var p=0,d=0;d<e;d++){var h=n[r+d];if(0===h)n[i+d]=-2,p++,t[d]=-1,n[o+d]=0;else if(h>a)n[s+d]=0,n[i+d]=-1,p++,t[d]=Ic(e),n[s+e]++;else{var f=n[c+h];-1!==f&&(u[f]=d),n[l+d]=n[c+h],n[c+h]=d}}return p}(u,O,I,F,B,L,p,D,j,z,R),H=0;W<u;){for(m=-1;H<u&&-1===(m=I[j+H]);H++);-1!==I[R+m]&&(z[I[R+m]]=-1),I[j+H]=I[R+m];var G=I[B+m],q=I[D+m];W+=q;var X=0;I[D+m]=-q;var K=O[m],Y=0===G?K:M,Z=Y;for(g=1;g<=G+1;g++){for(g>G?(v=m,b=K,A=I[0+m]-G):(b=O[v=k[K++]],A=I[0+v]),y=1;y<=A;y++)(x=I[D+(h=k[b++])])<=0||(X+=x,I[D+h]=-x,k[Z++]=h,-1!==I[R+h]&&(z[I[R+h]]=z[h]),-1!==z[h]?I[R+z[h]]=I[R+h]:I[j+I[F+h]]=I[R+h]);v!==m&&(O[v]=Ic(m),I[L+v]=0)}for(0!==G&&(M=Z),I[F+m]=X,O[m]=Y,I[0+m]=Z-Y,I[B+m]=-2,V=i(V,l,I,L,u),w=Y;w<Z;w++)if(!((_=I[B+(h=k[w])])<=0)){var Q=V-(x=-I[D+h]);for(K=O[h],S=O[h]+_-1;K<=S;K++)I[L+(v=k[K])]>=V?I[L+v]-=x:0!==I[L+v]&&(I[L+v]=I[F+v]+Q)}for(w=Y;w<Z;w++){for(T=(S=O[h=k[w]])+I[B+h]-1,P=S,C=0,E=0,K=S;K<=T;K++)if(0!==I[L+(v=k[K])]){var J=I[L+v]-V;J>0?(E+=J,k[P++]=v,C+=v):(O[v]=Ic(m),I[L+v]=0)}I[B+h]=P-S+1;var $=P,ee=S+I[0+h];for(K=T+1;K<ee;K++){var te=I[D+(f=k[K])];te<=0||(E+=te,k[P++]=f,C+=f)}0===E?(O[h]=Ic(m),X-=x=-I[D+h],q+=x,W+=x,I[D+h]=0,I[B+h]=-1):(I[F+h]=Math.min(I[F+h],E),k[P]=k[$],k[$]=k[S],k[S]=m,I[0+h]=P-S+1,I[R+h]=I[U+(C=(C<0?-C:C)%u)],I[U+C]=h,z[h]=C)}for(I[F+m]=X,V=i(V+(l=Math.max(l,X)),l,I,L,u),w=Y;w<Z;w++)if(!(I[D+(h=k[w])]>=0))for(h=I[U+(C=z[h])],I[U+C]=-1;-1!==h&&-1!==I[R+h];h=I[R+h],V++){for(A=I[0+h],_=I[B+h],K=O[h]+1;K<=O[h]+A-1;K++)I[L+k[K]]=V;var ne=h;for(f=I[R+h];-1!==f;){var re=I[0+f]===A&&I[B+f]===_;for(K=O[f]+1;re&&K<=O[f]+A-1;K++)I[L+k[K]]!==V&&(re=0);re?(O[f]=Ic(h),I[D+h]+=I[D+f],I[D+f]=0,I[B+f]=-1,I[R+ne]=f=I[R+f]):(ne=f,f=I[R+f])}}for(K=Y,w=Y;w<Z;w++)(x=-I[D+(h=k[w])])<=0||(I[D+h]=x,E=I[F+h]+X-x,-1!==I[j+(E=Math.min(E,u-W-x))]&&(z[I[j+E]]=h),I[R+h]=I[j+E],z[h]=-1,I[j+E]=h,H=Math.min(H,E),I[F+h]=E,k[K++]=h);I[D+m]=q,0==(I[0+m]=K-Y)&&(O[m]=-1,I[L+m]=0),0!==G&&(M=K)}for(h=0;h<u;h++)O[h]=Ic(O[h]);for(f=0;f<=u;f++)I[j+f]=-1;for(f=u;f>=0;f--)I[D+f]>0||(I[R+f]=I[j+O[f]],I[j+O[f]]=f);for(v=u;v>=0;v--)I[D+v]<=0||-1!==O[v]&&(I[R+v]=I[j+O[v]],I[j+O[v]]=v);for(m=0,h=0;h<=u;h++)-1===O[h]&&(m=Nc(h,m,I,j,R,N,L));return N.splice(N.length-1,1),N};function i(e,t,n,r,i){if(e<2||e+t<0){for(var o=0;o<i;o++)0!==n[r+o]&&(n[r+o]=1);e=2}return e}function o(e,t){return e!==t}}));function Rc(e,t,n,r,i,o,a){var s,c,u,l=0;if(e<=t||n[r+t]<=n[i+e])return-1;n[i+e]=n[r+t];var p=n[o+e];if(n[o+e]=t,-1===p)l=1,u=e;else{for(l=2,u=p;u!==n[a+u];u=n[a+u]);for(s=p;s!==u;s=c)c=n[a+s],n[a+s]=u}return{jleaf:l,q:u}}var jc=et("csCounts",["transpose"],(function(e){var t=e.transpose;return function(e,n,r,i){if(!e||!n||!r)return null;var o,a,s,c,u,l,p=e._size,d=p[0],h=p[1],f=4*h+(i?h+d+1:0),m=[],g=h,y=2*h,v=3*h,b=4*h,A=5*h+1;for(s=0;s<f;s++)m[s]=-1;var x=[],w=t(e),_=w._index,S=w._ptr;for(s=0;s<h;s++)for(x[a=r[s]]=-1===m[v+a]?1:0;-1!==a&&-1===m[v+a];a=n[a])m[v+a]=s;if(i){for(s=0;s<h;s++)m[r[s]]=s;for(o=0;o<d;o++){for(s=h,l=S[o+1],u=S[o];u<l;u++)s=Math.min(s,m[_[u]]);m[A+o]=m[b+s],m[b+s]=o}}for(o=0;o<h;o++)m[0+o]=o;for(s=0;s<h;s++){for(-1!==n[a=r[s]]&&x[n[a]]--,c=i?m[b+s]:a;-1!==c;c=i?m[A+c]:-1)for(u=S[c];u<S[c+1];u++){var T=Rc(o=_[u],a,m,v,g,y,0);T.jleaf>=1&&x[a]++,2===T.jleaf&&x[T.q]--}-1!==n[a]&&(m[0+a]=n[a])}for(a=0;a<h;a++)-1!==n[a]&&(x[n[a]]+=x[a]);return x}})),Bc=et("csSqr",["add","multiply","transpose"],(function(e){var t=e.transpose,n=Dc({add:e.add,multiply:e.multiply,transpose:t}),r=jc({transpose:t});return function(e,t,i){var o,a=t._ptr,s=t._size[1],c={};if(c.q=n(e,t),e&&!c.q)return null;if(i){var u=e?function(e,t,n,r){for(var i=e._index,o=e._ptr,a=e._size,s=e._datatype,c=a[0],u=a[1],l=[],p=[],d=0,h=0;h<u;h++){p[h]=d;for(var f=n?n[h]:h,m=o[f+1],g=o[f];g<m;g++)l[d]=i[g],d++}return p[u]=d,e.createSparseMatrix({values:null,index:l,ptr:p,size:[c,u],datatype:s})}(t,0,c.q):t;c.parent=function(e,t){if(!e)return null;var n,r,i=e._index,o=e._ptr,a=e._size,s=a[0],c=a[1],u=[],l=[],p=c;for(n=0;n<s;n++)l[p+n]=-1;for(var d=0;d<c;d++){u[d]=-1,l[0+d]=-1;for(var h=o[d+1],f=o[d];f<h;f++){var m=i[f];for(n=l[p+m];-1!==n&&n<d;n=r)r=l[0+n],l[0+n]=d,-1===r&&(u[n]=d);l[p+m]=d}}return u}(u);var l=function(e,t){if(!e)return null;var n,r=0,i=[],o=[],a=t,s=2*t;for(n=0;n<t;n++)o[0+n]=-1;for(n=t-1;n>=0;n--)-1!==e[n]&&(o[a+n]=o[0+e[n]],o[0+e[n]]=n);for(n=0;n<t;n++)-1===e[n]&&(r=Nc(n,r,o,0,a,i,s));return i}(c.parent,s);if(c.cp=r(u,c.parent,l,1),u&&c.parent&&c.cp&&function(e,t){var n=e._ptr,r=e._index,i=e._size,o=i[0],a=i[1];t.pinv=[],t.leftmost=[];var s,c,u,l,p=t.parent,d=t.pinv,h=t.leftmost,f=[],m=o,g=o+a,y=o+2*a;for(c=0;c<a;c++)f[m+c]=-1,f[g+c]=-1,f[y+c]=0;for(s=0;s<o;s++)h[s]=-1;for(c=a-1;c>=0;c--)for(l=n[c+1],u=n[c];u<l;u++)h[r[u]]=c;for(s=o-1;s>=0;s--)d[s]=-1,-1!==(c=h[s])&&(0==f[y+c]++&&(f[g+c]=s),f[0+s]=f[m+c],f[m+c]=s);for(t.lnz=0,t.m2=o,c=0;c<a;c++)if(s=f[m+c],t.lnz++,s<0&&(s=t.m2++),d[s]=c,!(--y[c]<=0)){t.lnz+=f[y+c];var v=p[c];-1!==v&&(0===f[y+v]&&(f[g+v]=f[g+c]),f[0+f[g+c]]=f[m+v],f[m+v]=f[0+s],f[y+v]+=f[y+c])}for(s=0;s<o;s++)d[s]<0&&(d[s]=c++);return!0}(u,c))for(c.unz=0,o=0;o<s;o++)c.unz+=c.cp[o]}else c.unz=4*a[s]+s,c.lnz=c.unz;return c}}));function Fc(e,t){return e[t]<0}function Lc(e,t){e[t]=Ic(e[t])}function Uc(e){return e<0?Ic(e):e}function zc(e,t,n,r,i){var o,a,s,c=t._index,u=t._ptr,l=t._size[1],p=0;for(r[0]=e;p>=0;){e=r[p];var d=i?i[e]:e;Fc(u,e)||(Lc(u,e),r[l+p]=d<0?0:Uc(u[d]));var h=1;for(a=r[l+p],s=d<0?0:Uc(u[d+1]);a<s;a++)if(!Fc(u,o=c[a])){r[l+p]=a,r[++p]=o,h=0;break}h&&(p--,r[--n]=e)}return n}var Vc=et("csSpsolve",["divideScalar","multiply","subtract"],(function(e){var t=e.divideScalar,n=e.multiply,r=e.subtract;return function(e,i,o,a,s,c,u){var l,p,d,h,f=e._values,m=e._index,g=e._ptr,y=e._size[1],v=i._values,b=i._index,A=i._ptr,x=function(e,t,n,r,i){var o,a,s=e._ptr,c=t._index,u=t._ptr,l=e._size[1],p=l;for(a=u[n+1],o=u[n];o<a;o++){var d=c[o];Fc(s,d)||(p=zc(d,e,p,r,i))}for(o=p;o<l;o++)Lc(s,r[o]);return p}(e,i,o,a,c);for(l=x;l<y;l++)s[a[l]]=0;for(d=A[o+1],l=p=A[o];l<d;l++)s[b[l]]=v[l];for(var w=x;w<y;w++){var _=a[w],S=c?c[_]:_;if(!(S<0))for(p=g[S],d=g[S+1],s[_]=t(s[_],f[u?p:d-1]),l=u?p+1:p,h=u?d:d-1;l<h;l++){var T=m[l];s[T]=r(s[T],n(f[l],s[_]))}}return x}})),Wc=et("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],(function(e){var t=e.abs,n=e.divideScalar,r=e.multiply,i=e.larger,o=e.largerEq,a=e.SparseMatrix,s=Vc({divideScalar:n,multiply:r,subtract:e.subtract});return function(e,c,u){if(!e)return null;var l,p=e._size[1],d=100,h=100;c&&(l=c.q,d=c.lnz||d,h=c.unz||h);var f,m,g=[],y=[],v=[],b=new a({values:g,index:y,ptr:v,size:[p,p]}),A=[],x=[],w=[],_=new a({values:A,index:x,ptr:w,size:[p,p]}),S=[],T=[],P=[];for(f=0;f<p;f++)T[f]=0,S[f]=-1,v[f+1]=0;d=0,h=0;for(var C=0;C<p;C++){v[C]=d,w[C]=h;var E=l?l[C]:C,k=s(b,e,E,P,T,S,1),O=-1,M=-1;for(m=k;m<p;m++)if(S[f=P[m]]<0){var N=t(T[f]);i(N,M)&&(M=N,O=f)}else x[h]=S[f],A[h++]=T[f];if(-1===O||M<=0)return null;S[E]<0&&o(t(T[E]),r(M,u))&&(O=E);var I=T[O];for(x[h]=C,A[h++]=I,S[O]=C,y[d]=O,g[d++]=1,m=k;m<p;m++)S[f=P[m]]<0&&(y[d]=f,g[d++]=n(T[f],I)),T[f]=0}for(v[p]=d,w[p]=h,m=0;m<d;m++)y[m]=S[y[m]];return g.splice(d,g.length-d),y.splice(d,y.length-d),A.splice(h,A.length-h),x.splice(h,x.length-h),{L:b,U:_,pinv:S}}})),Hc=et("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],(function(e){var t=e.typed,n=e.abs,r=e.multiply,i=e.divideScalar,o=e.subtract,a=e.larger,s=e.largerEq,c=e.SparseMatrix,u=Bc({add:e.add,multiply:r,transpose:e.transpose}),l=Wc({abs:n,divideScalar:i,multiply:r,subtract:o,larger:a,largerEq:s,SparseMatrix:c});return t("slu",{"SparseMatrix, number, number":function(e,t,n){if(!ae(t)||t<0||t>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||n>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var r=u(t,e,!1),i=l(e,r,n);return{L:i.L,U:i.U,p:i.pinv,q:r.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})})),Gc=et("det",["typed","matrix","subtract","multiply","unaryMinus","lup"],(function(e){var t=e.matrix,n=e.subtract,r=e.multiply,i=e.unaryMinus,o=e.lup;return(0,e.typed)("det",{any:function(e){return q(e)},"Array | Matrix":function(e){var a;switch((a=h(e)?e.size():Array.isArray(e)?(e=t(e)).size():[]).length){case 0:return q(e);case 1:if(1===a[0])return q(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+Me(a)+")");case 2:var s=a[0];if(s===a[1])return function(e,t,a){if(1===t)return q(e[0][0]);if(2===t)return n(r(e[0][0],e[1][1]),r(e[1][0],e[0][1]));for(var s=o(e),c=s.U[0][0],u=1;u<t;u++)c=r(c,s.U[u][u]);for(var l=0,p=0,d=[];;){for(;d[p];)p++;if(p>=t)break;for(var h=p,f=0;!d[s.p[h]];)d[s.p[h]]=!0,h=s.p[h],f++;f%2==0&&l++}return l%2==0?c:i(c)}(e.clone().valueOf(),s);throw new RangeError("Matrix must be square (size: "+Me(a)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Me(a)+")")}}})})),qc=et("distance",["typed","addScalar","subtract","divideScalar","multiplyScalar","unaryMinus","sqrt","abs"],(function(e){var t=e.addScalar,n=e.subtract,r=e.multiplyScalar,i=e.divideScalar,o=e.unaryMinus,a=e.sqrt,c=e.abs;return(0,e.typed)("distance",{"Array, Array, Array":function(e,t,a){if(2===e.length&&2===t.length&&2===a.length){if(!l(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!l(a))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var s=i(n(a[1],a[0]),n(t[1],t[0])),c=r(r(s,s),t[0]),u=o(r(s,t[0]));return m(e[0],e[1],c,u,e[1])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(e,t,a){if(2===Object.keys(e).length&&2===Object.keys(t).length&&2===Object.keys(a).length){if(!l(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(t))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!l(a))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"lineOnePtX"in t&&"lineOnePtY"in t&&"lineTwoPtX"in a&&"lineTwoPtY"in a){var s=i(n(a.lineTwoPtY,a.lineTwoPtX),n(t.lineOnePtY,t.lineOnePtX)),c=r(r(s,s),t.lineOnePtX),u=o(r(s,t.lineOnePtX));return m(e.pointX,e.pointY,c,u,e.pointX)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(e,t){if(2===e.length&&3===t.length){if(!l(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!p(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(e[0],e[1],t[0],t[1],t[2])}if(3===e.length&&6===t.length){if(!p(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(t))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(e[0],e[1],e[2],t[0],t[1],t[2],t[3],t[4],t[5])}if(e.length===t.length&&e.length>0){if(!d(e))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(t))throw new TypeError("All values of an array should be numbers or BigNumbers");return y(e,t)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(e,t){if(2===Object.keys(e).length&&3===Object.keys(t).length){if(!l(e))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"xCoeffLine"in t&&"yCoeffLine"in t&&"constant"in t)return m(e.pointX,e.pointY,t.xCoeffLine,t.yCoeffLine,t.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&6===Object.keys(t).length){if(!p(e))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(t))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in e&&"pointY"in e&&"x0"in t&&"y0"in t&&"z0"in t&&"a"in t&&"b"in t&&"c"in t)return g(e.pointX,e.pointY,e.pointZ,t.x0,t.y0,t.z0,t.a,t.b,t.c);throw new TypeError("Key names do not match")}if(2===Object.keys(e).length&&2===Object.keys(t).length){if(!l(e))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!l(t))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointTwoX"in t&&"pointTwoY"in t)return y([e.pointOneX,e.pointOneY],[t.pointTwoX,t.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(e).length&&3===Object.keys(t).length){if(!p(e))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!p(t))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in e&&"pointOneY"in e&&"pointOneZ"in e&&"pointTwoX"in t&&"pointTwoY"in t&&"pointTwoZ"in t)return y([e.pointOneX,e.pointOneY,e.pointOneZ],[t.pointTwoX,t.pointTwoY,t.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(e){if(!function(e){if(2===e[0].length&&u(e[0][0])&&u(e[0][1])){if(e.some((function(e){return 2!==e.length||!u(e[0])||!u(e[1])})))return!1}else{if(!(3===e[0].length&&u(e[0][0])&&u(e[0][1])&&u(e[0][2])))return!1;if(e.some((function(e){return 3!==e.length||!u(e[0])||!u(e[1])||!u(e[2])})))return!1}return!0}(e))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(e){for(var t=[],n=[],r=[],i=0;i<e.length-1;i++)for(var o=i+1;o<e.length;o++)2===e[0].length?(n=[e[i][0],e[i][1]],r=[e[o][0],e[o][1]]):3===e[0].length&&(n=[e[i][0],e[i][1],e[i][2]],r=[e[o][0],e[o][1],e[o][2]]),t.push(y(n,r));return t}(e)}});function u(e){return"number"==typeof e||s(e)}function l(e){return e.constructor!==Array&&(e=f(e)),u(e[0])&&u(e[1])}function p(e){return e.constructor!==Array&&(e=f(e)),u(e[0])&&u(e[1])&&u(e[2])}function d(e){return Array.isArray(e)||(e=f(e)),e.every(u)}function h(e){return e.constructor!==Array&&(e=f(e)),u(e[0])&&u(e[1])&&u(e[2])&&u(e[3])&&u(e[4])&&u(e[5])}function f(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;r++)n.push(e[t[r]]);return n}function m(e,n,o,s,u){var l=c(t(t(r(o,e),r(s,n)),u)),p=a(t(r(o,o),r(s,s)));return i(l,p)}function g(e,o,s,c,u,l,p,d,h){var f=[n(r(n(u,o),h),r(n(l,s),d)),n(r(n(l,s),p),r(n(c,e),h)),n(r(n(c,e),d),r(n(u,o),p))];f=a(t(t(r(f[0],f[0]),r(f[1],f[1])),r(f[2],f[2])));var m=a(t(t(r(p,p),r(d,d)),r(h,h)));return i(f,m)}function y(e,i){for(var o=e.length,s=0,c=0,u=0;u<o;u++)c=n(e[u],i[u]),s=t(r(c,c),s);return a(s)}})),Xc=et("stirlingS2",["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","larger"],(function(e){var t=e.addScalar,n=e.subtract,r=e.multiplyScalar,i=e.divideScalar,o=e.pow,a=e.factorial,s=e.combinations,c=e.isNegative,u=e.isInteger,l=e.larger;return(0,e.typed)("stirlingS2",{"number | BigNumber, number | BigNumber":function(e,p){if(!u(e)||c(e)||!u(p)||c(p))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(l(p,e))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var d=a(p),h=0,f=0;f<=p;f++){var m=o(-1,n(p,f)),g=s(p,f),y=o(f,e);h=t(h,r(r(g,y),m))}return i(h,d)}})})),Kc=et("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],(function(e){var t=e.addScalar,n=e.divideScalar,r=e.multiplyScalar,i=e.combinations,o=e.isNegative,a=e.isInteger;return(0,e.typed)("catalan",{"number | BigNumber":function(e){if(!a(e)||o(e))throw new TypeError("Non-negative integer value expected in function catalan");return n(i(r(e,2),e),t(e,1))}})})),Yc=et("xor",["typed","matrix","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.DenseMatrix,i=ca({typed:t}),o=ya({typed:t,DenseMatrix:r}),a=pa({typed:t,DenseMatrix:r}),s=ia({typed:t}),c=oa({typed:t}),u=t("xor",{"number, number":Ai,"Complex, Complex":function(e,t){return(0!==e.re||0!==e.im)!=(0!==t.re||0!==t.im)},"BigNumber, BigNumber":function(e,t){return(!e.isZero()&&!e.isNaN())!=(!t.isZero()&&!t.isNaN())},"Unit, Unit":function(e,t){return u(e.value||0,t.value||0)},"SparseMatrix, SparseMatrix":function(e,t){return o(e,t,u)},"SparseMatrix, DenseMatrix":function(e,t){return i(t,e,u,!0)},"DenseMatrix, SparseMatrix":function(e,t){return i(e,t,u,!1)},"DenseMatrix, DenseMatrix":function(e,t){return s(e,t,u)},"Array, Array":function(e,t){return u(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return u(n(e),t)},"Matrix, Array":function(e,t){return u(e,n(t))},"SparseMatrix, any":function(e,t){return a(e,t,u,!1)},"DenseMatrix, any":function(e,t){return c(e,t,u,!1)},"any, SparseMatrix":function(e,t){return a(t,e,u,!0)},"any, DenseMatrix":function(e,t){return c(t,e,u,!0)},"Array, any":function(e,t){return c(n(e),t,u,!1).valueOf()},"any, Array":function(e,t){return c(n(t),e,u,!0).valueOf()}});return u})),Zc=et("row",["typed","Index","matrix","range"],(function(e){var t=e.Index,n=e.matrix,r=e.range;return(0,e.typed)("row",{"Matrix, number":i,"Array, number":function(e,t){return i(n(q(e)),t).valueOf()}});function i(e,n){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Le(n,e.size()[0]);var i=r(0,e.size()[1]),o=new t(n,i);return e.subset(o)}})),Qc=et("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.equalScalar,i=e.divideScalar,o=e.DenseMatrix,a=sa({typed:t,equalScalar:r}),s=ca({typed:t}),c=ya({typed:t,DenseMatrix:o}),u=la({typed:t,equalScalar:r}),l=pa({typed:t,DenseMatrix:o}),p=ia({typed:t}),d=oa({typed:t}),h=t("dotDivide",{"any, any":i,"SparseMatrix, SparseMatrix":function(e,t){return c(e,t,i,!1)},"SparseMatrix, DenseMatrix":function(e,t){return a(t,e,i,!0)},"DenseMatrix, SparseMatrix":function(e,t){return s(e,t,i,!1)},"DenseMatrix, DenseMatrix":function(e,t){return p(e,t,i)},"Array, Array":function(e,t){return h(n(e),n(t)).valueOf()},"Array, Matrix":function(e,t){return h(n(e),t)},"Matrix, Array":function(e,t){return h(e,n(t))},"SparseMatrix, any":function(e,t){return u(e,t,i,!1)},"DenseMatrix, any":function(e,t){return d(e,t,i,!1)},"any, SparseMatrix":function(e,t){return l(t,e,i,!0)},"any, DenseMatrix":function(e,t){return d(t,e,i,!0)},"Array, any":function(e,t){return d(n(e),t,i,!1).valueOf()},"any, Array":function(e,t){return d(n(t),e,i,!0).valueOf()}});return h}));function Jc(e){return(Jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $c(){return($c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var eu=et("Unit",["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],(function(e){var t,n,r,i=e.on,o=e.config,a=e.addScalar,s=e.subtract,u=e.multiplyScalar,p=e.divideScalar,d=e.pow,h=e.abs,f=e.fix,m=e.round,g=e.equal,y=e.isNumeric,v=e.format,b=e.Complex,A=e.BigNumber,x=e.Fraction,w=e.number;function _(e,t){if(!(this instanceof _))throw new Error("Constructor must be called with the new operator");if(null!=e&&!y(e)&&!c(e))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==t&&("string"!=typeof t||""===t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==t){var n=_.parse(t);this.units=n.units,this.dimensions=n.dimensions}else{this.units=[{unit:B,prefix:I.NONE,power:0}],this.dimensions=[];for(var r=0;r<D.length;r++)this.dimensions[r]=0}this.value=null!=e?this._normalize(e):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function S(){for(;" "===r||"\t"===r;)P()}function T(e){return e>="0"&&e<="9"}function P(){n++,r=t.charAt(n)}function C(e){r=t.charAt(n=e)}function E(){var e="",t=n;if("+"===r?P():"-"===r&&(e+=r,P()),!function(e){return e>="0"&&e<="9"||"."===e}(r))return C(t),null;if("."===r){if(e+=r,P(),!T(r))return C(t),null}else{for(;T(r);)e+=r,P();"."===r&&(e+=r,P())}for(;T(r);)e+=r,P();if("E"===r||"e"===r){var i="",o=n;if(i+=r,P(),"+"!==r&&"-"!==r||(i+=r,P()),!T(r))return C(o),e;for(e+=i;T(r);)e+=r,P()}return e}function k(){for(var e="",i=t.charCodeAt(n);i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122;)e+=r,P(),i=t.charCodeAt(n);return((i=e.charCodeAt(0))>=65&&i<=90||i>=97&&i<=122)&&e||null}function O(e){return r===e?(P(),e):null}function M(e){if(J(F,e)){var t=F[e];return{unit:t,prefix:t.prefixes[""]}}for(var n in F)if(J(F,n)&&Oe(e,n)){var r=F[n],i=e.substring(0,e.length-n.length),o=J(r.prefixes,i)?r.prefixes[i]:void 0;if(void 0!==o)return{unit:r,prefix:o}}return null}function N(e){return e.equalBase(R.NONE)&&null!==e.value&&!o.predictable?e.value:e}_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(e,i){if(i=i||{},n=-1,r="","string"!=typeof(t=e))throw new TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var s=1,c=!1;P(),S();var u=E(),l=null;if(u){if("BigNumber"===o.number)l=new A(u);else if("Fraction"===o.number)try{l=new x(u)}catch(b){l=parseFloat(u)}else l=parseFloat(u);S(),O("*")?(s=1,c=!0):O("/")&&(s=-1,c=!0)}for(var p=[],d=1;;){for(S();"("===r;)p.push(s),d*=s,s=1,P(),S();var h;if(!r)break;var f=r;if(null===(h=k()))throw new SyntaxError('Unexpected "'+f+'" in "'+t+'" at index '+n.toString());var m=M(h);if(null===m)throw new SyntaxError('Unit "'+h+'" not found.');var g=s*d;if(S(),O("^")){S();var y=E();if(null===y)throw new SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=y}a.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var v=0;v<D.length;v++)a.dimensions[v]+=(m.unit.dimensions[v]||0)*g;for(S();")"===r;){if(0===p.length)throw new SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());d/=p.pop(),P(),S()}c=!1,O("*")?(s=1,c=!0):O("/")?(s=-1,c=!0):s=1,m.unit.base&&(z.auto[m.unit.base.key]={unit:m.unit,prefix:m.prefix})}if(S(),r)throw new SyntaxError('Could not parse: "'+e+'"');if(c)throw new SyntaxError('Trailing characters: "'+e+'"');if(0!==p.length)throw new SyntaxError('Unmatched "(" in "'+t+'"');if(0===a.units.length&&!i.allowNoUnits)throw new SyntaxError('"'+e+'" contains no units');return a.value=void 0!==l?a._normalize(l):null,a},_.prototype.clone=function(){var e=new _;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=q(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var n in e.units[t]={},this.units[t])J(this.units[t],n)&&(e.units[t][n]=this.units[t][n]);return e},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(e){var t,n,r,i,o;if(null==e||0===this.units.length)return e;if(this._isDerived()){var s=e;o=_._getNumberConverter(H(e));for(var c=0;c<this.units.length;c++)t=o(this.units[c].unit.value),i=o(this.units[c].prefix.value),r=o(this.units[c].power),s=u(s,d(u(t,i),r));return s}return t=(o=_._getNumberConverter(H(e)))(this.units[0].unit.value),n=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),u(a(e,n),u(t,i))},_.prototype._denormalize=function(e,t){var n,r,i,o,a;if(null==e||0===this.units.length)return e;if(this._isDerived()){var c=e;a=_._getNumberConverter(H(e));for(var l=0;l<this.units.length;l++)n=a(this.units[l].unit.value),o=a(this.units[l].prefix.value),i=a(this.units[l].power),c=p(c,d(u(n,o),i));return c}return n=(a=_._getNumberConverter(H(e)))(this.units[0].unit.value),o=a(this.units[0].prefix.value),r=a(this.units[0].unit.offset),s(p(p(e,n),null==t?o:t),r)},_.isValuelessUnit=function(e){return null!==M(e)},_.prototype.hasBase=function(e){if("string"==typeof e&&(e=R[e]),!e)return!1;for(var t=0;t<D.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equalBase=function(e){for(var t=0;t<D.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equals=function(e){return this.equalBase(e)&&g(this.value,e.value)},_.prototype.multiply=function(e){for(var t=this.clone(),n=0;n<D.length;n++)t.dimensions[n]=(this.dimensions[n]||0)+(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i={};for(var o in e.units[r])i[o]=e.units[r][o];t.units.push(i)}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=u(a,s)}else t.value=null;return t.skipAutomaticSimplification=!1,N(t)},_.prototype.divide=function(e){for(var t=this.clone(),n=0;n<D.length;n++)t.dimensions[n]=(this.dimensions[n]||0)-(e.dimensions[n]||0);for(var r=0;r<e.units.length;r++){var i={};for(var o in e.units[r])i[o]=e.units[r][o];i.power=-i.power,t.units.push(i)}if(null!==this.value||null!==e.value){var a=null===this.value?this._normalize(1):this.value,s=null===e.value?e._normalize(1):e.value;t.value=p(a,s)}else t.value=null;return t.skipAutomaticSimplification=!1,N(t)},_.prototype.pow=function(e){for(var t=this.clone(),n=0;n<D.length;n++)t.dimensions[n]=(this.dimensions[n]||0)*e;for(var r=0;r<t.units.length;r++)t.units[r].power*=e;return t.value=null!==t.value?d(t.value,e):null,t.skipAutomaticSimplification=!1,N(t)},_.prototype.abs=function(){var e=this.clone();for(var t in e.value=null!==e.value?h(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=F.W);return e},_.prototype.to=function(e){var t,n=null===this.value?this._normalize(1):this.value;if("string"==typeof e){if(t=_.parse(e),!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return t.value=q(n),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}if(l(e)){if(!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return(t=e.clone()).value=q(n),t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t}throw new Error("String or Unit expected as parameter")},_.prototype.toNumber=function(e){return w(this.toNumeric(e))},_.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},_.fromJSON=function(e){var t=new _(e.value,e.unit);return t.fixPrefix=e.fixPrefix||!1,t},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var e,t,n=this.clone(),r=[];for(var i in V)if(n.hasBase(R[i])){e=i;break}if("NONE"===e)n.units=[];else if(e&&J(V,e)&&(t=V[e]),t)n.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var o=!1,a=0;a<D.length;a++){var s=D[a];Math.abs(n.dimensions[a]||0)>1e-12&&(J(V,s)?r.push({unit:V[s].unit,prefix:V[s].prefix,power:n.dimensions[a]||0}):o=!0)}r.length<n.units.length&&!o&&(n.units=r)}return n},_.prototype.toSI=function(){for(var e=this.clone(),t=[],n=0;n<D.length;n++){var r=D[n];if(Math.abs(e.dimensions[n]||0)>1e-12){if(!J(z.si,r))throw new Error("Cannot express custom unit "+r+" in SI units");t.push({unit:z.si[r].unit,prefix:z.si[r].prefix,power:e.dimensions[n]||0})}}return e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e},_.prototype.formatUnits=function(){for(var e="",t="",n=0,r=0,i=0;i<this.units.length;i++)this.units[i].power>0?(n++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&r++;if(r>0)for(var o=0;o<this.units.length;o++)this.units[o].power<0&&(n>0?(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,Math.abs(this.units[o].power+1)>1e-15&&(t+="^"+-this.units[o].power)):(t+=" "+this.units[o].prefix.name+this.units[o].unit.name,t+="^"+this.units[o].power));e=e.substr(1),t=t.substr(1),n>1&&r>0&&(e="("+e+")"),r>1&&n>0&&(t="("+t+")");var a=e;return n>0&&r>0&&(a+=" / "),a+t},_.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),n=!1;for(var r in null!=t.value&&c(t.value)&&(n=Math.abs(t.value.re)<1e-14),t.units)t.units[r].unit&&("VA"===t.units[r].unit.name&&n?t.units[r].unit=F.VAR:"VAR"!==t.units[r].unit.name||n||(t.units[r].unit=F.VA));1!==t.units.length||t.fixPrefix||Math.abs(t.units[0].power-Math.round(t.units[0].power))<1e-14&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),o=null!==t.value?v(i,e||{}):"",a=t.formatUnits();return t.value&&c(t.value)&&(o="("+o+")"),a.length>0&&o.length>0&&(o+=" "),o+a},_.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?h(this.value):0,t=h(this.units[0].unit.value),n=this.units[0].prefix;if(0===e)return n;var r=this.units[0].power,i=Math.log(e/Math.pow(n.value*t,r))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return n;i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var a in o)if(J(o,a)){var s=o[a];if(s.scientific){var c=Math.abs(Math.log(e/Math.pow(s.value*t,r))/Math.LN10-1.2);(c<i||c===i&&s.name.length<n.name.length)&&(n=s,i=c)}}return n},_.prototype.splitUnit=function(e){for(var t=this.clone(),n=[],r=0;r<e.length&&(t=t.to(e[r]),r!==e.length-1);r++){var i=t.toNumeric(),o=m(i),c=new _(g(o,i)?o:f(t.toNumeric()),e[r].toString());n.push(c),t=s(t,c)}for(var u=0,l=0;l<n.length;l++)u=a(u,n[l].value);return g(u,this.value)&&(t.value=0),n.push(t),n};var I={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};I.SHORTLONG=$c({},I.SHORT,I.LONG),I.BINARY_SHORT=$c({},I.BINARY_SHORT_SI,I.BINARY_SHORT_IEC),I.BINARY_LONG=$c({},I.BINARY_LONG_SI,I.BINARY_LONG_IEC);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],R={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var j in R)R[j].key=j;var B={name:"",base:{},value:1,offset:0,dimensions:D.map((function(e){return 0}))},F={meter:{name:"meter",base:R.LENGTH,prefixes:I.LONG,value:1,offset:0},inch:{name:"inch",base:R.LENGTH,prefixes:I.NONE,value:.0254,offset:0},foot:{name:"foot",base:R.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yard:{name:"yard",base:R.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mile:{name:"mile",base:R.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},link:{name:"link",base:R.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rod:{name:"rod",base:R.LENGTH,prefixes:I.NONE,value:5.0292,offset:0},chain:{name:"chain",base:R.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:R.LENGTH,prefixes:I.NONE,value:1e-10,offset:0},m:{name:"m",base:R.LENGTH,prefixes:I.SHORT,value:1,offset:0},in:{name:"in",base:R.LENGTH,prefixes:I.NONE,value:.0254,offset:0},ft:{name:"ft",base:R.LENGTH,prefixes:I.NONE,value:.3048,offset:0},yd:{name:"yd",base:R.LENGTH,prefixes:I.NONE,value:.9144,offset:0},mi:{name:"mi",base:R.LENGTH,prefixes:I.NONE,value:1609.344,offset:0},li:{name:"li",base:R.LENGTH,prefixes:I.NONE,value:.201168,offset:0},rd:{name:"rd",base:R.LENGTH,prefixes:I.NONE,value:5.02921,offset:0},ch:{name:"ch",base:R.LENGTH,prefixes:I.NONE,value:20.1168,offset:0},mil:{name:"mil",base:R.LENGTH,prefixes:I.NONE,value:254e-7,offset:0},m2:{name:"m2",base:R.SURFACE,prefixes:I.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:R.SURFACE,prefixes:I.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:R.SURFACE,prefixes:I.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:R.SURFACE,prefixes:I.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:R.SURFACE,prefixes:I.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:R.SURFACE,prefixes:I.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:R.SURFACE,prefixes:I.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:R.SURFACE,prefixes:I.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:R.SURFACE,prefixes:I.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:R.SURFACE,prefixes:I.NONE,value:1e4,offset:0},m3:{name:"m3",base:R.VOLUME,prefixes:I.CUBIC,value:1,offset:0},L:{name:"L",base:R.VOLUME,prefixes:I.SHORT,value:.001,offset:0},l:{name:"l",base:R.VOLUME,prefixes:I.SHORT,value:.001,offset:0},litre:{name:"litre",base:R.VOLUME,prefixes:I.LONG,value:.001,offset:0},cuin:{name:"cuin",base:R.VOLUME,prefixes:I.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:R.VOLUME,prefixes:I.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:R.VOLUME,prefixes:I.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:R.VOLUME,prefixes:I.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:R.VOLUME,prefixes:I.NONE,value:15e-6,offset:0},drop:{name:"drop",base:R.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:R.VOLUME,prefixes:I.NONE,value:5e-8,offset:0},minim:{name:"minim",base:R.VOLUME,prefixes:I.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:R.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:R.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:R.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:R.VOLUME,prefixes:I.NONE,value:1e-6,offset:0},cup:{name:"cup",base:R.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:R.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:R.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:R.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:R.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:R.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:R.VOLUME,prefixes:I.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:R.VOLUME,prefixes:I.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:R.VOLUME,prefixes:I.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:R.VOLUME,prefixes:I.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:R.VOLUME,prefixes:I.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:R.VOLUME,prefixes:I.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:R.VOLUME,prefixes:I.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:R.VOLUME,prefixes:I.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:R.VOLUME,prefixes:I.NONE,value:.1173478,offset:0},obl:{name:"obl",base:R.VOLUME,prefixes:I.NONE,value:.1589873,offset:0},g:{name:"g",base:R.MASS,prefixes:I.SHORT,value:.001,offset:0},gram:{name:"gram",base:R.MASS,prefixes:I.LONG,value:.001,offset:0},ton:{name:"ton",base:R.MASS,prefixes:I.SHORT,value:907.18474,offset:0},t:{name:"t",base:R.MASS,prefixes:I.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:R.MASS,prefixes:I.LONG,value:1e3,offset:0},grain:{name:"grain",base:R.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:R.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:R.MASS,prefixes:I.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:R.MASS,prefixes:I.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:R.MASS,prefixes:I.NONE,value:45.359237,offset:0},stick:{name:"stick",base:R.MASS,prefixes:I.NONE,value:.115,offset:0},stone:{name:"stone",base:R.MASS,prefixes:I.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:R.MASS,prefixes:I.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:R.MASS,prefixes:I.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:R.MASS,prefixes:I.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:R.MASS,prefixes:I.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:R.MASS,prefixes:I.NONE,value:45.359237,offset:0},s:{name:"s",base:R.TIME,prefixes:I.SHORT,value:1,offset:0},min:{name:"min",base:R.TIME,prefixes:I.NONE,value:60,offset:0},h:{name:"h",base:R.TIME,prefixes:I.NONE,value:3600,offset:0},second:{name:"second",base:R.TIME,prefixes:I.LONG,value:1,offset:0},sec:{name:"sec",base:R.TIME,prefixes:I.LONG,value:1,offset:0},minute:{name:"minute",base:R.TIME,prefixes:I.NONE,value:60,offset:0},hour:{name:"hour",base:R.TIME,prefixes:I.NONE,value:3600,offset:0},day:{name:"day",base:R.TIME,prefixes:I.NONE,value:86400,offset:0},week:{name:"week",base:R.TIME,prefixes:I.NONE,value:604800,offset:0},month:{name:"month",base:R.TIME,prefixes:I.NONE,value:2629800,offset:0},year:{name:"year",base:R.TIME,prefixes:I.NONE,value:31557600,offset:0},decade:{name:"decade",base:R.TIME,prefixes:I.NONE,value:315576e3,offset:0},century:{name:"century",base:R.TIME,prefixes:I.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:R.TIME,prefixes:I.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:R.FREQUENCY,prefixes:I.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:R.FREQUENCY,prefixes:I.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:R.ANGLE,prefixes:I.SHORT,value:1,offset:0},radian:{name:"radian",base:R.ANGLE,prefixes:I.LONG,value:1,offset:0},deg:{name:"deg",base:R.ANGLE,prefixes:I.SHORT,value:null,offset:0},degree:{name:"degree",base:R.ANGLE,prefixes:I.LONG,value:null,offset:0},grad:{name:"grad",base:R.ANGLE,prefixes:I.SHORT,value:null,offset:0},gradian:{name:"gradian",base:R.ANGLE,prefixes:I.LONG,value:null,offset:0},cycle:{name:"cycle",base:R.ANGLE,prefixes:I.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:R.ANGLE,prefixes:I.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:R.ANGLE,prefixes:I.NONE,value:null,offset:0},A:{name:"A",base:R.CURRENT,prefixes:I.SHORT,value:1,offset:0},ampere:{name:"ampere",base:R.CURRENT,prefixes:I.LONG,value:1,offset:0},K:{name:"K",base:R.TEMPERATURE,prefixes:I.NONE,value:1,offset:0},degC:{name:"degC",base:R.TEMPERATURE,prefixes:I.NONE,value:1,offset:273.15},degF:{name:"degF",base:R.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:R.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:R.TEMPERATURE,prefixes:I.NONE,value:1,offset:0},celsius:{name:"celsius",base:R.TEMPERATURE,prefixes:I.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:R.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:R.TEMPERATURE,prefixes:I.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:R.AMOUNT_OF_SUBSTANCE,prefixes:I.SHORT,value:1,offset:0},mole:{name:"mole",base:R.AMOUNT_OF_SUBSTANCE,prefixes:I.LONG,value:1,offset:0},cd:{name:"cd",base:R.LUMINOUS_INTENSITY,prefixes:I.SHORT,value:1,offset:0},candela:{name:"candela",base:R.LUMINOUS_INTENSITY,prefixes:I.LONG,value:1,offset:0},N:{name:"N",base:R.FORCE,prefixes:I.SHORT,value:1,offset:0},newton:{name:"newton",base:R.FORCE,prefixes:I.LONG,value:1,offset:0},dyn:{name:"dyn",base:R.FORCE,prefixes:I.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:R.FORCE,prefixes:I.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:R.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:R.FORCE,prefixes:I.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:R.FORCE,prefixes:I.LONG,value:4448.2216,offset:0},J:{name:"J",base:R.ENERGY,prefixes:I.SHORT,value:1,offset:0},joule:{name:"joule",base:R.ENERGY,prefixes:I.SHORT,value:1,offset:0},erg:{name:"erg",base:R.ENERGY,prefixes:I.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:R.ENERGY,prefixes:I.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:R.ENERGY,prefixes:I.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:R.ENERGY,prefixes:I.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:R.ENERGY,prefixes:I.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:R.POWER,prefixes:I.SHORT,value:1,offset:0},watt:{name:"watt",base:R.POWER,prefixes:I.LONG,value:1,offset:0},hp:{name:"hp",base:R.POWER,prefixes:I.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:R.POWER,prefixes:I.SHORT,value:b.I,offset:0},VA:{name:"VA",base:R.POWER,prefixes:I.SHORT,value:1,offset:0},Pa:{name:"Pa",base:R.PRESSURE,prefixes:I.SHORT,value:1,offset:0},psi:{name:"psi",base:R.PRESSURE,prefixes:I.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:R.PRESSURE,prefixes:I.NONE,value:101325,offset:0},bar:{name:"bar",base:R.PRESSURE,prefixes:I.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:R.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:R.PRESSURE,prefixes:I.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:R.PRESSURE,prefixes:I.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:R.PRESSURE,prefixes:I.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:R.ELECTRIC_CHARGE,prefixes:I.LONG,value:1,offset:0},C:{name:"C",base:R.ELECTRIC_CHARGE,prefixes:I.SHORT,value:1,offset:0},farad:{name:"farad",base:R.ELECTRIC_CAPACITANCE,prefixes:I.LONG,value:1,offset:0},F:{name:"F",base:R.ELECTRIC_CAPACITANCE,prefixes:I.SHORT,value:1,offset:0},volt:{name:"volt",base:R.ELECTRIC_POTENTIAL,prefixes:I.LONG,value:1,offset:0},V:{name:"V",base:R.ELECTRIC_POTENTIAL,prefixes:I.SHORT,value:1,offset:0},ohm:{name:"ohm",base:R.ELECTRIC_RESISTANCE,prefixes:I.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:R.ELECTRIC_INDUCTANCE,prefixes:I.LONG,value:1,offset:0},H:{name:"H",base:R.ELECTRIC_INDUCTANCE,prefixes:I.SHORT,value:1,offset:0},siemens:{name:"siemens",base:R.ELECTRIC_CONDUCTANCE,prefixes:I.LONG,value:1,offset:0},S:{name:"S",base:R.ELECTRIC_CONDUCTANCE,prefixes:I.SHORT,value:1,offset:0},weber:{name:"weber",base:R.MAGNETIC_FLUX,prefixes:I.LONG,value:1,offset:0},Wb:{name:"Wb",base:R.MAGNETIC_FLUX,prefixes:I.SHORT,value:1,offset:0},tesla:{name:"tesla",base:R.MAGNETIC_FLUX_DENSITY,prefixes:I.LONG,value:1,offset:0},T:{name:"T",base:R.MAGNETIC_FLUX_DENSITY,prefixes:I.SHORT,value:1,offset:0},b:{name:"b",base:R.BIT,prefixes:I.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:R.BIT,prefixes:I.BINARY_LONG,value:1,offset:0},B:{name:"B",base:R.BIT,prefixes:I.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:R.BIT,prefixes:I.BINARY_LONG,value:8,offset:0}},L={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function U(e){if("BigNumber"===e.number){var t=mt(A);F.rad.value=new A(1),F.deg.value=t.div(180),F.grad.value=t.div(200),F.cycle.value=t.times(2),F.arcsec.value=t.div(648e3),F.arcmin.value=t.div(10800)}else F.rad.value=1,F.deg.value=Math.PI/180,F.grad.value=Math.PI/200,F.cycle.value=2*Math.PI,F.arcsec.value=Math.PI/648e3,F.arcmin.value=Math.PI/10800;F.radian.value=F.rad.value,F.degree.value=F.deg.value,F.gradian.value=F.grad.value}U(o),i&&i("config",(function(e,t){e.number!==t.number&&U(e)}));var z={si:{NONE:{unit:B,prefix:I.NONE[""]},LENGTH:{unit:F.m,prefix:I.SHORT[""]},MASS:{unit:F.g,prefix:I.SHORT.k},TIME:{unit:F.s,prefix:I.SHORT[""]},CURRENT:{unit:F.A,prefix:I.SHORT[""]},TEMPERATURE:{unit:F.K,prefix:I.SHORT[""]},LUMINOUS_INTENSITY:{unit:F.cd,prefix:I.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:F.mol,prefix:I.SHORT[""]},ANGLE:{unit:F.rad,prefix:I.SHORT[""]},BIT:{unit:F.bits,prefix:I.SHORT[""]},FORCE:{unit:F.N,prefix:I.SHORT[""]},ENERGY:{unit:F.J,prefix:I.SHORT[""]},POWER:{unit:F.W,prefix:I.SHORT[""]},PRESSURE:{unit:F.Pa,prefix:I.SHORT[""]},ELECTRIC_CHARGE:{unit:F.C,prefix:I.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:F.F,prefix:I.SHORT[""]},ELECTRIC_POTENTIAL:{unit:F.V,prefix:I.SHORT[""]},ELECTRIC_RESISTANCE:{unit:F.ohm,prefix:I.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:F.H,prefix:I.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:F.S,prefix:I.SHORT[""]},MAGNETIC_FLUX:{unit:F.Wb,prefix:I.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:F.T,prefix:I.SHORT[""]},FREQUENCY:{unit:F.Hz,prefix:I.SHORT[""]}}};z.cgs=JSON.parse(JSON.stringify(z.si)),z.cgs.LENGTH={unit:F.m,prefix:I.SHORT.c},z.cgs.MASS={unit:F.g,prefix:I.SHORT[""]},z.cgs.FORCE={unit:F.dyn,prefix:I.SHORT[""]},z.cgs.ENERGY={unit:F.erg,prefix:I.NONE[""]},z.us=JSON.parse(JSON.stringify(z.si)),z.us.LENGTH={unit:F.ft,prefix:I.NONE[""]},z.us.MASS={unit:F.lbm,prefix:I.NONE[""]},z.us.TEMPERATURE={unit:F.degF,prefix:I.NONE[""]},z.us.FORCE={unit:F.lbf,prefix:I.NONE[""]},z.us.ENERGY={unit:F.BTU,prefix:I.BTU[""]},z.us.POWER={unit:F.hp,prefix:I.NONE[""]},z.us.PRESSURE={unit:F.psi,prefix:I.NONE[""]},z.auto=JSON.parse(JSON.stringify(z.si));var V=z.auto;for(var W in _.setUnitSystem=function(e){if(!J(z,e))throw new Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(z).join(", "));V=z[e]},_.getUnitSystem=function(){for(var e in z)if(z[e]===V)return e},_.typeConverters={BigNumber:function(e){return new A(e+"")},Fraction:function(e){return new x(e)},Complex:function(e){return e},number:function(e){return e}},_._getNumberConverter=function(e){if(!_.typeConverters[e])throw new TypeError('Unsupported type "'+e+'"');return _.typeConverters[e]},F){var G=F[W];G.dimensions=G.base.dimensions}for(var X in L)if(J(L,X)){var K=F[L[X]],Y={};for(var Z in K)J(K,Z)&&(Y[Z]=K[Z]);Y.name=X,F[X]=Y}return _.createUnit=function(e,t){if("object"!==Jc(e))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override)for(var n in e)if(J(e,n)&&_.deleteUnit(n),e[n].aliases)for(var r=0;r<e[n].aliases.length;r++)_.deleteUnit(e[n].aliases[r]);var i;for(var o in e)J(e,o)&&(i=_.createUnitSingle(o,e[o]));return i},_.createUnitSingle=function(e,t,n){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(J(F,e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(e){for(var t=0;t<e.length;t++){var n=e.charAt(t),r=function(e){return/^[a-zA-Z]$/.test(e)};if(0===t&&!r(n))throw new Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(t>0&&!r(n)&&!function(e){return e>="0"&&e<="9"}(n))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}}(e);var r,i,o,a=null,s=[],c=0;if(t&&"Unit"===t.type)a=t.clone();else if("string"==typeof t)""!==t&&(r=t);else{if("object"!==Jc(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');r=t.definition,i=t.prefixes,c=t.offset,o=t.baseName,t.aliases&&(s=t.aliases.valueOf())}if(s)for(var u=0;u<s.length;u++)if(J(F,s[u]))throw new Error('Cannot create alias "'+s[u]+'": a unit with that name already exists');if(r&&"string"==typeof r&&!a)try{a=_.parse(r,{allowNoUnits:!0})}catch(S){throw S.message='Could not create unit "'+e+'" from "'+r+'": '+S.message,S}else r&&"Unit"===r.type&&(a=r.clone());s=s||[],c=c||0,i=i&&i.toUpperCase&&I[i.toUpperCase()]||I.NONE;var l={};if(a){l={name:e,value:a.value,dimensions:a.dimensions.slice(0),prefixes:i,offset:c};var p=!1;for(var d in R)if(J(R,d)){for(var h=!0,f=0;f<D.length;f++)if(Math.abs((l.dimensions[f]||0)-(R[d].dimensions[f]||0))>1e-12){h=!1;break}if(h){p=!0,l.base=R[d];break}}if(!p){o=o||e+"_STUFF";var m={dimensions:a.dimensions.slice(0)};m.key=o,R[o]=m,V[o]={unit:l,prefix:I.NONE[""]},l.base=R[o]}}else{if(D.indexOf(o=o||e+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var g in D.push(o),R)J(R,g)&&(R[g].dimensions[D.length-1]=0);for(var y={dimensions:[]},v=0;v<D.length;v++)y.dimensions[v]=0;y.dimensions[D.length-1]=1,y.key=o,R[o]=y,l={name:e,value:1,dimensions:R[o].dimensions.slice(0),prefixes:i,offset:c,base:R[o]},V[o]={unit:l,prefix:I.NONE[""]}}_.UNITS[e]=l;for(var b=0;b<s.length;b++){var A=s[b],x={};for(var w in l)J(l,w)&&(x[w]=l[w]);x.name=A,_.UNITS[A]=x}return new _(null,e)},_.deleteUnit=function(e){delete _.UNITS[e]},_.PREFIXES=I,_.BASE_DIMENSIONS=D,_.BASE_UNITS=R,_.UNIT_SYSTEMS=z,_.UNITS=F,_}),{isClass:!0}),tu=et("createUnit",["typed","Unit"],(function(e){var t=e.Unit;return(0,e.typed)("createUnit",{"Object, Object":function(e,n){return t.createUnit(e,n)},Object:function(e){return t.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,n,r){var i={};return i[e]=n,t.createUnit(i,r)},"string, Unit | string | Object":function(e,n){var r={};return r[e]=n,t.createUnit(r,{})},string:function(e){var n={};return n[e]={},t.createUnit(n,{})}})})),nu=et("setSymDifference",["typed","size","concat","subset","setDifference","Index"],(function(e){var t=e.size,n=e.concat,r=e.subset,i=e.setDifference,o=e.Index;return(0,e.typed)("setSymDifference",{"Array | Matrix, Array | Matrix":function(e,a){if(0===r(t(e),new o(0)))return He(a);if(0===r(t(a),new o(0)))return He(e);var s=He(e),c=He(a);return n(i(s,c),i(c,s))}})}));function ru(){return(ru=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var iu=et("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],(function(e){var t=e.matrix,n=e.zeros,r=e.identity,i=e.isZero,o=e.equal,a=e.sign,s=e.sqrt,c=e.conj,u=e.unaryMinus,l=e.addScalar,p=e.divideScalar,d=e.multiplyScalar,h=e.subtract,f=e.complex;return ru((0,e.typed)("qr",{DenseMatrix:function(e){return g(e)},SparseMatrix:function(e){return function(e){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(e){var n=g(t(e));return{Q:n.Q.valueOf(),R:n.R.valueOf()}}}),{_denseQRimpl:m});function m(e){var t,f,m,g=e._size[0],y=e._size[1],v=r([g],"dense"),b=v._data,A=e.clone(),x=A._data,w=n([g],"");for(m=0;m<Math.min(y,g);++m){var _=x[m][m],S=u(o(_,0)?1:a(_)),T=c(S),P=0;for(t=m;t<g;t++)P=l(P,d(x[t][m],c(x[t][m])));var C=d(S,s(P));if(!i(C)){var E=h(_,C);for(w[m]=1,t=m+1;t<g;t++)w[t]=p(x[t][m],E);var k=u(c(p(E,C))),O=void 0;for(f=m;f<y;f++){for(O=0,t=m;t<g;t++)O=l(O,d(c(w[t]),x[t][f]));for(O=d(O,k),t=m;t<g;t++)x[t][f]=d(h(x[t][f],d(w[t],O)),T)}for(t=0;t<g;t++){for(O=0,f=m;f<g;f++)O=l(O,d(b[t][f],w[f]));for(O=d(O,k),f=m;f<g;++f)b[t][f]=p(h(b[t][f],d(O,c(w[f]))),T)}}}return{Q:v,R:A,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function g(e){var t=m(e),n=t.R._data;if(e._data.length>0)for(var r="Complex"===n[0][0].type?f(0):0,i=0;i<n.length;++i)for(var o=0;o<i&&o<(n[0]||[]).length;++o)n[i][o]=r;return t}})),ou=et("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],(function(e){var t=e.matrix,n=e.divideScalar,r=e.addScalar,i=e.multiply,o=e.unaryMinus,a=e.det,s=e.identity,c=e.abs;return(0,e.typed)("inv",{"Array | Matrix":function(e){var r=h(e)?e.size():Be(e);switch(r.length){case 1:if(1===r[0])return h(e)?t([n(1,e.valueOf()[0])]):[n(1,e[0])];throw new RangeError("Matrix must be square (size: "+Me(r)+")");case 2:var i=r[0],o=r[1];if(i===o)return h(e)?t(u(e.valueOf(),i,o),e.storage()):u(e,i,o);throw new RangeError("Matrix must be square (size: "+Me(r)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Me(r)+")")}},any:function(e){return n(1,e)}});function u(e,t,u){var l,p,d,h,f;if(1===t){if(0===(h=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,h)]]}if(2===t){var m=a(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[n(e[1][1],m),n(o(e[0][1]),m)],[n(o(e[1][0]),m),n(e[0][0],m)]]}var g=e.concat();for(l=0;l<t;l++)g[l]=g[l].concat();for(var y=s(t).valueOf(),v=0;v<u;v++){var b=c(g[v][v]),A=v;for(l=v+1;l<t;)c(g[l][v])>b&&(b=c(g[l][v]),A=l),l++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(l=A)!==v&&(f=g[v],g[v]=g[l],g[l]=f,f=y[v],y[v]=y[l],y[l]=f);var x=g[v],w=y[v];for(l=0;l<t;l++){var _=g[l],S=y[l];if(l!==v){if(0!==_[v]){for(d=n(o(_[v]),x[v]),p=v;p<u;p++)_[p]=r(_[p],i(d,x[p]));for(p=0;p<u;p++)S[p]=r(S[p],i(d,w[p]))}}else{for(d=x[v],p=v;p<u;p++)_[p]=n(_[p],d);for(p=0;p<u;p++)S[p]=n(S[p],d)}}}return y}})),au=et("expm",["typed","abs","add","identity","inv","multiply"],(function(e){var t=e.abs,n=e.add,r=e.identity,i=e.inv,o=e.multiply;return(0,e.typed)("expm",{Matrix:function(e){var s=e.size();if(2!==s.length||s[0]!==s[1])throw new RangeError("Matrix must be square (size: "+Me(s)+")");for(var c=s[0],u=function(e,t){for(var n=0;n<30;n++)for(var r=0;r<=n;r++){var i=n-r;if(a(e,r,i)<1e-15)return{q:r,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(e){for(var n=e.size()[0],r=0,i=0;i<n;i++){for(var o=0,a=0;a<n;a++)o+=t(e.get([i,a]));r=Math.max(o,r)}return r}(e)),l=u.q,p=u.j,d=o(e,Math.pow(2,-p)),h=r(c),f=r(c),m=1,y=d,v=-1,b=1;b<=l;b++)b>1&&(y=o(y,d),v=-v),h=n(h,o(m=m*(l-b+1)/((2*l-b+1)*b),y)),f=n(f,o(m*v,y));for(var A=o(i(f),h),x=0;x<p;x++)A=o(A,A);return g(e)?e.createSparseMatrix(A):A}});function a(e,t,n){for(var r=1,i=2;i<=t;i++)r*=i;for(var o=r,a=t+1;a<=2*t;a++)o*=a;var s=o*(2*t+1);return 8*Math.pow(e/Math.pow(2,n),2*t)*r*r/(o*s)}})),su=et("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],(function(e){var t=e.typed,n=e.matrix,r=e.multiply,i=e.divideScalar,o=e.inv,a=la({typed:t,equalScalar:e.equalScalar}),s=oa({typed:t});return t("divide",K({"Array | Matrix, Array | Matrix":function(e,t){return r(e,o(t))},"DenseMatrix, any":function(e,t){return s(e,t,i,!1)},"SparseMatrix, any":function(e,t){return a(e,t,i,!1)},"Array, any":function(e,t){return s(n(e),t,i,!1).valueOf()},"any, Array | Matrix":function(e,t){return r(e,o(t))}},i.signatures))})),cu=et("mean",["typed","add","divide"],(function(e){var t=e.add,n=e.divide;return(0,e.typed)("mean",{"Array | Matrix":r,"Array | Matrix, number | BigNumber":function(e,r){try{var i=or(e,r,t),o=Array.isArray(e)?Be(e):e.size();return n(i,o[r])}catch(a){throw os(a,"mean")}},"...":function(e){if(nr(e))throw new TypeError("Scalar values expected in function mean");return r(e)}});function r(e){var r,i=0;if(rr(e,(function(e){try{r=void 0===r?e:t(r,e),i++}catch(n){throw os(n,"mean",e)}})),0===i)throw new Error("Cannot calculate the mean of an empty array");return n(r,i)}})),uu=et("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.add,n=e.subtract,r=e.multiply,i=e.divide,o=e.apply,a=e.isNaN;return(0,e.typed)("variance",{"Array | Matrix":function(e){return c(e,"unbiased")},"Array | Matrix, string":c,"Array | Matrix, number | BigNumber":function(e,t){return u(e,t,"unbiased")},"Array | Matrix, number | BigNumber, string":u,"...":function(e){return c(e,"unbiased")}});function c(e,o){var c=0,u=0;if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(rr(e,(function(e){try{c=t(c,e),u++}catch(n){throw os(n,"variance",e)}})),0===u)throw new Error("Cannot calculate variance of an empty array");var l=i(c,u);if(c=0,rr(e,(function(e){var i=n(e,l);c=t(c,r(i,i))})),a(c))return c;switch(o){case"uncorrected":return i(c,u);case"biased":return i(c,u+1);case"unbiased":var p=s(c)?c.mul(0):0;return 1===u?p:i(c,u-1);default:throw new Error('Unknown normalization "'+o+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(e,t,n){try{if(0===e.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(e,t,(function(e){return c(e,n)}))}catch(r){throw os(r,"variance")}}})),lu=et("var",["variance"],(function(e){var t=e.variance;return function(){Co('Function "var" has been renamed to "variance" in v6.0.0, please use the new function instead.');for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(t,n)}})),pu=et("std",["typed","sqrt","variance"],(function(e){var t=e.sqrt,n=e.variance;return(0,e.typed)("std",{"Array | Matrix":r,"Array | Matrix, string":r,"Array | Matrix, number | BigNumber":r,"Array | Matrix, number | BigNumber, string":r,"...":function(e){return r(e)}});function r(e,r){if(0===e.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return t(n.apply(null,arguments))}catch(i){throw i instanceof TypeError&&-1!==i.message.indexOf(" variance")?new TypeError(i.message.replace(" variance"," std")):i}}})),du=et("multinomial",["typed","add","divide","multiply","factorial","isInteger","isPositive"],(function(e){var t=e.add,n=e.divide,r=e.multiply,i=e.factorial,o=e.isInteger,a=e.isPositive;return(0,e.typed)("multinomial",{"Array | Matrix":function(e){var s=0,c=1;return rr(e,(function(e){if(!o(e)||!a(e))throw new TypeError("Positive integer value expected in function multinomial");s=t(s,e),c=r(c,i(e))})),n(i(s),c)}})})),hu=et("column",["typed","Index","matrix","range"],(function(e){var t=e.Index,n=e.matrix,r=e.range;return(0,e.typed)("column",{"Matrix, number":i,"Array, number":function(e,t){return i(n(q(e)),t).valueOf()}});function i(e,n){if(2!==e.size().length)throw new Error("Only two dimensional matrix is supported");Le(n,e.size()[1]);var i=r(0,e.size()[0]),o=new t(i,n);return e.subset(o)}})),fu=et("usolve",["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.divideScalar,i=e.multiplyScalar,o=e.subtract,a=e.equalScalar,s=e.DenseMatrix,c=Tc({DenseMatrix:s});return t("usolve",{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var n,u,l=(t=c(e,t,!0))._data,p=e._size[0],d=e._values,h=e._index,f=e._ptr,m=[],g=e._size[1]-1;g>=0;g--){var y=l[g][0]||0;if(a(y,0))m[g]=[0];else{var v=0,b=[],A=[],x=f[g],w=f[g+1];for(u=w-1;u>=x;u--)(n=h[u])===g?v=d[u]:n<g&&(b.push(d[u]),A.push(n));if(a(v,0))throw new Error("Linear system cannot be solved since matrix is singular");var _=r(y,v);for(u=0,w=A.length;u<w;u++)l[n=A[u]]=[o(l[n][0],i(_,b[u]))];m[g]=[_]}}return new s({data:m,size:[p,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return u(e,t)},"Array, Array | Matrix":function(e,t){return u(n(e),t).valueOf()}});function u(e,t){for(var n=(t=c(e,t,!0))._data,u=e._size[0],l=[],p=e._data,d=e._size[1]-1;d>=0;d--){var h=n[d][0]||0,f=void 0;if(a(h,0))f=0;else{var m=p[d][d];if(a(m,0))throw new Error("Linear system cannot be solved since matrix is singular");f=r(h,m);for(var g=d-1;g>=0;g--)n[g]=[o(n[g][0]||0,i(f,p[g][d]))]}l[d]=[f]}return new s({data:l,size:[u,1]})}})),mu=et("setIntersect",["typed","size","subset","compareNatural","Index","DenseMatrix"],(function(e){var t=e.size,n=e.subset,r=e.compareNatural,i=e.Index,o=e.DenseMatrix;return(0,e.typed)("setIntersect",{"Array | Matrix, Array | Matrix":function(e,a){var s;if(0===n(t(e),new i(0))||0===n(t(a),new i(0)))s=[];else{var c=Ze(He(Array.isArray(e)?e:e.toArray()).sort(r)),u=Ze(He(Array.isArray(a)?a:a.toArray()).sort(r));s=[];for(var l=0;l<c.length;l++)for(var p=0;p<u.length;p++)if(0===r(c[l].value,u[p].value)&&c[l].identifier===u[p].identifier){s.push(c[l]);break}}return Array.isArray(e)&&Array.isArray(a)?Qe(s):new o(Qe(s))}})}));function gu(e,t){var n,r=t.length,i=[];if(e)for(n=0;n<r;n++)i[e[n]]=t[n];else for(n=0;n<r;n++)i[n]=t[n];return i}var yu=et("lusolve",["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],(function(e){var t=e.typed,n=e.matrix,r=e.lup,i=e.slu,o=e.usolve,a=e.lsolve,s=Tc({DenseMatrix:e.DenseMatrix});return t("lusolve",{"Array, Array | Matrix":function(e,t){e=n(e);var i=r(e);return u(i.L,i.U,i.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var n=r(e);return u(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var n=r(e);return u(n.L,n.U,n.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,n,r){var o=i(e,n,r);return u(o.L,o.U,o.p,o.q,t)},"Object, Array | Matrix":function(e,t){return u(e.L,e.U,e.p,e.q,t)}});function c(e){if(h(e))return e;if(d(e))return n(e);throw new TypeError("Invalid Matrix LU decomposition")}function u(e,t,n,r,i){e=c(e),t=c(t),i=s(e,i,!1),n&&(i._data=gu(n,i._data));var u=a(e,i),l=o(t,u);return r&&(l._data=gu(r,l._data)),l}})),vu=et("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","inv","bignumber","multiply","add"],(function(e){var t=e.config,n=e.matrix,r=e.addScalar,i=e.subtract,o=e.equal,a=e.abs,s=e.atan,c=e.cos,u=e.sin,l=e.multiplyScalar,p=e.inv,d=e.bignumber,h=e.multiply,f=e.add;function m(e,n){var r=e.datatype();if(void 0===r&&(r=e.getDataType()),"number"!==r&&"BigNumber"!==r&&"Fraction"!==r)throw"mixed"===r?new TypeError("Mixed matrix element type is not supported"):new TypeError("Matrix element type not supported ("+r+")");if(function(e,t){for(var n=0;n<t;n++)for(var r=n;r<t;r++)if(!o(e[n][r],e[r][n]))throw new TypeError("Input matrix is not symmetric")}(e.toArray(),n),"number"===r)return g(e.toArray());if("Fraction"===r){for(var c=e.toArray(),u=0;u<n;u++)for(var f=u;f<n;f++)c[u][f]=c[u][f].valueOf(),c[f][u]=c[u][f];return g(e.toArray())}return"BigNumber"===r?function(e){for(var n,r=e.length,o=a(t.epsilon/r),c=new Array(r),u=0;u<r;u++)c[u]=S(r,0),c[u][u]=1;for(var f,m,g=w(e);a(g[1])>=a(o);){var y=g[0][0],A=g[0][1];f=e[y][A],m=i(e[A][A],e[y][y]),e=b(e,n=a(m)<=t.epsilon?d(-1).acos().div(4):l(.5,s(h(2,f,p(m)))),y,A),c=v(c,n,y,A),g=w(e)}for(var x=S(r,0),T=0;T<r;T++)x[T]=e[T][T];return _(q(x),q(c))}(e.toArray()):void 0}function g(e){for(var n,r=e.length,i=Math.abs(t.epsilon/r),o=new Array(r),a=0;a<r;a++)o[a]=S(r,0),o[a][a]=1;for(var s=x(e);Math.abs(s[1])>=Math.abs(i);){var c=s[0][0],u=s[0][1];e=A(e,(l=e[c][c],p=e[u][u],d=e[c][u],n=Math.abs(p-l)<=t.epsilon?Math.PI/4:.5*Math.atan(2*d/(p-l))),c,u),o=y(o,n,c,u),s=x(e)}for(var l,p,d,h=S(r,0),f=0;f<r;f++)h[f]=e[f][f];return _(q(h),q(o))}function y(e,t,n,r){for(var i=e.length,o=Math.cos(t),a=Math.sin(t),s=S(i,0),c=S(i,0),u=0;u<i;u++)s[u]=o*e[u][n]-a*e[u][r],c[u]=a*e[u][n]+o*e[u][r];for(var l=0;l<i;l++)e[l][n]=s[l],e[l][r]=c[l];return e}function v(e,t,n,o){for(var a=e.length,s=c(t),p=u(t),h=S(a,d(0)),f=S(a,d(0)),m=0;m<a;m++)h[m]=i(l(s,e[m][n]),l(p,e[m][o])),f[m]=r(l(p,e[m][n]),l(s,e[m][o]));for(var g=0;g<a;g++)e[g][n]=h[g],e[g][o]=f[g];return e}function b(e,t,n,o){for(var a=e.length,s=d(c(t)),p=d(u(t)),m=l(s,s),g=l(p,p),y=S(a,d(0)),v=S(a,d(0)),b=h(d(2),s,p,e[n][o]),A=r(i(l(m,e[n][n]),b),l(g,e[o][o])),x=f(l(g,e[n][n]),b,l(m,e[o][o])),w=0;w<a;w++)y[w]=i(l(s,e[n][w]),l(p,e[o][w])),v[w]=r(l(p,e[n][w]),l(s,e[o][w]));e[n][n]=A,e[o][o]=x,e[n][o]=d(0),e[o][n]=d(0);for(var _=0;_<a;_++)_!==n&&_!==o&&(e[n][_]=y[_],e[_][n]=y[_],e[o][_]=v[_],e[_][o]=v[_]);return e}function A(e,t,n,r){for(var i=e.length,o=Math.cos(t),a=Math.sin(t),s=o*o,c=a*a,u=S(i,0),l=S(i,0),p=s*e[n][n]-2*o*a*e[n][r]+c*e[r][r],d=c*e[n][n]+2*o*a*e[n][r]+s*e[r][r],h=0;h<i;h++)u[h]=o*e[n][h]-a*e[r][h],l[h]=a*e[n][h]+o*e[r][h];e[n][n]=p,e[r][r]=d,e[n][r]=0,e[r][n]=0;for(var f=0;f<i;f++)f!==n&&f!==r&&(e[n][f]=u[f],e[f][n]=u[f],e[r][f]=l[f],e[f][r]=l[f]);return e}function x(e){for(var t=e.length,n=0,r=[0,1],i=0;i<t;i++)for(var o=i+1;o<t;o++)Math.abs(n)<Math.abs(e[i][o])&&(n=Math.abs(e[i][o]),r=[i,o]);return[r,n]}function w(e){for(var t=e.length,n=0,r=[0,1],i=0;i<t;i++)for(var o=i+1;o<t;o++)a(n)<a(e[i][o])&&(n=a(e[i][o]),r=[i,o]);return[r,n]}function _(e,t){for(var n=e.length,r=Array(n),i=Array(n),o=0;o<n;o++)i[o]=Array(n);for(var a=0;a<n;a++){for(var s=0,c=e[0],u=0;u<e.length;u++)e[u]<c&&(c=e[s=u]);r[a]=e.splice(s,1)[0];for(var l=0;l<n;l++)i[l][a]=t[l][s],t[l].splice(s,1)}return[q(r),q(i)]}function S(e,t){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n}return(0,e.typed)("eigs",{Array:function(e){var t=n(e),r=t.size();if(2!==r.length||r[0]!==r[1])throw new RangeError("Matrix must be square (size: "+Me(r)+")");var i=m(t,r[0]);return{values:i[0],vectors:i[1]}},Matrix:function(e){var t=e.size();if(2!==t.length||t[0]!==t[1])throw new RangeError("Matrix must be square (size: "+Me(t)+")");var r=m(e,t[0]);return{values:n(r[0]),vectors:n(r[1])}}})})),bu=et("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar"],(function(e){var t=e.config,n=e.abs,r=e.add,i=e.addScalar,o=e.matrix,a=e.multiply,c=e.multiplyScalar,u=e.divideScalar,l=e.subtract,p=e.smaller,d=e.equalScalar,h=(0,e.typed)("intersect",{"Array, Array, Array":function(e,t,n){if(!g(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function(e){return 4===e.length&&f(e[0])&&f(e[1])&&f(e[2])&&f(e[3])}(n))throw new TypeError("Array with 4 numbers expected as third argument");return function(e,t,n,r,o,a,s,p,d,h){var f=c(e,s),m=c(r,s),g=c(t,p),y=c(o,p),v=c(n,d),b=c(a,d),A=u(l(l(l(h,f),g),v),l(l(l(i(i(m,y),b),f),g),v));return[i(e,c(A,l(r,e))),i(t,c(A,l(o,t))),i(n,c(A,l(a,n)))]}(e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2],n[3])},"Array, Array, Array, Array":function(e,o,s,h){if(2===e.length){if(!m(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!m(o))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!m(s))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!m(h))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(e,o,s,d){var h=e,f=s,m=l(h,o),g=l(f,d),y=l(c(m[0],g[1]),c(g[0],m[1]));if(p(n(y),t.epsilon))return null;var v=c(g[0],h[1]),b=c(g[1],h[0]),A=c(g[0],f[1]),x=c(g[1],f[0]),w=u(i(l(l(v,b),A),x),y);return r(a(m,w),h)}(e,o,s,h)}if(3===e.length){if(!g(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!g(o))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!g(s))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!g(h))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A=o[0],x=o[1],w=o[2],k=y(f=e[0],_=s[0],P=h[0],_,v=e[1],S=s[1],C=h[1],S,b=e[2],T=s[2],E=h[2],T),O=y(P,_,A,f,C,S,x,v,E,T,w,b),M=y(f,_,A,f,v,S,x,v,b,T,w,b),N=y(P,_,P,_,C,S,C,S,E,T,E,T),I=y(A,f,A,f,x,v,x,v,w,b,w,b),D=u(l(c(k,O),c(M,N)),l(c(I,N),c(O,O))),R=u(i(k,c(D,O)),N),j=i(f,c(D,l(A,f))),B=i(v,c(D,l(x,v))),F=i(b,c(D,l(w,b))),L=i(_,c(R,l(P,_))),U=i(S,c(R,l(C,S))),z=i(T,c(R,l(E,T))),d(j,L)&&d(B,U)&&d(F,z)?[j,B,F]:null}throw new TypeError("Arrays with two or thee dimensional points expected");var f,v,b,A,x,w,_,S,T,P,C,E,k,O,M,N,I,D,R,j,B,F,L,U,z},"Matrix, Matrix, Matrix":function(e,t,n){return o(h(e.valueOf(),t.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(e,t,n,r){return o(h(e.valueOf(),t.valueOf(),n.valueOf(),r.valueOf()))}});function f(e){return"number"==typeof e||s(e)}function m(e){return 2===e.length&&f(e[0])&&f(e[1])}function g(e){return 3===e.length&&f(e[0])&&f(e[1])&&f(e[2])}function y(e,t,n,r,o,a,s,u,p,d,h,f){var m=c(l(e,t),l(n,r)),g=c(l(o,a),l(s,u)),y=c(l(p,d),l(h,f));return i(i(m,g),y)}return h})),Au=et("bellNumbers",["typed","addScalar","isNegative","isInteger","stirlingS2"],(function(e){var t=e.addScalar,n=e.isNegative,r=e.isInteger,i=e.stirlingS2;return(0,e.typed)("bellNumbers",{"number | BigNumber":function(e){if(!r(e)||n(e))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var o=0,a=0;a<=e;a++)o=t(o,i(e,a));return o}})})),xu=et("log",["config","typed","divideScalar","Complex"],(function(e){var t=e.config,n=e.divideScalar,r=e.Complex,i=(0,e.typed)("log",{number:function(e){return e>=0||t.predictable?Dr(e):new r(e,0).log()},Complex:function(e){return e.log()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.ln():new r(e.toNumber(),0).log()},"Array | Matrix":function(e){return ir(e,i)},"any, any":function(e,t){return n(i(e),i(t))}});return i})),wu=et("unit",["typed","Unit"],(function(e){var t=e.Unit,n=(0,e.typed)("unit",{Unit:function(e){return e.clone()},string:function(e){return t.isValuelessUnit(e)?new t(null,e):t.parse(e,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(e,n){return new t(e,n)},"Array | Matrix":function(e){return ir(e,n)}});return n})),_u=et("sqrtm",["typed","abs","add","multiply","sqrt","subtract","inv","size","max","identity"],(function(e){var t=e.abs,n=e.add,r=e.multiply,i=e.sqrt,o=e.subtract,a=e.inv,s=e.size,c=e.max,u=e.identity;function l(e){var i,l=0,p=e,d=u(s(e));do{var h=p;if(p=r(.5,n(h,a(d))),d=r(.5,n(d,a(h))),(i=c(t(o(p,h))))>1e-6&&++l>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(i>1e-6);return p}return(0,e.typed)("sqrtm",{"Array | Matrix":function(e){var t=h(e)?e.size():Be(e);switch(t.length){case 1:if(1===t[0])return i(e);throw new RangeError("Matrix must be square (size: "+Me(t)+")");case 2:if(t[0]===t[1])return l(e);throw new RangeError("Matrix must be square (size: "+Me(t)+")")}}})})),Su=et("kldivergence",["typed","matrix","divide","sum","multiply","dotDivide","log","isNumeric"],(function(e){var t=e.matrix,n=e.divide,r=e.sum,i=e.multiply,o=e.dotDivide,a=e.log,s=e.isNumeric;return(0,e.typed)("kldivergence",{"Array, Array":function(e,n){return c(t(e),t(n))},"Matrix, Array":function(e,n){return c(e,t(n))},"Array, Matrix":function(e,n){return c(t(e),n)},"Matrix, Matrix":function(e,t){return c(e,t)}});function c(e,t){var c=t.size().length,u=e.size().length;if(c>1)throw new Error("first object must be one dimensional");if(u>1)throw new Error("second object must be one dimensional");if(c!==u)throw new Error("Length of two vectors must be equal");if(0===r(e))throw new Error("Sum of elements in first object must be non zero");if(0===r(t))throw new Error("Sum of elements in second object must be non zero");var l=n(e,r(e)),p=n(t,r(t)),d=r(i(l,a(o(l,p))));return s(d)?d:Number.NaN}})),Tu=et("log1p",["typed","config","divideScalar","log","Complex"],(function(e){var t=e.config,n=e.divideScalar,r=e.log,i=e.Complex,o=(0,e.typed)("log1p",{number:function(e){return e>=-1||t.predictable?le(e):a(new i(e,0))},Complex:a,BigNumber:function(e){var n=e.plus(1);return!n.isNegative()||t.predictable?n.ln():a(new i(e.toNumber(),0))},"Array | Matrix":function(e){return ir(e,o)},"any, any":function(e,t){return n(o(e),r(t))}});function a(e){var t=e.re+1;return new i(Math.log(Math.sqrt(t*t+e.im*e.im)),Math.atan2(e.im,t))}return o})),Pu=et("median",["typed","add","divide","compare","partitionSelect"],(function(e){var t=e.typed,n=e.add,r=e.divide,i=e.compare,o=e.partitionSelect,a=t("median",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(e,t){throw new Error("median(A, dim) is not yet supported")},"...":function(e){if(nr(e))throw new TypeError("Scalar values expected in function median");return s(e)}});function s(e){try{var t=(e=He(e.valueOf())).length;if(0===t)throw new Error("Cannot calculate median of an empty array");if(t%2==0){for(var n=t/2-1,r=o(e,n+1),a=e[n],s=0;s<n;++s)i(e[s],a)>0&&(a=e[s]);return u(a,r)}var l=o(e,(t-1)/2);return c(l)}catch(p){throw os(p,"median")}}var c=t({"number | BigNumber | Complex | Unit":function(e){return e}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return r(n(e,t),2)}});return a})),Cu=et("setUnion",["typed","size","concat","subset","setIntersect","setSymDifference","Index"],(function(e){var t=e.size,n=e.concat,r=e.subset,i=e.setIntersect,o=e.setSymDifference,a=e.Index;return(0,e.typed)("setUnion",{"Array | Matrix, Array | Matrix":function(e,s){if(0===r(t(e),new a(0)))return He(s);if(0===r(t(s),new a(0)))return He(e);var c=He(e),u=He(s);return n(o(c,u),i(c,u))}})})),Eu=et("mad",["typed","abs","map","median","subtract"],(function(e){var t=e.abs,n=e.map,r=e.median,i=e.subtract;return(0,e.typed)("mad",{"Array | Matrix":o,"...":function(e){return o(e)}});function o(e){if(0===(e=He(e.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var o=r(e);return r(n(e,(function(e){return t(i(e,o))})))}catch(a){throw a instanceof TypeError&&-1!==a.message.indexOf("median")?new TypeError(a.message.replace("median","mad")):os(a,"mad")}}})),ku=rt({}),Ou=st({}),Mu=ct({}),Nu=ut({}),Iu=wt({}),Du=_t({}),Ru=xt({}),ju=Wt({config:oe}),Bu=Ht({}),Fu=Gt({}),Lu=jt({Complex:Ou}),Uu=Mt({BigNumber:ju,config:oe}),zu=It({BigNumber:ju,config:oe}),Vu=Tt({BigNumber:ju,config:oe}),Wu=Pt({BigNumber:ju,config:oe}),Hu=Dt({BigNumber:ju,config:oe}),Gu=Ct({BigNumber:ju,config:oe}),qu=xn({BigNumber:ju,config:oe}),Xu=dn({BigNumber:ju,config:oe}),Ku=Mn({BigNumber:ju,config:oe}),Yu=An({BigNumber:ju,config:oe}),Zu=Xn({}),Qu=Et({BigNumber:ju,config:oe}),Ju=St({BigNumber:ju,config:oe}),$u=Nt({BigNumber:ju,config:oe}),el=Lt({}),tl=Kn({Matrix:Bu}),nl=kt({BigNumber:ju,config:oe}),rl=Jn({BigNumber:ju,Complex:Ou,DenseMatrix:tl,Fraction:Zu}),il=cr({typed:rl}),ol=ur({typed:rl}),al=fr({typed:rl}),sl=mr({typed:rl}),cl=yr({config:oe,typed:rl}),ul=vr({typed:rl}),ll=br({typed:rl}),pl=Ar({Complex:Ou,typed:rl}),dl=xr({typed:rl}),hl=Hr({BigNumber:ju,config:oe,typed:rl}),fl=Gr({isInteger:il,typed:rl}),ml=Xr({typed:rl}),gl=Kr({Complex:Ou,typed:rl}),yl=Yr({Complex:Ou,config:oe,typed:rl}),vl=Zr({typed:rl}),bl=Qr({BigNumber:ju,Fraction:Zu,complex:pl,typed:rl}),Al=Jr({typed:rl}),xl=mi({typed:rl}),wl=gi({typed:rl}),_l=yi({typed:rl}),Sl=wi({typed:rl}),Tl=_i({typed:rl}),Pl=Ti({typed:rl}),Cl=Ci({typed:rl}),El=ki({typed:rl}),kl=Ri({typed:rl}),Ol=ji({typed:rl}),Ml=Bi({Complex:Ou,config:oe,typed:rl}),Nl=eo({BigNumber:ju,typed:rl}),Il=to({BigNumber:ju,Complex:Ou,config:oe,typed:rl}),Dl=no({BigNumber:ju,Complex:Ou,config:oe,typed:rl}),Rl=ro({Complex:Ou,config:oe,typed:rl}),jl=io({typed:rl}),Bl=oo({Complex:Ou,config:oe,typed:rl}),Fl=ao({typed:rl}),Ll=so({BigNumber:ju,typed:rl}),Ul=co({BigNumber:ju,typed:rl}),zl=uo({BigNumber:ju,typed:rl}),Vl=lo({typed:rl}),Wl=po({typed:rl}),Hl=mo({typed:rl}),Gl=xo({config:oe,typed:rl}),ql=So({config:oe,typed:rl}),Xl=Ot({BigNumber:ju,config:oe}),Kl=To({typed:rl}),Yl=Po({isNumeric:ol,typed:rl}),Zl=Eo({typed:rl}),Ql=Oo({typed:rl}),Jl=Mo({Fraction:Zu,typed:rl}),$l=No({typed:rl}),ep=Io({typed:rl}),tp=Do({typed:rl}),np=Ro({Complex:Ou,config:oe,typed:rl}),rp=jo({Complex:Ou,config:oe,typed:rl}),ip=Bo({typed:rl}),op=Fo({typed:rl}),ap=Lo({isNaN:sl,isNumeric:ol,typed:rl}),sp=Uo({typed:rl}),cp=Vo({Complex:Ou,config:oe,typed:rl}),up=Wo({BigNumber:ju,typed:rl}),lp=Ho({typed:rl}),pp=Go({typed:rl}),dp=qo({BigNumber:ju,typed:rl}),hp=Xo({typed:rl}),fp=Ko({typed:rl}),mp=Zo({config:oe,typed:rl}),gp=Rt({BigNumber:ju,config:oe}),yp=Qo({typed:rl}),vp=Jo({Matrix:Bu,equalScalar:cl,typed:rl}),bp=$o({DenseMatrix:tl,Matrix:Bu,SparseMatrix:vp,typed:rl}),Ap=ea({BigNumber:ju,Complex:Ou,Fraction:Zu,config:oe,isNegative:yp,matrix:bp,typed:rl,unaryMinus:$l}),xp=aa({BigNumber:ju,DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl}),wp=da({DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl}),_p=fa({BigNumber:ju,equalScalar:cl,matrix:bp,typed:rl}),Sp=ma({BigNumber:ju,config:oe,matrix:bp,typed:rl}),Tp=ga({equalScalar:cl,matrix:bp,typed:rl}),Pp=va({DenseMatrix:tl,matrix:bp,typed:rl}),Cp=ba({DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl}),Ep=Aa({isInteger:il,matrix:bp,typed:rl}),kp=wa({DenseMatrix:tl,SparseMatrix:vp,matrix:bp,typed:rl}),Op=_a({BigNumber:ju,DenseMatrix:tl,SparseMatrix:vp,config:oe,matrix:bp,typed:rl}),Mp=Sa({BigNumber:ju,config:oe,matrix:bp,typed:rl}),Np=Ta({isInteger:il,matrix:bp,typed:rl}),Ip=ka({matrix:bp,config:oe,typed:rl}),Dp=Fa({matrix:bp,typed:rl}),Rp=Wa({BigNumber:ju,config:oe,matrix:bp,typed:rl}),jp=Ha({matrix:bp,typed:rl}),Bp=Ya({BigNumber:ju,DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl,zeros:Rp}),Fp=Ja({DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl,zeros:Rp}),Lp=$a({DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl,zeros:Rp}),Up=es({BigNumber:ju,DenseMatrix:tl,Fraction:Zu,config:oe,equalScalar:cl,matrix:bp,typed:rl}),zp=ts({matrix:bp,typed:rl}),Vp=ns({DenseMatrix:tl,config:oe,matrix:bp,typed:rl}),Wp=rs({DenseMatrix:tl,config:oe,matrix:bp,typed:rl}),Hp=is({DenseMatrix:tl,config:oe,equalScalar:cl,matrix:bp,typed:rl}),Gp=as({larger:Wp,typed:rl}),qp=ss({DenseMatrix:tl,smaller:Vp}),Xp=cs({larger:Wp,smaller:Vp}),Kp=us({SparseMatrix:vp,typed:rl}),Yp=ls({BigNumber:ju,Complex:Ou,config:oe,typed:rl}),Zp=ds({BigNumber:ju,DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl}),Qp=hs({BigNumber:ju,typed:rl}),Jp=fs({DenseMatrix:tl,SparseMatrix:vp,addScalar:ep,equalScalar:cl,matrix:bp,typed:rl}),$p=ms({add:Jp,matrix:bp,typed:rl}),ed=gs({addScalar:ep,combinations:Hl,isInteger:il,isNegative:yp,isPositive:al,larger:Wp,typed:rl}),td=ys({typed:rl}),nd=vs({typed:rl}),rd=bs({config:oe,round:Bp,typed:rl}),id=As({addScalar:ep,equalScalar:cl,matrix:bp,multiplyScalar:vl,typed:rl}),od=xs({equalScalar:cl,matrix:bp,multiplyScalar:vl,typed:rl}),ad=ws({typed:rl}),sd=_s({matrix:bp,typed:rl}),cd=Ts({config:oe,matrix:bp}),ud=Ps({matrix:bp,typed:rl}),ld=Cs({multiply:id,typed:rl}),pd=Es({Complex:Ou,config:oe,fraction:Jl,identity:Op,matrix:bp,multiply:id,number:ul,typed:rl}),dd=ks({DenseMatrix:tl,equalScalar:cl,matrix:bp,pow:pd,typed:rl}),hd=Os({DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl,zeros:Rp}),fd=Is({compare:Up,typed:rl}),md=Ds({compareText:zp,isZero:td,typed:rl}),gd=Rs({DenseMatrix:tl,config:oe,matrix:bp,typed:rl}),yd=js({compare:Up,isNaN:sl,isNumeric:ol,typed:rl}),vd=Bs({smaller:Vp,typed:rl}),bd=Fs({FibonacciHeap:Xp,addScalar:ep,equalScalar:cl}),Ad=Ls({BigNumber:ju,Complex:Ou,config:oe,typed:rl}),xd=Us({typed:rl}),wd=zs({compareNatural:fd,typed:rl}),_d=Vs({abs:nd,add:Jp,conj:ip,equalScalar:cl,larger:Wp,matrix:bp,multiply:id,pow:pd,smaller:Vp,sqrt:rp,typed:rl}),Sd=Ws({add:Jp,compare:Up,multiply:id,partitionSelect:yd,typed:rl}),Td=Xs({BigNumber:ju,Complex:Ou,config:oe,multiplyScalar:vl,pow:pd,typed:rl}),Pd=Ks({BigNumber:ju,typed:rl}),Cd=Ys({equalScalar:cl,matrix:bp,typed:rl}),Ed=Zs({DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl}),kd=Qs({matrix:bp,multiplyScalar:vl,typed:rl}),Od=Js({matrix:bp,typed:rl}),Md=$s({bignumber:Pd,fraction:Jl,number:ul}),Nd=ec({equalScalar:cl,matrix:bp,not:Sl,typed:rl,zeros:Rp}),Id=tc({DenseMatrix:tl,config:oe,matrix:bp,typed:rl}),Dd=nc({compare:Up,compareNatural:fd,matrix:bp,typed:rl}),Rd=rc({BigNumber:ju,typed:rl}),jd=ic({add:Jp,multiply:id,typed:rl}),Bd=oc({bignumber:Pd,fraction:Jl,add:Jp,config:oe,typed:rl}),Fd=ac({gamma:Td,typed:rl}),Ld=sc({factorial:Fd,typed:rl}),Ud=uc({config:oe,round:Bp,typed:rl}),zd=lc({DenseMatrix:tl,addScalar:ep,equalScalar:cl,matrix:bp,typed:rl,unaryMinus:$l}),Vd=dc({matrix:bp,multiply:id,subtract:zd,typed:rl}),Wd=hc({conj:ip,transpose:Od,typed:rl}),Hd=fc({DenseMatrix:tl,equalScalar:cl,matrix:bp,typed:rl}),Gd=mc({ImmutableDenseMatrix:qp}),qd=gc({DenseMatrix:tl,Index:Gd,compareNatural:fd,size:Ip,subset:Dp,typed:rl}),Xd=yc({DenseMatrix:tl,Index:Gd,compareNatural:fd,size:Ip,subset:Dp,typed:rl}),Kd=vc({Index:Gd,compareNatural:fd,size:Ip,subset:Dp,typed:rl}),Yd=bc({Index:Gd,compareNatural:fd,size:Ip,subset:Dp,typed:rl}),Zd=Ac({Index:Gd,typed:rl}),Qd=xc({Complex:Ou,ceil:Ud,floor:rd,typed:rl}),Jd=wc({bignumber:Pd,matrix:bp,config:oe,larger:Wp,largerEq:gd,smaller:Vp,smallerEq:Id,typed:rl}),$d=_c({numeric:Md,typed:rl}),eh=Sc({Complex:Ou,config:oe,divideScalar:$d,typed:rl}),th=Pc({DenseMatrix:tl,divideScalar:$d,equalScalar:cl,matrix:bp,multiplyScalar:vl,subtract:zd,typed:rl}),nh=Cc({equal:Hd,typed:rl}),rh=Ec({DenseMatrix:tl,Index:Gd,compareNatural:fd,size:Ip,subset:Dp,typed:rl}),ih=kc({Index:Gd,compareNatural:fd,size:Ip,subset:Dp,typed:rl}),oh=Oc({abs:nd,addScalar:ep,divideScalar:$d,isPositive:al,multiplyScalar:vl,smaller:Vp,sqrt:rp,typed:rl}),ah=Mc({DenseMatrix:tl,Spa:bd,SparseMatrix:vp,abs:nd,addScalar:ep,divideScalar:$d,equalScalar:cl,larger:Wp,matrix:bp,multiplyScalar:vl,subtract:zd,typed:rl,unaryMinus:$l}),sh=Hc({SparseMatrix:vp,abs:nd,add:Jp,divideScalar:$d,larger:Wp,largerEq:gd,multiply:id,subtract:zd,transpose:Od,typed:rl}),ch=Gc({lup:ah,matrix:bp,multiply:id,subtract:zd,typed:rl,unaryMinus:$l}),uh=qc({abs:nd,addScalar:ep,divideScalar:$d,multiplyScalar:vl,sqrt:rp,subtract:zd,typed:rl,unaryMinus:$l}),lh=Xc({addScalar:ep,combinations:Hl,divideScalar:$d,factorial:Fd,isInteger:il,isNegative:yp,larger:Wp,multiplyScalar:vl,pow:pd,subtract:zd,typed:rl}),ph=Kc({addScalar:ep,combinations:Hl,divideScalar:$d,isInteger:il,isNegative:yp,multiplyScalar:vl,typed:rl}),dh=Yc({DenseMatrix:tl,matrix:bp,typed:rl}),hh=Zc({Index:Gd,matrix:bp,range:Jd,typed:rl}),fh=Qc({DenseMatrix:tl,divideScalar:$d,equalScalar:cl,matrix:bp,typed:rl}),mh=eu({BigNumber:ju,Complex:Ou,Fraction:Zu,abs:nd,addScalar:ep,config:oe,divideScalar:$d,equal:Hd,fix:Qd,format:kl,isNumeric:ol,multiplyScalar:vl,number:ul,pow:pd,round:Bp,subtract:zd}),gh=tu({Unit:mh,typed:rl}),yh=nu({Index:Gd,concat:Ep,setDifference:rh,size:Ip,subset:Dp,typed:rl}),vh=iu({addScalar:ep,complex:pl,conj:ip,divideScalar:$d,equal:Hd,identity:Op,isZero:td,matrix:bp,multiplyScalar:vl,sign:bl,sqrt:rp,subtract:zd,typed:rl,unaryMinus:$l,zeros:Rp}),bh=ou({abs:nd,addScalar:ep,det:ch,divideScalar:$d,identity:Op,matrix:bp,multiply:id,typed:rl,unaryMinus:$l}),Ah=au({abs:nd,add:Jp,identity:Op,inv:bh,multiply:id,typed:rl}),xh=su({divideScalar:$d,equalScalar:cl,inv:bh,matrix:bp,multiply:id,typed:rl}),wh=cu({add:Jp,divide:xh,typed:rl}),_h=uu({add:Jp,apply:fl,divide:xh,isNaN:sl,multiply:id,subtract:zd,typed:rl}),Sh=pu({sqrt:rp,typed:rl,variance:_h}),Th=du({add:Jp,divide:xh,factorial:Fd,isInteger:il,isPositive:al,multiply:id,typed:rl}),Ph=wn({BigNumber:ju,Unit:mh,config:oe}),Ch=tn({BigNumber:ju,Unit:mh,config:oe}),Eh=Sn({BigNumber:ju,Unit:mh,config:oe}),kh=nn({BigNumber:ju,Unit:mh,config:oe}),Oh=mn({BigNumber:ju,Unit:mh,config:oe}),Mh=ln({BigNumber:ju,Unit:mh,config:oe}),Nh=Tn({BigNumber:ju,Unit:mh,config:oe}),Ih=Pn({BigNumber:ju,Unit:mh,config:oe}),Dh=Xt({BigNumber:ju,Unit:mh,config:oe}),Rh=hn({BigNumber:ju,Unit:mh,config:oe}),jh=sn({BigNumber:ju,Unit:mh,config:oe}),Bh=Zt({BigNumber:ju,Unit:mh,config:oe}),Fh=Rn({BigNumber:ju,Unit:mh,config:oe}),Lh=kn({BigNumber:ju,Unit:mh,config:oe}),Uh=gn({BigNumber:ju,Unit:mh,config:oe}),zh=zn({BigNumber:ju,Unit:mh,config:oe}),Vh=Fn({BigNumber:ju,Unit:mh,config:oe}),Wh=Vn({BigNumber:ju,Unit:mh,config:oe}),Hh=fn({BigNumber:ju,Unit:mh,config:oe}),Gh=Yt({BigNumber:ju,Unit:mh,config:oe}),qh=Nn({BigNumber:ju,Unit:mh,config:oe}),Xh=In({BigNumber:ju,Unit:mh,config:oe}),Kh=Jt({BigNumber:ju,Unit:mh,config:oe}),Yh=hu({Index:Gd,matrix:bp,range:Jd,typed:rl}),Zh=fu({DenseMatrix:tl,divideScalar:$d,equalScalar:cl,matrix:bp,multiplyScalar:vl,subtract:zd,typed:rl}),Qh=mu({DenseMatrix:tl,Index:Gd,compareNatural:fd,size:Ip,subset:Dp,typed:rl}),Jh=yu({DenseMatrix:tl,lsolve:th,lup:ah,matrix:bp,slu:sh,typed:rl,usolve:Zh}),$h=vu({abs:nd,add:Jp,addScalar:ep,atan:jl,bignumber:Pd,config:oe,cos:pp,equal:Hd,inv:bh,matrix:bp,multiply:id,multiplyScalar:vl,sin:hp,subtract:zd,typed:rl}),ef=bu({abs:nd,add:Jp,addScalar:ep,config:oe,divideScalar:$d,equalScalar:cl,matrix:bp,multiply:id,multiplyScalar:vl,smaller:Vp,subtract:zd,typed:rl}),tf=Au({addScalar:ep,isInteger:il,isNegative:yp,stirlingS2:lh,typed:rl}),nf=_n({BigNumber:ju,Unit:mh,config:oe}),rf=un({BigNumber:ju,Unit:mh,config:oe}),of=Qt({BigNumber:ju,Unit:mh,config:oe}),af=pn({BigNumber:ju,Unit:mh,config:oe}),sf=Bn({BigNumber:ju,Unit:mh,config:oe}),cf=Cn({BigNumber:ju,Unit:mh,config:oe}),uf=jn({BigNumber:ju,Unit:mh,config:oe}),lf=an({BigNumber:ju,Unit:mh,config:oe}),pf=Ln({BigNumber:ju,Unit:mh,config:oe}),df=yn({BigNumber:ju,Unit:mh,config:oe}),hf=qt({BigNumber:ju,Unit:mh,config:oe}),ff=Dn({BigNumber:ju,Unit:mh,config:oe}),mf=xu({Complex:Ou,config:oe,divideScalar:$d,typed:rl}),gf=wu({Unit:mh,typed:rl}),yf=_u({abs:nd,add:Jp,identity:Op,inv:bh,max:Gp,multiply:id,size:Ip,sqrt:rp,subtract:zd,typed:rl}),vf=Su({divide:xh,dotDivide:fh,isNumeric:ol,log:mf,matrix:bp,multiply:id,sum:Bd,typed:rl}),bf=cn({BigNumber:ju,Unit:mh,config:oe}),Af=en({BigNumber:ju,Unit:mh,config:oe}),xf=rn({BigNumber:ju,Unit:mh,config:oe}),wf=On({BigNumber:ju,Unit:mh,config:oe}),_f=Un({BigNumber:ju,Unit:mh,config:oe}),Sf=bn({BigNumber:ju,Unit:mh,config:oe}),Tf=Tu({Complex:Ou,config:oe,divideScalar:$d,log:mf,typed:rl}),Pf=Pu({add:Jp,compare:Up,divide:xh,partitionSelect:yd,typed:rl}),Cf=En({BigNumber:ju,Unit:mh,config:oe}),Ef=Kt({BigNumber:ju,Unit:mh,config:oe}),kf=Cu({Index:Gd,concat:Ep,setIntersect:Qh,setSymDifference:yh,size:Ip,subset:Dp,typed:rl}),Of=on({BigNumber:ju,Unit:mh,config:oe}),Mf=$t({BigNumber:ju,Unit:mh,config:oe}),Nf=Eu({abs:nd,map:Cl,median:Pf,subtract:zd,typed:rl}),If=vn({BigNumber:ju,Unit:mh,config:oe}),Df={end:!0};function Rf(e){return(Rf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var jf=et("Node",["mathWithTransform"],(function(e){var t=e.mathWithTransform;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.evaluate=function(e){return this.compile().evaluate(e)},n.prototype.eval=function(e){return Co("Method Node.eval is renamed to Node.evaluate. Please use the new method name."),this.evaluate(e)},n.prototype.type="Node",n.prototype.isNode=!0,n.prototype.comment="",n.prototype.compile=function(){var e=this._compile(t,{}),n={};function r(t){var r=t||{};return function(e){for(var t in e)if(J(e,t)&&t in Df)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}(r),e(r,n,null)}return{evaluate:r,eval:function(e){return Co("Method eval is renamed to evaluate. Please use the new method."),r(e)}}},n.prototype._compile=function(e,t){throw new Error("Method _compile should be implemented by type "+this.type)},n.prototype.forEach=function(e){throw new Error("Cannot run forEach on a Node interface")},n.prototype.map=function(e){throw new Error("Cannot run map on a Node interface")},n.prototype._ifNode=function(e){if(!B(e))throw new TypeError("Callback function must return a Node");return e},n.prototype.traverse=function(e){e(this,null,null),function e(t,n){t.forEach((function(t,r,i){n(t,r,i),e(t,n)}))}(this,e)},n.prototype.transform=function(e){return function t(n,r,i){var o=e(n,r,i);return o!==n?o:n.map(t)}(this,null,null)},n.prototype.filter=function(e){var t=[];return this.traverse((function(n,r,i){e(n,r,i)&&t.push(n)})),t},n.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},n.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},n.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},n.prototype.cloneDeep=function(){return this.map((function(e){return e.cloneDeep()}))},n.prototype.equals=function(e){return!!e&&Y(this,e)},n.prototype.toString=function(e){var t;if(e&&"object"===Rf(e))switch(Rf(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toString(e)},n.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},n.prototype.toHTML=function(e){var t;if(e&&"object"===Rf(e))switch(Rf(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this.toHTML(e)},n.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},n.prototype.toTex=function(e){var t;if(e&&"object"===Rf(e))switch(Rf(e.handler)){case"object":case"undefined":break;case"function":t=e.handler(this,e);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==t?t:this._toTex(e)},n.prototype._toTex=function(e){throw new Error("_toTex not implemented for "+this.type)},n.prototype.getIdentifier=function(){return this.type},n.prototype.getContent=function(){return this},n}),{isClass:!0,isNode:!0}),Bf=et("ArrayNode",["Node"],(function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=e||[],!Array.isArray(this.items)||!this.items.every(B))throw new TypeError("Array containing Nodes expected");var n=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:n,set:n})}return(t.prototype=new(0,e.Node)).type="ArrayNode",t.prototype.isArrayNode=!0,t.prototype._compile=function(e,t){var n=Ge(this.items,(function(n){return n._compile(e,t)}));if("Array"!==e.config.matrix){var r=e.matrix;return function(e,t,i){return r(Ge(n,(function(n){return n(e,t,i)})))}}return function(e,t,r){return Ge(n,(function(n){return n(e,t,r)}))}},t.prototype.forEach=function(e){for(var t=0;t<this.items.length;t++)e(this.items[t],"items["+t+"]",this)},t.prototype.map=function(e){for(var n=[],r=0;r<this.items.length;r++)n[r]=this._ifNode(e(this.items[r],"items["+r+"]",this));return new t(n)},t.prototype.clone=function(){return new t(this.items.slice(0))},t.prototype._toString=function(e){return"["+this.items.map((function(t){return t.toString(e)})).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},t.fromJSON=function(e){return new t(e.items)},t.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(t){return t.toHTML(e)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},t.prototype._toTex=function(e){var t="\\begin{bmatrix}";return this.items.forEach((function(n){t+=n.items?n.items.map((function(t){return t.toTex(e)})).join("&"):n.toTex(e),t+="\\\\"})),t+="\\end{bmatrix}"},t}),{isClass:!0,isNode:!0}),Ff=et("BlockNode",["ResultSet","Node"],(function(e){var t=e.ResultSet;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map((function(e){var t=e&&e.node,n=!e||void 0===e.visible||e.visible;if(!B(t))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof n)throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:n}}))}return(n.prototype=new(0,e.Node)).type="BlockNode",n.prototype.isBlockNode=!0,n.prototype._compile=function(e,n){var r=Ge(this.blocks,(function(t){return{evaluate:t.node._compile(e,n),visible:t.visible}}));return function(e,n,i){var o=[];return qe(r,(function(t){var r=t.evaluate(e,n,i);t.visible&&o.push(r)})),new t(o)}},n.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},n.prototype.map=function(e){for(var t=[],r=0;r<this.blocks.length;r++){var i=this.blocks[r],o=this._ifNode(e(i.node,"blocks["+r+"].node",this));t[r]={node:o,visible:i.visible}}return new n(t)},n.prototype.clone=function(){return new n(this.blocks.map((function(e){return{node:e.node,visible:e.visible}})))},n.prototype._toString=function(e){return this.blocks.map((function(t){return t.node.toString(e)+(t.visible?"":";")})).join("\n")},n.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},n.fromJSON=function(e){return new n(e.blocks)},n.prototype.toHTML=function(e){return this.blocks.map((function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')},n.prototype._toTex=function(e){return this.blocks.map((function(t){return t.node.toTex(e)+(t.visible?"":";")})).join("\\;\\;\n")},n}),{isClass:!0,isNode:!0}),Lf=n("R4gy"),Uf=n.n(Lf),zf={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Vf={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},Wf={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Vf.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Vf.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Vf.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Vf.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Vf.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Vf.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Vf.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Vf.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Vf.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Vf.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Vf.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Vf.bitAnd,"${args[1]}\\right)")},bitNot:{1:Vf.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Vf.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Vf.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Vf.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Vf.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Vf.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Vf.and,"${args[1]}\\right)")},not:{1:Vf.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Vf.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Vf.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Vf.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},sqrtm:{1:"{${args[0]}}".concat(Vf.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Vf.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Vf.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Vf.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Vf.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Vf.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Vf.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Vf.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Vf.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Vf.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(zf.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Hf={deg:"^\\circ"};function Gf(e){return Uf()(e,{preserveFormatting:!0})}function qf(e,t){return(t=void 0!==t&&t)?J(Hf,e)?Hf[e]:"\\mathrm{"+Gf(e)+"}":J(zf,e)?zf[e]:Gf(e)}var Xf=et("ConstantNode",["Node"],(function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=e}return(t.prototype=new(0,e.Node)).type="ConstantNode",t.prototype.isConstantNode=!0,t.prototype._compile=function(e,t){var n=this.value;return function(){return n}},t.prototype.forEach=function(e){},t.prototype.map=function(e){return this.clone()},t.prototype.clone=function(){return new t(this.value)},t.prototype._toString=function(e){return Me(this.value,e)},t.prototype.toHTML=function(e){var t=this._toString(e);switch(H(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+t+"</span>";case"string":return'<span class="math-string">'+t+"</span>";case"boolean":return'<span class="math-boolean">'+t+"</span>";case"null":return'<span class="math-null-symbol">'+t+"</span>";case"undefined":return'<span class="math-undefined">'+t+"</span>";default:return'<span class="math-symbol">'+t+"</span>"}},t.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},t.fromJSON=function(e){return new t(e.value)},t.prototype._toTex=function(e){var t=this._toString(e);switch(H(this.value)){case"string":return"\\mathtt{"+Gf(t)+"}";case"number":case"BigNumber":if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=t.toLowerCase().indexOf("e");return-1!==n?t.substring(0,n)+"\\cdot10^{"+t.substring(n+1)+"}":t;case"Fraction":return this.value.toLatex();default:return t}},t}),{isClass:!0,isNode:!0});function Kf(e){return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Yf=et("ObjectNode",["Node"],(function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==Kf(e)||!Object.keys(e).every((function(t){return B(e[t])}))))throw new TypeError("Object containing Nodes expected")}return(t.prototype=new(0,e.Node)).type="ObjectNode",t.prototype.isObjectNode=!0,t.prototype._compile=function(e,t){var n={};for(var r in this.properties)if(J(this.properties,r)){var i=Ne(r),o=JSON.parse(i);if(!Ia(this.properties,o))throw new Error('No access to property "'+o+'"');n[o]=this.properties[r]._compile(e,t)}return function(e,t,r){var i={};for(var o in n)J(n,o)&&(i[o]=n[o](e,t,r));return i}},t.prototype.forEach=function(e){for(var t in this.properties)J(this.properties,t)&&e(this.properties[t],"properties["+Ne(t)+"]",this)},t.prototype.map=function(e){var n={};for(var r in this.properties)J(this.properties,r)&&(n[r]=this._ifNode(e(this.properties[r],"properties["+Ne(r)+"]",this)));return new t(n)},t.prototype.clone=function(){var e={};for(var n in this.properties)J(this.properties,n)&&(e[n]=this.properties[n]);return new t(e)},t.prototype._toString=function(e){var t=[];for(var n in this.properties)J(this.properties,n)&&t.push(Ne(n)+": "+this.properties[n].toString(e));return"{"+t.join(", ")+"}"},t.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},t.fromJSON=function(e){return new t(e.properties)},t.prototype.toHTML=function(e){var t=[];for(var n in this.properties)J(this.properties,n)&&t.push('<span class="math-symbol math-property">'+Ie(n)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[n].toHTML(e));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},t.prototype._toTex=function(e){var t=[];for(var n in this.properties)J(this.properties,n)&&t.push("\\mathbf{"+n+":} & "+this.properties[n].toTex(e)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(t.join("\n"),"\\end{array}\\right\\}")},t}),{isClass:!0,isNode:!0}),Zf=et("ParenthesisNode",["Node"],(function(e){function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!B(e))throw new TypeError('Node expected for parameter "content"');this.content=e}return(t.prototype=new(0,e.Node)).type="ParenthesisNode",t.prototype.isParenthesisNode=!0,t.prototype._compile=function(e,t){return this.content._compile(e,t)},t.prototype.getContent=function(){return this.content.getContent()},t.prototype.forEach=function(e){e(this.content,"content",this)},t.prototype.map=function(e){return new t(e(this.content,"content",this))},t.prototype.clone=function(){return new t(this.content)},t.prototype._toString=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"("+this.content.toString(e)+")":this.content.toString(e)},t.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},t.fromJSON=function(e){return new t(e.content)},t.prototype.toHTML=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(e)},t.prototype._toTex=function(e){return!e||e&&!e.parenthesis||e&&"keep"===e.parenthesis?"\\left(".concat(this.content.toTex(e),"\\right)"):this.content.toTex(e)},t}),{isClass:!0,isNode:!0}),Qf=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function Jf(e,t){var n=e;"keep"!==t&&(n=e.getContent());for(var r=n.getIdentifier(),i=0;i<Qf.length;i++)if(r in Qf[i])return i;return null}function $f(e,t){var n=e;"keep"!==t&&(n=e.getContent());var r=n.getIdentifier(),i=Jf(n,t);if(null===i)return null;var o=Qf[i][r];if(J(o,"associativity")){if("left"===o.associativity)return"left";if("right"===o.associativity)return"right";throw Error("'"+r+"' has the invalid associativity '"+o.associativity+"'.")}return null}function em(e,t,n){var r="keep"!==n?e.getContent():e,i="keep"!==n?e.getContent():t,o=r.getIdentifier(),a=i.getIdentifier(),s=Jf(r,n);if(null===s)return null;var c=Qf[s][o];if(J(c,"associativeWith")&&c.associativeWith instanceof Array){for(var u=0;u<c.associativeWith.length;u++)if(c.associativeWith[u]===a)return!0;return!1}return null}var tm=et("RelationalNode",["Node"],(function(e){function t(e,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(n))throw new TypeError("Parameter params must be an array");if(e.length!==n.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=e,this.params=n}return(t.prototype=new(0,e.Node)).type="RelationalNode",t.prototype.isRelationalNode=!0,t.prototype._compile=function(e,t){var n=this,r=this.params.map((function(n){return n._compile(e,t)}));return function(t,i,o){for(var a,s=r[0](t,i,o),c=0;c<n.conditionals.length;c++)if(a=s,s=r[c+1](t,i,o),!Ma(e,n.conditionals[c])(a,s))return!1;return!0}},t.prototype.forEach=function(e){var t=this;this.params.forEach((function(n,r){return e(n,"params["+r+"]",t)}),this)},t.prototype.map=function(e){var n=this;return new t(this.conditionals.slice(),this.params.map((function(t,r){return n._ifNode(e(t,"params["+r+"]",n))}),this))},t.prototype.clone=function(){return new t(this.conditionals,this.params)},t.prototype._toString=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Jf(this,t),r=this.params.map((function(r,i){var o=Jf(r,t);return"all"===t||null!==o&&o<=n?"("+r.toString(e)+")":r.toString(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=r[0],a=0;a<this.conditionals.length;a++)o+=" "+i[this.conditionals[a]]+" "+r[a+1];return o},t.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},t.fromJSON=function(e){return new t(e.conditionals,e.params)},t.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Jf(this,t),r=this.params.map((function(r,i){var o=Jf(r,t);return"all"===t||null!==o&&o<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(e)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(e)})),i={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},o=r[0],a=0;a<this.conditionals.length;a++)o+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ie(i[this.conditionals[a]])+"</span>"+r[a+1];return o},t.prototype._toTex=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=Jf(this,t),r=this.params.map((function(r,i){var o=Jf(r,t);return"all"===t||null!==o&&o<=n?"\\left("+r.toTex(e)+"\right)":r.toTex(e)})),i=r[0],o=0;o<this.conditionals.length;o++)i+=Vf[this.conditionals[o]]+r[o+1];return i},t}),{isClass:!0,isNode:!0}),nm=et("Chain",["?on","math"],(function(e){var t=e.on,n=e.math;function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=W(e)?e.value:e}function i(e,t){Z(r.prototype,e,(function(){var e=t();if("function"==typeof e)return o(e)}))}function o(e){return function(){for(var t=[this.value],n=0;n<arguments.length;n++)t[n+1]=arguments[n];return new r(e.apply(e,t))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return Me(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(e){return new r(e.value)},r.createProxy=function(e,t){if("string"==typeof e)!function(e,t){"function"==typeof t&&(r.prototype[e]=o(t))}(e,t);else{var n=function(t){J(e,t)&&void 0===a[t]&&i(t,(function(){return e[t]}))};for(var s in e)n(s)}};var a={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(n),t&&t("import",(function(e,t,n){n||i(e,t)})),r}),{isClass:!0}),rm=et("reviver",["classes"],(function(e){var t=e.classes;return function(e,n){var r=t[n&&n.mathjs];return r&&"function"==typeof r.fromJSON?r.fromJSON(n):n}})),im=et("ConditionalNode",["Node"],(function(e){function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!B(e))throw new TypeError("Parameter condition must be a Node");if(!B(n))throw new TypeError("Parameter trueExpr must be a Node");if(!B(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=n,this.falseExpr=r}return(t.prototype=new(0,e.Node)).type="ConditionalNode",t.prototype.isConditionalNode=!0,t.prototype._compile=function(e,t){var n=this.condition._compile(e,t),r=this.trueExpr._compile(e,t),i=this.falseExpr._compile(e,t);return function(e,t,o){return function(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e)return!!e;if(e){if(s(e))return!e.isZero();if(c(e))return!(!e.re&&!e.im);if(l(e))return!!e.value}if(null==e)return!1;throw new TypeError('Unsupported type of condition "'+H(e)+'"')}(n(e,t,o))?r(e,t,o):i(e,t,o)}},t.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},t.prototype.map=function(e){return new t(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},t.prototype.clone=function(){return new t(this.condition,this.trueExpr,this.falseExpr)},t.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=Jf(this,t),r=this.condition.toString(e),i=Jf(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r="("+r+")");var o=this.trueExpr.toString(e),a=Jf(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(o="("+o+")");var s=this.falseExpr.toString(e),c=Jf(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(s="("+s+")"),r+" ? "+o+" : "+s},t.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},t.fromJSON=function(e){return new t(e.condition,e.trueExpr,e.falseExpr)},t.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=Jf(this,t),r=this.condition.toHTML(e),i=Jf(this.condition,t);("all"===t||"OperatorNode"===this.condition.type||null!==i&&i<=n)&&(r='<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(e),a=Jf(this.trueExpr,t);("all"===t||"OperatorNode"===this.trueExpr.type||null!==a&&a<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.falseExpr.toHTML(e),c=Jf(this.falseExpr,t);return("all"===t||"OperatorNode"===this.falseExpr.type||null!==c&&c<=n)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+s},t.prototype._toTex=function(e){return"\\begin{cases} {"+this.trueExpr.toTex(e)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(e)+"}\\\\{"+this.falseExpr.toTex(e)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},t}),{isClass:!0,isNode:!0}),om=et("OperatorNode",["Node"],(function(e){function t(e,n,r,i){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "op"');if("string"!=typeof n)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(B))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=e,this.fn=n,this.args=r||[]}function n(e,t,n,r,i){var o,a=Jf(e,t),s=$f(e,t);if("all"===t||r.length>2&&"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier())return r.map((function(e){switch(e.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(r.length){case 0:o=[];break;case 1:var c=Jf(r[0],t);if(i&&null!==c){var u,l;if("keep"===t?(u=r[0].getIdentifier(),l=e.getIdentifier()):(u=r[0].getContent().getIdentifier(),l=e.getContent().getIdentifier()),!1===Qf[a][l].latexLeftParens){o=[!1];break}if(!1===Qf[c][u].latexParens){o=[!1];break}}if(null===c){o=[!1];break}if(c<=a){o=[!0];break}o=[!1];break;case 2:var p,d,h=Jf(r[0],t),f=em(e,r[0],t);p=null!==h&&(h===a&&"right"===s&&!f||h<a);var m,g,y,v=Jf(r[1],t),b=em(e,r[1],t);d=null!==v&&(v===a&&"left"===s&&!b||v<a),i&&("keep"===t?(m=e.getIdentifier(),g=e.args[0].getIdentifier(),y=e.args[1].getIdentifier()):(m=e.getContent().getIdentifier(),g=e.args[0].getContent().getIdentifier(),y=e.args[1].getContent().getIdentifier()),null!==h&&(!1===Qf[a][m].latexLeftParens&&(p=!1),!1===Qf[h][g].latexParens&&(p=!1)),null!==v&&(!1===Qf[a][m].latexRightParens&&(d=!1),!1===Qf[v][y].latexParens&&(d=!1))),o=[p,d];break;default:"OperatorNode:add"!==e.getIdentifier()&&"OperatorNode:multiply"!==e.getIdentifier()||(o=r.map((function(n){var r=Jf(n,t),i=em(e,n,t),o=$f(n,t);return null!==r&&(a===r&&s===o&&!i||r<a)})))}return r.length>=2&&"OperatorNode:multiply"===e.getIdentifier()&&e.implicit&&"auto"===t&&"hide"===n&&(o=r.map((function(e,t){var n="ParenthesisNode"===e.getIdentifier();return!(!o[t]&&!n)}))),o}return(t.prototype=new(0,e.Node)).type="OperatorNode",t.prototype.isOperatorNode=!0,t.prototype._compile=function(e,t){if("string"!=typeof this.fn||!Da(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var n=Ma(e,this.fn),r=Ge(this.args,(function(n){return n._compile(e,t)}));if(1===r.length){var i=r[0];return function(e,t,r){return n(i(e,t,r))}}if(2===r.length){var o=r[0],a=r[1];return function(e,t,r){return n(o(e,t,r),a(e,t,r))}}return function(e,t,i){return n.apply(null,Ge(r,(function(n){return n(e,t,i)})))}},t.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},t.prototype.map=function(e){for(var n=[],r=0;r<this.args.length;r++)n[r]=this._ifNode(e(this.args[r],"args["+r+"]",this));return new t(this.op,this.fn,n,this.implicit)},t.prototype.clone=function(){return new t(this.op,this.fn,this.args.slice(0),this.implicit)},t.prototype.isUnary=function(){return 1===this.args.length},t.prototype.isBinary=function(){return 2===this.args.length},t.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,o=n(this,t,r,i,!1);if(1===i.length){var a=$f(this,t),s=i[0].toString(e);o[0]&&(s="("+s+")");var c=/[a-zA-Z]+/.test(this.op);return"right"===a?this.op+(c?" ":"")+s:"left"===a?s+(c?" ":"")+this.op:s+this.op}if(2===i.length){var u=i[0].toString(e),l=i[1].toString(e);return o[0]&&(u="("+u+")"),o[1]&&(l="("+l+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?u+" "+l:u+" "+this.op+" "+l}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var p=i.map((function(t,n){return t=t.toString(e),o[n]&&(t="("+t+")"),t}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?p.join(" "):p.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},t.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},t.fromJSON=function(e){return new t(e.op,e.fn,e.args,e.implicit)},t.prototype.toHTML=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,o=n(this,t,r,i,!1);if(1===i.length){var a=$f(this,t),s=i[0].toHTML(e);return o[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===a?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Ie(this.op)+"</span>"+s:s+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Ie(this.op)+"</span>"}if(2===i.length){var c=i[0].toHTML(e),u=i[1].toHTML(e);return o[0]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),o[1]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+u:c+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ie(this.op)+"</span>"+u}var l=i.map((function(t,n){return t=t.toHTML(e),o[n]&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t}));return i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Ie(this.op)+"</span>"):'<span class="math-function">'+Ie(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},t.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",r=e&&e.implicit?e.implicit:"hide",i=this.args,o=n(this,t,r,i,!0),a=Vf[this.fn];if(a=void 0===a?this.op:a,1===i.length){var s=$f(this,t),c=i[0].toTex(e);return o[0]&&(c="\\left(".concat(c,"\\right)")),"right"===s?a+c:c+a}if(2===i.length){var u=i[0],l=u.toTex(e);o[0]&&(l="\\left(".concat(l,"\\right)"));var p,d=i[1].toTex(e);switch(o[1]&&(d="\\left(".concat(d,"\\right)")),p="keep"===t?u.getIdentifier():u.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+l+"}{"+d+"}";case"OperatorNode:pow":switch(l="{"+l+"}",d="{"+d+"}",p){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return l+"~"+d}return l+a+d}if(i.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var h=i.map((function(t,n){return t=t.toTex(e),o[n]&&(t="\\left(".concat(t,"\\right)")),t}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?h.join("~"):h.join(a)}return"\\mathrm{"+this.fn+"}\\left("+i.map((function(t){return t.toTex(e)})).join(",")+"\\right)"},t.prototype.getIdentifier=function(){return this.type+":"+this.fn},t}),{isClass:!0,isNode:!0}),am=et("RangeNode",["Node"],(function(e){function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!B(e))throw new TypeError("Node expected");if(!B(n))throw new TypeError("Node expected");if(r&&!B(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=n,this.step=r||null}function n(e,t){var n=Jf(e,t),r={},i=Jf(e.start,t);if(r.start=null!==i&&i<=n||"all"===t,e.step){var o=Jf(e.step,t);r.step=null!==o&&o<=n||"all"===t}var a=Jf(e.end,t);return r.end=null!==a&&a<=n||"all"===t,r}return(t.prototype=new(0,e.Node)).type="RangeNode",t.prototype.isRangeNode=!0,t.prototype.needsEnd=function(){return this.filter((function(e){return V(e)&&"end"===e.name})).length>0},t.prototype._compile=function(e,t){var n=e.range,r=this.start._compile(e,t),i=this.end._compile(e,t);if(this.step){var o=this.step._compile(e,t);return function(e,t,a){return n(r(e,t,a),i(e,t,a),o(e,t,a))}}return function(e,t,o){return n(r(e,t,o),i(e,t,o))}},t.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},t.prototype.map=function(e){return new t(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},t.prototype.clone=function(){return new t(this.start,this.end,this.step&&this.step)},t.prototype._toString=function(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toString(e);if(r.start&&(i="("+i+")"),t=i,this.step){var o=this.step.toString(e);r.step&&(o="("+o+")"),t+=":"+o}var a=this.end.toString(e);return r.end&&(a="("+a+")"),t+":"+a},t.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t.prototype.toHTML=function(e){var t,r=n(this,e&&e.parenthesis?e.parenthesis:"keep"),i=this.start.toHTML(e);if(r.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t=i,this.step){var o=this.step.toHTML(e);r.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+='<span class="math-operator math-range-operator">:</span>'+o}var a=this.end.toHTML(e);return r.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+'<span class="math-operator math-range-operator">:</span>'+a},t.prototype._toTex=function(e){var t=n(this,e&&e.parenthesis?e.parenthesis:"keep"),r=this.start.toTex(e);if(t.start&&(r="\\left(".concat(r,"\\right)")),this.step){var i=this.step.toTex(e);t.step&&(i="\\left(".concat(i,"\\right)")),r+=":"+i}var o=this.end.toTex(e);return t.end&&(o="\\left(".concat(o,"\\right)")),r+":"+o},t}),{isClass:!0,isNode:!0}),sm=et("FunctionAssignmentNode",["typed","Node"],(function(e){var t=e.typed;function n(e,t,r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(t))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!B(r))throw new TypeError('Node expected for parameter "expr"');if(e in Df)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t.map((function(e){return e&&e.name||e})),this.types=t.map((function(e){return e&&e.type||"any"})),this.expr=r}function r(e,t){var n=Jf(e,t),r=Jf(e.expr,t);return"all"===t||null!==r&&r<=n}return(n.prototype=new(0,e.Node)).type="FunctionAssignmentNode",n.prototype.isFunctionAssignmentNode=!0,n.prototype._compile=function(e,n){var r=Object.create(n);qe(this.params,(function(e){r[e]=!0}));var i=this.expr._compile(e,r),o=this.name,a=this.params,s=Ye(this.types,","),c=o+"("+Ye(this.params,", ")+")";return function(e,n,r){var u={};u[s]=function(){for(var t=Object.create(n),o=0;o<a.length;o++)t[a[o]]=arguments[o];return i(e,t,r)};var l=t(o,u);return l.syntax=c,Na(e,o,l),l}},n.prototype.forEach=function(e){e(this.expr,"expr",this)},n.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new n(this.name,this.params.slice(0),t)},n.prototype.clone=function(){return new n(this.name,this.params.slice(0),this.expr)},n.prototype._toString=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toString(e);return r(this,t)&&(n="("+n+")"),this.name+"("+this.params.join(", ")+") = "+n},n.prototype.toJSON=function(){var e=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map((function(t,n){return{name:t,type:e[n]}})),expr:this.expr}},n.fromJSON=function(e){return new n(e.name,e.params,e.expr)},n.prototype.toHTML=function(e){for(var t=e&&e.parenthesis?e.parenthesis:"keep",n=[],i=0;i<this.params.length;i++)n.push('<span class="math-symbol math-parameter">'+Ie(this.params[i])+"</span>");var o=this.expr.toHTML(e);return r(this,t)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Ie(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+o},n.prototype._toTex=function(e){var t=e&&e.parenthesis?e.parenthesis:"keep",n=this.expr.toTex(e);return r(this,t)&&(n="\\left(".concat(n,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(qf).join(",")+"\\right):="+n},n}),{isClass:!0,isNode:!0}),cm=et("chain",["typed","Chain"],(function(e){var t=e.Chain;return(0,e.typed)("chain",{"":function(){return new t},any:function(e){return new t(e)}})}));function um(e){return e&&e.isIndexError?new je(e.index+1,e.min+1,void 0!==e.max?e.max+1:void 0):e}function lm(e){return(lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pm(e){var t=e.subset;return function(e,n){try{if(Array.isArray(e))return t(e,n);if(e&&"function"==typeof e.subset)return e.subset(n);if("string"==typeof e)return t(e,n);if("object"===lm(e)){if(!n.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Ma(e,n.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw um(r)}}}var dm=et("AccessorNode",["subset","Node"],(function(e){var t=e.Node,n=pm({subset:e.subset});function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!B(e))throw new TypeError('Node expected for parameter "object"');if(!j(t))throw new TypeError('IndexNode expected for parameter "index"');this.object=e||null,this.index=t,Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function i(e){return!(E(e)||k(e)||I(e)||R(e)||F(e)||U(e)||V(e))}return(r.prototype=new t).type="AccessorNode",r.prototype.isAccessorNode=!0,r.prototype._compile=function(e,t){var r=this.object._compile(e,t),i=this.index._compile(e,t);if(this.index.isObjectProperty()){var o=this.index.getObjectProperty();return function(e,t,n){return Ma(r(e,t,n),o)}}return function(e,t,o){var a=r(e,t,o),s=i(e,t,a);return n(a,s)}},r.prototype.forEach=function(e){e(this.object,"object",this),e(this.index,"index",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.object,"object",this)),this._ifNode(e(this.index,"index",this)))},r.prototype.clone=function(){return new r(this.object,this.index)},r.prototype._toString=function(e){var t=this.object.toString(e);return i(this.object)&&(t="("+t+")"),t+this.index.toString(e)},r.prototype.toHTML=function(e){var t=this.object.toHTML(e);return i(this.object)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),t+this.index.toHTML(e)},r.prototype._toTex=function(e){var t=this.object.toTex(e);return i(this.object)&&(t="\\left(' + object + '\\right)"),t+this.index.toTex(e)},r.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},r.fromJSON=function(e){return new r(e.object,e.index)},r}),{isClass:!0,isNode:!0});function hm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fm=et("IndexNode",["Range","Node","size"],(function(e){var t=e.Range,n=e.size;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=e,this.dotNotation=t||!1,!Array.isArray(e)||!e.every(B))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var n=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:n,set:n})}function i(e,n,r){return new t(s(e)?e.toNumber():e,s(n)?n.toNumber():n,s(r)?r.toNumber():r)}return(r.prototype=new(0,e.Node)).type="IndexNode",r.prototype.isIndexNode=!0,r.prototype._compile=function(e,t){var r=Ge(this.dimensions,(function(r,o){if(z(r)){if(r.needsEnd()){var a=Object.create(t);a.end=!0;var s=r.start._compile(e,a),c=r.end._compile(e,a),u=r.step?r.step._compile(e,a):function(){return 1};return function(e,t,r){var a=n(r).valueOf(),l=Object.create(t);return l.end=a[o],i(s(e,l,r),c(e,l,r),u(e,l,r))}}var l=r.start._compile(e,t),p=r.end._compile(e,t),d=r.step?r.step._compile(e,t):function(){return 1};return function(e,t,n){return i(l(e,t,n),p(e,t,n),d(e,t,n))}}if(V(r)&&"end"===r.name){var h=Object.create(t);h.end=!0;var f=r._compile(e,h);return function(e,t,r){var i=n(r).valueOf(),a=Object.create(t);return a.end=i[o],f(e,a,r)}}var m=r._compile(e,t);return function(e,t,n){return m(e,t,n)}})),o=Ma(e,"index");return function(e,t,n){var i,a=Ge(r,(function(r){return r(e,t,n)}));return o.apply(void 0,function(e){if(Array.isArray(e))return hm(e)}(i=a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return hm(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hm(e,void 0):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}},r.prototype.forEach=function(e){for(var t=0;t<this.dimensions.length;t++)e(this.dimensions[t],"dimensions["+t+"]",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this._ifNode(e(this.dimensions[n],"dimensions["+n+"]",this));return new r(t,this.dotNotation)},r.prototype.clone=function(){return new r(this.dimensions.slice(0),this.dotNotation)},r.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&I(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},r.prototype._toString=function(e){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},r.fromJSON=function(e){return new r(e.dimensions,e.dotNotation)},r.prototype.toHTML=function(e){for(var t=[],n=0;n<this.dimensions.length;n++)t[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Ie(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(e){var t=this.dimensions.map((function(t){return t.toTex(e)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},r}),{isClass:!0,isNode:!0});function mm(e){return(mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var gm=et("AssignmentNode",["subset","?matrix","Node"],(function(e){var t=e.subset,n=e.matrix,r=e.Node,i=pm({subset:t}),o=function(e){var t=e.subset,n=e.matrix;return function(e,r,i){try{if(Array.isArray(e))return n(e).subset(r,i).valueOf();if(e&&"function"==typeof e.subset)return e.subset(r,i);if("string"==typeof e)return t(e,r,i);if("object"===mm(e)){if(!r.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Na(e,r.getObjectProperty(),i),e}throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw um(o)}}}({subset:t,matrix:n});function a(e,t,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=e,this.index=n?t:null,this.value=n||t,!V(e)&&!E(e))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(V(e)&&"end"===e.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!j(this.index))throw new TypeError('IndexNode expected as "index"');if(!B(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:(function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(e,t){t||(t="keep");var n=Jf(e,t),r=Jf(e.value,t);return"all"===t||null!==r&&r<=n}return(a.prototype=new r).type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(e,t){var n=this.object._compile(e,t),r=this.index?this.index._compile(e,t):null,a=this.value._compile(e,t),s=this.object.name;if(this.index){if(this.index.isObjectProperty()){var c=this.index.getObjectProperty();return function(e,t,r){var i=n(e,t,r),o=a(e,t,r);return Na(i,c,o)}}if(V(this.object))return function(e,t,i){var c=n(e,t,i),u=a(e,t,i),l=r(e,t,c);return Na(e,s,o(c,l,u)),u};var u=this.object.object._compile(e,t);if(this.object.index.isObjectProperty()){var l=this.object.index.getObjectProperty();return function(e,t,n){var i=u(e,t,n),s=Ma(i,l),c=r(e,t,s),p=a(e,t,n);return Na(i,l,o(s,c,p)),p}}var p=this.object.index._compile(e,t);return function(e,t,n){var s=u(e,t,n),c=p(e,t,s),l=i(s,c),d=r(e,t,l),h=a(e,t,n);return o(s,c,o(l,d,h)),h}}if(!V(this.object))throw new TypeError("SymbolNode expected as object");return function(e,t,n){return Na(e,s,a(e,t,n))}},a.prototype.forEach=function(e){e(this.object,"object",this),this.index&&e(this.index,"index",this),e(this.value,"value",this)},a.prototype.map=function(e){return new a(this._ifNode(e(this.object,"object",this)),this.index?this._ifNode(e(this.index,"index",this)):null,this._ifNode(e(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(e){var t=this.object.toString(e),n=this.index?this.index.toString(e):"",r=this.value.toString(e);return s(this,e&&e.parenthesis)&&(r="("+r+")"),t+n+" = "+r},a.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(e){return new a(e.object,e.index,e.value)},a.prototype.toHTML=function(e){var t=this.object.toHTML(e),n=this.index?this.index.toHTML(e):"",r=this.value.toHTML(e);return s(this,e&&e.parenthesis)&&(r='<span class="math-paranthesis math-round-parenthesis">(</span>'+r+'<span class="math-paranthesis math-round-parenthesis">)</span>'),t+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+r},a.prototype._toTex=function(e){var t=this.object.toTex(e),n=this.index?this.index.toTex(e):"",r=this.value.toTex(e);return s(this,e&&e.parenthesis)&&(r="\\left(".concat(r,"\\right)")),t+n+":="+r},a}),{isClass:!0,isNode:!0}),ym=et("SymbolNode",["math","?Unit","Node"],(function(e){var t=e.math,n=e.Unit;function r(e){return!!n&&n.isValuelessUnit(e)}function i(e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('String expected for parameter "name"');this.name=e}return(i.prototype=new(0,e.Node)).type="SymbolNode",i.prototype.isSymbolNode=!0,i.prototype._compile=function(e,t){var i=this.name;if(!0===t[i])return function(e,t,n){return t[i]};if(i in e)return function(t,n,r){return Ma(i in t?t:e,i)};var o=r(i);return function(e,t,r){return i in e?Ma(e,i):o?new n(null,i):function(e){throw new Error("Undefined symbol "+e)}(i)}},i.prototype.forEach=function(e){},i.prototype.map=function(e){return this.clone()},i.prototype.clone=function(){return new i(this.name)},i.prototype._toString=function(e){return this.name},i.prototype.toHTML=function(e){var t=Ie(this.name);return"true"===t||"false"===t?'<span class="math-symbol math-boolean">'+t+"</span>":"i"===t?'<span class="math-symbol math-imaginary-symbol">'+t+"</span>":"Infinity"===t?'<span class="math-symbol math-infinity-symbol">'+t+"</span>":"NaN"===t?'<span class="math-symbol math-nan-symbol">'+t+"</span>":"null"===t?'<span class="math-symbol math-null-symbol">'+t+"</span>":"undefined"===t?'<span class="math-symbol math-undefined-symbol">'+t+"</span>":'<span class="math-symbol">'+t+"</span>"},i.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},i.fromJSON=function(e){return new i(e.name)},i.prototype._toTex=function(e){var n=!1;void 0===t[this.name]&&r(this.name)&&(n=!0);var i=qf(this.name,n);return"\\"===i[0]?i:" "+i},i}),{isClass:!0,isNode:!0});function vm(e){return(vm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bm(){return(bm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Am=et("FunctionNode",["math","Node","SymbolNode"],(function(e){var t=e.math,n=e.SymbolNode;function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof e&&(e=new n(e)),!B(e))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(t)||!t.every(B))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=e,this.args=t||[],Object.defineProperty(this,"name",{get:(function(){return this.fn.name||""}).bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var i=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:i,set:i})}(r.prototype=new(0,e.Node)).type="FunctionNode",r.prototype.isFunctionNode=!0,r.prototype._compile=function(e,t){if(!(this instanceof r))throw new TypeError("No valid FunctionNode");var n=Ge(this.args,(function(n){return n._compile(e,t)}));if(V(this.fn)){var i=this.fn.name,o=i in e?Ma(e,i):void 0;if("function"==typeof o&&!0===o.rawArgs){var a=this.args;return function(t,n,r){return(i in t?Ma(t,i):o)(a,e,bm({},t,n))}}if(1===n.length){var s=n[0];return function(e,t,n){return(i in e?Ma(e,i):o)(s(e,t,n))}}if(2===n.length){var c=n[0],u=n[1];return function(e,t,n){return(i in e?Ma(e,i):o)(c(e,t,n),u(e,t,n))}}return function(e,t,r){return(i in e?Ma(e,i):o).apply(null,Ge(n,(function(n){return n(e,t,r)})))}}if(E(this.fn)&&j(this.fn.index)&&this.fn.index.isObjectProperty()){var l=this.fn.object._compile(e,t),p=this.fn.index.getObjectProperty(),d=this.args;return function(t,r,i){var o=l(t,r,i);return function(e,t){if(!Da(e,t))throw new Error('No access to method "'+t+'"')}(o,p),o[p]&&o[p].rawArgs?o[p](d,e,bm({},t,r)):o[p].apply(o,Ge(n,(function(e){return e(t,r,i)})))}}var h=this.fn._compile(e,t),f=this.args;return function(t,r,i){var o=h(t,r,i);return o&&o.rawArgs?o(f,e,bm({},t,r)):o.apply(o,Ge(n,(function(e){return e(t,r,i)})))}},r.prototype.forEach=function(e){e(this.fn,"fn",this);for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},r.prototype.map=function(e){for(var t=this._ifNode(e(this.fn,"fn",this)),n=[],i=0;i<this.args.length;i++)n[i]=this._ifNode(e(this.args[i],"args["+i+"]",this));return new r(t,n)},r.prototype.clone=function(){return new r(this.fn,this.args.slice(0))};var i=r.prototype.toString;function o(e,t,n){for(var r,i="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),a=0;null!==(r=o.exec(e));)if(i+=e.substring(a,r.index),a=r.index,"$$"===r[0])i+="$",a++;else{a+=r[0].length;var s=t[r[1]];if(!s)throw new ReferenceError("Template: Property "+r[1]+" does not exist.");if(void 0===r[2])switch(vm(s)){case"string":i+=s;break;case"object":if(B(s))i+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes");i+=s.map((function(e,t){if(B(e))return e.toTex(n);throw new TypeError("Template: "+r[1]+"["+t+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+r[1]+" has to be a Node, String or array of Nodes")}else{if(!B(s[r[2]]&&s[r[2]]))throw new TypeError("Template: "+r[1]+"["+r[2]+"] is not a Node.");i+=s[r[2]].toTex(n)}}return i+e.slice(a)}r.prototype.toString=function(e){var t,n=this.fn.toString(e);return e&&"object"===vm(e.handler)&&J(e.handler,n)&&(t=e.handler[n](this,e)),void 0!==t?t:i.call(this,e)},r.prototype._toString=function(e){var t=this.args.map((function(t){return t.toString(e)}));return(D(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},r.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},r.fromJSON=function(e){return new r(e.fn,e.args)},r.prototype.toHTML=function(e){var t=this.args.map((function(t){return t.toHTML(e)}));return'<span class="math-function">'+Ie(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var a=r.prototype.toTex;return r.prototype.toTex=function(e){var t;return e&&"object"===vm(e.handler)&&J(e.handler,this.name)&&(t=e.handler[this.name](this,e)),void 0!==t?t:a.call(this,e)},r.prototype._toTex=function(e){var n,r,i=this.args.map((function(t){return t.toTex(e)}));switch(Wf[this.name]&&(n=Wf[this.name]),!t[this.name]||"function"!=typeof t[this.name].toTex&&"object"!==vm(t[this.name].toTex)&&"string"!=typeof t[this.name].toTex||(n=t[this.name].toTex),vm(n)){case"function":r=n(this,e);break;case"string":r=o(n,this,e);break;case"object":switch(vm(n[i.length])){case"function":r=n[i.length](this,e);break;case"string":r=o(n[i.length],this,e)}}return void 0!==r?r:o("\\mathrm{${name}}\\left(${args}\\right)",this,e)},r.prototype.getIdentifier=function(){return this.type+":"+this.name},r}),{isClass:!0,isNode:!0});function xm(){return(xm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wm=et("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],(function(e){var t=e.numeric,n=e.config,r=e.AccessorNode,i=e.ArrayNode,o=e.AssignmentNode,a=e.BlockNode,s=e.ConditionalNode,c=e.ConstantNode,u=e.FunctionAssignmentNode,l=e.FunctionNode,p=e.IndexNode,d=e.ObjectNode,h=e.OperatorNode,f=e.ParenthesisNode,m=e.RangeNode,g=e.RelationalNode,y=e.SymbolNode,v=(0,e.typed)("parse",{string:function(e){return j(e,{})},"Array | Matrix":function(e){return b(e,{})},"string, Object":function(e,t){return j(e,void 0!==t.nodes?t.nodes:{})},"Array | Matrix, Object":b});function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.nodes?t.nodes:{};return ir(e,(function(e){if("string"!=typeof e)throw new TypeError("String expected");return j(e,n)}))}var A={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},x={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},w={true:!0,false:!1,null:null,undefined:void 0},_=["NaN","Infinity"];function S(e,t){return e.expression.substr(e.index,t)}function T(e){return S(e,1)}function P(e){e.index++}function C(e){return e.expression.charAt(e.index-1)}function k(e){return e.expression.charAt(e.index+1)}function O(e){for(e.tokenType=0,e.token="",e.comment="";v.isWhitespace(T(e),e.nestingLevel);)P(e);if("#"===T(e))for(;"\n"!==T(e)&&""!==T(e);)e.comment+=T(e),P(e);if(""!==T(e)){if("\n"===T(e)&&!e.nestingLevel)return e.tokenType=1,e.token=T(e),void P(e);var t=T(e),n=S(e,2),r=S(e,3);if(3===r.length&&A[r])return e.tokenType=1,e.token=r,P(e),P(e),void P(e);if(2===n.length&&A[n])return e.tokenType=1,e.token=n,P(e),void P(e);if(A[t])return e.tokenType=1,e.token=t,void P(e);if(v.isDigitDot(t)){if(e.tokenType=2,"."===T(e))e.token+=T(e),P(e),v.isDigit(T(e))||(e.tokenType=1);else{for(;v.isDigit(T(e));)e.token+=T(e),P(e);v.isDecimalMark(T(e),k(e))&&(e.token+=T(e),P(e))}for(;v.isDigit(T(e));)e.token+=T(e),P(e);if("E"===T(e)||"e"===T(e))if(v.isDigit(k(e))||"-"===k(e)||"+"===k(e)){if(e.token+=T(e),P(e),"+"!==T(e)&&"-"!==T(e)||(e.token+=T(e),P(e)),!v.isDigit(T(e)))throw ae(e,'Digit expected, got "'+T(e)+'"');for(;v.isDigit(T(e));)e.token+=T(e),P(e);if(v.isDecimalMark(T(e),k(e)))throw ae(e,'Digit expected, got "'+T(e)+'"')}else if("."===k(e))throw P(e),ae(e,'Digit expected, got "'+T(e)+'"')}else{if(!v.isAlpha(T(e),C(e),k(e))){for(e.tokenType=4;""!==T(e);)e.token+=T(e),P(e);throw ae(e,'Syntax error in part "'+e.token+'"')}for(;v.isAlpha(T(e),C(e),k(e))||v.isDigit(T(e));)e.token+=T(e),P(e);e.tokenType=J(x,e.token)?1:3}}else e.tokenType=1}function M(e){do{O(e)}while("\n"===e.token)}function N(e){e.nestingLevel++}function D(e){e.nestingLevel--}function j(e,t){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:0,nestingLevel:0,conditionalLevel:null};xm(n,{expression:e,extraNodes:t}),O(n);var r=function(e){var t,n=[];for(""!==e.token&&"\n"!==e.token&&";"!==e.token&&((t=B(e)).comment=e.comment);"\n"===e.token||";"===e.token;)0===n.length&&t&&n.push({node:t,visible:";"!==e.token}),O(e),"\n"!==e.token&&";"!==e.token&&""!==e.token&&((t=B(e)).comment=e.comment,n.push({node:t,visible:";"!==e.token}));return n.length>0?new a(n):(t||((t=new c(void 0)).comment=e.comment),t)}(n);if(""!==n.token)throw 1===n.tokenType?se(n,"Unexpected operator "+n.token):ae(n,'Unexpected part "'+n.token+'"');return r}function B(e){var t,n,r,i,a=function(e){for(var t=function(e){for(var t=F(e);"or"===e.token;)M(e),t=new h("or","or",[t,F(e)]);return t}(e);"?"===e.token;){var n=e.conditionalLevel;e.conditionalLevel=e.nestingLevel,M(e);var r=t,i=B(e);if(":"!==e.token)throw ae(e,"False part of conditional expression expected");e.conditionalLevel=null,M(e);var o=B(e);t=new s(r,i,o),e.conditionalLevel=n}return t}(e);if("="===e.token){if(V(a))return t=a.name,M(e),r=B(e),new o(new y(t),r);if(E(a))return M(e),r=B(e),new o(a.object,a.index,r);if(R(a)&&V(a.fn)&&(i=!0,n=[],t=a.name,a.args.forEach((function(e,t){V(e)?n[t]=e.name:i=!1})),i))return M(e),r=B(e),new u(t,n,r);throw ae(e,"Invalid left hand side of assignment operator =")}return a}function F(e){for(var t=U(e);"xor"===e.token;)M(e),t=new h("xor","xor",[t,U(e)]);return t}function U(e){for(var t=z(e);"and"===e.token;)M(e),t=new h("and","and",[t,z(e)]);return t}function z(e){for(var t=W(e);"|"===e.token;)M(e),t=new h("|","bitOr",[t,W(e)]);return t}function W(e){for(var t=H(e);"^|"===e.token;)M(e),t=new h("^|","bitXor",[t,H(e)]);return t}function H(e){for(var t=G(e);"&"===e.token;)M(e),t=new h("&","bitAnd",[t,G(e)]);return t}function G(e){for(var t=[q(e)],n=[],r={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};J(r,e.token);)n.push({name:e.token,fn:r[e.token]}),M(e),t.push(q(e));return 1===t.length?t[0]:2===t.length?new h(n[0].name,n[0].fn,t):new g(n.map((function(e){return e.fn})),t)}function q(e){var t,n,r,i;t=X(e);for(var o={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};J(o,e.token);)r=o[n=e.token],M(e),i=[t,X(e)],t=new h(n,r,i);return t}function X(e){var t,n,r,i;t=K(e);for(var o={to:"to",in:"to"};J(o,e.token);)r=o[n=e.token],M(e),"in"===n&&""===e.token?t=new h("*","multiply",[t,new y("in")],!0):(i=[t,K(e)],t=new h(n,r,i));return t}function K(e){var t,n=[];if(t=":"===e.token?new c(1):Y(e),":"===e.token&&e.conditionalLevel!==e.nestingLevel){for(n.push(t);":"===e.token&&n.length<3;)M(e),n.push(")"===e.token||"]"===e.token||","===e.token||""===e.token?new y("end"):Y(e));t=3===n.length?new m(n[0],n[2],n[1]):new m(n[0],n[1])}return t}function Y(e){var t,n,r,i;t=Z(e);for(var o={"+":"add","-":"subtract"};J(o,e.token);)r=o[n=e.token],M(e),i=[t,Z(e)],t=new h(n,r,i);return t}function Z(e){var t,n,r,i;n=t=Q(e);for(var o={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};J(o,e.token);)i=o[r=e.token],M(e),n=Q(e),t=new h(r,i,[t,n]);return t}function Q(e){var t,n;for(n=t=$(e);3===e.tokenType||"in"===e.token&&I(t)||!(2!==e.tokenType||I(n)||L(n)&&"!"!==n.op)||"("===e.token;)n=$(e),t=new h("*","multiply",[t,n],!0);return t}function $(e){for(var t=ee(e),n=t,r=[];"/"===e.token&&I(n);){if(r.push(xm({},e)),M(e),2!==e.tokenType){xm(e,r.pop());break}if(r.push(xm({},e)),M(e),3!==e.tokenType&&"("!==e.token){r.pop(),xm(e,r.pop());break}xm(e,r.pop()),r.pop(),n=ee(e),t=new h("/","divide",[t,n])}return t}function ee(e){var r,o,a,s={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return J(s,e.token)?(a=s[e.token],r=e.token,M(e),o=[ee(e)],new h(r,a,o)):function(e){var r,o,a,s;return r=function(e){var r,o,a;r=function(e){var r=[];if(3===e.tokenType&&J(e.extraNodes,e.token)){var o=e.extraNodes[e.token];if(O(e),"("===e.token){if(r=[],N(e),O(e),")"!==e.token)for(r.push(B(e));","===e.token;)O(e),r.push(B(e));if(")"!==e.token)throw ae(e,"Parenthesis ) expected");D(e),O(e)}return new o(r)}return function(e){var r;return 3===e.tokenType||1===e.tokenType&&e.token in x?(r=e.token,O(e),te(e,J(w,r)?new c(w[r]):-1!==_.indexOf(r)?new c(t(r,"number")):new y(r))):function(e){var r;return'"'===e.token?(r=ne(e),te(e,new c(r))):function(e){var r;return"'"===e.token?(r=re(e),te(e,new c(r))):function(e){var r,o,a,s;if("["===e.token){if(N(e),O(e),"]"!==e.token){var u=ie(e);if(";"===e.token){for(a=1,o=[u];";"===e.token;)O(e),o[a]=ie(e),a++;if("]"!==e.token)throw ae(e,"End of matrix ] expected");D(e),O(e),s=o[0].items.length;for(var l=1;l<a;l++)if(o[l].items.length!==s)throw se(e,"Column dimensions mismatch ("+o[l].items.length+" !== "+s+")");r=new i(o)}else{if("]"!==e.token)throw ae(e,"End of matrix ] expected");D(e),O(e),r=u}}else D(e),O(e),r=new i([]);return te(e,r)}return function(e){if("{"===e.token){var r;N(e);var i={};do{if(O(e),"}"!==e.token){if('"'===e.token)r=ne(e);else if("'"===e.token)r=re(e);else{if(!(3===e.tokenType||1===e.tokenType&&e.token in x))throw ae(e,"Symbol or string expected as object key");r=e.token,O(e)}if(":"!==e.token)throw ae(e,"Colon : expected after object key");O(e),i[r]=B(e)}}while(","===e.token);if("}"!==e.token)throw ae(e,"Comma , or bracket } expected after object value");return D(e),O(e),te(e,new d(i))}return function(e){var r;return 2===e.tokenType?(r=e.token,O(e),new c(t(r,n.number))):function(e){var t;if("("===e.token){if(N(e),O(e),t=B(e),")"!==e.token)throw ae(e,"Parenthesis ) expected");return D(e),O(e),te(e,t=new f(t))}return function(e){throw ae(e,""===e.token?"Unexpected end of expression":"Value expected")}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e)}(e);for(var s={"!":"factorial","'":"ctranspose"};J(s,e.token);)a=s[o=e.token],O(e),r=te(e,r=new h(o,a,[r]));return r}(e),("^"===e.token||".^"===e.token)&&(a="^"===(o=e.token)?"pow":"dotPow",M(e),s=[r,ee(e)],r=new h(o,a,s)),r}(e)}function te(e,t,n){for(var i;!("("!==e.token&&"["!==e.token&&"."!==e.token||n&&-1===n.indexOf(e.token));)if(i=[],"("===e.token){if(!V(t)&&!E(t))return t;if(N(e),O(e),")"!==e.token)for(i.push(B(e));","===e.token;)O(e),i.push(B(e));if(")"!==e.token)throw ae(e,"Parenthesis ) expected");D(e),O(e),t=new l(t,i)}else if("["===e.token){if(N(e),O(e),"]"!==e.token)for(i.push(B(e));","===e.token;)O(e),i.push(B(e));if("]"!==e.token)throw ae(e,"Parenthesis ] expected");D(e),O(e),t=new r(t,new p(i))}else{if(O(e),3!==e.tokenType)throw ae(e,"Property name expected after dot");i.push(new c(e.token)),O(e),t=new r(t,new p(i,!0))}return t}function ne(e){for(var t="";""!==T(e)&&'"'!==T(e);)"\\"===T(e)&&(t+=T(e),P(e)),t+=T(e),P(e);if(O(e),'"'!==e.token)throw ae(e,'End of string " expected');return O(e),JSON.parse('"'+t+'"')}function re(e){for(var t="";""!==T(e)&&"'"!==T(e);)"\\"===T(e)&&(t+=T(e),P(e)),t+=T(e),P(e);if(O(e),"'"!==e.token)throw ae(e,"End of string ' expected");return O(e),JSON.parse('"'+t+'"')}function ie(e){for(var t=[B(e)],n=1;","===e.token;)O(e),t[n]=B(e),n++;return new i(t)}function oe(e){return e.index-e.token.length+1}function ae(e,t){var n=oe(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}function se(e,t){var n=oe(e),r=new SyntaxError(t+" (char "+n+")");return r.char=n,r}return v.isAlpha=function(e,t,n){return v.isValidLatinOrGreek(e)||v.isValidMathSymbol(e,n)||v.isValidMathSymbol(t,e)},v.isValidLatinOrGreek=function(e){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(e)},v.isValidMathSymbol=function(e,t){return/^[\uD835]$/.test(e)&&/^[\uDC00-\uDFFF]$/.test(t)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(t)},v.isWhitespace=function(e,t){return" "===e||"\t"===e||"\n"===e&&t>0},v.isDecimalMark=function(e,t){return"."===e&&"/"!==t&&"*"!==t&&"^"!==t},v.isDigitDot=function(e){return e>="0"&&e<="9"||"."===e},v.isDigit=function(e){return e>="0"&&e<="9"},v})),_m=et("evaluate",["typed","parse"],(function(e){var t=e.parse;return(0,e.typed)("evaluate",{string:function(e){return t(e).compile().evaluate({})},"string, Object":function(e,n){return t(e).compile().evaluate(n)},"Array | Matrix":function(e){var n={};return ir(e,(function(e){return t(e).compile().evaluate(n)}))},"Array | Matrix, Object":function(e,n){return ir(e,(function(e){return t(e).compile().evaluate(n)}))}})})),Sm=et("Parser",["parse"],(function(e){var t=e.parse;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.parse=function(e){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},n.prototype.compile=function(e){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},n.prototype.evaluate=function(e){return t(e).compile().evaluate(this.scope)},n.prototype.eval=function(e){return Co("Method Parser.eval is renamed to Parser.evaluate. Please use the new method name."),this.evaluate(e)},n.prototype.get=function(e){return e in this.scope?Ma(this.scope,e):void 0},n.prototype.getAll=function(){return K({},this.scope)},n.prototype.set=function(e,t){return Na(this.scope,e,t)},n.prototype.remove=function(e){delete this.scope[e]},n.prototype.clear=function(){for(var e in this.scope)J(this.scope,e)&&delete this.scope[e]},n}),{isClass:!0}),Tm=et("Help",["parse"],(function(e){var t=e.parse;function n(e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!e)throw new Error('Argument "doc" missing');this.doc=e}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var e=this.doc||{},n="\n";if(e.name&&(n+="Name: "+e.name+"\n\n"),e.category&&(n+="Category: "+e.category+"\n\n"),e.description&&(n+="Description:\n    "+e.description+"\n\n"),e.syntax&&(n+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){n+="Examples:\n";for(var r={},i=0;i<e.examples.length;i++){var o=e.examples[i];n+="    "+o+"\n";var a=void 0;try{a=t(o).compile().evaluate(r)}catch(s){a=s}void 0===a||x(a)||(n+="        "+Me(a,{precision:14})+"\n")}n+="\n"}return e.seealso&&e.seealso.length&&(n+="See also: "+e.seealso.join(", ")+"\n"),n},n.prototype.toJSON=function(){var e=q(this.doc);return e.mathjs="Help",e},n.fromJSON=function(e){var t={};for(var r in e)"mathjs"!==r&&(t[r]=e[r]);return new n(t)},n.prototype.valueOf=n.prototype.toString,n}),{isClass:!0}),Pm=et("compile",["typed","parse"],(function(e){var t=e.parse;return(0,e.typed)("compile",{string:function(e){return t(e).compile()},"Array | Matrix":function(e){return ir(e,(function(e){return t(e).compile()}))}})})),Cm=et("parser",["typed","Parser"],(function(e){var t=e.Parser;return(0,e.typed)("parser",{"":function(){return new t}})})),Em=et("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],(function(e){var t=e.FunctionNode,n=e.OperatorNode,r=e.SymbolNode,i={add:!0,multiply:!0},o={add:!0,multiply:!0};function a(e,t){if(!L(e))return!1;var n=e.fn.toString();return t&&J(t,n)&&J(t[n],"associative")?t[n].associative:o[n]||!1}function s(e){var t,n=[];return a(e)?(t=e.op,function e(r){for(var i=0;i<r.args.length;i++){var o=r.args[i];L(o)&&t===o.op?e(o):n.push(o)}}(e),n):e.args}function c(e){return L(e)?function(t){try{return new n(e.op,e.fn,t,e.implicit)}catch(r){return console.error(r),[]}}:function(n){return new t(new r(e.name),n)}}return{createMakeNodeFunction:c,isCommutative:function(e,t){if(!L(e))return!0;var n=e.fn.toString();return t&&J(t,n)&&J(t[n],"commutative")?t[n].commutative:i[n]||!1},isAssociative:a,flatten:function e(t){if(!t.args||0===t.args.length)return t;t.args=s(t);for(var n=0;n<t.args.length;n++)e(t.args[n])},allChildren:s,unflattenr:function e(t){if(t.args&&0!==t.args.length){for(var n=c(t),r=t.args.length,i=0;i<r;i++)e(t.args[i]);if(r>2&&a(t)){for(var o=t.args.pop();t.args.length>0;)o=n([t.args.pop(),o]);t.args=o.args}}},unflattenl:function e(t){if(t.args&&0!==t.args.length){for(var n=c(t),r=t.args.length,i=0;i<r;i++)e(t.args[i]);if(r>2&&a(t)){for(var o=t.args.shift();t.args.length>0;)o=n([o,t.args.shift()]);t.args=o.args}}}}})),km=et("simplifyCore",["equal","isZero","add","subtract","multiply","divide","pow","ConstantNode","OperatorNode","FunctionNode","ParenthesisNode"],(function(e){var t=e.equal,n=e.isZero,r=e.add,i=e.subtract,o=e.multiply,a=e.divide,s=e.pow,c=e.ConstantNode,u=e.OperatorNode,l=e.FunctionNode,p=e.ParenthesisNode,d=new c(0),h=new c(1);return function e(f){if(L(f)&&f.isUnary()){var m=e(f.args[0]);if("+"===f.op)return m;if("-"===f.op){if(L(m)){if(m.isUnary()&&"-"===m.op)return m.args[0];if(m.isBinary()&&"subtract"===m.fn)return new u("-","subtract",[m.args[1],m.args[0]])}return new u(f.op,f.fn,[m])}}else if(L(f)&&f.isBinary()){var g=e(f.args[0]),y=e(f.args[1]);if("+"===f.op){if(I(g)){if(n(g.value))return y;if(I(y))return new c(r(g.value,y.value))}return I(y)&&n(y.value)?g:L(y)&&y.isUnary()&&"-"===y.op?new u("-","subtract",[g,y.args[0]]):new u(f.op,f.fn,y?[g,y]:[g])}if("-"===f.op){if(I(g)&&y){if(I(y))return new c(i(g.value,y.value));if(n(g.value))return new u("-","unaryMinus",[y])}if("subtract"===f.fn)return I(y)&&n(y.value)?g:L(y)&&y.isUnary()&&"-"===y.op?e(new u("+","add",[g,y.args[0]])):new u(f.op,f.fn,[g,y])}else{if("*"===f.op){if(I(g)){if(n(g.value))return d;if(t(g.value,1))return y;if(I(y))return new c(o(g.value,y.value))}if(I(y)){if(n(y.value))return d;if(t(y.value,1))return g;if(L(g)&&g.isBinary()&&g.op===f.op){var v=g.args[0];if(I(v)){var b=new c(o(v.value,y.value));return new u(f.op,f.fn,[b,g.args[1]],f.implicit)}}return new u(f.op,f.fn,[y,g],f.implicit)}return new u(f.op,f.fn,[g,y],f.implicit)}if("/"===f.op){if(I(g)){if(n(g.value))return d;if(I(y)&&(t(y.value,1)||t(y.value,2)||t(y.value,4)))return new c(a(g.value,y.value))}return new u(f.op,f.fn,[g,y])}if("^"===f.op){if(I(y)){if(n(y.value))return h;if(t(y.value,1))return g;if(I(g))return new c(s(g.value,y.value));if(L(g)&&g.isBinary()&&"^"===g.op){var A=g.args[1];if(I(A))return new u(f.op,f.fn,[g.args[0],new c(o(A.value,y.value))])}}return new u(f.op,f.fn,[g,y])}}}else{if(U(f)){var x=e(f.content);return U(x)||V(x)||I(x)?x:new p(x)}if(R(f)){var w=f.args.map(e).map((function(e){return U(e)?e.content:e}));return new l(e(f.fn),w)}}return f}})),Om=et("simplifyConstant",["typed","config","mathWithTransform","?fraction","?bignumber","ConstantNode","OperatorNode","FunctionNode","SymbolNode"],(function(e){var t=e.typed,n=e.config,r=e.mathWithTransform,i=e.fraction,o=e.bignumber,a=e.ConstantNode,s=e.OperatorNode,c=e.FunctionNode,l=Em({FunctionNode:c,OperatorNode:s,SymbolNode:e.SymbolNode}),p=l.isCommutative,d=l.isAssociative,h=l.allChildren,f=l.createMakeNodeFunction;function m(e,t,n){try{return v(r[e].apply(null,t),n)}catch(i){return t=t.map((function(e){return u(e)?e.valueOf():e})),v(r[e].apply(null,t),n)}}var g=t({Fraction:function(e){var t,n=e.s*e.n;return t=n<0?new s("-","unaryMinus",[new a(-n)]):new a(n),1===e.d?t:new s("/","divide",[t,new a(e.d)])},number:function(e){return e<0?b(new a(-e)):new a(e)},BigNumber:function(e){return e<0?b(new a(-e)):new a(e)},Complex:function(e){throw new Error("Cannot convert Complex number to Node")}});function y(e,t){if(t&&!1!==t.exactFractions&&isFinite(e)&&i){var n=i(e);if(n.valueOf()===e)return n}return e}var v=t({"string, Object":function(e,t){return"BigNumber"===n.number?(void 0===o&&Pa(),o(e)):"Fraction"===n.number?(void 0===i&&Ca(),i(e)):y(parseFloat(e),t)},"Fraction, Object":function(e,t){return e},"BigNumber, Object":function(e,t){return e},"number, Object":function(e,t){return y(e,t)},"Complex, Object":function(e,t){return 0!==e.im?e:y(e.re,t)}});function b(e){return new s("-","unaryMinus",[e])}function A(e,t,n,r){return t.reduce((function(t,i){if(B(t)||B(i))B(t)?B(i)||(i=g(i)):t=g(t);else{try{return m(e,[t,i],r)}catch(o){}t=g(t),i=g(i)}return n([t,i])}))}return function(e,t){var n=function e(t,n){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"!=typeof t.value&&isNaN(t.value)?t:v(t.value,n);case"FunctionNode":if(r[t.name]&&r[t.name].rawArgs)return t;if(-1===["add","multiply"].indexOf(t.name)){var i=t.args.map((function(t){return e(t,n)}));if(!i.some(B))try{return m(t.name,i,n)}catch(x){}return i=i.map((function(e){return B(e)?e:g(e)})),new c(t.name,i)}case"OperatorNode":var o,a,s=t.fn.toString(),u=f(t);if(L(t)&&t.isUnary())a=B((o=[e(t.args[0],n)])[0])?u(o):m(s,o,n);else if(d(t))if(o=(o=h(t)).map((function(t){return e(t,n)})),p(s)){for(var l=[],y=[],b=0;b<o.length;b++)B(o[b])?y.push(o[b]):l.push(o[b]);l.length>1?(a=A(s,l,u,n),y.unshift(a),a=A(s,y,u,n)):a=A(s,o,u,n)}else a=A(s,o,u,n);else a=A(s,o=t.args.map((function(t){return e(t,n)})),u,n);return a;case"ParenthesisNode":return e(t.content,n);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(t.type))}}(e,t);return B(n)?n:g(n)}})),Mm=et("resolve",["parse","FunctionNode","OperatorNode","ParenthesisNode"],(function(e){var t=e.parse,n=e.FunctionNode,r=e.OperatorNode,i=e.ParenthesisNode;return function e(o,a){if(!a)return o;if(V(o)){var s=a[o.name];if(B(s))return e(s,a);if("number"==typeof s)return t(String(s))}else{if(L(o)){var c=o.args.map((function(t){return e(t,a)}));return new r(o.op,o.fn,c,o.implicit)}if(U(o))return new i(e(o.content,a));if(R(o)){var u=o.args.map((function(t){return e(t,a)}));return new n(o.name,u)}}return o}}));function Nm(e){return(Nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Im=et("simplify",["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","?fraction","?bignumber","mathWithTransform","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(e){var t=e.typed,n=e.parse,r=e.add,i=e.subtract,o=e.multiply,a=e.divide,s=e.pow,c=e.isZero,u=e.equal,l=e.ConstantNode,p=e.FunctionNode,d=e.OperatorNode,h=e.ParenthesisNode,f=e.SymbolNode,m=Om({typed:t,config:e.config,mathWithTransform:e.mathWithTransform,fraction:e.fraction,bignumber:e.bignumber,ConstantNode:l,OperatorNode:d,FunctionNode:p,SymbolNode:f}),g=km({equal:u,isZero:c,add:r,subtract:i,multiply:o,divide:a,pow:s,ConstantNode:l,OperatorNode:d,FunctionNode:p,ParenthesisNode:h}),y=Mm({parse:n,FunctionNode:p,OperatorNode:d,ParenthesisNode:h}),v=Em({FunctionNode:p,OperatorNode:d,SymbolNode:f}),b=v.isCommutative,A=v.isAssociative,x=v.flatten,w=v.unflattenr,_=v.unflattenl,S=v.createMakeNodeFunction,T=t("simplify",{string:function(e){return T(n(e),T.rules,{},{})},"string, Object":function(e,t){return T(n(e),T.rules,t,{})},"string, Object, Object":function(e,t,r){return T(n(e),T.rules,t,r)},"string, Array":function(e,t){return T(n(e),t,{},{})},"string, Array, Object":function(e,t,r){return T(n(e),t,r,{})},"string, Array, Object, Object":function(e,t,r,i){return T(n(e),t,r,i)},"Node, Object":function(e,t){return T(e,T.rules,t,{})},"Node, Object, Object":function(e,t,n){return T(e,T.rules,t,n)},Node:function(e){return T(e,T.rules,{},{})},"Node, Array":function(e,t){return T(e,t,{},{})},"Node, Array, Object":function(e,t,n){return T(e,t,n,{})},"Node, Array, Object, Object":function(e,t,r,i){t=function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r],o=void 0,a=Nm(i);switch(a){case"string":var s=i.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+i);i={l:s[0],r:s[1]};case"object":if(o={l:P(n(i.l)),r:P(n(i.r))},i.context&&(o.evaluate=i.context),i.evaluate&&(o.evaluate=n(i.evaluate)),A(o.l)){var c=S(o.l),u=new f("_p"+E++);o.expanded={},o.expanded.l=c([o.l.clone(),u]),x(o.expanded.l),w(o.expanded.l),o.expanded.r=c([o.r,u])}break;case"function":o=i;break;default:throw TypeError("Unsupported type of rule: "+a)}t.push(o)}return t}(t);for(var o=y(e,r),a={},s=(o=P(o)).toString({parenthesis:"all"});!a[s];){a[s]=!0,E=0;for(var c=0;c<t.length;c++)"function"==typeof t[c]?o=t[c](o,i):(x(o),o=k(o,t[c])),_(o);s=o.toString({parenthesis:"all"})}return o}});function P(e){return e.transform((function(e,t,n){return U(e)?P(e.content):e}))}T.simplifyCore=g,T.resolve=y;var C={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};T.rules=[g,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},m,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"},{l:"n1/(n2/n3)",r:"(n1*n3)/n2"}];var E=0,k=t("applyRule",{"Node, Object":function(e,t){var n=e;if(n instanceof d||n instanceof p){if(n.args)for(var r=0;r<n.args.length;r++)n.args[r]=k(n.args[r],t)}else n instanceof h&&n.content&&(n.content=k(n.content,t));var i=t.r,o=N(t.l,n)[0];if(!o&&t.expanded&&(i=t.expanded.r,o=N(t.expanded.l,n)[0]),o){var a=n.implicit;n=i.clone(),a&&"implicit"in i&&(n.implicit=!0),n=n.transform((function(e){return e.isSymbolNode&&J(o.placeholders,e.name)?o.placeholders[e.name].clone():e}))}return n}});function O(e,t){var n={placeholders:{}};if(!e.placeholders&&!t.placeholders)return n;if(!e.placeholders)return t;if(!t.placeholders)return e;for(var r in e.placeholders)if(n.placeholders[r]=e.placeholders[r],J(t.placeholders,r)&&!D(e.placeholders[r],t.placeholders[r]))return null;for(var i in t.placeholders)n.placeholders[i]=t.placeholders[i];return n}function M(e,t){var n,r=[];if(0===e.length||0===t.length)return r;for(var i=0;i<e.length;i++)for(var o=0;o<t.length;o++)(n=O(e[i],t[o]))&&r.push(n);return r}function N(e,t,n){var r=[{placeholders:{}}];if(e instanceof d&&t instanceof d||e instanceof p&&t instanceof p){if(e instanceof d){if(e.op!==t.op||e.fn!==t.fn)return[]}else if(e instanceof p&&e.name!==t.name)return[];if((1!==t.args.length||1!==e.args.length)&&A(t)&&!n){if(t.args.length>=2&&2===e.args.length){for(var i=function(e,t){var n,r,i=[],o=S(e);if(b(e,t))for(var a=0;a<e.args.length;a++)(r=e.args.slice(0)).splice(a,1),n=1===r.length?r[0]:o(r),i.push(o([e.args[a],n]));else n=1===(r=e.args.slice(1)).length?r[0]:o(r),i.push(o([e.args[0],n]));return i}(t,e.context),o=[],a=0;a<i.length;a++){var s=N(e,i[a],!0);o=o.concat(s)}return o}if(e.args.length>2)throw Error("Unexpected non-binary associative function: "+e.toString());return[]}for(var c=[],h=0;h<e.args.length;h++){var m=N(e.args[h],t.args[h]);if(0===m.length)return[];c.push(m)}r=function(e){if(0===e.length)return e;for(var t=e.reduce(M),n=[],r={},i=0;i<t.length;i++){var o=JSON.stringify(t[i]);r[o]||(r[o]=!0,n.push(t[i]))}return n}(c)}else if(e instanceof f){if(0===e.name.length)throw new Error("Symbol in rule has 0 length...!?");if(C[e.name]){if(e.name!==t.name)return[]}else if("n"===e.name[0]||"_p"===e.name.substring(0,2))r[0].placeholders[e.name]=t;else if("v"===e.name[0]){if(I(t))return[];r[0].placeholders[e.name]=t}else{if("c"!==e.name[0])throw new Error("Invalid symbol in rule: "+e.name);if(!(t instanceof l))return[];r[0].placeholders[e.name]=t}}else{if(!(e instanceof l))return[];if(!u(e.value,t.value))return[]}return r}function D(e,t){if(e instanceof l&&t instanceof l){if(!u(e.value,t.value))return!1}else if(e instanceof f&&t instanceof f){if(e.name!==t.name)return!1}else{if(!(e instanceof d&&t instanceof d||e instanceof p&&t instanceof p))return!1;if(e instanceof d){if(e.op!==t.op||e.fn!==t.fn)return!1}else if(e instanceof p&&e.name!==t.name)return!1;if(e.args.length!==t.args.length)return!1;for(var n=0;n<e.args.length;n++)if(!D(e.args[n],t.args[n]))return!1}return!0}return T})),Dm=et("rationalize",["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplify","?bignumber","?fraction","mathWithTransform","ConstantNode","OperatorNode","FunctionNode","SymbolNode","ParenthesisNode"],(function(e){var t=e.typed,n=e.equal,r=e.isZero,i=e.add,o=e.subtract,a=e.multiply,s=e.divide,c=e.pow,u=e.parse,l=e.simplify,p=e.ConstantNode,d=e.OperatorNode,h=e.FunctionNode,f=e.SymbolNode,m=e.ParenthesisNode,g=Om({typed:t,config:e.config,mathWithTransform:e.mathWithTransform,fraction:e.fraction,bignumber:e.bignumber,ConstantNode:p,OperatorNode:d,FunctionNode:h,SymbolNode:f}),y=km({equal:n,isZero:r,add:i,subtract:o,multiply:a,divide:s,pow:c,ConstantNode:p,OperatorNode:d,FunctionNode:h,ParenthesisNode:m}),v=t("rationalize",{string:function(e){return v(u(e),{},!1)},"string, boolean":function(e,t){return v(u(e),{},t)},"string, Object":function(e,t){return v(u(e),t,!1)},"string, Object, boolean":function(e,t,n){return v(u(e),t,n)},Node:function(e){return v(e,{},!1)},"Node, boolean":function(e,t){return v(e,{},t)},"Node, Object":function(e,t){return v(e,t,!1)},"Node, Object, boolean":function(e,t,n){var r=function(){var e=[y,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},g,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],t=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],n=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],r={};return r.firstRules=e.concat(t,n),r.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],r.sucDivRules=n,r.firstRulesAgain=e.concat(t),r.finalRules=[y,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},g,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],r}(),i=function(e,t,n,r){var i=[],o=l(e,r,t,{exactFractions:!1}),a="+-*"+((n=!!n)?"/":"");!function e(t){var n=t.type;if("FunctionNode"===n)throw new Error("There is an unsolved function call");if("OperatorNode"===n)if("^"===t.op){if("ConstantNode"!==t.args[1].type||!ae(parseFloat(t.args[1].value)))throw new Error("There is a non-integer exponent");e(t.args[0])}else{if(-1===a.indexOf(t.op))throw new Error("Operator "+t.op+" invalid in polynomial expression");for(var r=0;r<t.args.length;r++)e(t.args[r])}else if("SymbolNode"===n){var o=t.name;-1===i.indexOf(o)&&i.push(o)}else if("ParenthesisNode"===n)e(t.content);else if("ConstantNode"!==n)throw new Error("type "+n+" is not allowed in polynomial expression")}(o);var s={};return s.expression=o,s.variables=i,s}(e,t,!0,r.firstRules),o=i.variables.length;if(e=i.expression,o>=1){var a,s;e=function e(t,n,r){var i=t.type,o=arguments.length>1;if("OperatorNode"===i&&t.isBinary()){var a,s=!1;if("^"===t.op&&("ParenthesisNode"!==t.args[0].type&&"OperatorNode"!==t.args[0].type||"ConstantNode"!==t.args[1].type||(s=(a=parseFloat(t.args[1].value))>=2&&ae(a))),s){if(a>2){var c=t.args[0],u=new d("^","pow",[t.args[0].cloneDeep(),new p(a-1)]);t=new d("*","multiply",[c,u])}else t=new d("*","multiply",[t.args[0],t.args[0].cloneDeep()]);o&&("content"===r?n.content=t:n.args[r]=t)}}if("ParenthesisNode"===i)e(t.content,t,"content");else if("ConstantNode"!==i&&"SymbolNode"!==i)for(var l=0;l<t.args.length;l++)e(t.args[l],t,l);if(!o)return t}(e);var c,u=!0,h=!1;for(e=l(e,r.firstRules,{},{exactFractions:!1});s=u?r.distrDivRules:r.sucDivRules,u=!u,(c=(e=l(e,s)).toString())!==a;)h=!0,a=c;h&&(e=l(e,r.firstRulesAgain,{},{exactFractions:!1})),e=l(e,r.finalRules,{},{exactFractions:!1})}var f=[],m={};return"OperatorNode"===e.type&&e.isBinary()&&"/"===e.op?(1===o&&(e.args[0]=b(e.args[0],f),e.args[1]=b(e.args[1])),n&&(m.numerator=e.args[0],m.denominator=e.args[1])):(1===o&&(e=b(e,f)),n&&(m.numerator=e,m.denominator=null)),n?(m.coefficients=f,m.variables=i.variables,m.expression=e,m):e}});function b(e,t){void 0===t&&(t=[]),t[0]=0;var n=0,r="";!function e(i,o,a){var s=i.type;if("FunctionNode"===s)throw new Error("There is an unsolved function call");if("OperatorNode"===s){if(-1==="+-*^".indexOf(i.op))throw new Error("Operator "+i.op+" invalid");if(null!==o){if(("unaryMinus"===i.fn||"pow"===i.fn)&&"add"!==o.fn&&"subtract"!==o.fn&&"multiply"!==o.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"multiply"===i.fn)&&"add"!==o.fn&&"subtract"!==o.fn)throw new Error("Invalid "+i.op+" placing");if(("subtract"===i.fn||"add"===i.fn||"unaryMinus"===i.fn)&&0!==a.noFil)throw new Error("Invalid "+i.op+" placing")}"^"!==i.op&&"*"!==i.op||(a.fire=i.op);for(var c=0;c<i.args.length;c++)"unaryMinus"===i.fn&&(a.oper="-"),"+"!==i.op&&"subtract"!==i.fn||(a.fire="",a.cte=1,a.oper=0===c?"+":i.op),a.noFil=c,e(i.args[c],i,a)}else if("SymbolNode"===s){if(i.name!==r&&""!==r)throw new Error("There is more than one variable");if(r=i.name,null===o)return void(t[1]=1);if("^"===o.op&&0!==a.noFil)throw new Error("In power the variable should be the first parameter");if("*"===o.op&&1!==a.noFil)throw new Error("In multiply the variable should be the second parameter");""!==a.fire&&"*"!==a.fire||(n<1&&(t[1]=0),t[1]+=a.cte*("+"===a.oper?1:-1),n=Math.max(1,n))}else{if("ConstantNode"!==s)throw new Error("Type "+s+" is not allowed");var u=parseFloat(i.value);if(null===o)return void(t[0]=u);if("^"===o.op){if(1!==a.noFil)throw new Error("Constant cannot be powered");if(!ae(u)||u<=0)throw new Error("Non-integer exponent is not allowed");for(var l=n+1;l<u;l++)t[l]=0;return u>n&&(t[u]=0),t[u]+=a.cte*("+"===a.oper?1:-1),void(n=Math.max(u,n))}a.cte=u,""===a.fire&&(t[0]+=a.cte*("+"===a.oper?1:-1))}}(e,null,{cte:1,oper:"+",fire:""});for(var i,o=!0,a=n=t.length-1;a>=0;a--)if(0!==t[a]){var s=new p(o?t[a]:Math.abs(t[a])),c=t[a]<0?"-":"+";if(a>0){var u=new f(r);if(a>1){var l=new p(a);u=new d("^","pow",[u,l])}s=-1===t[a]&&o?new d("-","unaryMinus",[u]):1===Math.abs(t[a])?u:new d("*","multiply",[s,u])}i=o?s:"+"===c?new d("+","add",[i,s]):new d("-","subtract",[i,s]),o=!1}return o?new p(0):i}return v})),Rm={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},jm={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},Bm={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Fm={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Lm={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},Um={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:Fm,E:Fm,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Bm,PI:Bm,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["derivative","parse","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:jm,eval:jm,help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},variance:Lm,var:Lm,acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},typeOf:Rm,typeof:Rm,numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]}},zm=et("help",["typed","mathWithTransform","Help"],(function(e){var t=e.mathWithTransform,n=e.Help;return(0,e.typed)("help",{any:function(e){var r,i=e;if("string"!=typeof e)for(r in t)if(J(t,r)&&e===t[r]){i=r;break}var o=Ma(Um,i);if(!o)throw new Error('No documentation found on "'+("function"==typeof i?i.name:i)+'"');return new n(o)}})})),Vm=et("derivative",["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],(function(e){var t=e.typed,n=e.config,r=e.parse,i=e.simplify,o=e.equal,a=e.isZero,s=e.numeric,c=e.ConstantNode,u=e.FunctionNode,l=e.OperatorNode,p=e.ParenthesisNode,d=e.SymbolNode,h=t("derivative",{"Node, SymbolNode, Object":function(e,t,n){var r={};m(r,e,t.name);var o=g(e,r);return n.simplify?i(o):o},"Node, SymbolNode":function(e,t){return h(e,t,{simplify:!0})},"string, SymbolNode":function(e,t){return h(r(e),t)},"string, SymbolNode, Object":function(e,t,n){return h(r(e),t,n)},"string, string":function(e,t){return h(r(e),r(t))},"string, string, Object":function(e,t,n){return h(r(e),r(t),n)},"Node, string":function(e,t){return h(e,r(t))},"Node, string, Object":function(e,t,n){return h(e,r(t),n)}});h._simplify=!0,h.toTex=function(e){return f.apply(null,e.args)};var f=t("_derivTex",{"Node, SymbolNode":function(e,t){return I(e)&&"string"===H(e.value)?f(r(e.value).toString(),t.toString(),1):f(e.toString(),t.toString(),1)},"Node, ConstantNode":function(e,t){if("string"===H(t.value))return f(e,r(t.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(e,t,n){return f(e.toString(),t.name,n.value)},"string, string, number":function(e,t,n){return(1===n?"{d\\over d"+t+"}":"{d^{"+n+"}\\over d"+t+"^{"+n+"}}")+"\\left[".concat(e,"\\right]")}}),m=t("constTag",{"Object, ConstantNode, string":function(e,t){return e[t]=!0,!0},"Object, SymbolNode, string":function(e,t,n){return t.name!==n&&(e[t]=!0,!0)},"Object, ParenthesisNode, string":function(e,t,n){return m(e,t.content,n)},"Object, FunctionAssignmentNode, string":function(e,t,n){return-1===t.params.indexOf(n)?(e[t]=!0,!0):m(e,t.expr,n)},"Object, FunctionNode | OperatorNode, string":function(e,t,n){if(t.args.length>0){for(var r=m(e,t.args[0],n),i=1;i<t.args.length;++i)r=m(e,t.args[i],n)&&r;if(r)return e[t]=!0,!0}return!1}}),g=t("_derivative",{"ConstantNode, Object":function(e){return y(0)},"SymbolNode, Object":function(e,t){return y(void 0!==t[e]?0:1)},"ParenthesisNode, Object":function(e,t){return new p(g(e.content,t))},"FunctionAssignmentNode, Object":function(e,t){return void 0!==t[e]?y(0):g(e.expr,t)},"FunctionNode, Object":function(e,t){if(1!==e.args.length&&function(e){if("log"!==e.name&&"nthRoot"!==e.name&&"pow"!==e.name||2!==e.args.length){for(var t=0;t<e.args.length;++t)e.args[t]=y(0);throw e.compile().evaluate(),new Error("Expected TypeError, but none found")}}(e),void 0!==t[e])return y(0);var n,r,i,o,a=e.args[0],s=!1,c=!1;switch(e.name){case"cbrt":s=!0,r=new l("*","multiply",[y(3),new l("^","pow",[a,new l("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(1===e.args.length)s=!0,r=new l("*","multiply",[y(2),new u("sqrt",[a])]);else if(2===e.args.length)return t[n=new l("/","divide",[y(1),e.args[1]])]=t[e.args[1]],g(new l("^","pow",[a,n]),t);break;case"log10":n=y(10);case"log":if(n||1!==e.args.length){if(1===e.args.length&&n||2===e.args.length&&void 0!==t[e.args[1]])r=new l("*","multiply",[a.clone(),new u("log",[n||e.args[1]])]),s=!0;else if(2===e.args.length)return g(new l("/","divide",[new u("log",[a]),new u("log",[e.args[1]])]),t)}else r=a.clone(),s=!0;break;case"pow":return t[n]=t[e.args[1]],g(new l("^","pow",[a,e.args[1]]),t);case"exp":r=new u("exp",[a.clone()]);break;case"sin":r=new u("cos",[a.clone()]);break;case"cos":r=new l("-","unaryMinus",[new u("sin",[a.clone()])]);break;case"tan":r=new l("^","pow",[new u("sec",[a.clone()]),y(2)]);break;case"sec":r=new l("*","multiply",[e,new u("tan",[a.clone()])]);break;case"csc":c=!0,r=new l("*","multiply",[e,new u("cot",[a.clone()])]);break;case"cot":c=!0,r=new l("^","pow",[new u("csc",[a.clone()]),y(2)]);break;case"asin":s=!0,r=new u("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[a.clone(),y(2)])])]);break;case"acos":s=!0,c=!0,r=new u("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[a.clone(),y(2)])])]);break;case"atan":s=!0,r=new l("+","add",[new l("^","pow",[a.clone(),y(2)]),y(1)]);break;case"asec":s=!0,r=new l("*","multiply",[new u("abs",[a.clone()]),new u("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),y(2)]),y(1)])])]);break;case"acsc":s=!0,c=!0,r=new l("*","multiply",[new u("abs",[a.clone()]),new u("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),y(2)]),y(1)])])]);break;case"acot":s=!0,c=!0,r=new l("+","add",[new l("^","pow",[a.clone(),y(2)]),y(1)]);break;case"sinh":r=new u("cosh",[a.clone()]);break;case"cosh":r=new u("sinh",[a.clone()]);break;case"tanh":r=new l("^","pow",[new u("sech",[a.clone()]),y(2)]);break;case"sech":c=!0,r=new l("*","multiply",[e,new u("tanh",[a.clone()])]);break;case"csch":c=!0,r=new l("*","multiply",[e,new u("coth",[a.clone()])]);break;case"coth":c=!0,r=new l("^","pow",[new u("csch",[a.clone()]),y(2)]);break;case"asinh":s=!0,r=new u("sqrt",[new l("+","add",[new l("^","pow",[a.clone(),y(2)]),y(1)])]);break;case"acosh":s=!0,r=new u("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),y(2)]),y(1)])]);break;case"atanh":s=!0,r=new l("-","subtract",[y(1),new l("^","pow",[a.clone(),y(2)])]);break;case"asech":s=!0,c=!0,r=new l("*","multiply",[a.clone(),new u("sqrt",[new l("-","subtract",[y(1),new l("^","pow",[a.clone(),y(2)])])])]);break;case"acsch":s=!0,c=!0,r=new l("*","multiply",[new u("abs",[a.clone()]),new u("sqrt",[new l("+","add",[new l("^","pow",[a.clone(),y(2)]),y(1)])])]);break;case"acoth":s=!0,c=!0,r=new l("-","subtract",[y(1),new l("^","pow",[a.clone(),y(2)])]);break;case"abs":r=new l("/","divide",[new u(new d("abs"),[a.clone()]),a.clone()]);break;case"gamma":default:throw new Error('Function "'+e.name+'" is not supported by derivative, or a wrong number of arguments is passed')}s?(i="/",o="divide"):(i="*",o="multiply");var p=g(a,t);return c&&(p=new l("-","unaryMinus",[p])),new l(i,o,[p,r])},"OperatorNode, Object":function(e,t){if(void 0!==t[e])return y(0);if("+"===e.op)return new l(e.op,e.fn,e.args.map((function(e){return g(e,t)})));if("-"===e.op){if(e.isUnary())return new l(e.op,e.fn,[g(e.args[0],t)]);if(e.isBinary())return new l(e.op,e.fn,[g(e.args[0],t),g(e.args[1],t)])}if("*"===e.op){var n=e.args.filter((function(e){return void 0!==t[e]}));if(n.length>0){var r=e.args.filter((function(e){return void 0===t[e]})),i=1===r.length?r[0]:new l("*","multiply",r),s=n.concat(g(i,t));return new l("*","multiply",s)}return new l("+","add",e.args.map((function(n){return new l("*","multiply",e.args.map((function(e){return e===n?g(e,t):e.clone()})))})))}if("/"===e.op&&e.isBinary()){var c=e.args[0],p=e.args[1];return void 0!==t[p]?new l("/","divide",[g(c,t),p]):void 0!==t[c]?new l("*","multiply",[new l("-","unaryMinus",[c]),new l("/","divide",[g(p,t),new l("^","pow",[p.clone(),y(2)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[g(c,t),p.clone()]),new l("*","multiply",[c.clone(),g(p,t)])]),new l("^","pow",[p.clone(),y(2)])])}if("^"===e.op&&e.isBinary()){var d=e.args[0],h=e.args[1];if(void 0!==t[d])return I(d)&&(a(d.value)||o(d.value,1))?y(0):new l("*","multiply",[e,new l("*","multiply",[new u("log",[d.clone()]),g(h.clone(),t)])]);if(void 0!==t[h]){if(I(h)){if(a(h.value))return y(0);if(o(h.value,1))return g(d,t)}var f=new l("^","pow",[d.clone(),new l("-","subtract",[h,y(1)])]);return new l("*","multiply",[h.clone(),new l("*","multiply",[g(d,t),f])])}return new l("*","multiply",[new l("^","pow",[d.clone(),h.clone()]),new l("+","add",[new l("*","multiply",[g(d,t),new l("/","divide",[h.clone(),d.clone()])]),new l("*","multiply",[g(h,t),new u("log",[d.clone()])])])])}throw new Error('Operator "'+e.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function y(e,t){return new c(s(e,t||n.number))}return h})),Wm=et("apply",["typed","isInteger"],(function(e){var t=e.typed,n=Gr({typed:t,isInteger:e.isInteger});return t("apply",{"...any":function(e){var t=e[1];a(t)?e[1]=t-1:s(t)&&(e[1]=t.minus(1));try{return n.apply(null,e)}catch(r){throw um(r)}}})}),{isTransformFunction:!0});function Hm(e,t,n){var r=e.filter((function(e){return V(e)&&!(e.name in t)&&!(e.name in n)}))[0];if(!r)throw new Error('No undefined variable found in inline expression "'+e+'"');var i=r.name,o=Object.create(n),a=e.compile();return function(e){return o[i]=e,a.evaluate(o)}}var Gm=et("filter",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=V(e[1])||D(e[1])?e[1].compile().evaluate(n):Hm(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("filter",{"Array, function":qm,"Matrix, function":function(e,t){return e.create(qm(e.toArray(),t))},"Array, RegExp":Ke,"Matrix, RegExp":function(e,t){return e.create(Ke(e.toArray(),t))}});return n}),{isTransformFunction:!0});function qm(e,t){var n=dt(t);return Xe(e,(function(e,r,i){return 1===n?t(e):2===n?t(e,[r+1]):t(e,[r+1],i)}))}var Xm=et("map",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=V(e[1])||D(e[1])?e[1].compile().evaluate(n):Hm(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("map",{"Array, function":function(e,t){return Km(e,t,e)},"Matrix, function":function(e,t){return e.create(Km(e.valueOf(),t,e))}});return n}),{isTransformFunction:!0});function Km(e,t,n){var r=dt(t);return function e(i,o){return Array.isArray(i)?Ge(i,(function(t,n){return e(t,o.concat(n+1))})):1===r?t(i):2===r?t(i,o):t(i,o,n)}(e,[])}var Ym=et("forEach",["typed"],(function(e){var t=e.typed;function n(e,t,n){var i,o;return e[0]&&(i=e[0].compile().evaluate(n)),e[1]&&(o=V(e[1])||D(e[1])?e[1].compile().evaluate(n):Hm(e[1],t,n)),r(i,o)}n.rawArgs=!0;var r=t("forEach",{"Array | Matrix, function":function(e,t){var n=dt(t);!function r(i,o){Array.isArray(i)?qe(i,(function(e,t){r(e,o.concat(t+1))})):1===n?t(i):2===n?t(i,o):t(i,o,e)}(e.valueOf(),[])}});return n}),{isTransformFunction:!0}),Zm=et("max",["typed","larger"],(function(e){var t=e.typed,n=as({typed:t,larger:e.larger});return t("max",{"...any":function(e){if(2===e.length&&f(e[0])){var t=e[1];a(t)?e[1]=t-1:s(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw um(r)}}})}),{isTransformFunction:!0}),Qm=et("min",["typed","smaller"],(function(e){var t=e.typed,n=Bs({typed:t,smaller:e.smaller});return t("min",{"...any":function(e){if(2===e.length&&f(e[0])){var t=e[1];a(t)?e[1]=t-1:s(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw um(r)}}})}),{isTransformFunction:!0}),Jm=et("subset",["typed","matrix"],(function(e){var t=e.typed,n=Fa({typed:t,matrix:e.matrix});return t("subset",{"...any":function(e){try{return n.apply(null,e)}catch(t){throw um(t)}}})}),{isTransformFunction:!0}),$m=et("concat",["typed","matrix","isInteger"],(function(e){var t=e.typed,n=Aa({typed:t,matrix:e.matrix,isInteger:e.isInteger});return t("concat",{"...any":function(e){var t=e.length-1,r=e[t];a(r)?e[t]=r-1:s(r)&&(e[t]=r.minus(1));try{return n.apply(null,e)}catch(i){throw um(i)}}})}),{isTransformFunction:!0}),eg=et("range",["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],(function(e){var t=e.typed,n=wc({typed:t,config:e.config,matrix:e.matrix,bignumber:e.bignumber,smaller:e.smaller,smallerEq:e.smallerEq,larger:e.larger,largerEq:e.largerEq});return t("range",{"...any":function(e){return"boolean"!=typeof e[e.length-1]&&e.push(!0),n.apply(null,e)}})}),{isTransformFunction:!0}),tg=et("sum",["typed","config","add","?bignumber","?fraction"],(function(e){var t=e.typed,n=oc({typed:t,config:e.config,add:e.add,bignumber:e.bignumber,fraction:e.fraction});return t("sum",{"...any":function(e){if(2===e.length&&f(e[0])){var t=e[1];a(t)?e[1]=t-1:s(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw um(r)}}})}),{isTransformFunction:!0}),ng=et("index",["Index"],(function(e){var t=e.Index;return function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];if(y(i))i.start--,i.end-=i.step>0?0:2;else if(i&&!0===i.isSet)i=i.map((function(e){return e-1}));else if(d(i)||h(i))i=i.map((function(e){return e-1}));else if(a(i))i--;else if(s(i))i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[n]=i}var o=new t;return t.apply(o,e),o}}),{isTransformFunction:!0}),rg=et("column",["typed","Index","matrix","range"],(function(e){var t=e.typed,n=hu({typed:t,Index:e.Index,matrix:e.matrix,range:e.range});return t("column",{"...any":function(e){var t=e.length-1,r=e[t];a(r)&&(e[t]=r-1);try{return n.apply(null,e)}catch(i){throw um(i)}}})}),{isTransformFunction:!0}),ig=et("row",["typed","Index","matrix","range"],(function(e){var t=e.typed,n=Zc({typed:t,Index:e.Index,matrix:e.matrix,range:e.range});return t("row",{"...any":function(e){var t=e.length-1,r=e[t];a(r)&&(e[t]=r-1);try{return n.apply(null,e)}catch(i){throw um(i)}}})}),{isTransformFunction:!0}),og=et("mean",["typed","add","divide"],(function(e){var t=e.typed,n=cu({typed:t,add:e.add,divide:e.divide});return t("mean",{"...any":function(e){if(2===e.length&&f(e[0])){var t=e[1];a(t)?e[1]=t-1:s(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw um(r)}}})}),{isTransformFunction:!0}),ag=et("variance",["typed","add","subtract","multiply","divide","apply","isNaN"],(function(e){var t=e.typed,n=uu({typed:t,add:e.add,subtract:e.subtract,multiply:e.multiply,divide:e.divide,apply:e.apply,isNaN:e.isNaN});return t("variance",{"...any":function(e){if(e.length>=2&&f(e[0])){var t=e[1];a(t)?e[1]=t-1:s(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw um(r)}}})}),{isTransformFunction:!0}),sg=et("std",["typed","sqrt","variance"],(function(e){var t=e.typed,n=pu({typed:t,sqrt:e.sqrt,variance:e.variance});return t("std",{"...any":function(e){if(e.length>=2&&f(e[0])){var t=e[1];a(t)?e[1]=t-1:s(t)&&(e[1]=t.minus(1))}try{return n.apply(null,e)}catch(r){throw um(r)}}})}),{isTransformFunction:!0});function cg(){return(cg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ug={},lg={},pg={},dg=jf({mathWithTransform:lg}),hg=Bf({Node:dg}),fg=Ff({Node:dg,ResultSet:ku}),mg=Xf({Node:dg}),gg=Yf({Node:dg}),yg=Zf({Node:dg}),vg=tm({Node:dg}),bg=nm({math:ug}),Ag=rm({classes:pg}),xg=im({Node:dg}),wg=om({Node:dg}),_g=am({Node:dg}),Sg=sm({Node:dg,typed:rl}),Tg=cm({Chain:bg,typed:rl}),Pg=dm({Node:dg,subset:Dp}),Cg=fm({Node:dg,Range:Mu,size:Ip}),Eg=gm({matrix:bp,Node:dg,subset:Dp}),kg=ym({Unit:mh,Node:dg,math:ug}),Og=Am({Node:dg,SymbolNode:kg,math:ug}),Mg=wm({AccessorNode:Pg,ArrayNode:hg,AssignmentNode:Eg,BlockNode:fg,ConditionalNode:xg,ConstantNode:mg,FunctionAssignmentNode:Sg,FunctionNode:Og,IndexNode:Cg,ObjectNode:gg,OperatorNode:wg,ParenthesisNode:yg,RangeNode:_g,RelationalNode:vg,SymbolNode:kg,config:oe,numeric:Md,typed:rl}),Ng=_m({parse:Mg,typed:rl}),Ig=Sm({parse:Mg}),Dg=Tm({parse:Mg}),Rg=Pm({parse:Mg,typed:rl}),jg=Cm({Parser:Ig,typed:rl}),Bg=Im({bignumber:Pd,fraction:Jl,ConstantNode:mg,FunctionNode:Og,OperatorNode:wg,ParenthesisNode:yg,SymbolNode:kg,add:Jp,config:oe,divide:xh,equal:Hd,isZero:td,mathWithTransform:lg,multiply:id,parse:Mg,pow:pd,subtract:zd,typed:rl}),Fg=Dm({bignumber:Pd,fraction:Jl,ConstantNode:mg,FunctionNode:Og,OperatorNode:wg,ParenthesisNode:yg,SymbolNode:kg,add:Jp,config:oe,divide:xh,equal:Hd,isZero:td,mathWithTransform:lg,multiply:id,parse:Mg,pow:pd,simplify:Bg,subtract:zd,typed:rl}),Lg=zm({Help:Dg,mathWithTransform:lg,typed:rl}),Ug=Vm({ConstantNode:mg,FunctionNode:Og,OperatorNode:wg,ParenthesisNode:yg,SymbolNode:kg,config:oe,equal:Hd,isZero:td,numeric:Md,parse:Mg,simplify:Bg,typed:rl});cg(ug,{typeof:Zl,eye:Nu,reviver:Ag,false:Iu,null:Du,true:Ru,replacer:Fu,i:Lu,LN10:Uu,LOG10E:zu,NaN:Vu,pi:Wu,SQRT1_2:Hu,tau:Gu,efimovFactor:qu,fineStructure:Xu,sackurTetrode:Ku,weakMixingAngle:Yu,e:Qu,Infinity:Ju,LOG2E:$u,PI:Wu,version:el,E:Qu,phi:nl,typed:rl,isInteger:il,isNumeric:ol,isPositive:al,isNaN:sl,equalScalar:cl,number:ul,boolean:ll,complex:pl,splitUnit:dl,unaryPlus:hl,apply:fl,cube:ml,expm1:gl,log10:yl,multiplyScalar:vl,sign:bl,square:Al,bitNot:xl,arg:wl,im:_l,not:Sl,filter:Tl,forEach:Pl,map:Cl,erf:El,format:kl,isPrime:Ol,acos:Ml,acot:Nl,acsc:Il,asec:Dl,asin:Rl,atan:jl,atanh:Bl,cosh:Fl,coth:Ll,csch:Ul,sech:zl,sinh:Vl,tanh:Wl,chain:Tg,combinations:Hl,pickRandom:Gl,randomInt:ql,LN2:Xl,clone:Kl,hasNumericValue:Yl,typeOf:Zl,string:Ql,fraction:Jl,unaryMinus:$l,addScalar:ep,exp:tp,log2:np,sqrt:rp,conj:ip,getMatrixDataType:op,mode:ap,print:sp,acosh:cp,acsch:up,asinh:lp,cos:pp,csc:dp,sin:hp,combinationsWithRep:fp,random:mp,SQRT2:gp,isNegative:yp,matrix:bp,cbrt:Ap,gcd:xp,mod:wp,nthRoot:_p,xgcd:Sp,bitAnd:Tp,bitXor:Pp,or:Cp,concat:Ep,diag:kp,identity:Op,ones:Mp,reshape:Np,size:Ip,subset:Dp,zeros:Rp,to:jp,round:Bp,leftShift:Fp,rightLogShift:Lp,compare:Up,compareText:zp,smaller:Vp,larger:Wp,unequal:Hp,max:Gp,sparse:Kp,acoth:Yp,atan2:Zp,sec:Qp,add:Jp,trace:$p,composition:ed,isZero:td,abs:nd,floor:rd,multiply:id,dotMultiply:od,re:ad,flatten:sd,resize:cd,squeeze:ud,prod:ld,pow:pd,dotPow:dd,rightArithShift:hd,compareNatural:fd,equalText:md,largerEq:gd,partitionSelect:yd,min:vd,asech:Ad,tan:xd,setSize:wd,norm:_d,quantileSeq:Sd,gamma:Td,bignumber:Pd,lcm:Cd,bitOr:Ed,kron:kd,transpose:Od,numeric:Md,and:Nd,smallerEq:Id,sort:Dd,cot:Rd,dot:jd,sum:Bd,factorial:Fd,permutations:Ld,ceil:Ud,subtract:zd,cross:Vd,ctranspose:Wd,equal:Hd,setCartesian:qd,setDistinct:Xd,setIsSubset:Kd,setPowerset:Yd,index:Zd,fix:Qd,range:Jd,divideScalar:$d,nthRoots:eh,lsolve:th,deepEqual:nh,setDifference:rh,setMultiplicity:ih,hypot:oh,lup:ah,slu:sh,det:ch,distance:uh,stirlingS2:lh,catalan:ph,xor:dh,row:hh,dotDivide:fh,createUnit:gh,setSymDifference:yh,qr:vh,inv:bh,expm:Ah,divide:xh,mean:wh,variance:_h,std:Sh,multinomial:Th,atomicMass:Ph,bohrMagneton:Ch,boltzmann:Eh,conductanceQuantum:kh,deuteronMass:Oh,electronMass:Mh,faraday:Nh,firstRadiation:Ih,gravitationConstant:Dh,hartreeEnergy:Rh,klitzing:jh,magneticConstant:Bh,molarMass:Fh,molarPlanckConstant:Lh,neutronMass:Uh,planckCharge:zh,planckLength:Vh,planckTemperature:Wh,protonMass:Hh,reducedPlanckConstant:Gh,secondRadiation:qh,stefanBoltzmann:Xh,vacuumImpedance:Kh,column:Yh,usolve:Zh,setIntersect:Qh,lusolve:Jh,eigs:$h,intersect:ef,var:_h,bellNumbers:tf,avogadro:nf,classicalElectronRadius:rf,electricConstant:of,fermiCoupling:af,gravity:sf,loschmidt:cf,molarMassC12:uf,nuclearMagneton:lf,planckMass:pf,quantumOfCirculation:df,speedOfLight:hf,wienDisplacement:ff,log:mf,unit:gf,parse:Mg,evaluate:Ng,sqrtm:yf,kldivergence:vf,bohrRadius:bf,elementaryCharge:Af,inverseConductanceQuantum:xf,molarVolume:wf,planckTime:_f,thomsonCrossSection:Sf,log1p:Tf,compile:Rg,parser:jg,median:Pf,simplify:Bg,rationalize:Fg,gasConstant:Cf,planckConstant:Ef,setUnion:kf,help:Lg,derivative:Ug,magneticFluxQuantum:Of,eval:Ng,coulomb:Mf,mad:Nf,rydberg:If,config:oe}),cg(lg,ug,{apply:Wm({isInteger:il,typed:rl}),filter:Gm({typed:rl}),map:Xm({typed:rl}),forEach:Ym({typed:rl}),max:Zm({larger:Wp,typed:rl}),min:Qm({smaller:Vp,typed:rl}),subset:Jm({matrix:bp,typed:rl}),concat:$m({isInteger:il,matrix:bp,typed:rl}),range:eg({bignumber:Pd,matrix:bp,config:oe,larger:Wp,largerEq:gd,smaller:Vp,smallerEq:Id,typed:rl}),sum:tg({bignumber:Pd,fraction:Jl,add:Jp,config:oe,typed:rl}),index:ng({Index:Gd}),column:rg({Index:Gd,matrix:bp,range:Jd,typed:rl}),row:ig({Index:Gd,matrix:bp,range:Jd,typed:rl}),mean:og({add:Jp,divide:xh,typed:rl}),variance:ag({add:Jp,apply:fl,divide:xh,isNaN:sl,multiply:id,subtract:zd,typed:rl}),std:sg({sqrt:rp,typed:rl,variance:_h})}),cg(pg,{ResultSet:ku,Complex:Ou,Range:Mu,Node:dg,ArrayNode:hg,BlockNode:fg,ConstantNode:mg,ObjectNode:gg,ParenthesisNode:yg,RelationalNode:vg,Chain:bg,BigNumber:ju,Matrix:Bu,ConditionalNode:xg,OperatorNode:wg,Fraction:Zu,RangeNode:_g,DenseMatrix:tl,FunctionAssignmentNode:Sg,SparseMatrix:vp,ImmutableDenseMatrix:qp,FibonacciHeap:Xp,AccessorNode:Pg,IndexNode:Cg,Spa:bd,AssignmentNode:Eg,Index:Gd,Unit:mh,SymbolNode:kg,FunctionNode:Og,Parser:Ig,Help:Dg}),bg.createProxy(ug);var zg={createBigNumberClass:Wt},Vg={createComplexClass:st},Wg={createMatrixClass:Ht},Hg={MatrixDependencies:Wg,createDenseMatrixClass:Kn},Gg={createFractionClass:Xn},qg={BigNumberDependencies:zg,ComplexDependencies:Vg,DenseMatrixDependencies:Hg,FractionDependencies:Gg,createTyped:Jn},Xg={createResultSet:rt},Kg={createRangeClass:ct},Yg={typedDependencies:qg,createClone:To},Zg={typedDependencies:qg,createIsInteger:cr},Qg={typedDependencies:qg,createIsNegative:Qo},Jg={typedDependencies:qg,createIsNumeric:ur},$g={isNumericDependencies:Jg,typedDependencies:qg,createHasNumericValue:Po},ey={typedDependencies:qg,createIsPositive:fr},ty={typedDependencies:qg,createIsZero:ys},ny={typedDependencies:qg,createIsNaN:mr},ry={typedDependencies:qg,createTypeOf:Eo},iy={createDeprecatedTypeof:ko},oy={typedDependencies:qg,createEqualScalar:yr},ay={MatrixDependencies:Wg,equalScalarDependencies:oy,typedDependencies:qg,createSparseMatrixClass:Jo},sy={typedDependencies:qg,createNumber:vr},cy={typedDependencies:qg,createString:Oo},uy={typedDependencies:qg,createBoolean:br},ly={BigNumberDependencies:zg,typedDependencies:qg,createBignumber:Ks},py={ComplexDependencies:Vg,typedDependencies:qg,createComplex:Ar},dy={FractionDependencies:Gg,typedDependencies:qg,createFraction:Mo},hy={DenseMatrixDependencies:Hg,MatrixDependencies:Wg,SparseMatrixDependencies:ay,typedDependencies:qg,createMatrix:$o},fy={typedDependencies:qg,createSplitUnit:xr},my={typedDependencies:qg,createUnaryMinus:No},gy={BigNumberDependencies:zg,typedDependencies:qg,createUnaryPlus:Hr},yy={typedDependencies:qg,createAbs:vs},vy={isIntegerDependencies:Zg,typedDependencies:qg,createApply:Gr},by={typedDependencies:qg,createAddScalar:Io},Ay={BigNumberDependencies:zg,ComplexDependencies:Vg,FractionDependencies:Gg,isNegativeDependencies:Qg,matrixDependencies:hy,typedDependencies:qg,unaryMinusDependencies:my,createCbrt:ea},xy={BigNumberDependencies:zg,matrixDependencies:hy,typedDependencies:qg,createZeros:Wa},wy={BigNumberDependencies:zg,DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,zerosDependencies:xy,createRound:Ya},_y={roundDependencies:wy,typedDependencies:qg,createCeil:uc},Sy={typedDependencies:qg,createCube:Xr},Ty={typedDependencies:qg,createExp:Do},Py={ComplexDependencies:Vg,typedDependencies:qg,createExpm1:Kr},Cy={roundDependencies:wy,typedDependencies:qg,createFloor:bs},Ey={ComplexDependencies:Vg,ceilDependencies:_y,floorDependencies:Cy,typedDependencies:qg,createFix:xc},ky={BigNumberDependencies:zg,DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createGcd:aa},Oy={equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createLcm:Ys},My={ComplexDependencies:Vg,typedDependencies:qg,createLog10:Yr},Ny={ComplexDependencies:Vg,typedDependencies:qg,createLog2:Ro},Iy={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createMod:da},Dy={typedDependencies:qg,createMultiplyScalar:Zr},Ry={addScalarDependencies:by,equalScalarDependencies:oy,matrixDependencies:hy,multiplyScalarDependencies:Dy,typedDependencies:qg,createMultiply:As},jy={BigNumberDependencies:zg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createNthRoot:fa},By={BigNumberDependencies:zg,FractionDependencies:Gg,complexDependencies:py,typedDependencies:qg,createSign:Qr},Fy={ComplexDependencies:Vg,typedDependencies:qg,createSqrt:jo},Ly={typedDependencies:qg,createSquare:Jr},Uy={DenseMatrixDependencies:Hg,addScalarDependencies:by,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,unaryMinusDependencies:my,createSubtract:lc},zy={BigNumberDependencies:zg,matrixDependencies:hy,typedDependencies:qg,createXgcd:ma},Vy={equalScalarDependencies:oy,matrixDependencies:hy,multiplyScalarDependencies:Dy,typedDependencies:qg,createDotMultiply:xs},Wy={equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createBitAnd:ga},Hy={typedDependencies:qg,createBitNot:mi},Gy={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createBitOr:Zs},qy={DenseMatrixDependencies:Hg,matrixDependencies:hy,typedDependencies:qg,createBitXor:va},Xy={typedDependencies:qg,createArg:gi},Ky={typedDependencies:qg,createConj:Bo},Yy={typedDependencies:qg,createIm:yi},Zy={typedDependencies:qg,createRe:ws},Qy={typedDependencies:qg,createNot:wi},Jy={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createOr:ba},$y={DenseMatrixDependencies:Hg,matrixDependencies:hy,typedDependencies:qg,createXor:Yc},ev={isIntegerDependencies:Zg,matrixDependencies:hy,typedDependencies:qg,createConcat:Aa},tv={DenseMatrixDependencies:Hg,matrixDependencies:hy,typedDependencies:qg,createSmaller:ns},nv={DenseMatrixDependencies:Hg,smallerDependencies:tv,createImmutableDenseMatrixClass:ss},rv={ImmutableDenseMatrixDependencies:nv,createIndexClass:mc},iv={DenseMatrixDependencies:Hg,matrixDependencies:hy,typedDependencies:qg,createLarger:rs},ov={DenseMatrixDependencies:Hg,matrixDependencies:hy,typedDependencies:qg,createLargerEq:Rs},av={DenseMatrixDependencies:Hg,matrixDependencies:hy,typedDependencies:qg,createSmallerEq:tc},sv={bignumberDependencies:ly,matrixDependencies:hy,largerDependencies:iv,largerEqDependencies:ov,smallerDependencies:tv,smallerEqDependencies:av,typedDependencies:qg,createRange:wc},cv={IndexDependencies:rv,matrixDependencies:hy,rangeDependencies:sv,typedDependencies:qg,createColumn:hu},uv={matrixDependencies:hy,multiplyDependencies:Ry,subtractDependencies:Uy,typedDependencies:qg,createCross:dc},lv={DenseMatrixDependencies:Hg,SparseMatrixDependencies:ay,matrixDependencies:hy,typedDependencies:qg,createDiag:wa},pv={createEye:ut},dv={typedDependencies:qg,createFilter:_i},hv={matrixDependencies:hy,typedDependencies:qg,createFlatten:_s},fv={typedDependencies:qg,createForEach:Ti},mv={typedDependencies:qg,createGetMatrixDataType:Fo},gv={BigNumberDependencies:zg,DenseMatrixDependencies:Hg,SparseMatrixDependencies:ay,matrixDependencies:hy,typedDependencies:qg,createIdentity:_a},yv={matrixDependencies:hy,multiplyScalarDependencies:Dy,typedDependencies:qg,createKron:Qs},vv={typedDependencies:qg,createMap:Ci},bv={BigNumberDependencies:zg,matrixDependencies:hy,typedDependencies:qg,createOnes:Sa},Av={isIntegerDependencies:Zg,matrixDependencies:hy,typedDependencies:qg,createReshape:Ta},xv={matrixDependencies:hy,createResize:Ts},wv={IndexDependencies:rv,matrixDependencies:hy,rangeDependencies:sv,typedDependencies:qg,createRow:Zc},_v={matrixDependencies:hy,typedDependencies:qg,createSize:ka},Sv={matrixDependencies:hy,typedDependencies:qg,createSqueeze:Ps},Tv={matrixDependencies:hy,typedDependencies:qg,createSubset:Fa},Pv={matrixDependencies:hy,typedDependencies:qg,createTranspose:Js},Cv={conjDependencies:Ky,transposeDependencies:Pv,typedDependencies:qg,createCtranspose:hc},Ev={typedDependencies:qg,createErf:ki},kv={isNaNDependencies:ny,isNumericDependencies:Jg,typedDependencies:qg,createMode:Lo},Ov={multiplyDependencies:Ry,typedDependencies:qg,createProd:Cs},Mv={typedDependencies:qg,createFormat:Ri},Nv={typedDependencies:qg,createPrint:Uo},Iv={matrixDependencies:hy,typedDependencies:qg,createTo:Ha},Dv={typedDependencies:qg,createIsPrime:ji},Rv={bignumberDependencies:ly,fractionDependencies:dy,numberDependencies:sy,createNumeric:$s},jv={numericDependencies:Rv,typedDependencies:qg,createDivideScalar:_c},Bv={ComplexDependencies:Vg,fractionDependencies:dy,identityDependencies:gv,matrixDependencies:hy,multiplyDependencies:Ry,numberDependencies:sy,typedDependencies:qg,createPow:Es},Fv={ComplexDependencies:Vg,divideScalarDependencies:jv,typedDependencies:qg,createLog:xu},Lv={ComplexDependencies:Vg,divideScalarDependencies:jv,logDependencies:Fv,typedDependencies:qg,createLog1p:Tu},Uv={ComplexDependencies:Vg,divideScalarDependencies:jv,typedDependencies:qg,createNthRoots:Sc},zv={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,powDependencies:Bv,typedDependencies:qg,createDotPow:ks},Vv={DenseMatrixDependencies:Hg,divideScalarDependencies:jv,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createDotDivide:Qc},Wv={DenseMatrixDependencies:Hg,divideScalarDependencies:jv,equalScalarDependencies:oy,matrixDependencies:hy,multiplyScalarDependencies:Dy,subtractDependencies:Uy,typedDependencies:qg,createLsolve:Pc},Hv={DenseMatrixDependencies:Hg,divideScalarDependencies:jv,equalScalarDependencies:oy,matrixDependencies:hy,multiplyScalarDependencies:Dy,subtractDependencies:Uy,typedDependencies:qg,createUsolve:fu},Gv={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,zerosDependencies:xy,createLeftShift:Ja},qv={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,zerosDependencies:xy,createRightArithShift:Os},Xv={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,zerosDependencies:xy,createRightLogShift:$a},Kv={equalScalarDependencies:oy,matrixDependencies:hy,notDependencies:Qy,typedDependencies:qg,zerosDependencies:xy,createAnd:ec},Yv={BigNumberDependencies:zg,DenseMatrixDependencies:Hg,FractionDependencies:Gg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createCompare:es},Zv={compareDependencies:Yv,typedDependencies:qg,createCompareNatural:Is},Qv={matrixDependencies:hy,typedDependencies:qg,createCompareText:ts},Jv={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createEqual:fc},$v={compareTextDependencies:Qv,isZeroDependencies:ty,typedDependencies:qg,createEqualText:Ds},eb={equalDependencies:Jv,typedDependencies:qg,createDeepEqual:Cc},tb={DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createUnequal:is},nb={compareDependencies:Yv,isNaNDependencies:ny,isNumericDependencies:Jg,typedDependencies:qg,createPartitionSelect:js},rb={compareDependencies:Yv,compareNaturalDependencies:Zv,matrixDependencies:hy,typedDependencies:qg,createSort:nc},ib={largerDependencies:iv,typedDependencies:qg,createMax:as},ob={smallerDependencies:tv,typedDependencies:qg,createMin:Bs},ab={largerDependencies:iv,smallerDependencies:tv,createFibonacciHeapClass:cs},sb={FibonacciHeapDependencies:ab,addScalarDependencies:by,equalScalarDependencies:oy,createSpaClass:Fs},cb={BigNumberDependencies:zg,ComplexDependencies:Vg,FractionDependencies:Gg,absDependencies:yy,addScalarDependencies:by,divideScalarDependencies:jv,equalDependencies:Jv,fixDependencies:Ey,formatDependencies:Mv,isNumericDependencies:Jg,multiplyScalarDependencies:Dy,numberDependencies:sy,powDependencies:Bv,roundDependencies:wy,subtractDependencies:Uy,createUnitClass:eu},ub={UnitDependencies:cb,typedDependencies:qg,createUnitFunction:wu},lb={SparseMatrixDependencies:ay,typedDependencies:qg,createSparse:us},pb={UnitDependencies:cb,typedDependencies:qg,createCreateUnit:tu},db={ComplexDependencies:Vg,typedDependencies:qg,createAcos:Bi},hb={ComplexDependencies:Vg,typedDependencies:qg,createAcosh:Vo},fb={BigNumberDependencies:zg,typedDependencies:qg,createAcot:eo},mb={BigNumberDependencies:zg,ComplexDependencies:Vg,typedDependencies:qg,createAcoth:ls},gb={BigNumberDependencies:zg,ComplexDependencies:Vg,typedDependencies:qg,createAcsc:to},yb={BigNumberDependencies:zg,typedDependencies:qg,createAcsch:Wo},vb={BigNumberDependencies:zg,ComplexDependencies:Vg,typedDependencies:qg,createAsec:no},bb={BigNumberDependencies:zg,ComplexDependencies:Vg,typedDependencies:qg,createAsech:Ls},Ab={ComplexDependencies:Vg,typedDependencies:qg,createAsin:ro},xb={typedDependencies:qg,createAsinh:Ho},wb={typedDependencies:qg,createAtan:io},_b={BigNumberDependencies:zg,DenseMatrixDependencies:Hg,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createAtan2:ds},Sb={ComplexDependencies:Vg,typedDependencies:qg,createAtanh:oo},Tb={typedDependencies:qg,createCos:Go},Pb={typedDependencies:qg,createCosh:ao},Cb={BigNumberDependencies:zg,typedDependencies:qg,createCot:rc},Eb={BigNumberDependencies:zg,typedDependencies:qg,createCoth:so},kb={BigNumberDependencies:zg,typedDependencies:qg,createCsc:qo},Ob={BigNumberDependencies:zg,typedDependencies:qg,createCsch:co},Mb={BigNumberDependencies:zg,typedDependencies:qg,createSec:hs},Nb={BigNumberDependencies:zg,typedDependencies:qg,createSech:uo},Ib={typedDependencies:qg,createSin:Xo},Db={typedDependencies:qg,createSinh:lo},Rb={typedDependencies:qg,createTan:Us},jb={typedDependencies:qg,createTanh:po},Bb={DenseMatrixDependencies:Hg,IndexDependencies:rv,compareNaturalDependencies:Zv,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetCartesian:gc},Fb={DenseMatrixDependencies:Hg,IndexDependencies:rv,compareNaturalDependencies:Zv,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetDifference:Ec},Lb={DenseMatrixDependencies:Hg,IndexDependencies:rv,compareNaturalDependencies:Zv,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetDistinct:yc},Ub={DenseMatrixDependencies:Hg,IndexDependencies:rv,compareNaturalDependencies:Zv,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetIntersect:mu},zb={IndexDependencies:rv,compareNaturalDependencies:Zv,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetIsSubset:vc},Vb={IndexDependencies:rv,compareNaturalDependencies:Zv,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetMultiplicity:kc},Wb={IndexDependencies:rv,compareNaturalDependencies:Zv,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetPowerset:bc},Hb={compareNaturalDependencies:Zv,typedDependencies:qg,createSetSize:zs},Gb={IndexDependencies:rv,concatDependencies:ev,setDifferenceDependencies:Fb,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetSymDifference:nu},qb={IndexDependencies:rv,concatDependencies:ev,setIntersectDependencies:Ub,setSymDifferenceDependencies:Gb,sizeDependencies:_v,subsetDependencies:Tv,typedDependencies:qg,createSetUnion:Cu},Xb={DenseMatrixDependencies:Hg,SparseMatrixDependencies:ay,addScalarDependencies:by,equalScalarDependencies:oy,matrixDependencies:hy,typedDependencies:qg,createAdd:fs},Kb={absDependencies:yy,addScalarDependencies:by,divideScalarDependencies:jv,isPositiveDependencies:ey,multiplyScalarDependencies:Dy,smallerDependencies:tv,sqrtDependencies:Fy,typedDependencies:qg,createHypot:Oc},Yb={absDependencies:yy,addDependencies:Xb,conjDependencies:Ky,equalScalarDependencies:oy,largerDependencies:iv,matrixDependencies:hy,multiplyDependencies:Ry,powDependencies:Bv,smallerDependencies:tv,sqrtDependencies:Fy,typedDependencies:qg,createNorm:Vs},Zb={addDependencies:Xb,multiplyDependencies:Ry,typedDependencies:qg,createDot:ic},Qb={addDependencies:Xb,matrixDependencies:hy,typedDependencies:qg,createTrace:ms},Jb={IndexDependencies:rv,typedDependencies:qg,createIndex:Ac},$b={createNode:jf},eA={NodeDependencies:$b,subsetDependencies:Tv,createAccessorNode:dm},tA={NodeDependencies:$b,createArrayNode:Bf},nA={matrixDependencies:hy,NodeDependencies:$b,subsetDependencies:Tv,createAssignmentNode:gm},rA={NodeDependencies:$b,ResultSetDependencies:Xg,createBlockNode:Ff},iA={NodeDependencies:$b,createConditionalNode:im},oA={NodeDependencies:$b,createConstantNode:Xf},aA={NodeDependencies:$b,typedDependencies:qg,createFunctionAssignmentNode:sm},sA={NodeDependencies:$b,RangeDependencies:Kg,sizeDependencies:_v,createIndexNode:fm},cA={NodeDependencies:$b,createObjectNode:Yf},uA={NodeDependencies:$b,createOperatorNode:om},lA={NodeDependencies:$b,createParenthesisNode:Zf},pA={NodeDependencies:$b,createRangeNode:am},dA={NodeDependencies:$b,createRelationalNode:tm},hA={UnitDependencies:cb,NodeDependencies:$b,createSymbolNode:ym},fA={NodeDependencies:$b,SymbolNodeDependencies:hA,createFunctionNode:Am},mA={AccessorNodeDependencies:eA,ArrayNodeDependencies:tA,AssignmentNodeDependencies:nA,BlockNodeDependencies:rA,ConditionalNodeDependencies:iA,ConstantNodeDependencies:oA,FunctionAssignmentNodeDependencies:aA,FunctionNodeDependencies:fA,IndexNodeDependencies:sA,ObjectNodeDependencies:cA,OperatorNodeDependencies:uA,ParenthesisNodeDependencies:lA,RangeNodeDependencies:pA,RelationalNodeDependencies:dA,SymbolNodeDependencies:hA,numericDependencies:Rv,typedDependencies:qg,createParse:wm},gA={parseDependencies:mA,typedDependencies:qg,createCompile:Pm},yA={parseDependencies:mA,typedDependencies:qg,createEvaluate:_m},vA=et("eval",["evaluate"],(function(e){var t=e.evaluate;return function(){Co('Function "eval" has been renamed to "evaluate" in v6.0.0, please use the new function instead.');for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(t,n)}})),bA={evaluateDependencies:yA,createDeprecatedEval:vA},AA={parseDependencies:mA,createParserClass:Sm},xA={ParserDependencies:AA,typedDependencies:qg,createParser:Cm},wA={DenseMatrixDependencies:Hg,SpaDependencies:sb,SparseMatrixDependencies:ay,absDependencies:yy,addScalarDependencies:by,divideScalarDependencies:jv,equalScalarDependencies:oy,largerDependencies:iv,matrixDependencies:hy,multiplyScalarDependencies:Dy,subtractDependencies:Uy,typedDependencies:qg,unaryMinusDependencies:my,createLup:Mc},_A={addScalarDependencies:by,complexDependencies:py,conjDependencies:Ky,divideScalarDependencies:jv,equalDependencies:Jv,identityDependencies:gv,isZeroDependencies:ty,matrixDependencies:hy,multiplyScalarDependencies:Dy,signDependencies:By,sqrtDependencies:Fy,subtractDependencies:Uy,typedDependencies:qg,unaryMinusDependencies:my,zerosDependencies:xy,createQr:iu},SA={SparseMatrixDependencies:ay,absDependencies:yy,addDependencies:Xb,divideScalarDependencies:jv,largerDependencies:iv,largerEqDependencies:ov,multiplyDependencies:Ry,subtractDependencies:Uy,transposeDependencies:Pv,typedDependencies:qg,createSlu:Hc},TA={DenseMatrixDependencies:Hg,lsolveDependencies:Wv,lupDependencies:wA,matrixDependencies:hy,sluDependencies:SA,typedDependencies:qg,usolveDependencies:Hv,createLusolve:yu},PA={parseDependencies:mA,createHelpClass:Tm},CA={createChainClass:nm},EA={HelpDependencies:PA,typedDependencies:qg,createHelp:zm},kA={ChainDependencies:CA,typedDependencies:qg,createChain:cm},OA={lupDependencies:wA,matrixDependencies:hy,multiplyDependencies:Ry,subtractDependencies:Uy,typedDependencies:qg,unaryMinusDependencies:my,createDet:Gc},MA={absDependencies:yy,addScalarDependencies:by,detDependencies:OA,divideScalarDependencies:jv,identityDependencies:gv,matrixDependencies:hy,multiplyDependencies:Ry,typedDependencies:qg,unaryMinusDependencies:my,createInv:ou},NA={absDependencies:yy,addDependencies:Xb,addScalarDependencies:by,atanDependencies:wb,bignumberDependencies:ly,cosDependencies:Tb,equalDependencies:Jv,invDependencies:MA,matrixDependencies:hy,multiplyDependencies:Ry,multiplyScalarDependencies:Dy,sinDependencies:Ib,subtractDependencies:Uy,typedDependencies:qg,createEigs:vu},IA={absDependencies:yy,addDependencies:Xb,identityDependencies:gv,invDependencies:MA,multiplyDependencies:Ry,typedDependencies:qg,createExpm:au},DA={absDependencies:yy,addDependencies:Xb,identityDependencies:gv,invDependencies:MA,maxDependencies:ib,multiplyDependencies:Ry,sizeDependencies:_v,sqrtDependencies:Fy,subtractDependencies:Uy,typedDependencies:qg,createSqrtm:_u},RA={divideScalarDependencies:jv,equalScalarDependencies:oy,invDependencies:MA,matrixDependencies:hy,multiplyDependencies:Ry,typedDependencies:qg,createDivide:su},jA={absDependencies:yy,addScalarDependencies:by,divideScalarDependencies:jv,multiplyScalarDependencies:Dy,sqrtDependencies:Fy,subtractDependencies:Uy,typedDependencies:qg,unaryMinusDependencies:my,createDistance:qc},BA={absDependencies:yy,addDependencies:Xb,addScalarDependencies:by,divideScalarDependencies:jv,equalScalarDependencies:oy,matrixDependencies:hy,multiplyDependencies:Ry,multiplyScalarDependencies:Dy,smallerDependencies:tv,subtractDependencies:Uy,typedDependencies:qg,createIntersect:bu},FA={bignumberDependencies:ly,fractionDependencies:dy,addDependencies:Xb,typedDependencies:qg,createSum:oc},LA={addDependencies:Xb,divideDependencies:RA,typedDependencies:qg,createMean:cu},UA={addDependencies:Xb,compareDependencies:Yv,divideDependencies:RA,partitionSelectDependencies:nb,typedDependencies:qg,createMedian:Pu},zA={absDependencies:yy,mapDependencies:vv,medianDependencies:UA,subtractDependencies:Uy,typedDependencies:qg,createMad:Eu},VA={addDependencies:Xb,applyDependencies:vy,divideDependencies:RA,isNaNDependencies:ny,multiplyDependencies:Ry,subtractDependencies:Uy,typedDependencies:qg,createVariance:uu},WA={varianceDependencies:VA,createDeprecatedVar:lu},HA={addDependencies:Xb,compareDependencies:Yv,multiplyDependencies:Ry,partitionSelectDependencies:nb,typedDependencies:qg,createQuantileSeq:Ws},GA={sqrtDependencies:Fy,typedDependencies:qg,varianceDependencies:VA,createStd:pu},qA={typedDependencies:qg,createCombinations:mo},XA={typedDependencies:qg,createCombinationsWithRep:Ko},KA={BigNumberDependencies:zg,ComplexDependencies:Vg,multiplyScalarDependencies:Dy,powDependencies:Bv,typedDependencies:qg,createGamma:Xs},YA={gammaDependencies:KA,typedDependencies:qg,createFactorial:ac},ZA={divideDependencies:RA,dotDivideDependencies:Vv,isNumericDependencies:Jg,logDependencies:Fv,matrixDependencies:hy,multiplyDependencies:Ry,sumDependencies:FA,typedDependencies:qg,createKldivergence:Su},QA={addDependencies:Xb,divideDependencies:RA,factorialDependencies:YA,isIntegerDependencies:Zg,isPositiveDependencies:ey,multiplyDependencies:Ry,typedDependencies:qg,createMultinomial:du},JA={factorialDependencies:YA,typedDependencies:qg,createPermutations:sc},$A={typedDependencies:qg,createPickRandom:xo},ex={typedDependencies:qg,createRandom:Zo},tx={typedDependencies:qg,createRandomInt:So},nx={addScalarDependencies:by,combinationsDependencies:qA,divideScalarDependencies:jv,factorialDependencies:YA,isIntegerDependencies:Zg,isNegativeDependencies:Qg,largerDependencies:iv,multiplyScalarDependencies:Dy,powDependencies:Bv,subtractDependencies:Uy,typedDependencies:qg,createStirlingS2:Xc},rx={addScalarDependencies:by,isIntegerDependencies:Zg,isNegativeDependencies:Qg,stirlingS2Dependencies:nx,typedDependencies:qg,createBellNumbers:Au},ix={addScalarDependencies:by,combinationsDependencies:qA,divideScalarDependencies:jv,isIntegerDependencies:Zg,isNegativeDependencies:Qg,multiplyScalarDependencies:Dy,typedDependencies:qg,createCatalan:Kc},ox={addScalarDependencies:by,combinationsDependencies:qA,isIntegerDependencies:Zg,isNegativeDependencies:Qg,isPositiveDependencies:ey,largerDependencies:iv,typedDependencies:qg,createComposition:gs},ax={bignumberDependencies:ly,fractionDependencies:dy,ConstantNodeDependencies:oA,FunctionNodeDependencies:fA,OperatorNodeDependencies:uA,ParenthesisNodeDependencies:lA,SymbolNodeDependencies:hA,addDependencies:Xb,divideDependencies:RA,equalDependencies:Jv,isZeroDependencies:ty,multiplyDependencies:Ry,parseDependencies:mA,powDependencies:Bv,subtractDependencies:Uy,typedDependencies:qg,createSimplify:Im},sx={ConstantNodeDependencies:oA,FunctionNodeDependencies:fA,OperatorNodeDependencies:uA,ParenthesisNodeDependencies:lA,SymbolNodeDependencies:hA,equalDependencies:Jv,isZeroDependencies:ty,numericDependencies:Rv,parseDependencies:mA,simplifyDependencies:ax,typedDependencies:qg,createDerivative:Vm},cx={bignumberDependencies:ly,fractionDependencies:dy,ConstantNodeDependencies:oA,FunctionNodeDependencies:fA,OperatorNodeDependencies:uA,ParenthesisNodeDependencies:lA,SymbolNodeDependencies:hA,addDependencies:Xb,divideDependencies:RA,equalDependencies:Jv,isZeroDependencies:ty,multiplyDependencies:Ry,parseDependencies:mA,powDependencies:Bv,simplifyDependencies:ax,subtractDependencies:Uy,typedDependencies:qg,createRationalize:Dm},ux={createReviver:rm},lx={createReplacer:Gt},px={BigNumberDependencies:zg,createE:Et},dx={eDependencies:px,createUppercaseE:Ft},hx={createFalse:wt},fx={ComplexDependencies:Vg,createI:jt},mx={BigNumberDependencies:zg,createInfinity:St},gx={BigNumberDependencies:zg,createLN10:Mt},yx={BigNumberDependencies:zg,createLN2:Ot},vx={BigNumberDependencies:zg,createLOG10E:It},bx={BigNumberDependencies:zg,createLOG2E:Nt},Ax={BigNumberDependencies:zg,createNaN:Tt},xx={createNull:_t},wx={BigNumberDependencies:zg,createPhi:kt},_x={BigNumberDependencies:zg,createPi:Pt},Sx={piDependencies:_x,createUppercasePi:Bt},Tx={BigNumberDependencies:zg,createSQRT1_2:Dt},Px={BigNumberDependencies:zg,createSQRT2:Rt},Cx={BigNumberDependencies:zg,createTau:Ct},Ex={createTrue:xt},kx={createVersion:Lt},Ox={BigNumberDependencies:zg,UnitDependencies:cb,createAtomicMass:wn},Mx={BigNumberDependencies:zg,UnitDependencies:cb,createAvogadro:_n},Nx={BigNumberDependencies:zg,UnitDependencies:cb,createBohrMagneton:tn},Ix={BigNumberDependencies:zg,UnitDependencies:cb,createBohrRadius:cn},Dx={BigNumberDependencies:zg,UnitDependencies:cb,createBoltzmann:Sn},Rx={BigNumberDependencies:zg,UnitDependencies:cb,createClassicalElectronRadius:un},jx={BigNumberDependencies:zg,UnitDependencies:cb,createConductanceQuantum:nn},Bx={BigNumberDependencies:zg,UnitDependencies:cb,createCoulomb:$t},Fx={BigNumberDependencies:zg,UnitDependencies:cb,createDeuteronMass:mn},Lx={BigNumberDependencies:zg,createEfimovFactor:xn},Ux={BigNumberDependencies:zg,UnitDependencies:cb,createElectricConstant:Qt},zx={BigNumberDependencies:zg,UnitDependencies:cb,createElectronMass:ln},Vx={BigNumberDependencies:zg,UnitDependencies:cb,createElementaryCharge:en},Wx={BigNumberDependencies:zg,UnitDependencies:cb,createFaraday:Tn},Hx={BigNumberDependencies:zg,UnitDependencies:cb,createFermiCoupling:pn},Gx={BigNumberDependencies:zg,createFineStructure:dn},qx={BigNumberDependencies:zg,UnitDependencies:cb,createFirstRadiation:Pn},Xx={BigNumberDependencies:zg,UnitDependencies:cb,createGasConstant:En},Kx={BigNumberDependencies:zg,UnitDependencies:cb,createGravitationConstant:Xt},Yx={BigNumberDependencies:zg,UnitDependencies:cb,createGravity:Bn},Zx={BigNumberDependencies:zg,UnitDependencies:cb,createHartreeEnergy:hn},Qx={BigNumberDependencies:zg,UnitDependencies:cb,createInverseConductanceQuantum:rn},Jx={BigNumberDependencies:zg,UnitDependencies:cb,createKlitzing:sn},$x={BigNumberDependencies:zg,UnitDependencies:cb,createLoschmidt:Cn},ew={BigNumberDependencies:zg,UnitDependencies:cb,createMagneticConstant:Zt},tw={BigNumberDependencies:zg,UnitDependencies:cb,createMagneticFluxQuantum:on},nw={BigNumberDependencies:zg,UnitDependencies:cb,createMolarMass:Rn},rw={BigNumberDependencies:zg,UnitDependencies:cb,createMolarMassC12:jn},iw={BigNumberDependencies:zg,UnitDependencies:cb,createMolarPlanckConstant:kn},ow={BigNumberDependencies:zg,UnitDependencies:cb,createMolarVolume:On},aw={BigNumberDependencies:zg,UnitDependencies:cb,createNeutronMass:gn},sw={BigNumberDependencies:zg,UnitDependencies:cb,createNuclearMagneton:an},cw={BigNumberDependencies:zg,UnitDependencies:cb,createPlanckCharge:zn},uw={BigNumberDependencies:zg,UnitDependencies:cb,createPlanckConstant:Kt},lw={BigNumberDependencies:zg,UnitDependencies:cb,createPlanckLength:Fn},pw={BigNumberDependencies:zg,UnitDependencies:cb,createPlanckMass:Ln},dw={BigNumberDependencies:zg,UnitDependencies:cb,createPlanckTemperature:Vn},hw={BigNumberDependencies:zg,UnitDependencies:cb,createPlanckTime:Un},fw={BigNumberDependencies:zg,UnitDependencies:cb,createProtonMass:fn},mw={BigNumberDependencies:zg,UnitDependencies:cb,createQuantumOfCirculation:yn},gw={BigNumberDependencies:zg,UnitDependencies:cb,createReducedPlanckConstant:Yt},yw={BigNumberDependencies:zg,UnitDependencies:cb,createRydberg:vn},vw={BigNumberDependencies:zg,createSackurTetrode:Mn},bw={BigNumberDependencies:zg,UnitDependencies:cb,createSecondRadiation:Nn},Aw={BigNumberDependencies:zg,UnitDependencies:cb,createSpeedOfLight:qt},xw={BigNumberDependencies:zg,UnitDependencies:cb,createStefanBoltzmann:In},ww={BigNumberDependencies:zg,UnitDependencies:cb,createThomsonCrossSection:bn},_w={BigNumberDependencies:zg,UnitDependencies:cb,createVacuumImpedance:Jt},Sw={BigNumberDependencies:zg,createWeakMixingAngle:An},Tw={BigNumberDependencies:zg,UnitDependencies:cb,createWienDisplacement:Dn},Pw={isIntegerDependencies:Zg,typedDependencies:qg,createApplyTransform:Wm},Cw={IndexDependencies:rv,matrixDependencies:hy,rangeDependencies:sv,typedDependencies:qg,createColumnTransform:rg},Ew={typedDependencies:qg,createFilterTransform:Gm},kw={typedDependencies:qg,createForEachTransform:Ym},Ow={IndexDependencies:rv,createIndexTransform:ng},Mw={typedDependencies:qg,createMapTransform:Xm},Nw={largerDependencies:iv,typedDependencies:qg,createMaxTransform:Zm},Iw={addDependencies:Xb,divideDependencies:RA,typedDependencies:qg,createMeanTransform:og},Dw={smallerDependencies:tv,typedDependencies:qg,createMinTransform:Qm},Rw={bignumberDependencies:ly,matrixDependencies:hy,largerDependencies:iv,largerEqDependencies:ov,smallerDependencies:tv,smallerEqDependencies:av,typedDependencies:qg,createRangeTransform:eg},jw={IndexDependencies:rv,matrixDependencies:hy,rangeDependencies:sv,typedDependencies:qg,createRowTransform:ig},Bw={matrixDependencies:hy,typedDependencies:qg,createSubsetTransform:Jm},Fw={isIntegerDependencies:Zg,matrixDependencies:hy,typedDependencies:qg,createConcatTransform:$m},Lw={sqrtDependencies:Fy,typedDependencies:qg,varianceDependencies:VA,createStdTransform:sg},Uw={bignumberDependencies:ly,fractionDependencies:dy,addDependencies:Xb,typedDependencies:qg,createSumTransform:tg},zw={addDependencies:Xb,applyDependencies:vy,divideDependencies:RA,isNaNDependencies:ny,multiplyDependencies:Ry,subtractDependencies:Uy,typedDependencies:qg,createVarianceTransform:ag},Vw=r,Ww=n("wOJ8"),Hw=n.n(Ww);function Gw(e){return(Gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qw(){return(qw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xw(e,t){var n=qw({},i,t);if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r,o,H=(r={isNumber:a,isComplex:c,isBigNumber:s,isFraction:u,isUnit:l,isString:p,isArray:d,isMatrix:h,isCollection:f,isDenseMatrix:m,isSparseMatrix:g,isRange:y,isIndex:v,isBoolean:b,isResultSet:A,isHelp:x,isFunction:w,isDate:_,isRegExp:S,isObject:T,isNull:P,isUndefined:C,isAccessorNode:E,isArrayNode:k,isAssignmentNode:O,isBlockNode:M,isConditionalNode:N,isConstantNode:I,isFunctionAssignmentNode:D,isFunctionNode:R,isIndexNode:j,isNode:B,isObjectNode:F,isOperatorNode:L,isParenthesisNode:U,isRangeNode:z,isSymbolNode:V,isChain:W},o=new Hw.a,r.on=o.on.bind(o),r.off=o.off.bind(o),r.once=o.once.bind(o),r.emit=o.emit.bind(o),r);H.config=function(e,t){function n(n){if(n){var r=X(e,q);re(n,"matrix",te),re(n,"number",ne),function e(t,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(J(n,r))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r]&&t[r].constructor===Object?e(t[r],n[r]):t[r]=n[r];else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");t[r]=n[r]}return t}(e,n);var i=X(e,q),o=X(n,q);return t("config",i,r,o),i}return X(e,q)}return n.MATRIX_OPTIONS=te,n.NUMBER_OPTIONS=ne,Object.keys(i).forEach((function(t){Object.defineProperty(n,t,{get:function(){return e[t]},enumerable:!0,configurable:!0})})),n}(n,H.emit),H.expression={transform:{},mathWithTransform:{config:H.config}};var K,Y=[],ie=[],oe={},ae=function(e,t,n,r){function i(t,i,a){var s;if(a.wrap&&"function"==typeof i&&(i=function(e){var t=function(){for(var t=[],r=0,i=arguments.length;r<i;r++){var o=arguments[r];t[r]=o&&o.valueOf()}return e.apply(n,t)};return e.transform&&(t.transform=e.transform),t}(i)),"function"==typeof(s=i)&&"string"==typeof s.signature&&(i=e(t,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i.signature,i))),m(n[t])&&m(i))return i=a.override?e(t,i.signatures):e(n[t],i),n[t]=i,delete r[t],o(t,i),void n.emit("import",t,(function(){return i}));if(void 0===n[t]||a.override)return n[t]=i,delete r[t],o(t,i),void n.emit("import",t,(function(){return i}));if(!a.silent)throw new Error('Cannot import "'+t+'": already exists')}function o(e,t){t&&"function"==typeof t.transform?(n.expression.transform[e]=t.transform,g(e)&&(n.expression.mathWithTransform[e]=t.transform)):(delete n.expression.transform[e],g(e)&&(n.expression.mathWithTransform[e]=t))}function a(e){delete n.expression.transform[e],g(e)?n.expression.mathWithTransform[e]=n[e]:delete n.expression.mathWithTransform[e]}function p(i,o){if(Co("Factories of type { name, factory } are deprecated since v6. Please create your factory functions using the math.factory function."),"string"==typeof i.name){var s=i.name,c=s in n.expression.transform,u=i.path?Q(n,i.path):n,l=J(u,s)?u[s]:void 0,p=function(){var n=t(i);if(n&&"function"==typeof n.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(m(l)&&m(n))return o.override||(n=e(l,n)),n;if(void 0===l||o.override)return n;if(o.silent)return l;throw new Error('Cannot import "'+s+'": already exists')};!1!==i.lazy?(Z(u,s,p),c?a(s):("expression.transform"===i.path||y(i))&&Z(n.expression.mathWithTransform,s,p)):(u[s]=p(),c?a(s):("expression.transform"===i.path||y(i))&&(n.expression.mathWithTransform[s]=p())),r[i.path?i.path+"."+i.name:i.name]=i,n.emit("import",s,p,i.path)}else t(i)}function d(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fn;if($e(o,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(o));var s=b(t)?n.expression.transform:n,c=o in n.expression.transform,u=J(s,o)?s[o]:void 0,l=function(){var r={};t.dependencies.map(nt).forEach((function(e){if($e(e,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(e));"math"===e?r.math=n:"mathWithTransform"===e?r.mathWithTransform=n.expression.mathWithTransform:"classes"===e?r.classes=n:r[e]=n[e]}));var a=t(r);if(a&&"function"==typeof a.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(void 0===u||i.override)return a;if(m(u)&&m(a))return e(u,a);if(i.silent)return u;throw new Error('Cannot import "'+o+'": already exists')};t.meta&&!1===t.meta.lazy?(s[o]=l(),u&&c?a(o):(b(t)||v(t))&&Z(n.expression.mathWithTransform,o,(function(){return s[o]}))):(Z(s,o,l),u&&c?a(o):(b(t)||v(t))&&Z(n.expression.mathWithTransform,o,(function(){return s[o]}))),r[o]=t,n.emit("import",o,l)}function f(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||l(e)||c(e)||s(e)||u(e)||h(e)||Array.isArray(e)}function m(e){return"function"==typeof e&&"object"===Gw(e.signatures)}function g(e){return!J(A,e)}function y(e){return void 0===e.path&&!J(A,e.name)}function v(e){return!(-1!==e.fn.indexOf(".")||J(A,e.fn)||e.meta&&e.meta.isClass)}function b(e){return void 0!==e&&void 0!==e.meta&&!0===e.meta.isTransformFunction||!1}var A={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function(e,t){var n=arguments.length;if(1!==n&&2!==n)throw new Ss("import",n,1,2);function r(e,n,i){if($(n))p(n,t);else if(Array.isArray(n))n.forEach((function(t){return r(e,t)}));else if("object"===Gw(n))for(var o in n)J(n,o)&&r(e,n[o],o);else if(tt(n)||void 0!==i){var a=tt(n)?b(n)?n.fn+".transform":n.fn:i;if(J(e,a)&&e[a]!==n&&!t.silent)throw new Error('Cannot import "'+a+'" twice');e[a]=n}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}t||(t={});var o={};for(var a in r(o,e),o)if(J(o,a)){var s=o[a];if(tt(s))d(s,t);else if(f(s))i(a,s,t);else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")}}}((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return H.typed.apply(H.typed,t)}),(function e(t){if(tt(t))return t(H);var r=t[Object.keys(t)[0]];if(tt(r))return r(H);if(!$(t))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",t),new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=Y.indexOf(t);return-1===o?(i=!0===t.math?t.factory(H.type,n,e,H.typed,H):t.factory(H.type,n,e,H.typed),Y.push(t),ie.push(i)):i=ie[o],i}),H,oe);return H.import=ae,H.on("config",(function(){ee(oe).forEach((function(e){e&&e.meta&&e.meta.recreateOnConfigChange&&ae(e,{override:!0})}))})),H.create=Xw.bind(null,e),H.factory=et,H.import(ee((function e(t,n){for(var r in t)if(J(t,r)){var i=t[r];"object"===G(i)&&null!==i?e(i,n):n[r]=i}}(e,K={}),K))),["type.isNumber","type.isComplex","type.isBigNumber","type.isFraction","type.isUnit","type.isString","type.isArray","type.isMatrix","type.isDenseMatrix","type.isSparseMatrix","type.isCollection","type.isRange","type.isIndex","type.isBoolean","type.isResultSet","type.isHelp","type.isFunction","type.isDate","type.isRegExp","type.isObject","type.isNull","type.isUndefined","type.isAccessorNode","type.isArrayNode","type.isAssignmentNode","type.isBlockNode","type.isConditionalNode","type.isConstantNode","type.isFunctionAssignmentNode","type.isFunctionNode","type.isIndexNode","type.isNode","type.isObjectNode","type.isOperatorNode","type.isParenthesisNode","type.isRangeNode","type.isSymbolNode","type.isChain","type.BigNumber","type.Chain","type.Complex","type.Fraction","type.Matrix","type.DenseMatrix","type.SparseMatrix","type.Spa","type.FibonacciHeap","type.ImmutableDenseMatrix","type.Index","type.Range","type.ResultSet","type.Unit","type.Help","type.Parser","expression.parse","expression.Parser","expression.node.AccessorNode","expression.node.ArrayNode","expression.node.AssignmentNode","expression.node.BlockNode","expression.node.ConditionalNode","expression.node.ConstantNode","expression.node.IndexNode","expression.node.FunctionAssignmentNode","expression.node.FunctionNode","expression.node.Node","expression.node.ObjectNode","expression.node.OperatorNode","expression.node.ParenthesisNode","expression.node.RangeNode","expression.node.RelationalNode","expression.node.SymbolNode","json.reviver","error.ArgumentsError","error.DimensionError","error.IndexError"].forEach((function(e){var t,n=e.split("."),r=(t=n).slice(0,t.length-1),i=function(e){return e[e.length-1]}(n);Z(Q(H,r),i,(function(){return Co("math.".concat(e," is moved to math.").concat(i," in v6.0.0. ")+"Please use the new location instead."),H[i]}))})),Z(H.expression,"docs",(function(){throw new Error("math.expression.docs has been moved. Please import via \"import { docs } from 'mathjs'\"")})),H.ArgumentsError=Ss,H.DimensionError=Re,H.IndexError=je,H}var Kw=vA({evaluate:Ng}),Yw=function(){throw new Error("The global import function is not available anymore in v6.0.0. \nPlease create a mathjs instance if you want to import functions. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.import(...);\n")},Zw=lu({variance:_h}),Qw=ko({typeOf:Zl}),Jw=n_("type",{isNumber:a,isComplex:c,isBigNumber:s,isFraction:u,isUnit:l,isString:p,isArray:d,isMatrix:h,isCollection:f,isDenseMatrix:m,isSparseMatrix:g,isRange:y,isIndex:v,isBoolean:b,isResultSet:A,isHelp:x,isFunction:w,isDate:_,isRegExp:S,isObject:T,isNull:P,isUndefined:C,isAccessorNode:E,isArrayNode:k,isAssignmentNode:O,isBlockNode:M,isConditionalNode:N,isConstantNode:I,isFunctionAssignmentNode:D,isFunctionNode:R,isIndexNode:j,isNode:B,isObjectNode:F,isOperatorNode:L,isParenthesisNode:U,isRangeNode:z,isSymbolNode:V,isChain:W,BigNumber:ju,Chain:bg,Complex:Ou,Fraction:Zu,Matrix:Bu,DenseMatrix:tl,SparseMatrix:vp,Spa:bd,FibonacciHeap:Xp,ImmutableDenseMatrix:qp,Index:Gd,Range:Mu,ResultSet:ku,Unit:mh,Help:Dg,Parser:Ig}),$w=n_("expression",{parse:Mg,Parser:Ig,node:n_("expression.node",{AccessorNode:Pg,ArrayNode:hg,AssignmentNode:Eg,BlockNode:fg,ConditionalNode:xg,ConstantNode:mg,IndexNode:Cg,FunctionAssignmentNode:Sg,FunctionNode:Og,Node:dg,ObjectNode:gg,OperatorNode:wg,ParenthesisNode:yg,RangeNode:_g,RelationalNode:vg,SymbolNode:kg})}),e_=n_("json",{reviver:Ag}),t_=n_("error",{ArgumentsError:Ss,DimensionError:Re,IndexError:je});function n_(e,t){var n={};return Object.keys(t).forEach((function(r){Z(n,r,(function(){return Co("math.".concat(e,".").concat(r," is moved to math.").concat(r," in v6.0.0. ")+"Please use the new location instead."),t[r]}))})),n}},b48C:function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},bdgK:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},s=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&c()}function s(){a(o)}function c(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,20);i=e}return c}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},p=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=g(0,0,0,0);function h(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof p(e).SVGGraphicsElement}:function(e){return e instanceof p(e).SVGElement&&"function"==typeof e.getBBox};function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e,t=(e=this.target,i?m(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=p(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n];t[i]=h(e["padding-"+i])}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=f(r,"left","right")+o),Math.round(c+a)!==n&&(c-=f(r,"top","bottom")+a)),!function(e){return e===p(e).document.documentElement}(e)){var u=Math.round(s+o)-t,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return g(i.left,i.top,s,c)}(e):d);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n,r,i,o,a,s,c,u=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),l(c,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),c);l(this,{target:e,contentRect:u})},b=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof p(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),A="undefined"!=typeof WeakMap?new WeakMap:new r,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=u.getInstance(),r=new b(t,n,this);A.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=A.get(this))[e].apply(t,arguments)}})),t.default=void 0!==o.ResizeObserver?o.ResizeObserver:x},cDf5:function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},d2VH:function(e,t,n){"use strict";var r,i=(r=n("vgmO"))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=function(e){for(var t,n=(t=e,i.atob?i.atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}},dJxt:function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(Object.create){var i=Object.create(t.prototype);r.__proto__=i}if(!(r instanceof t)){var o=function(){};o.prototype=t.prototype,n(r,o=new o),e.prototype=r=o}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var i={},o=i.ELEMENT_NODE=1,a=i.ATTRIBUTE_NODE=2,s=i.TEXT_NODE=3,c=i.CDATA_SECTION_NODE=4,u=i.ENTITY_REFERENCE_NODE=5,l=i.ENTITY_NODE=6,p=i.PROCESSING_INSTRUCTION_NODE=7,d=i.COMMENT_NODE=8,h=i.DOCUMENT_NODE=9,f=i.DOCUMENT_TYPE_NODE=10,m=i.DOCUMENT_FRAGMENT_NODE=11,g=i.NOTATION_NODE=12,y={},v={},b=(y.INDEX_SIZE_ERR=(v[1]="Index size error",1),y.DOMSTRING_SIZE_ERR=(v[2]="DOMString size error",2),y.HIERARCHY_REQUEST_ERR=(v[3]="Hierarchy request error",3)),A=(y.WRONG_DOCUMENT_ERR=(v[4]="Wrong document",4),y.INVALID_CHARACTER_ERR=(v[5]="Invalid character",5),y.NO_DATA_ALLOWED_ERR=(v[6]="No data allowed",6),y.NO_MODIFICATION_ALLOWED_ERR=(v[7]="No modification allowed",7),y.NOT_FOUND_ERR=(v[8]="Not found",8)),x=(y.NOT_SUPPORTED_ERR=(v[9]="Not supported",9),y.INUSE_ATTRIBUTE_ERR=(v[10]="Attribute in use",10));function w(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,v[e]),this.message=v[e],Error.captureStackTrace&&Error.captureStackTrace(this,w);return n.code=e,t&&(this.message=this.message+": "+t),n}function _(){}function S(e,t){this._node=e,this._refresh=t,T(this)}function T(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);te(e,"length",r.length),n(r,e),e._inc=t}}function P(){}function C(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function E(e,t,n,r){if(r?t[C(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&R(i,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function k(e,t,n){var r=C(t,n);if(!(r>=0))throw w(A,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(R(o,e,n),n.ownerElement=null)}}function O(e){if(this._features={},e)for(var t in e)this._features=e[t]}function M(){}function N(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function I(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(I(e,t))return!0}while(e=e.nextSibling)}function D(){}function R(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function j(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function B(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,j(e.ownerDocument,e),t}function F(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return j(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function L(){this._nsMap={}}function U(){}function z(){}function V(){}function W(){}function H(){}function G(){}function q(){}function X(){}function K(){}function Y(){}function Z(){}function Q(){}function J(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i&&null==(i=r.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return ee(this,n,e,t,a),n.join("")}function $(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function ee(e,t,n,r,i){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case o:i||(i=[]);var l=e.attributes,g=l.length,y=e.firstChild,v=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",v);for(var b=0;b<g;b++)"xmlns"==(A=l.item(b)).prefix?i.push({prefix:A.localName,namespace:A.value}):"xmlns"==A.nodeName&&i.push({prefix:"",namespace:A.value});for(b=0;b<g;b++){var A,x,w;$(A=l.item(b),0,i)&&(t.push((x=A.prefix||"")?" xmlns:"+x:" xmlns",'="',w=A.namespaceURI,'"'),i.push({prefix:x,namespace:w})),ee(A,t,n,r,i)}if($(e,0,i)&&(t.push((x=e.prefix||"")?" xmlns:"+x:" xmlns",'="',w=e.namespaceURI,'"'),i.push({prefix:x,namespace:w})),y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(v)){if(t.push(">"),n&&/^script$/i.test(v))for(;y;)y.data?t.push(y.data):ee(y,t,n,r,i),y=y.nextSibling;else for(;y;)ee(y,t,n,r,i),y=y.nextSibling;t.push("</",v,">")}else t.push("/>");return;case h:case m:for(y=e.firstChild;y;)ee(y,t,n,r,i),y=y.nextSibling;return;case a:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,N),'"');case s:return t.push(e.data.replace(/[<&]/g,N));case c:return t.push("<![CDATA[",e.data,"]]>");case d:return t.push("\x3c!--",e.data,"--\x3e");case f:var _=e.publicId,S=e.systemId;if(t.push("<!DOCTYPE ",e.name),_)t.push(' PUBLIC "',_),S&&"."!=S&&t.push('" "',S),t.push('">');else if(S&&"."!=S)t.push(' SYSTEM "',S,'">');else{var T=e.internalSubset;T&&t.push(" [",T,"]"),t.push(">")}return;case p:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function te(e,t,n){e[t]=n}y.INVALID_STATE_ERR=(v[11]="Invalid state",11),y.SYNTAX_ERR=(v[12]="Syntax error",12),y.INVALID_MODIFICATION_ERR=(v[13]="Invalid modification",13),y.NAMESPACE_ERR=(v[14]="Invalid namespace",14),y.INVALID_ACCESS_ERR=(v[15]="Invalid access",15),w.prototype=Error.prototype,n(y,w),_.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ee(this[r],n,e,t);return n.join("")}},S.prototype.item=function(e){return T(this),this[e]},r(S,_),P.prototype={length:0,item:_.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new w(x);var n=this.getNamedItem(e.nodeName);return E(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new w(x);return t=this.getNamedItemNS(e.namespaceURI,e.localName),E(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return k(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return k(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},O.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new D;if(r.implementation=this,r.childNodes=new _,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new G;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return F(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return B(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var i=new n.constructor;for(var s in n){var c=n[s];"object"!=typeof c&&c!=i[s]&&(i[s]=c)}switch(n.childNodes&&(i.childNodes=new _),i.ownerDocument=t,i.nodeType){case o:var u=n.attributes,l=i.attributes=new P,p=u.length;l._ownerElement=i;for(var d=0;d<p;d++)i.setAttributeNode(e(t,u.item(d),!0));break;case a:r=!0}if(r)for(var h=n.firstChild;h;)i.appendChild(e(t,h,r)),h=h.nextSibling;return i}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==s&&e.nodeType==s?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==a?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(i,M),n(i,M.prototype),D.prototype={nodeName:"#document",nodeType:h,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==o&&(this.documentElement=e),F(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),B(this,e)},importNode:function(e,t){return function e(t,n,r){var i;switch(n.nodeType){case o:(i=n.cloneNode(!1)).ownerDocument=t;case m:break;case a:r=!0}if(i||(i=n.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,r)for(var s=n.firstChild;s;)i.appendChild(e(t,s,r)),s=s.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return I(this.documentElement,(function(n){if(n.nodeType==o&&n.getAttribute("id")==e)return t=n,!0})),t},createElement:function(e){var t=new L;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new _,(t.attributes=new P)._ownerElement=t,t},createDocumentFragment:function(){var e=new Y;return e.ownerDocument=this,e.childNodes=new _,e},createTextNode:function(e){var t=new V;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new H;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Z;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new U;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new K;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new L,r=t.split(":"),i=n.attributes=new P;return n.childNodes=new _,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new U,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(D,M),D.prototype.getElementsByTagName=(L.prototype={nodeType:o,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,j(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new S(this,(function(t){var n=[];return I(t,(function(r){r===t||r.nodeType!=o||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new S(this,(function(n){var r=[];return I(n,(function(i){i===n||i.nodeType!==o||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}}).getElementsByTagName,D.prototype.getElementsByTagNameNS=L.prototype.getElementsByTagNameNS,r(L,M),U.prototype.nodeType=a,r(U,M),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){this.nodeValue=this.data=e=this.data+e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(v[b])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);this.nodeValue=this.data=n=r+n+i,this.length=n.length}},r(z,M),V.prototype={nodeName:"#text",nodeType:s,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(V,z),W.prototype={nodeName:"#comment",nodeType:d},r(W,z),H.prototype={nodeName:"#cdata-section",nodeType:c},r(H,z),G.prototype.nodeType=f,r(G,M),q.prototype.nodeType=g,r(q,M),X.prototype.nodeType=l,r(X,M),K.prototype.nodeType=u,r(K,M),Y.prototype.nodeName="#document-fragment",Y.prototype.nodeType=m,r(Y,M),Z.prototype.nodeType=p,r(Z,M),Q.prototype.serializeToString=function(e,t,n){return J.call(e,t,n)},M.prototype.toString=J;try{Object.defineProperty&&(Object.defineProperty(S.prototype,"length",{get:function(){return T(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case o:case m:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case o:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),te=function(e,t,n){e["$$"+t]=n})}catch(ne){}t.DOMImplementation=O,t.XMLSerializer=Q},djRN:function(e,t,n){"use strict";var r,i;void 0===(i="function"==typeof(r=function(){function e(){return!0}function t(){return!1}function n(){}return function r(){var i=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:function(e){return"object"==typeof e&&null!==e&&e.constructor===Object}},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],o={name:"any",test:e},a=[],s=[],c={types:i,conversions:s,ignore:a};function u(e){var t=B(c.types,(function(t){return t.name===e}));if(t)return t;if("any"===e)return o;var n=B(c.types,(function(t){return t.name.toLowerCase()===e.toLowerCase()}));throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function l(e){return e===o?999:c.types.indexOf(e)}function p(e){var t=B(c.types,(function(t){return t.test(e)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function d(e){return e.map((function(e){var t=e.types.map(v);return(e.restParam?"...":"")+t.join("|")})).join(",")}function h(e){var t=D(e);return!!t&&t.restParam}function f(e){return e.types.some((function(e){return null!=e.conversion}))}function m(t){if(t&&0!==t.types.length){if(1===t.types.length)return u(t.types[0].name).test;if(2===t.types.length){var n=u(t.types[0].name).test,r=u(t.types[1].name).test;return function(e){return n(e)||r(e)}}var i=t.types.map((function(e){return u(e.name).test}));return function(e){for(var t=0;t<i.length;t++)if(i[t](e))return!0;return!1}}return e}function g(e,t){return t<e.params.length?e.params[t]:h(e.params)?D(e.params):null}function y(e,t,n){var r=g(e,t);return(r?n?r.types.filter(b):r.types:[]).map(v)}function v(e){return e.name}function b(e){return null==e.conversion}function A(e,t){var n=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return Object.keys(t)}(F(e,(function(e){return y(e,t,!1)})));return-1!==n.indexOf("any")?["any"]:n}function x(e,t,n){var r,i,o,a=e||"unnamed",s=n;for(o=0;o<t.length;o++){var c=s.filter((function(e){var n=m(g(e,o));return(o<e.params.length||h(e.params))&&n(t[o])}));if(0===c.length){if((i=A(s,o)).length>0){var u=p(t[o]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+u+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:u,expected:i},r}}else s=c}var l=s.map((function(e){return h(e.params)?1/0:e.params.length}));if(t.length<Math.min.apply(null,l))return i=A(s,o),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:a,index:t.length,expected:i},r;var d=Math.max.apply(null,l);return t.length>d?((r=new TypeError("Too many arguments in function "+a+" (expected: "+d+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:a,index:t.length,expectedLength:d},r):((r=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:t.map(p)},r)}function w(e){for(var t=999,n=0;n<e.types.length;n++)b(e.types[n])&&(t=Math.min(t,e.types[n].typeIndex));return t}function _(e){for(var t=999,n=0;n<e.types.length;n++)b(e.types[n])||(t=Math.min(t,e.types[n].conversionIndex));return t}function S(e,t){var n;return 0!=(n=e.restParam-t.restParam)||0!=(n=f(e)-f(t))||0!=(n=w(e)-w(t))?n:_(e)-_(t)}function T(e,t){var n,r,i=Math.min(e.params.length,t.params.length);if(0!=(r=e.params.some(f)-t.params.some(f)))return r;for(n=0;n<i;n++)if(0!=(r=f(e.params[n])-f(t.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=S(e.params[n],t.params[n])))return r;return e.params.length-t.params.length}function P(e){var t,n,r,i,o=[],a=[];switch(e.types.forEach((function(e){e.conversion&&(o.push(u(e.conversion.from).test),a.push(e.conversion.convert))})),a.length){case 0:return function(e){return e};case 1:return t=o[0],r=a[0],function(e){return t(e)?r(e):e};case 2:return t=o[0],n=o[1],r=a[0],i=a[1],function(e){return t(e)?r(e):n(e)?i(e):e};default:return function(e){for(var t=0;t<a.length;t++)if(o[t](e))return a[t](e);return e}}}function C(e,t){return function e(n,r,i){if(r<n.length){var o,a=n[r],s=t?a.types.filter(b):a.types;if(a.restParam){var c=s.filter(b);o=c.length<s.length?[c,s]:[s]}else o=s.map((function(e){return[e]}));return F(o,(function(t){return e(n,r+1,i.concat([t]))}))}return[i.map((function(e,t){return{types:e,restParam:t===n.length-1&&h(n)}}))]}(e,0,[])}function E(e,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(e){return function(e,t,n){var r=[];return""!==e.trim()&&(r=e.split(",").map(O).map((function(e,t,r){var i=function(e,t){var n=0===e.indexOf("..."),r=(n?e.length>3?e.slice(3):"any":e).split("|").map(O).filter(M).filter(k),i=function(e,t){var n={};return e.forEach((function(e){-1!==t.indexOf(e.from)||-1===t.indexOf(e.to)||n[e.from]||(n[e.from]=e)})),Object.keys(n).map((function(e){return n[e]}))}(t,r),o=r.map((function(e){var t=u(e);return{name:e,typeIndex:l(t),test:t.test,conversion:null,conversionIndex:-1}})),a=i.map((function(e){var n=u(e.from);return{name:e.from,typeIndex:l(n),test:n.test,conversion:e,conversionIndex:t.indexOf(e)}}));return{types:o.concat(a),restParam:n}}(e,n);if(i.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+e+'": only allowed for the last parameter');return i}))),r.some(I)?null:{params:r,fn:t}}(e,r[e],c.conversions)})).filter(N).forEach((function(e){var t=B(i,(function(t){return function(e,t){for(var n=Math.max(e.params.length,t.params.length),r=0;r<n;r++)if(!j(y(e,r,!0),y(t,r,!0)))return!1;var i=e.params.length,o=t.params.length,a=h(e.params),s=h(t.params);return a?s?i===o:o>=i:s?i>=o:i===o}(t,e)}));if(t)throw new TypeError('Conflicting signatures "'+d(t.params)+'" and "'+d(e.params)+'".');i.push(e)}));var o=F(i,(function(e){return(e?C(e.params,!1):[]).map((function(t){return{params:t,fn:e.fn}}))})).filter(N);o.sort(T);var a=o[0]&&o[0].params.length<=2&&!h(o[0].params),s=o[1]&&o[1].params.length<=2&&!h(o[1].params),p=o[2]&&o[2].params.length<=2&&!h(o[2].params),g=o[3]&&o[3].params.length<=2&&!h(o[3].params),v=o[4]&&o[4].params.length<=2&&!h(o[4].params),b=o[5]&&o[5].params.length<=2&&!h(o[5].params),A=a&&s&&p&&g&&v&&b,w=o.map((function(e){return function(e){var t,n,r,i;if(h(e)){var o=(t=(i=e,i.slice(0,i.length-1)).map(m)).length,a=m(D(e));return function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return function(e){for(var t=o;t<e.length;t++)if(!a(e[t]))return!1;return!0}(e)&&e.length>=o+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(n=m(e[0]),function(e){return n(e[0])&&1===e.length}):2===e.length?(n=m(e[0]),r=m(e[1]),function(e){return n(e[0])&&r(e[1])&&2===e.length}):(t=e.map(m),function(e){for(var n=0;n<t.length;n++)if(!t[n](e[n]))return!1;return e.length===t.length})}(e.params)})),_=a?m(o[0].params[0]):t,S=s?m(o[1].params[0]):t,E=p?m(o[2].params[0]):t,L=g?m(o[3].params[0]):t,U=v?m(o[4].params[0]):t,z=b?m(o[5].params[0]):t,V=a?m(o[0].params[1]):t,W=s?m(o[1].params[1]):t,H=p?m(o[2].params[1]):t,G=g?m(o[3].params[1]):t,q=v?m(o[4].params[1]):t,X=b?m(o[5].params[1]):t,K=o.map((function(e){return function(e,t){var n=t;if(e.some(f)){var r=h(e),i=e.map(P);n=function(){for(var e=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)e[o]=i[o](arguments[o]);return r&&(e[n]=arguments[n].map(i[n])),t.apply(null,e)}}var o=n;if(h(e)){var a=e.length-1;o=function(){return n.apply(null,R(arguments,0,a).concat([R(arguments,a)]))}}return o}(e.params,e.fn)})),Y=a?K[0]:n,Z=s?K[1]:n,Q=p?K[2]:n,J=g?K[3]:n,$=v?K[4]:n,ee=b?K[5]:n,te=a?o[0].params.length:-1,ne=s?o[1].params.length:-1,re=p?o[2].params.length:-1,ie=g?o[3].params.length:-1,oe=v?o[4].params.length:-1,ae=b?o[5].params.length:-1,se=A?6:0,ce=o.length,ue=function(){for(var t=se;t<ce;t++)if(w[t](arguments))return K[t].apply(null,arguments);throw x(e,arguments,o)},le=function(e,t){return arguments.length===te&&_(e)&&V(t)?Y.apply(null,arguments):arguments.length===ne&&S(e)&&W(t)?Z.apply(null,arguments):arguments.length===re&&E(e)&&H(t)?Q.apply(null,arguments):arguments.length===ie&&L(e)&&G(t)?J.apply(null,arguments):arguments.length===oe&&U(e)&&q(t)?$.apply(null,arguments):arguments.length===ae&&z(e)&&X(t)?ee.apply(null,arguments):ue.apply(null,arguments)};try{Object.defineProperty(le,"name",{value:e})}catch(pe){}return le.signatures=function(e){var t={};return e.forEach((function(e){e.params.some(f)||C(e.params,!0).forEach((function(n){t[d(n)]=e.fn}))})),t}(o),le}function k(e){return-1===c.ignore.indexOf(e)}function O(e){return e.trim()}function M(e){return!!e}function N(e){return null!==e}function I(e){return 0===e.types.length}function D(e){return e[e.length-1]}function R(e,t,n){return Array.prototype.slice.call(e,t,n)}function j(e,t){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}function B(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function F(e,t){return Array.prototype.concat.apply([],e.map(t))}function L(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(("object"==typeof r.signatures||"string"==typeof r.signature)&&""!==r.name)if(""===t)t=r.name;else if(t!==r.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+r.name+")");throw i.data={actual:r.name,expected:t},i}}return t}function U(e){var t,n={};function r(e,r){if(n.hasOwnProperty(e)&&r!==n[e])throw(t=new Error('Signature "'+e+'" is defined twice')).data={signature:e},t}for(var i=0;i<e.length;i++){var o=e[i];if("object"==typeof o.signatures)for(var a in o.signatures)o.signatures.hasOwnProperty(a)&&(r(a,o.signatures[a]),n[a]=o.signatures[a]);else{if("string"!=typeof o.signature)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;r(o.signature,o),n[o.signature]=o}}return n}return(c=E("typed",{"string, Object":E,Object:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return E(L(t),e)},"...Function":function(e){return E(L(e),U(e))},"string, ...Function":function(e,t){return E(e,U(t))}})).create=r,c.types=i,c.conversions=s,c.ignore=a,c.convert=function(e,t){var n=p(e);if(t===n)return e;for(var r=0;r<c.conversions.length;r++){var i=c.conversions[r];if(i.from===n&&i.to===t)return i.convert(e)}throw new Error("Cannot convert from "+n+" to "+t)},c.find=function(e,t){if(!e.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof t){n=t.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");n=t}var i=n.join(","),o=e.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+n.join(", ")+"))")},c.addType=function(e,t){if(!e||"string"!=typeof e.name||"function"!=typeof e.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==t)for(var n=0;n<c.types.length;n++)if("Object"===c.types[n].name)return void c.types.splice(n,0,e);c.types.push(e)},c.addConversion=function(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");c.conversions.push(e)},c}()})?r.apply(t,[]):r)||(e.exports=i)},dkxo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Uint8Array?e:new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0)},i=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,r(e));try{return decodeURIComponent(escape(t))}catch(n){}return t},o=function(e,t){void 0===t&&(t=0);var n=(e=r(e))[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?n+20:n+10},a=function e(t,n){return void 0===n&&(n=0),(t=r(t)).length-n<10||"ID3"!==i(t.subarray(n,n+3))?n:e(t,n+=o(t,n))},s={aac:function(e){var t=a(e);return e.length>=t+2&&255==(255&e[t])&&224==(224&e[t+1])&&16==(22&e[t+1])},mp3:function(e){var t=a(e);return e.length>=t+2&&255==(255&e[t])&&224==(224&e[t+1])&&2==(6&e[t+1])},webm:function(e){return e.length>=4&&26==(255&e[0])&&69==(255&e[1])&&223==(255&e[2])&&163==(255&e[3])},mp4:function(e){return e.length>=8&&/^(f|s)typ$/.test(i(e.subarray(4,8)))&&!/^ftyp3g$/.test(i(e.subarray(4,10)))},"3gp":function(e){return e.length>=10&&/^ftyp3g$/.test(i(e.subarray(4,10)))},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){return e.length>=4&&/^fLaC$/.test(i(e.subarray(0,4)))},ogg:function(e){return e.length>=4&&/^OggS$/.test(i(e.subarray(0,4)))}},c=Object.keys(s).filter((function(e){return"ts"!==e})).concat("ts");c.forEach((function(e){var t=s[e];s[e]=function(e){return t(r(e))}})),t.detectContainerForBytes=function(e){e=r(e);for(var t=0;t<c.length;t++){var n=c[t];if(s[n](e))return n}return""},t.getId3Offset=a,t.id3Size=o,t.isLikely=s,t.isLikelyFmp4MediaSegment=function(e){e=r(e);for(var t=0;t<e.length;){var n=(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0;if("moof"===i(e.subarray(t+4,t+8)))return!0;0===n||n+t>e.length?t=e.length:t+=n}return!1}},"f+Ey":function(e,t){e.exports={toUnsigned:function(e){return e>>>0},toHexString:function(e){return("00"+e.toString(16)).slice(-2)}}},fXKp:function(e,t,n){"use strict";var r=n("hwdV").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=p,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},g2LC:function(e,t){e.exports=function(e){if(!e)return!1;var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var n=Object.prototype.toString},gcCN:function(e,t){e.exports=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},i=n.getUint16(22);for(t=24;i;t+=12,i--)r.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return r}},"hE+I":function(e,t,n){var r,i,o=n("MXF5"),a=n("lsHq"),s=n("mxIc").isArray;function c(e){var t=Number(e);if(!isNaN(t))return t;var n=e.toLowerCase();return"true"===n||"false"!==n&&e}function u(e,t){var n;if(r.compact){if(!i[r[e+"Key"]]&&(s(r.alwaysArray)?-1!==r.alwaysArray.indexOf(r[e+"Key"]):r.alwaysArray)&&(i[r[e+"Key"]]=[]),i[r[e+"Key"]]&&!s(i[r[e+"Key"]])&&(i[r[e+"Key"]]=[i[r[e+"Key"]]]),e+"Fn"in r&&"string"==typeof t&&(t=r[e+"Fn"](t,i)),"instruction"===e&&("instructionFn"in r||"instructionNameFn"in r))for(n in t)if(t.hasOwnProperty(n))if("instructionFn"in r)t[n]=r.instructionFn(t[n],n,i);else{var o=t[n];delete t[n],t[r.instructionNameFn(n,o,i)]=o}s(i[r[e+"Key"]])?i[r[e+"Key"]].push(t):i[r[e+"Key"]]=t}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var a={};if(a[r.typeKey]=e,"instruction"===e){for(n in t)if(t.hasOwnProperty(n))break;a[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(n,t,i):n,r.instructionHasAttributes?(a[r.attributesKey]=t[n][r.attributesKey],"instructionFn"in r&&(a[r.attributesKey]=r.instructionFn(a[r.attributesKey],n,i))):("instructionFn"in r&&(t[n]=r.instructionFn(t[n],n,i)),a[r.instructionKey]=t[n])}else e+"Fn"in r&&(t=r[e+"Fn"](t,i)),a[r[e+"Key"]]=t;r.addParent&&(a[r.parentKey]=i),i[r.elementsKey].push(a)}}function l(e){var t;if("attributesFn"in r&&e&&(e=r.attributesFn(e,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&e)for(t in e)if(e.hasOwnProperty(t)&&(r.trim&&(e[t]=e[t].trim()),r.nativeTypeAttributes&&(e[t]=c(e[t])),"attributeValueFn"in r&&(e[t]=r.attributeValueFn(e[t],t,i)),"attributeNameFn"in r)){var n=e[t];delete e[t],e[r.attributeNameFn(t,e[t],i)]=n}return e}function p(e){var t={};if(e.body&&("xml"===e.name.toLowerCase()||r.instructionHasAttributes)){for(var n,o=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g;null!==(n=o.exec(e.body));)t[n[1]]=n[2]||n[3]||n[4];t=l(t)}if("xml"===e.name.toLowerCase()){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(t).length&&(i[r.declarationKey][r.attributesKey]=t),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(e.body=e.body.trim());var a={};r.instructionHasAttributes&&Object.keys(t).length?(a[e.name]={},a[e.name][r.attributesKey]=t):a[e.name]=e.body,u("instruction",a)}}function d(e,t){var n;if("object"==typeof e&&(t=e.attributes,e=e.name),t=l(t),"elementNameFn"in r&&(e=r.elementNameFn(e,i)),r.compact){var o;if(n={},!r.ignoreAttributes&&t&&Object.keys(t).length)for(o in n[r.attributesKey]={},t)t.hasOwnProperty(o)&&(n[r.attributesKey][o]=t[o]);!(e in i)&&(s(r.alwaysArray)?-1!==r.alwaysArray.indexOf(e):r.alwaysArray)&&(i[e]=[]),i[e]&&!s(i[e])&&(i[e]=[i[e]]),s(i[e])?i[e].push(n):i[e]=n}else i[r.elementsKey]||(i[r.elementsKey]=[]),(n={})[r.typeKey]="element",n[r.nameKey]=e,!r.ignoreAttributes&&t&&Object.keys(t).length&&(n[r.attributesKey]=t),r.alwaysChildren&&(n[r.elementsKey]=[]),i[r.elementsKey].push(n);n[r.parentKey]=i,i=n}function h(e){r.ignoreText||(e.trim()||r.captureSpacesBetweenElements)&&(r.trim&&(e=e.trim()),r.nativeType&&(e=c(e)),r.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),u("text",e))}function f(e){r.ignoreComment||(r.trim&&(e=e.trim()),u("comment",e))}function m(e){var t=i[r.parentKey];r.addParent||delete i[r.parentKey],i=t}function g(e){r.ignoreCdata||(r.trim&&(e=e.trim()),u("cdata",e))}function y(e){r.ignoreDoctype||(e=e.replace(/^ /,""),r.trim&&(e=e.trim()),u("doctype",e))}function v(e){e.note=e}e.exports=function(e,t){var n=o.parser(!0,{}),s={};if(i=s,r=function(e){return r=a.copyOptions(e),a.ensureFlagExists("ignoreDeclaration",r),a.ensureFlagExists("ignoreInstruction",r),a.ensureFlagExists("ignoreAttributes",r),a.ensureFlagExists("ignoreText",r),a.ensureFlagExists("ignoreComment",r),a.ensureFlagExists("ignoreCdata",r),a.ensureFlagExists("ignoreDoctype",r),a.ensureFlagExists("compact",r),a.ensureFlagExists("alwaysChildren",r),a.ensureFlagExists("addParent",r),a.ensureFlagExists("trim",r),a.ensureFlagExists("nativeType",r),a.ensureFlagExists("nativeTypeAttributes",r),a.ensureFlagExists("sanitize",r),a.ensureFlagExists("instructionHasAttributes",r),a.ensureFlagExists("captureSpacesBetweenElements",r),a.ensureAlwaysArrayExists(r),a.ensureKeyExists("declaration",r),a.ensureKeyExists("instruction",r),a.ensureKeyExists("attributes",r),a.ensureKeyExists("text",r),a.ensureKeyExists("comment",r),a.ensureKeyExists("cdata",r),a.ensureKeyExists("doctype",r),a.ensureKeyExists("type",r),a.ensureKeyExists("name",r),a.ensureKeyExists("elements",r),a.ensureKeyExists("parent",r),a.checkFnExists("doctype",r),a.checkFnExists("instruction",r),a.checkFnExists("cdata",r),a.checkFnExists("comment",r),a.checkFnExists("text",r),a.checkFnExists("instructionName",r),a.checkFnExists("elementName",r),a.checkFnExists("attributeName",r),a.checkFnExists("attributeValue",r),a.checkFnExists("attributes",r),r}(t),n.opt={strictEntities:!0},n.onopentag=d,n.ontext=h,n.oncomment=f,n.onclosetag=m,n.onerror=v,n.oncdata=g,n.ondoctype=y,n.onprocessinginstruction=p,n.write(e).close(),s[r.elementsKey]){var c=s[r.elementsKey];delete s[r.elementsKey],s[r.elementsKey]=c,delete s.text}return s}},hwdV:function(e,t,n){var r=n("tjlA"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},i8i4:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n("yl30")},ii1t:function(e,t,n){var r=n("zyNV");e.exports=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),o=1&n.flags[2],a=4&n.flags[2],s=1&n.flags[1],c=2&n.flags[1],u=4&n.flags[1],l=8&n.flags[1],p=i.getUint32(4),d=8;for(o&&(n.dataOffset=i.getInt32(d),d+=4),a&&p&&(t={flags:r(e.subarray(d,d+4))},d+=4,s&&(t.duration=i.getUint32(d),d+=4),c&&(t.size=i.getUint32(d),d+=4),l&&(t.compositionTimeOffset=1===n.version?i.getInt32(d):i.getUint32(d),d+=4),n.samples.push(t),p--);p--;)t={},s&&(t.duration=i.getUint32(d),d+=4),c&&(t.size=i.getUint32(d),d+=4),u&&(t.flags=r(e.subarray(d,d+4)),d+=4),l&&(t.compositionTimeOffset=1===n.version?i.getInt32(d):i.getUint32(d),d+=4),n.samples.push(t);return n}},jBAH:function(e,t){e.exports=function(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}},jv9p:function(e,t){e.exports=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),(t+=String.fromCharCode(e[2]))+String.fromCharCode(e[3])}},kAgB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){"undefined"!=typeof window&&"function"==typeof window.matchMedia&&(r.hover=window.matchMedia("(hover: hover)").matches,r.none=window.matchMedia("(hover: none)").matches||window.matchMedia("(hover: on-demand)").matches,r.anyHover=window.matchMedia("(any-hover: hover)").matches,r.anyNone=window.matchMedia("(any-hover: none)").matches||window.matchMedia("(any-hover: on-demand)").matches)}};r.update(),t.default=r},"kVK+":function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,p=n?i-1:0,d=n?-1:1,h=e[t+p];for(p+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+p],p+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,p=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+p>=1?d/c:d*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*c-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+h]=255&a,h+=f,a/=256,u-=8);e[n+h-f]|=128*m}},"lb+f":function(e,t,n){"use strict";e.exports=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,r=0;r<n;++r)t[r].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),o=t.length,a=0;a<o;++a)t[a].apply(this,i)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}()},lsHq:function(e,t,n){var r=n("mxIc").isArray;e.exports={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||"number"!=typeof e.spaces&&"string"!=typeof e.spaces)&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){"alwaysArray"in e&&("boolean"==typeof e.alwaysArray||r(e.alwaysArray))||(e.alwaysArray=!1)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}}},mxIc:function(e,t){e.exports={isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}}},nFlj:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var o=i(t[1]),a=i(t[2]);null===o||null===a||o in r||(r[o]=a)}return r}},okNM:function(e,t,n){"use strict";n.r(t),n.d(t,"propTypes",(function(){return V})),n.d(t,"PropTypes",(function(){return V})),n.d(t,"onError",(function(){return Fe})),n.d(t,"observer",(function(){return Te})),n.d(t,"Observer",(function(){return Pe})),n.d(t,"renderReporter",(function(){return le})),n.d(t,"componentByNodeRegistery",(function(){return ue})),n.d(t,"componentByNodeRegistry",(function(){return ue})),n.d(t,"trackComponents",(function(){return ye})),n.d(t,"useStaticRendering",(function(){return ve})),n.d(t,"Provider",(function(){return Ne})),n.d(t,"inject",(function(){return re})),n.d(t,"disposeOnUnmount",(function(){return Be}));var r=n("2vnA"),i=n("q1tI"),o=n.n(i),a=n("i8i4");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){return e(t={exports:{}},t.exports),t.exports}var g,y=m((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case p:case o:case s:case a:return e;default:switch(e=e&&e.$$typeof){case u:case d:case c:return e;default:return t}}case i:return t}}}function y(e){return g(e)===p}t.typeOf=g,t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Profiler=s,t.Portal=i,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===s||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d)},t.isAsyncMode=function(e){return y(e)||g(e)===l},t.isConcurrentMode=y,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return g(e)===d},t.isFragment=function(e){return g(e)===o},t.isProfiler=function(e){return g(e)===s},t.isPortal=function(e){return g(e)===i},t.isStrictMode=function(e){return g(e)===a}}));(g=y)&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default");var v=m((function(e){e.exports=y})),b={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},A={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},x={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},w=function(){var e={};return e[v.ForwardRef]=x,e}(),_=Object.defineProperty,S=Object.getOwnPropertyNames,T=Object.getOwnPropertySymbols,P=Object.getOwnPropertyDescriptor,C=Object.getPrototypeOf,E=Object.prototype,k=function e(t,n,r){if("string"!=typeof n){if(E){var i=C(n);i&&i!==E&&e(t,i,r)}var o=S(n);T&&(o=o.concat(T(n)));for(var a=w[t.$$typeof]||b,s=w[n.$$typeof]||b,c=0;c<o.length;++c){var u=o[c];if(!(A[u]||r&&r[u]||s&&s[u]||a&&a[u])){var l=P(n,u);try{_(t,u,l)}catch(p){}}}return t}return t},O=function(){function e(){c(this,e),this.listeners=[]}return l(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach((function(t){return t(e)}))}}]),e}();function M(e){function t(t,n,i,o,a,s){for(var c=arguments.length,u=new Array(c>6?c-6:0),l=6;l<c;l++)u[l-6]=arguments[l];return Object(r.untracked)((function(){return o=o||"<<anonymous>>",s=s||i,null==n[i]?t?new Error("The "+a+" `"+s+"` is marked as required in `"+o+"`, but its value is `"+(null===n[i]?"null":"undefined")+"`."):null:e.apply(void 0,[n,i,o,a,s].concat(u))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function N(e){var t=s(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function I(e,t){return M((function(n,i,o,a,s){return Object(r.untracked)((function(){if(e&&N(n[i])===t.toLowerCase())return null;var a;switch(t){case"Array":a=r.isObservableArray;break;case"Object":a=r.isObservableObject;break;case"Map":a=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: ".concat(t))}var c=n[i];if(!a(c)){var u=function(e){var t=N(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(c),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+u+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function D(e,t){return M((function(n,i,o,a,s){for(var c=arguments.length,u=new Array(c>5?c-5:0),l=5;l<c;l++)u[l-5]=arguments[l];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+s+"` of component `"+o+"` has invalid PropType notation.");var r=I(e,"Array")(n,i,o);if(r instanceof Error)return r;for(var c=n[i],l=0;l<c.length;l++)if((r=t.apply(void 0,[c,l,o,a,s+"["+l+"]"].concat(u)))instanceof Error)return r;return null}))}))}var R=I(!1,"Array"),j=D.bind(null,!1),B=I(!1,"Map"),F=I(!1,"Object"),L=I(!0,"Array"),U=D.bind(null,!0),z=I(!0,"Object"),V=Object.freeze({observableArray:R,observableArrayOf:j,observableMap:B,observableObject:F,arrayOrObservableArray:L,arrayOrObservableArrayOf:U,objectOrObservableObject:z}),W=0,H={};function G(e){return H[e]||(H[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react ".concat(e," (").concat(W,")");return W++,t}(e)),H[e]}var q=G("patchMixins"),X=G("patchedDefinition");function K(e,t){var n=e[q]=e[q]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function Y(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var a;return null!=e&&(a=e.apply(this,i)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,i)}))}}function Z(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Y.call.apply(Y,[this,e,t].concat(r))}}function Q(e,t){for(var n=K(e,t),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];for(var a=0;a<i.length;a++){var s=i[a];n.methods.indexOf(s)<0&&n.methods.push(s)}var c=Object.getOwnPropertyDescriptor(e,t);if(!c||!c[X]){var u=e[t],l=J(e,t,c?c.enumerable:void 0,n,u);Object.defineProperty(e,t,l)}}function J(e,t,n,r,i){var o,a=Z(i,r);return p(o={},X,!0),p(o,"get",(function(){return a})),p(o,"set",(function(i){if(this===e)a=Z(i,r);else{var o=J(this,t,n,r,i);Object.defineProperty(this,t,o)}})),p(o,"configurable",!0),p(o,"enumerable",n),o}var $={mobxStores:z};Object.seal($);var ee={contextTypes:{get:function(){return $},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function te(e,t,n){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(r+="-with-"+n);var o=function(n){function r(){var e,t;c(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=f(this,(e=h(r)).call.apply(e,[this].concat(i)))).storeRef=function(e){t.wrappedInstance=e},t}return d(r,n),l(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var o=e(this.context.mobxStores||{},n,this.context)||{};for(var a in o)n[a]=o[a];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),Object(i.createElement)(t,n)}}]),r}(i.Component);return o.displayName=r,k(o,t),o.wrappedComponent=t,Object.defineProperties(o,ee),o}function ne(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function re(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=te(e,t);return n.isMobxInjector=!1,(n=Te(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=ne(t),function(n){return te(e,n,t.join("-"))}}var ie=r.$mobx||"$mobx",oe=G("isUnmounted"),ae=!1,se=!1,ce=!1,ue="undefined"!=typeof WeakMap?new WeakMap:void 0,le=new O,pe=G("skipRender"),de=G("isForcingUpdate"),he="function"==typeof i.forwardRef&&Object(i.forwardRef)((function(e,t){})).$$typeof;function fe(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}function me(e){if(a.findDOMNode)try{return Object(a.findDOMNode)(e)}catch(t){return null}return null}function ge(e){var t=me(e);t&&ue&&ue.set(t,e),le.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function ye(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");ae||(ae=!0)}function ve(e){se=e}var be=new O;function Ae(e,t){if(xe(e,t))return!0;if("object"!==s(e)||null===e||"object"!==s(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(t,n[i])||!xe(e[n[i]],t[n[i]]))return!1;return!0}function xe(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function we(e){var t=this;if(!0===se)return e.call(this);function n(){var e=this;c=!1;var t=void 0,n=void 0;if(u.track((function(){ae&&(e.__$mobRenderStart=Date.now());try{n=Object(r._allowStateChanges)(!1,s)}catch(i){t=i}ae&&(e.__$mobRenderEnd=Date.now())})),t)throw be.emit(t),t;return n}var o=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",a=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;fe(this,pe,!1),fe(this,de,!1);var s=e.bind(this),c=!1,u=new r.Reaction("".concat(o,"#").concat(a,".render()"),(function(){if(!c&&(c=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t[oe])){var e=!0;try{fe(t,de,!0),t[pe]||i.Component.prototype.forceUpdate.call(t),e=!1}finally{fe(t,de,!1),e&&u.dispose()}}}));return u.reactComponent=this,n[ie]=u,this.render=n,n.call(this)}var _e={componentWillUnmount:function(){if(!0!==se&&(this.render[ie]&&this.render[ie].dispose(),this[oe]=!0,ae)){var e=me(this);e&&ue&&ue.delete(e),le.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){ae&&ge(this)},componentDidUpdate:function(){ae&&ge(this)},shouldComponentUpdate:function(e,t){return se&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!Ae(this.props,e)}};function Se(e,t){var n=G("reactProp_".concat(t,"_valueHolder")),i=G("reactProp_".concat(t,"_atomHolder"));function o(){return this[i]||fe(this,i,Object(r.createAtom)("reactive "+t)),this[i]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(e){this[de]||Ae(this[n],e)?fe(this,n,e):(fe(this,n,e),fe(this,pe,!0),o.call(this).reportChanged(),fe(this,pe,!1))}})}function Te(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return ce||(ce=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?re.apply(null,e)(Te(t)):function(t){return Te(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===i.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),he&&n.$$typeof===he){var r=n.render;if("function"!=typeof r)throw new Error("render property of ForwardRef was not a function");return Object(i.forwardRef)((function(){var e=arguments;return o.a.createElement(Pe,null,(function(){return r.apply(void 0,e)}))}))}if(!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||i.Component.isPrototypeOf(n))){var a,s,u=Te((s=a=function(e){function t(){return c(this,t),f(this,h(t).apply(this,arguments))}return d(t,e),l(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(i.Component),a.displayName=n.displayName||n.name,a.contextTypes=n.contextTypes,a.propTypes=n.propTypes,a.defaultProps=n.defaultProps,s));return k(u,n),u}if(!n)throw new Error("Please pass a valid component to 'observer'");var p=n.prototype||n;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach((function(t){!function(e,t){Q(e,t,_e[t])}(e,t)})),e.shouldComponentUpdate?e.shouldComponentUpdate!==_e.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=_e.shouldComponentUpdate}(p),n.isMobXReactObserver=!0,Se(p,"props"),Se(p,"state");var m=p.render;return p.render=function(){return we.call(this,m)},n}var Pe=Te((function(e){var t=e.inject,n=e.children||e.render;if(void 0===n)return null;if(!t)return n();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var r=re(t)(n);return o.a.createElement(r,null)}));Pe.displayName="Observer";var Ce=function(e,t,n,r,i){var o="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[o]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[o]?new Error("Invalid prop `"+i+"` of type `"+s(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function Ee(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function ke(e){this.setState((function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}).bind(this))}function Oe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Pe.propTypes={render:Ce,children:Ce},Ee.__suppressDeprecationWarning=!0,ke.__suppressDeprecationWarning=!0,Oe.__suppressDeprecationWarning=!0;var Me={children:!0,key:!0,ref:!0},Ne=function(e){function t(e,n){var r;return c(this,t),(r=f(this,h(t).call(this,e,n))).state={},Ie(e,r.state),r}return d(t,e),l(t,[{key:"render",value:function(){return i.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={};return Ie(this.context.mobxStores,e),Ie(this.props,e),{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).filter(De).length!==Object.keys(t).filter(De).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)De(n)&&t[n]!==e[n]&&console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}(i.Component);function Ie(e,t){if(e)for(var n in e)De(n)&&(t[n]=e[n])}function De(e){return!Me[e]&&"suppressChangedStoreWarning"!==e}Ne.contextTypes={mobxStores:z},Ne.childContextTypes={mobxStores:z.isRequired},function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i)throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+(e.displayName||e.name)+" uses "+("function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()")+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks");if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Ee,t.componentWillReceiveProps=ke),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Oe;var o=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){o.call(this,e,t,this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n)}}}(Ne);var Re=G("disposeOnUnmount");function je(){var e=this;this[Re]&&(this[Re].forEach((function(t){var n="string"==typeof t?e[t]:t;if(null!=n){if("function"!=typeof n)throw new Error("[mobx-react] disposeOnUnmount only works on functions such as disposers returned by reactions, autorun, etc.");n()}})),this[Re]=[])}function Be(e,t){if(Array.isArray(t))return t.map((function(t){return Be(e,t)}));if(!e instanceof i.Component)throw new Error("[mobx-react] disposeOnUnmount only works on class based React components.");if("string"!=typeof t&&"function"!=typeof t)throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var n=!!e[Re];return(e[Re]||(e[Re]=[])).push(t),n||Q(e,"componentWillUnmount",je),"string"!=typeof t?t:void 0}if(!i.Component)throw new Error("mobx-react requires React to be available");if(!r.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof a.unstable_batchedUpdates&&Object(r.configure)({reactionScheduler:a.unstable_batchedUpdates});var Fe=function(e){return be.on(e)};"object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":s(__MOBX_DEVTOOLS_GLOBAL_HOOK__))&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact({renderReporter:le,componentByNodeRegistry:ue,componentByNodeRegistery:ue,trackComponents:ye},{spy:r.spy,extras:{getDebugName:r.getDebugName}})},onlc:function(e,t,n){var r=n("t1N5");function i(e,t){return function(n){return t(e(n))}}function o(e,t){for(var n=[t[e].parent,e],o=r[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),o=i(r[t[a].parent][a],o),a=t[a].parent;return o.conversion=n,o}e.exports=function(e){for(var t=function(e){var t=function(){for(var e={},t=Object.keys(r),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),o=Object.keys(r[i]),a=o.length,s=0;s<a;s++){var c=o[s],u=t[c];-1===u.distance&&(u.distance=t[i].distance+1,u.parent=i,n.unshift(c))}return t}(e),n={},i=Object.keys(t),a=i.length,s=0;s<a;s++){var c=i[s];null!==t[c].parent&&(n[c]=o(c,t))}return n}},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},prUH:function(e,t,n){"use strict";var r,i=(r=n("vgmO"))&&"object"==typeof r&&"default"in r?r.default:r;e.exports=function(e){for(var t,n=(t=e,i.atob?i.atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}},q1tI:function(e,t,n){"use strict";e.exports=n("viRO")},"r+ot":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Uint8Array?e:new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0)};t.bytesToString=function(e){if(!e)return"";e=Array.prototype.slice.call(e);var t=String.fromCharCode.apply(null,r(e));try{return decodeURIComponent(escape(t))}catch(n){}return t},t.concatTypedArrays=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return e+(t&&(t.byteLength||t.length)||0)}),0),o=new Uint8Array(i),a=0;return t.forEach((function(e){e=r(e),o.set(e,a),a+=e.byteLength})),o},t.isTypedArray=function(e){return ArrayBuffer.isView(e)},t.stringToBytes=function(e,t){return void 0===t&&(t=!1),"string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e?[]:(t||(e=unescape(encodeURIComponent(e))),e.split("").map((function(e){return 255&e.charCodeAt(0)})))},t.toUint8=r},rnXk:function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},rpcZ:function(e,t,n){"use strict";var r=[],i="undefined"==typeof global?window:global,o=Math.pow(256,6),a=Math.pow(2,52),s=2*a,c=Math.random;function u(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);i<256;)a[i]=i++;for(i=0;i<256;i++)a[i]=a[o=255&o+e[i%n]+(t=a[i])],a[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,a=r.S;e--;)t=a[i=255&i+1],n=256*n+a[255&(a[i]=a[o=255&o+t])+(a[o]=t)];return r.i=i,r.j=o,n})(256)}function l(e,t){var n,r=[],i=(typeof e)[0];if(t&&"o"==i)for(n in e)try{r.push(l(e[n],t-1))}catch(o){}return r.length?r:"s"==i?e:e+"\0"}function p(e,t){for(var n,r=e+"",i=0;i<r.length;)t[255&i]=255&(n^=19*t[255&i])+r.charCodeAt(i++);return h(t)}function d(e){try{return i.crypto.getRandomValues(e=new Uint8Array(256)),h(e)}catch(t){return[+new Date,i,i.navigator&&i.navigator.plugins,i.screen,h(r)]}}function h(e){return String.fromCharCode.apply(0,e)}e.exports=function(t,n){if(n&&!0===n.global)return n.global=!1,Math.random=e.exports(t,n),n.global=!0,Math.random;var i=n&&n.entropy||!1,c=[],f=(p(l(i?[t,h(r)]:0 in arguments?t:d(),3),c),new u(c));return p(h(f.S),r),function(){for(var e=f.g(6),t=o,n=0;e<a;)e=256*(e+n),t*=256,n=f.g(1);for(;e>=s;)e/=2,t/=2,n>>>=1;return(e+n)/t}},e.exports.resetGlobal=function(){Math.random=c},p(Math.random(),r)},sDzi:function(e,t){var n={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(e){return"string"==typeof e&&!!r[e.toLowerCase()]&&e.toLowerCase()}function o(e,t,r){this.hasBeenReset=!1;var o="",a=!1,s=e,c=t,u=r,l=null,p="",d=!0,h="auto",f="start",m="auto",g="auto",y=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return o},set:function(e){o=""+e}},pauseOnExit:{enumerable:!0,get:function(){return a},set:function(e){a=!!e}},startTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");s=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");c=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return u},set:function(e){u=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return p},set:function(e){var t=function(e){return"string"==typeof e&&!!n[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");p=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(e){d=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=i(e);t?(f=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=i(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(e){var t=i(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=t,this.hasBeenReset=!0}}}),this.displayState=void 0}o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=o},sXyB:function(e,t,n){var r=n("SksO"),i=n("b48C");function o(t,n,a){return e.exports=o=i()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},sr3F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,i=/^application\/dash\+xml/i;t.simpleTypeFromSourceType=function(e){return r.test(e)?"hls":i.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null}},t1N5:function(e,t,n){var r=n("T016"),i={};for(var o in r)r.hasOwnProperty(o)&&(i[r[o]]=o);var a=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in a)if(a.hasOwnProperty(s)){if(!("channels"in a[s]))throw new Error("missing channels property: "+s);if(!("labels"in a[s]))throw new Error("missing channel labels property: "+s);if(a[s].labels.length!==a[s].channels)throw new Error("channel and label counts mismatch: "+s);var c=a[s].channels,u=a[s].labels;delete a[s].channels,delete a[s].labels,Object.defineProperty(a[s],"channels",{value:c}),Object.defineProperty(a[s],"labels",{value:u})}a.rgb.hsl=function(e){var t,n,r=e[0]/255,i=e[1]/255,o=e[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),c=s-a;return s===a?t=0:r===s?t=(i-o)/c:i===s?t=2+(o-r)/c:o===s&&(t=4+(r-i)/c),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?c/(s+a):c/(2-s-a)),100*n]},a.rgb.hsv=function(e){var t,n,r,i,o,a=e[0]/255,s=e[1]/255,c=e[2]/255,u=Math.max(a,s,c),l=u-Math.min(a,s,c),p=function(e){return(u-e)/6/l+.5};return 0===l?i=o=0:(o=l/u,t=p(a),n=p(s),r=p(c),a===u?i=r-n:s===u?i=1/3+t-r:c===u&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*u]},a.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[a.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(n,r))*100,100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},a.rgb.cmyk=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},a.rgb.keyword=function(e){var t=i[e];if(t)return t;var n,o,a,s=1/0;for(var c in r)if(r.hasOwnProperty(c)){var u=(o=e,a=r[c],Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));u<s&&(s=u,n=c)}return n},a.keyword.rgb=function(e){return r[e]},a.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},a.rgb.lab=function(e){var t=a.rgb.xyz(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},a.hsl.rgb=function(e){var t,n,r,i,o,a=e[0]/360,s=e[1]/100,c=e[2]/100;if(0===s)return[o=255*c,o,o];t=2*c-(n=c<.5?c*(1+s):c+s-c*s),i=[0,0,0];for(var u=0;u<3;u++)(r=a+1/3*-(u-1))<0&&r++,r>1&&r--,i[u]=255*(o=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t);return i},a.hsl.hsv=function(e){var t=e[0],n=e[1]/100,r=e[2]/100,i=n,o=Math.max(r,.01);return n*=(r*=2)<=1?r:2-r,i*=o<=1?o:2-o,[t,100*(0===r?2*i/(o+i):2*n/(r+n)),(r+n)/2*100]},a.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),c=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,c,a];case 1:return[s,r,a];case 2:return[a,r,c];case 3:return[a,s,r];case 4:return[c,a,r];case 5:return[r,a,s]}},a.hsv.hsl=function(e){var t,n,r,i=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return r=(2-o)*a,n=o*s,[i,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(r/=2)]},a.hwb.rgb=function(e){var t,n,r,i,o,a,s,c=e[0]/360,u=e[1]/100,l=e[2]/100,p=u+l;switch(p>1&&(u/=p,l/=p),r=6*c-(t=Math.floor(6*c)),0!=(1&t)&&(r=1-r),i=u+r*((n=1-l)-u),t){default:case 6:case 0:o=n,a=i,s=u;break;case 1:o=i,a=n,s=u;break;case 2:o=u,a=n,s=i;break;case 3:o=u,a=i,s=n;break;case 4:o=i,a=u,s=n;break;case 5:o=n,a=u,s=i}return[255*o,255*a,255*s]},a.cmyk.rgb=function(e){var t=e[1]/100,n=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,e[0]/100*(1-r)+r)),255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r))]},a.xyz.rgb=function(e){var t,n,r,i=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*i+1.8758*o+.0415*a,r=.0557*i+-.204*o+1.057*a,t=(t=3.2406*i+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},a.xyz.lab=function(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},a.lab.xyz=function(e){var t,n,r;t=e[1]/500+(n=(e[0]+16)/116),r=n-e[2]/200;var i=Math.pow(n,3),o=Math.pow(t,3),a=Math.pow(r,3);return n=i>.008856?i:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,[t*=95.047,n*=100,r*=108.883]},a.lab.lch=function(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]},a.lch.lab=function(e){var t,n=e[1];return t=e[2]/360*2*Math.PI,[e[0],n*Math.cos(t),n*Math.sin(t)]},a.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],i=1 in arguments?arguments[1]:a.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var o=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===i&&(o+=60),o},a.hsv.ansi16=function(e){return a.rgb.ansi16(a.hsv.rgb(e),e[2])},a.rgb.ansi256=function(e){var t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},a.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},a.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},a.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},a.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},a.rgb.hcg=function(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255,o=Math.max(Math.max(n,r),i),a=Math.min(Math.min(n,r),i),s=o-a;return t=s<=0?0:o===n?(r-i)/s%6:o===r?2+(i-n)/s:4+(n-r)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},a.hsl.hcg=function(e){var t,n=e[1]/100,r=e[2]/100,i=0;return(t=r<.5?2*n*r:2*n*(1-r))<1&&(i=(r-.5*t)/(1-t)),[e[0],100*t,100*i]},a.hsv.hcg=function(e){var t=e[2]/100,n=e[1]/100*t,r=0;return n<1&&(r=(t-n)/(1-n)),[e[0],100*n,100*r]},a.hcg.rgb=function(e){var t=e[1]/100,n=e[2]/100;if(0===t)return[255*n,255*n,255*n];var r,i=[0,0,0],o=e[0]/360%1*6,a=o%1,s=1-a;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return[255*(t*i[0]+(r=(1-t)*n)),255*(t*i[1]+r),255*(t*i[2]+r)]},a.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},a.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},a.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},a.hwb.hcg=function(e){var t=1-e[2]/100,n=t-e[1]/100,r=0;return n<1&&(r=(t-n)/(1-n)),[e[0],100*n,100*r]},a.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},a.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},a.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},a.gray.hsl=a.gray.hsv=function(e){return[0,0,e[0]]},a.gray.hwb=function(e){return[0,100,e[0]]},a.gray.cmyk=function(e){return[0,0,0,e[0]]},a.gray.lab=function(e){return[e[0],0,0]},a.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},a.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},tK0H:function(e,t,n){e.exports=n("LRa+")},tjlA:function(e,t,n){"use strict";var r=n("H7XF"),i=n("kVK+"),o=n("49sm");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return L(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var p=!0,d=0;d<c;d++)if(u(e,o+d)!==u(t,d)){p=!1;break}if(p)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function A(e,t,n,r){return z(L(t,e.length-n),e,n,r)}function x(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return x(e,t,n,r)}function _(e,t,n,r){return z(U(t),e,n,r)}function S(e,t,n,r){return z(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,p=u>239?4:u>223?3:u>191?2:1;if(i+p<=n)switch(p){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,p=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=p}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function O(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(null,t):void 0!==n?"string"==typeof r?s(null,t).fill(n,r):s(null,t).fill(n):s(null,t)}(0,e,t,n)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=e.slice(t,n),p=0;p<s;++p)if(u[p]!==l[p]){o=u[p],a=l[p];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return A(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:L(new c(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function L(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},uPr3:function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},uxXc:function(e,t,n){var r=n("t1N5"),i=n("onlc"),o={};Object.keys(r).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});var t=i(e);Object.keys(t).forEach((function(n){var r=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var r=n.length,i=0;i<r;i++)n[i]=Math.round(n[i]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=o},vgmO:function(e,t){var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e.exports=n},viRO:function(e,t,n){"use strict";var r=n("MgzW"),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,c=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function A(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function x(){}function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=A.prototype;var _=w.prototype=new x;_.constructor=w,r(_,A.prototype),_.isPureReactComponent=!0;var S={current:null},T=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!P.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===i[r]&&(i[r]=c[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:S.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,O=[];function M(e,t,n,r){if(O.length){var i=O.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function I(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case o:case a:c=!0}}if(c)return r(i,t,""===n?"."+D(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var l=n+D(s=t[u],u);c+=e(s,l,r,i)}else if("function"==typeof(l=null===t||"object"!=typeof t?null:"function"==typeof(l=g&&t[g]||t["@@iterator"])?l:null))for(t=l.call(t),u=0;!(s=t.next()).done;)c+=e(s=s.value,l=n+D(s,u++),r,i);else if("object"===s)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return c}(e,"",t,n)}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function R(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(E(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),I(e,j,t=M(t,o,r,i)),N(t)}var F={current:null};function L(){var e=F.current;if(null===e)throw Error(y(321));return e}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;I(e,R,t=M(null,null,t,n)),N(t)},count:function(e){return I(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!E(e))throw Error(y(143));return e}},t.Component=A,t.Fragment=s,t.Profiler=u,t.PureComponent=w,t.StrictMode=c,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var i=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)T.call(t,l)&&!P.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){u=Array(l);for(var p=0;p<l;p++)u[p]=arguments[p+2];i.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="16.14.0"},wOJ8:function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},xRo1:function(e,t,n){var r=n("hE+I"),i=n("B4q0"),o=n("zvmt"),a=n("STtz");e.exports={xml2js:r,xml2json:i,js2xml:o,json2xml:a}},yl30:function(e,t,n){"use strict";var r=n("q1tI"),i=n("MgzW"),o=n("QCnb");function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var c=!1,u=null,l=!1,p=null,d={onError:function(e){c=!0,u=e}};function h(e,t,n,r,i,o,a,l,p){c=!1,u=null,s.apply(d,arguments)}var f=null,m=null,g=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,s,d,f){if(h.apply(this,arguments),c){if(!c)throw Error(a(198));var m=u;c=!1,u=null,l||(l=!0,p=m)}}(r,t,void 0,e),e.currentTarget=null}var v=null,b={};function A(){if(v)for(var e in b){var t=b[e],n=v.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,c=r;if(_.hasOwnProperty(c))throw Error(a(99,c));_[c]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&x(u[i],s,c);i=!0}else o.registrationName?(x(o.registrationName,s,c),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function x(e,t,n){if(S[e])throw Error(a(100,e));S[e]=t,T[e]=t.eventTypes[n].dependencies}var w=[],_={},S={},T={};function P(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&A()}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),E=null,k=null,O=null;function M(e){if(e=m(e)){if("function"!=typeof E)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),E(e.stateNode,e.type,t))}}function N(e){k?O?O.push(e):O=[e]:k=e}function I(){if(k){var e=k,t=O;if(O=k=null,M(e),t)for(e=0;e<t.length;e++)M(t[e])}}function D(e,t){return e(t)}function R(e,t,n,r,i){return e(t,n,r,i)}function j(){}var B=D,F=!1,L=!1;function U(){null===k&&null===O||(j(),I())}function z(e,t,n){if(L)return e(t,n);L=!0;try{return B(e,t,n)}finally{L=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W=Object.prototype.hasOwnProperty,H={},G={};function q(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var X={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){X[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];X[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){X[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){X[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){X[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){X[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){X[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){X[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){X[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,Y);X[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,Y);X[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,Y);X[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){X[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),X.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){X[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var Z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=X.hasOwnProperty(t)?X[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!W.call(G,e)||!W.call(H,e)&&(V.test(e)?G[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Z.hasOwnProperty("ReactCurrentDispatcher")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty("ReactCurrentBatchConfig")||(Z.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"==typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,re=$?Symbol.for("react.strict_mode"):60108,ie=$?Symbol.for("react.profiler"):60114,oe=$?Symbol.for("react.provider"):60109,ae=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,ce=$?Symbol.for("react.forward_ref"):60112,ue=$?Symbol.for("react.suspense"):60113,le=$?Symbol.for("react.suspense_list"):60120,pe=$?Symbol.for("react.memo"):60115,de=$?Symbol.for("react.lazy"):60116,he=$?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ue:return"Suspense";case le:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ce:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case pe:return ge(e.type);case he:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ae(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _e(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Se(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function Te(e,t){Se(e,t);var n=ve(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(("submit"===r||"reset"===r)&&null==t.value)return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ee(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ke(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Me(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Ne(e,t){var n=ve(t.value),r=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Re(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,Be=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Le(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ue={animationend:Le("Animation","AnimationEnd"),animationiteration:Le("Animation","AnimationIteration"),animationstart:Le("Animation","AnimationStart"),transitionend:Le("Transition","TransitionEnd")},ze={},Ve={};function We(e){if(ze[e])return ze[e];if(!Ue[e])return e;var t,n=Ue[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ve)return ze[e]=n[t];return e}C&&(Ve=document.createElement("div").style,"AnimationEvent"in window||(delete Ue.animationend.animation,delete Ue.animationiteration.animation,delete Ue.animationstart.animation),"TransitionEvent"in window||delete Ue.transitionend.transition);var He=We("animationend"),Ge=We("animationiteration"),qe=We("animationstart"),Xe=We("transitionend"),Ke="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ye=new("function"==typeof WeakMap?WeakMap:Map);function Ze(e){var t=Ye.get(e);return void 0===t&&(t=new Map,Ye.set(e,t)),t}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function $e(e){if(Qe(e)!==e)throw Error(a(188))}function et(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $e(i),e;if(o===r)return $e(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function tt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function nt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var rt=null;function it(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ot(e){if(null!==e&&(rt=tt(rt,e)),e=rt,rt=null,e){if(nt(e,it),rt)throw Error(a(95));if(l)throw e=p,l=!1,p=null,e}}function at(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function st(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ct=[];function ut(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function lt(e,t,n,r){if(ct.length){var i=ct.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=at(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,c=0;c<w.length;c++){var u=w[c];u&&(u=u.extractEvents(r,t,o,i,a))&&(s=tt(s,u))}ot(s)}}function dt(e,t,n){if(!n.has(e)){switch(e){case"scroll":qt(t,"scroll",!0);break;case"focus":case"blur":qt(t,"focus",!0),qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":st(e)&&qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ke.indexOf(e)&&Gt(e,t)}n.set(e,null)}}var ht,ft,mt,gt=!1,yt=[],vt=null,bt=null,At=null,xt=new Map,wt=new Map,_t=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ct(e,t){switch(e){case"focus":case"blur":vt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wt.delete(t.pointerId)}}function Et(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Pt(t,n,r,i,o),null!==t&&null!==(t=Pn(t))&&ft(t),e):(e.eventSystemFlags|=r,e)}function kt(e){var t=Tn(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){mt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Pn(t);return null!==n&&ft(n),e.blockedOn=t,!1}return!0}function Mt(e,t,n){Ot(e)&&n.delete(t)}function Nt(){for(gt=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=Pn(e.blockedOn))&&ht(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==vt&&Ot(vt)&&(vt=null),null!==bt&&Ot(bt)&&(bt=null),null!==At&&Ot(At)&&(At=null),xt.forEach(Mt),wt.forEach(Mt)}function It(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Nt)))}function Dt(e){function t(t){return It(t,e)}if(0<yt.length){It(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==vt&&It(vt,e),null!==bt&&It(bt,e),null!==At&&It(At,e),xt.forEach(t),wt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)kt(n),null===n.blockedOn&&_t.shift()}var Rt={},jt=new Map,Bt=new Map,Ft=["abort","abort",He,"animationEnd",Ge,"animationIteration",qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),jt.set(r,o),Rt[i]=o}}Lt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Ft,2);for(var Ut="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Ut.length;zt++)Bt.set(Ut[zt],0);var Vt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Ht=!0;function Gt(e,t){qt(t,e,!1)}function qt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Kt.bind(null,t,1,e);break;default:r=Yt.bind(null,t,1,e)}e.addEventListener(t,r,!!n)}function Xt(e,t,n,r){F||j();var i=Yt,o=F;F=!0;try{R(i,e,t,n,r)}finally{(F=o)||U()}}function Kt(e,t,n,r){Wt(Vt,Yt.bind(null,e,t,n,r))}function Yt(e,t,n,r){if(Ht)if(0<yt.length&&-1<St.indexOf(e))e=Pt(null,e,t,n,r),yt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Ct(e,r);else if(-1<St.indexOf(e))e=Pt(i,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return vt=Et(vt,e,t,n,r,i),!0;case"dragenter":return bt=Et(bt,e,t,n,r,i),!0;case"mouseover":return At=Et(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xt.set(o,Et(xt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return wt.set(o=i.pointerId,Et(wt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ct(e,r),e=lt(e,r,null,t);try{z(pt,e)}finally{ut(e)}}}}function Zt(e,t,n,r){if(null!==(n=Tn(n=at(r)))){var i=Qe(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=Je(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=lt(e,r,n,t);try{z(pt,e)}finally{ut(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jt=["Webkit","ms","Moz","O"];function $t(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function en(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=$t(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Qt).forEach((function(e){Jt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var tn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(e,t){if(t){if(tn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function rn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on="http://www.w3.org/1999/xhtml";function an(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=T[t];for(var r=0;r<t.length;r++)dt(t[r],e,n)}function sn(){}function cn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Hc){return e.body}}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ln(e,t){var n,r=un(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=un(r)}}function pn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var hn=null,fn=null;function mn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"==typeof setTimeout?setTimeout:void 0,vn="function"==typeof clearTimeout?clearTimeout:void 0;function bn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function An(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),wn="__reactInternalInstance$"+xn,_n="__reactEventHandlers$"+xn,Sn="__reactContainere$"+xn;function Tn(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Sn]||n[wn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=An(e);null!==e;){if(n=e[wn])return n;e=An(e)}return t}n=(e=n).parentNode}return null}function Pn(e){return!(e=e[wn]||e[Sn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Cn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function En(e){return e[_n]||null}function kn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function On(e,t){var n=e.stateNode;if(!n)return null;var r=f(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Mn(e,t,n){(t=On(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=tt(n._dispatchListeners,t),n._dispatchInstances=tt(n._dispatchInstances,e))}function Nn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=kn(t);for(t=n.length;0<t--;)Mn(n[t],"captured",e);for(t=0;t<n.length;t++)Mn(n[t],"bubbled",e)}}function In(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=On(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=tt(n._dispatchListeners,t),n._dispatchInstances=tt(n._dispatchInstances,e))}function Dn(e){e&&e.dispatchConfig.registrationName&&In(e._targetInst,null,e)}function Rn(e){nt(e,Nn)}var jn=null,Bn=null,Fn=null;function Ln(){if(Fn)return Fn;var e,t,n=Bn,r=n.length,i="value"in jn?jn.value:jn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Fn=i.slice(e,1<t?1-t:void 0)}function Un(){return!0}function zn(){return!1}function Vn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Un:zn,this.isPropagationStopped=zn,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Hn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gn(e){e.eventPool=[],e.getPooled=Wn,e.release=Hn}i(Vn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){this.isPersistent=Un},isPersistent:zn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=zn,this._dispatchInstances=this._dispatchListeners=null}}),Vn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Vn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),(n.prototype=o).constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Gn(n),n},Gn(Vn);var qn=Vn.extend({data:null}),Xn=Vn.extend({data:null}),Kn=[9,13,27,32],Yn=C&&"CompositionEvent"in window,Zn=null;C&&"documentMode"in document&&(Zn=document.documentMode);var Qn=C&&"TextEvent"in window&&!Zn,Jn=C&&(!Yn||Zn&&8<Zn&&11>=Zn),$n=String.fromCharCode(32),er={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},tr=!1;function nr(e,t){switch(e){case"keyup":return-1!==Kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function rr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ir=!1,or={eventTypes:er,extractEvents:function(e,t,n,r){var i;if(Yn)e:{switch(e){case"compositionstart":var o=er.compositionStart;break e;case"compositionend":o=er.compositionEnd;break e;case"compositionupdate":o=er.compositionUpdate;break e}o=void 0}else ir?nr(e,n)&&(o=er.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=er.compositionStart);return o?(Jn&&"ko"!==n.locale&&(ir||o!==er.compositionStart?o===er.compositionEnd&&ir&&(i=Ln()):(Bn="value"in(jn=r)?jn.value:jn.textContent,ir=!0)),o=qn.getPooled(o,t,n,r),(i||null!==(i=rr(n)))&&(o.data=i),Rn(o),i=o):i=null,(e=Qn?function(e,t){switch(e){case"compositionend":return rr(t);case"keypress":return 32!==t.which?null:(tr=!0,$n);case"textInput":return(e=t.data)===$n&&tr?null:e;default:return null}}(e,n):function(e,t){if(ir)return"compositionend"===e||!Yn&&nr(e,t)?(e=Ln(),Fn=Bn=jn=null,ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(er.beforeInput,t,n,r)).data=e,Rn(t)):t=null,null===i?t:null===t?i:[i,t]}},ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ar[e.type]:"textarea"===t}var cr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ur(e,t,n){return(e=Vn.getPooled(cr.change,e,t,n)).type="change",N(n),Rn(e),e}var lr=null,pr=null;function dr(e){ot(e)}function hr(e){if(xe(Cn(e)))return e}function fr(e,t){if("change"===e)return t}var mr=!1;function gr(){lr&&(lr.detachEvent("onpropertychange",yr),pr=lr=null)}function yr(e){if("value"===e.propertyName&&hr(pr))if(e=ur(pr,e,at(e)),F)ot(e);else{F=!0;try{D(dr,e)}finally{F=!1,U()}}}function vr(e,t,n){"focus"===e?(gr(),pr=n,(lr=t).attachEvent("onpropertychange",yr)):"blur"===e&&gr()}function br(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return hr(pr)}function Ar(e,t){if("click"===e)return hr(t)}function xr(e,t){if("input"===e||"change"===e)return hr(t)}C&&(mr=st("input")&&(!document.documentMode||9<document.documentMode));var wr={eventTypes:cr,_isInputEventSupported:mr,extractEvents:function(e,t,n,r){var i=t?Cn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=fr;else if(sr(i))if(mr)a=xr;else{a=br;var s=vr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Ar);if(a&&(a=a(e,t)))return ur(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},_r=Vn.extend({view:null,detail:null}),Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function Pr(){return Tr}var Cr=0,Er=0,kr=!1,Or=!1,Mr=_r.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Cr;return Cr=e.screenX,kr?"mousemove"===e.type?e.screenX-t:0:(kr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Er;return Er=e.screenY,Or?"mousemove"===e.type?e.screenY-t:0:(Or=!0,0)}}),Nr=Mr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ir={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Dr={eventTypes:Ir,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Tn(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Mr,c=Ir.mouseLeave,u=Ir.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Nr,c=Ir.pointerLeave,u=Ir.pointerEnter,l="pointer");if(e=null==a?o:Cn(a),o=null==t?o:Cn(t),(c=s.getPooled(c,a,n,r)).type=l+"leave",c.target=e,c.relatedTarget=o,(n=s.getPooled(u,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(u=l,a=0,e=s=r;e;e=kn(e))a++;for(e=0,t=u;t;t=kn(t))e++;for(;0<a-e;)s=kn(s),a--;for(;0<e-a;)u=kn(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=kn(s),u=kn(u)}s=null}else s=null;for(u=s,s=[];r&&r!==u&&(null===(a=r.alternate)||a!==u);)s.push(r),r=kn(r);for(r=[];l&&l!==u&&(null===(a=l.alternate)||a!==u);)r.push(l),l=kn(l);for(l=0;l<s.length;l++)In(s[l],"bubbled",c);for(l=r.length;0<l--;)In(r[l],"captured",n);return 0==(64&i)?[c]:[c,n]}},Rr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},jr=Object.prototype.hasOwnProperty;function Br(e,t){if(Rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!jr.call(t,n[r])||!Rr(e[n[r]],t[n[r]]))return!1;return!0}var Fr=C&&"documentMode"in document&&11>=document.documentMode,Lr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Ur=null,zr=null,Vr=null,Wr=!1;function Hr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==Ur||Ur!==cn(n)?null:(n="selectionStart"in(n=Ur)&&dn(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vr&&Br(Vr,n)?null:(Vr=n,(e=Vn.getPooled(Lr.select,zr,e,t)).type="select",e.target=Ur,Rn(e),e))}var Gr={eventTypes:Lr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=T.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Cn(t):window,e){case"focus":(sr(i)||"true"===i.contentEditable)&&(Ur=i,zr=t,Vr=null);break;case"blur":Vr=zr=Ur=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Hr(n,r);case"selectionchange":if(Fr)break;case"keydown":case"keyup":return Hr(n,r)}return null}},qr=Vn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=Vn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kr=_r.extend({relatedTarget:null});function Yr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jr=_r.extend({key:function(e){if(e.key){var t=Zr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(e){return"keypress"===e.type?Yr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),$r=Mr.extend({dataTransfer:null}),ei=_r.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),ti=Vn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ni=Mr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ri={eventTypes:Rt,extractEvents:function(e,t,n,r){var i=jt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Yr(n))return null;case"keydown":case"keyup":e=Jr;break;case"blur":case"focus":e=Kr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=$r;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ei;break;case He:case Ge:case qe:e=qr;break;case Xe:e=ti;break;case"scroll":e=_r;break;case"wheel":e=ni;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Nr;break;default:e=Vn}return Rn(t=e.getPooled(i,t,n,r)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),A(),f=En,m=Pn,g=Cn,P({SimpleEventPlugin:ri,EnterLeaveEventPlugin:Dr,ChangeEventPlugin:wr,SelectEventPlugin:Gr,BeforeInputEventPlugin:or});var ii=[],oi=-1;function ai(e){0>oi||(e.current=ii[oi],ii[oi]=null,oi--)}function si(e,t){oi++,ii[oi]=e.current,e.current=t}var ci={},ui={current:ci},li={current:!1},pi=ci;function di(e,t){var n=e.type.contextTypes;if(!n)return ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function hi(e){return null!=e.childContextTypes}function fi(){ai(li),ai(ui)}function mi(e,t,n){if(ui.current!==ci)throw Error(a(168));si(ui,t),si(li,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},n,{},r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ci,pi=ui.current,si(ui,e),si(li,li.current),!0}function vi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ai(li),ai(ui),si(ui,e)):ai(li),si(li,n)}var bi=o.unstable_runWithPriority,Ai=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,wi=o.unstable_requestPaint,_i=o.unstable_now,Si=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ci=o.unstable_NormalPriority,Ei=o.unstable_LowPriority,ki=o.unstable_IdlePriority,Oi={},Mi=o.unstable_shouldYield,Ni=void 0!==wi?wi:function(){},Ii=null,Di=null,Ri=!1,ji=_i(),Bi=1e4>ji?_i:function(){return _i()-ji};function Fi(){switch(Si()){case Ti:return 99;case Pi:return 98;case Ci:return 97;case Ei:return 96;case ki:return 95;default:throw Error(a(332))}}function Li(e){switch(e){case 99:return Ti;case 98:return Pi;case 97:return Ci;case 96:return Ei;case 95:return ki;default:throw Error(a(332))}}function Ui(e,t){return e=Li(e),bi(e,t)}function zi(e,t,n){return e=Li(e),Ai(e,t,n)}function Vi(e){return null===Ii?(Ii=[e],Di=Ai(Ti,Hi)):Ii.push(e),Oi}function Wi(){if(null!==Di){var e=Di;Di=null,xi(e)}Hi()}function Hi(){if(!Ri&&null!==Ii){Ri=!0;var e=0;try{var t=Ii;Ui(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ii=null}catch(n){throw null!==Ii&&(Ii=Ii.slice(e+1)),Ai(Ti,Wi),n}finally{Ri=!1}}}function Gi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function qi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xi={current:null},Ki=null,Yi=null,Zi=null;function Qi(){Zi=Yi=Ki=null}function Ji(e){var t=Xi.current;ai(Xi),e.type._context._currentValue=t}function $i(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function eo(e,t){Ki=e,Zi=Yi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ea=!0),e.firstContext=null)}function to(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Yi){if(null===Ki)throw Error(a(308));Yi=t,Ki.dependencies={expirationTime:0,firstContext:t,responders:null}}else Yi=Yi.next=t;return e._currentValue}var no=!1;function ro(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function io(e,t){t.updateQueue===(e=e.updateQueue)&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function oo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ao(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function so(e,t){var n=e.alternate;null!==n&&io(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,r){var o=e.updateQueue;no=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var c=a.next;a.next=s.next,s.next=c}a=s,o.shared.pending=null,null!==(c=e.alternate)&&null!==(c=c.updateQueue)&&(c.baseQueue=s)}if(null!==a){var u=o.baseState,l=0,p=null,d=null,h=null;if(null!==(c=a.next))for(var f=c;;){if((s=f.expirationTime)<r){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===h?(d=h=m,p=u):h=h.next=m,s>l&&(l=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),rc(s,f.suspenseConfig);e:{var g=e,y=f;switch(s=t,m=n,y.tag){case 1:if("function"==typeof(g=y.payload)){u=g.call(m,u,s);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=y.payload)?g.call(m,u,s):g))break e;u=i({},u,s);break e;case 2:no=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===c){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=c,o.baseQueue=a=s,o.shared.pending=null}}null===h?p=u:h.next=d,o.baseState=p,o.baseQueue=h,ic(l),e.expirationTime=l,e.memoizedState=u}}function uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!=typeof r)throw Error(a(191,r));r.call(i)}}}var lo=Z.ReactCurrentBatchConfig,po=(new r.Component).refs;function ho(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var fo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Hs(),i=lo.suspense;(i=oo(r=Gs(r,e,i),i)).payload=t,null!=n&&(i.callback=n),ao(e,i),qs(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Hs(),i=lo.suspense;(i=oo(r=Gs(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),ao(e,i),qs(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Hs(),r=lo.suspense;(r=oo(n=Gs(n,e,r),r)).tag=2,null!=t&&(r.callback=t),ao(e,r),qs(e,n)}};function mo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&Br(n,r)&&Br(i,o))}function go(e,t,n){var r=!1,i=ci,o=t.contextType;return"object"==typeof o&&null!==o?o=to(o):(i=hi(t)?pi:ui.current,o=(r=null!=(r=t.contextTypes))?di(e,i):ci),t=new t(n,o),e.memoizedState=null!=t.state?t.state:null,t.updater=fo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function vo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=po,ro(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=to(o):(o=hi(t)?pi:ui.current,i.context=di(e,o)),co(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(ho(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fo.enqueueReplaceState(i,i.state,null),co(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var bo=Array.isArray;function Ao(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===po&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function wo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)e.set(null!==t.key?t.key:t.index,t),t=t.sibling;return e}function i(e,t){return(e=Sc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Cc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ao(e,t,n),r.return=e,r):((r=Tc(n.type,n.key,n.props,null,e.mode,r)).ref=Ao(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ec(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,o){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Cc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Tc(t.type,t.key,t.props,null,e.mode,n)).ref=Ao(e,null,t),n.return=e,n;case te:return(t=Ec(t,e.mode,n)).return=e,t}if(bo(t)||me(t))return(t=Pc(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?p(e,t,n.props.children,r,i):u(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(bo(n)||me(n))return null!==i?null:p(e,t,n,r,null);xo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?p(t,e,r.props.children,i,r.key):u(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||me(r))return p(t,e=e.get(n)||null,r,i,null);xo(t,r)}return null}function m(i,a,s,c){for(var u=null,l=null,p=a,m=a=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=h(i,p,s[m],c);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),a=o(y,a,m),null===l?u=y:l.sibling=y,l=y,p=g}if(m===s.length)return n(i,p),u;if(null===p){for(;m<s.length;m++)null!==(p=d(i,s[m],c))&&(a=o(p,a,m),null===l?u=p:l.sibling=p,l=p);return u}for(p=r(i,p);m<s.length;m++)null!==(g=f(p,i,m,s[m],c))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?u=g:l.sibling=g,l=g);return e&&p.forEach((function(e){return t(i,e)})),u}function g(i,s,c,u){var l=me(c);if("function"!=typeof l)throw Error(a(150));if(null==(c=l.call(c)))throw Error(a(151));for(var p=l=null,m=s,g=s=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=h(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===p?l=b:p.sibling=b,p=b,m=y}if(v.done)return n(i,m),l;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=d(i,v.value,u))&&(s=o(v,s,g),null===p?l=v:p.sibling=v,p=v);return l}for(m=r(i,m);!v.done;g++,v=c.next())null!==(v=f(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===p?l=v:p.sibling=v,p=v);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,c){var u="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case ee:e:{for(l=o.key,u=r;null!==u;){if(u.key===l){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=Ao(e,u,o),r.return=e,e=r;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((r=Pc(o.props.children,e.mode,c,o.key)).return=e,e=r):((c=Tc(o.type,o.key,o.props,null,e.mode,c)).ref=Ao(e,r,o),c.return=e,e=c)}return s(e);case te:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ec(o,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Cc(o,e.mode,c)).return=e,e=r),s(e);if(bo(o))return m(e,r,o,c);if(me(o))return g(e,r,o,c);if(l&&xo(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var _o=wo(!0),So=wo(!1),To={},Po={current:To},Co={current:To},Eo={current:To};function ko(e){if(e===To)throw Error(a(174));return e}function Oo(e,t){switch(si(Eo,t),si(Co,e),si(Po,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Re(null,"");break;default:t=Re(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ai(Po),si(Po,t)}function Mo(){ai(Po),ai(Co),ai(Eo)}function No(e){ko(Eo.current);var t=ko(Po.current),n=Re(t,e.type);t!==n&&(si(Co,e),si(Po,n))}function Io(e){Co.current===e&&(ai(Po),ai(Co))}var Do={current:0};function Ro(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function jo(e,t){return{responder:e,props:t}}var Bo=Z.ReactCurrentDispatcher,Fo=Z.ReactCurrentBatchConfig,Lo=0,Uo=null,zo=null,Vo=null,Wo=!1;function Ho(){throw Error(a(321))}function Go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rr(e[n],t[n]))return!1;return!0}function qo(e,t,n,r,i,o){if(Lo=o,Uo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?ma:ga,e=n(r,i),t.expirationTime===Lo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Vo=zo=null,t.updateQueue=null,Bo.current=ya,e=n(r,i)}while(t.expirationTime===Lo)}if(Bo.current=fa,t=null!==zo&&null!==zo.next,Lo=0,Vo=zo=Uo=null,Wo=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Vo?Uo.memoizedState=Vo=e:Vo=Vo.next=e,Vo}function Ko(){if(null===zo){var e=Uo.alternate;e=null!==e?e.memoizedState:null}else e=zo.next;var t=null===Vo?Uo.memoizedState:Vo.next;if(null!==t)Vo=t,zo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(zo=e).memoizedState,baseState:zo.baseState,baseQueue:zo.baseQueue,queue:zo.queue,next:null},null===Vo?Uo.memoizedState=Vo=e:Vo=Vo.next=e}return Vo}function Yo(e,t){return"function"==typeof t?t(e):t}function Zo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){r=r.baseState;var c=s=o=null,u=i=i.next;do{var l=u.expirationTime;if(l<Lo){var p={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=p,o=r):c=c.next=p,l>Uo.expirationTime&&(Uo.expirationTime=l,ic(l))}else null!==c&&(c=c.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),rc(l,u.suspenseConfig),r=u.eagerReducer===e?u.eagerState:e(r,u.action);u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=s,Rr(r,t.memoizedState)||(Ea=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Qo(e){var t=Ko(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Rr(o,t.memoizedState)||(Ea=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Jo(e){var t=Xo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:e}).dispatch=ha.bind(null,Uo,e),[t.memoizedState,e]}function $o(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Uo.updateQueue)?(Uo.updateQueue=t={lastEffect:null},t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ea(){return Ko().memoizedState}function ta(e,t,n,r){var i=Xo();Uo.effectTag|=e,i.memoizedState=$o(1|t,n,void 0,void 0===r?null:r)}function na(e,t,n,r){var i=Ko();r=void 0===r?null:r;var o=void 0;if(null!==zo){var a=zo.memoizedState;if(o=a.destroy,null!==r&&Go(r,a.deps))return void $o(t,n,o,r)}Uo.effectTag|=e,i.memoizedState=$o(1|t,n,o,r)}function ra(e,t){return ta(516,4,e,t)}function ia(e,t){return na(516,4,e,t)}function oa(e,t){return na(4,2,e,t)}function aa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function sa(e,t,n){return n=null!=n?n.concat([e]):null,na(4,2,aa.bind(null,t,e),n)}function ca(){}function ua(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function la(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=Ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function da(e,t,n){var r=Fi();Ui(98>r?98:r,(function(){e(!0)})),Ui(97<r?97:r,(function(){var r=Fo.suspense;Fo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Fo.suspense=r}}))}function ha(e,t,n){var r=Hs(),i=lo.suspense;i={expirationTime:r=Gs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Uo||null!==o&&o===Uo)Wo=!0,i.expirationTime=Lo,Uo.expirationTime=Lo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Rr(s,a))return}catch(c){}qs(e,r)}}var fa={readContext:to,useCallback:Ho,useContext:Ho,useEffect:Ho,useImperativeHandle:Ho,useLayoutEffect:Ho,useMemo:Ho,useReducer:Ho,useRef:Ho,useState:Ho,useDebugValue:Ho,useResponder:Ho,useDeferredValue:Ho,useTransition:Ho},ma={readContext:to,useCallback:ua,useContext:to,useEffect:ra,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ta(4,2,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ta(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ha.bind(null,Uo,e),[r.memoizedState,e]},useRef:function(e){return Xo().memoizedState={current:e}},useState:Jo,useDebugValue:ca,useResponder:jo,useDeferredValue:function(e,t){var n=Jo(e),r=n[0],i=n[1];return ra((function(){var n=Fo.suspense;Fo.suspense=void 0===t?null:t;try{i(e)}finally{Fo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(!1),n=t[0];return[ua(da.bind(null,t=t[1],e),[t,e]),n]}},ga={readContext:to,useCallback:la,useContext:to,useEffect:ia,useImperativeHandle:sa,useLayoutEffect:oa,useMemo:pa,useReducer:Zo,useRef:ea,useState:function(){return Zo(Yo)},useDebugValue:ca,useResponder:jo,useDeferredValue:function(e,t){var n=Zo(Yo),r=n[0],i=n[1];return ia((function(){var n=Fo.suspense;Fo.suspense=void 0===t?null:t;try{i(e)}finally{Fo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Yo),n=t[0];return[la(da.bind(null,t=t[1],e),[t,e]),n]}},ya={readContext:to,useCallback:la,useContext:to,useEffect:ia,useImperativeHandle:sa,useLayoutEffect:oa,useMemo:pa,useReducer:Qo,useRef:ea,useState:function(){return Qo(Yo)},useDebugValue:ca,useResponder:jo,useDeferredValue:function(e,t){var n=Qo(Yo),r=n[0],i=n[1];return ia((function(){var n=Fo.suspense;Fo.suspense=void 0===t?null:t;try{i(e)}finally{Fo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qo(Yo),n=t[0];return[la(da.bind(null,t=t[1],e),[t,e]),n]}},va=null,ba=null,Aa=!1;function xa(e,t){var n=wc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function wa(e,t){switch(e.tag){case 5:return null!==(t=1!==t.nodeType||e.type.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function _a(e){if(Aa){var t=ba;if(t){var n=t;if(!wa(e,t)){if(!(t=bn(n.nextSibling))||!wa(e,t))return e.effectTag=-1025&e.effectTag|2,Aa=!1,void(va=e);xa(va,n)}va=e,ba=bn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Aa=!1,va=e}}function Sa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;va=e}function Ta(e){if(e!==va)return!1;if(!Aa)return Sa(e),Aa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gn(t,e.memoizedProps))for(t=ba;t;)xa(e,t),t=bn(t.nextSibling);if(Sa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ba=bn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ba=null}}else ba=va?bn(e.stateNode.nextSibling):null;return!0}function Pa(){ba=va=null,Aa=!1}var Ca=Z.ReactCurrentOwner,Ea=!1;function ka(e,t,n,r){t.child=null===e?So(t,null,n,r):_o(t,e.child,n,r)}function Oa(e,t,n,r,i){n=n.render;var o=t.ref;return eo(t,i),r=qo(e,t,n,r,o,i),null===e||Ea?(t.effectTag|=1,ka(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),qa(e,t,i))}function Ma(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||_c(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tc(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Na(e,t,a,r,i,o))}return a=e.child,i<o&&(n=null!==(n=n.compare)?n:Br)(i=a.memoizedProps,r)&&e.ref===t.ref?qa(e,t,o):(t.effectTag|=1,(e=Sc(a,r)).ref=t.ref,e.return=t,t.child=e)}function Na(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Ea=!1,i<o)?(t.expirationTime=e.expirationTime,qa(e,t,o)):Da(e,t,n,r,o)}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Da(e,t,n,r,i){var o=hi(n)?pi:ui.current;return o=di(t,o),eo(t,i),n=qo(e,t,n,r,o,i),null===e||Ea?(t.effectTag|=1,ka(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),qa(e,t,i))}function Ra(e,t,n,r,i){if(hi(n)){var o=!0;yi(t)}else o=!1;if(eo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),go(t,n,r),vo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=n.contextType;u="object"==typeof u&&null!==u?to(u):di(t,u=hi(n)?pi:ui.current);var l=n.getDerivedStateFromProps,p="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;p||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&yo(t,a,r,u),no=!1;var d=t.memoizedState;a.state=d,co(t,r,a,i),c=t.memoizedState,s!==r||d!==c||li.current||no?("function"==typeof l&&(ho(t,n,l,r),c=t.memoizedState),(s=no||mo(t,n,s,r,d,c,u))?(p||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,io(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:qi(t.type,s),c=a.context,u="object"==typeof(u=n.contextType)&&null!==u?to(u):di(t,u=hi(n)?pi:ui.current),(p="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||c!==u)&&yo(t,a,r,u),no=!1,a.state=c=t.memoizedState,co(t,r,a,i),d=t.memoizedState,s!==r||c!==d||li.current||no?("function"==typeof l&&(ho(t,n,l,r),d=t.memoizedState),(l=no||mo(t,n,s,r,c,d,u))?(p||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=u,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return ja(e,t,n,r,o,i)}function ja(e,t,n,r,i,o){Ia(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&vi(t,n,!1),qa(e,t,o);r=t.stateNode,Ca.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,s,o)):ka(e,t,s,o),t.memoizedState=r.state,i&&vi(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Oo(e,t.containerInfo)}var Fa,La,Ua,za={dehydrated:null,retryTime:0};function Va(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Do.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),si(Do,1&a),null===e){if(void 0!==o.fallback&&_a(t),s){if(s=o.fallback,(o=Pc(null,i,0,null)).return=t,0==(2&t.mode))for(o.child=e=null!==t.memoizedState?t.child.child:t.child;null!==e;)e.return=o,e=e.sibling;return(n=Pc(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=za,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=So(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Sc(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Sc(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=za,t.child=n,i}return n=_o(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Pc(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(o.child=e=null!==t.memoizedState?t.child.child:t.child;null!==e;)e.return=o,e=e.sibling;return(n=Pc(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=za,t.child=o,n}return t.memoizedState=null,t.child=_o(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),$i(e.return,t)}function Ha(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ka(e,t,r.children,n),0!=(2&(r=Do.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(si(Do,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ro(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ro(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ha(t,!0,n,null,o,t.lastEffect);break;case"together":Ha(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function qa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&ic(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Sc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)(n=n.sibling=Sc(e=e.sibling,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return hi(t.type)&&fi(),null;case 3:return Mo(),ai(li),ai(ui),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ta(t)||(t.effectTag|=4),null;case 5:Io(t),n=ko(Eo.current);var o=t.type;if(null!==e&&null!=t.stateNode)La(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=ko(Po.current),Ta(t)){o=t.type;var s=t.memoizedProps;switch((r=t.stateNode)[wn]=t,r[_n]=s,o){case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(e=0;e<Ke.length;e++)Gt(Ke[e],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"form":Gt("reset",r),Gt("submit",r);break;case"details":Gt("toggle",r);break;case"input":_e(r,s),Gt("invalid",r),an(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",r),an(n,"onChange");break;case"textarea":Me(r,s),Gt("invalid",r),an(n,"onChange")}for(var c in nn(o,s),e=null,s)if(s.hasOwnProperty(c)){var u=s[c];"children"===c?"string"==typeof u?r.textContent!==u&&(e=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(e=["children",""+u]):S.hasOwnProperty(c)&&null!=u&&an(n,c)}switch(o){case"input":Ae(r),Pe(r,s,!0);break;case"textarea":Ae(r),Ie(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=sn)}t.updateQueue=n=e,null!==n&&(t.effectTag|=4)}else{switch(c=9===n.nodeType?n:n.ownerDocument,e===on&&(e=De(o)),e===on?"script"===o?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(o,{is:r.is}):(e=c.createElement(o),"select"===o&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,o),e[wn]=t,e[_n]=r,Fa(e,t),t.stateNode=e,c=rn(o,r),o){case"iframe":case"object":case"embed":Gt("load",e),u=r;break;case"video":case"audio":for(u=0;u<Ke.length;u++)Gt(Ke[u],e);u=r;break;case"source":Gt("error",e),u=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),u=r;break;case"form":Gt("reset",e),Gt("submit",e),u=r;break;case"details":Gt("toggle",e),u=r;break;case"input":_e(e,r),u=we(e,r),Gt("invalid",e),an(n,"onChange");break;case"option":u=Ee(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},u=i({},r,{value:void 0}),Gt("invalid",e),an(n,"onChange");break;case"textarea":Me(e,r),u=Oe(e,r),Gt("invalid",e),an(n,"onChange");break;default:u=r}nn(o,u);var l=u;for(s in l)if(l.hasOwnProperty(s)){var p=l[s];"style"===s?en(e,p):"dangerouslySetInnerHTML"===s?null!=(p=p?p.__html:void 0)&&Be(e,p):"children"===s?"string"==typeof p?("textarea"!==o||""!==p)&&Fe(e,p):"number"==typeof p&&Fe(e,""+p):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?null!=p&&an(n,s):null!=p&&Q(e,s,p,c))}switch(o){case"input":Ae(e),Pe(e,r,!1);break;case"textarea":Ae(e),Ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ve(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?ke(e,!!r.multiple,n,!1):null!=r.defaultValue&&ke(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof u.onClick&&(e.onclick=sn)}mn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ua(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));n=ko(Eo.current),ko(Po.current),Ta(t)?(r=t.memoizedProps,(n=t.stateNode)[wn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[wn]=t,t.stateNode=n)}return null;case 13:return ai(Do),r=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ta(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Do.current)?Ts===vs&&(Ts=bs):(Ts!==vs&&Ts!==bs||(Ts=As),0!==Os&&null!==ws&&(Mc(ws,Ss),Nc(ws,Os)))),(n||r)&&(t.effectTag|=4),null);case 4:return Mo(),null;case 10:return Ji(t),null;case 17:return hi(t.type)&&fi(),null;case 19:if(ai(Do),null===(r=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=r.rendering)){if(o)Xa(r,!1);else if(Ts!==vs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ro(s))){for(t.effectTag|=64,Xa(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,o.dependencies=null===(s=e.dependencies)?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return si(Do,1&Do.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Ro(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Xa(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),r.rendering=n=r.tail,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Do.current,si(Do,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Ya(e){switch(e.tag){case 1:hi(e.type)&&fi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Mo(),ai(li),ai(ui),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Io(e),null;case 13:return ai(Do),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ai(Do),null;case 4:return Mo(),null;case 10:return Ji(e),null;default:return null}}function Za(e,t){return{value:e,source:t,stack:ye(t)}}Fa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},La=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,c,u=t.stateNode;switch(ko(Po.current),e=null,n){case"input":a=we(u,a),r=we(u,r),e=[];break;case"option":a=Ee(u,a),r=Ee(u,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Oe(u,a),r=Oe(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=sn)}for(s in nn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(c in u=a[s])u.hasOwnProperty(c)&&(n||(n={}),n[c]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(S.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==u&&(null!=l||null!=u))if("style"===s)if(u){for(c in u)!u.hasOwnProperty(c)||l&&l.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in l)l.hasOwnProperty(c)&&u[c]!==l[c]&&(n||(n={}),n[c]=l[c])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,null!=(l=l?l.__html:void 0)&&u!==l&&(e=e||[]).push(s,l)):"children"===s?u===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(S.hasOwnProperty(s)?(null!=l&&an(o,s),e||u===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),(t.updateQueue=o=e)&&(t.effectTag|=4)}},Ua=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Qa="function"==typeof WeakSet?WeakSet:Set;function Ja(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function $a(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(n){gc(e,n)}else t.current=null}function es(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ts(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ns(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{(n.tag&e)===e&&(n.destroy=(0,n.create)()),n=n.next}while(n!==t)}}function rs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ns(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:qi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&uo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}uo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&mn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Dt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function is(e,t,n){switch("function"==typeof Ac&&Ac(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Ui(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){gc(i,o)}}e=e.next}while(e!==r)}))}break;case 1:$a(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){gc(e,n)}}(t,n);break;case 5:$a(t);break;case 4:cs(e,t,n)}}function os(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&os(t)}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:{for(var t=e.return;null!==t;){if(as(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Fe(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||as(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=sn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var c=e,u=o,l=n,p=u;;)if(is(c,p,l),null!==p.child&&4!==p.tag)p.child.return=p,p=p.child;else{if(p===u)break e;for(;null===p.sibling;){if(null===p.return||p.return===u)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}i?(u=o.stateNode,8===(c=r).nodeType?c.parentNode.removeChild(u):c.removeChild(u)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(is(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function us(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ts(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[_n]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Se(n,r),rn(e,i),t=rn(e,r),i=0;i<o.length;i+=2){var s=o[i],c=o[i+1];"style"===s?en(n,c):"dangerouslySetInnerHTML"===s?Be(n,c):"children"===s?Fe(n,c):Q(n,s,c,t)}switch(e){case"input":Te(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?ke(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?ke(n,!!r.multiple,r.defaultValue,!0):ke(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Dt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ns=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=$t("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ls(t);case 19:return void ls(t);case 17:return}throw Error(a(163))}function ls(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=vc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=oo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ds||(Ds=!0,Rs=r),Ja(e,t)},n}function hs(e,t,n){(n=oo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return Ja(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===js?js=new Set([this]):js.add(this),Ja(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var fs,ms=Math.ceil,gs=Z.ReactCurrentDispatcher,ys=Z.ReactCurrentOwner,vs=0,bs=3,As=4,xs=0,ws=null,_s=null,Ss=0,Ts=vs,Ps=null,Cs=1073741823,Es=1073741823,ks=null,Os=0,Ms=!1,Ns=0,Is=null,Ds=!1,Rs=null,js=null,Bs=!1,Fs=null,Ls=90,Us=null,zs=0,Vs=null,Ws=0;function Hs(){return 0!=(48&xs)?1073741821-(Bi()/10|0):0!==Ws?Ws:Ws=1073741821-(Bi()/10|0)}function Gs(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Fi();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&xs))return Ss;if(null!==n)e=Gi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Gi(e,150,100);break;case 97:case 96:e=Gi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==ws&&e===Ss&&--e,e}function qs(e,t){if(50<zs)throw zs=0,Vs=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=Fi();1073741823===t?0!=(8&xs)&&0==(48&xs)?Qs(e):(Ys(e),0===xs&&Wi()):Ys(e),0==(4&xs)||98!==n&&99!==n||(null===Us?Us=new Map([[e,t]]):(void 0===(n=Us.get(e))||n>t)&&Us.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ws===i&&(ic(t),Ts===As&&Mc(i,Ss)),Nc(i,t)),i}function Ks(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Oc(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Ys(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Vi(Qs.bind(null,e));else{var t=Ks(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Hs();if(r=1073741823===t?99:1===t||2===t?95:0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){if(e.callbackExpirationTime===t&&e.callbackPriority>=r)return;n!==Oi&&xi(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Vi(Qs.bind(null,e)):zi(r,Zs.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function Zs(e,t){if(Ws=0,t)return Ic(e,t=Hs()),Ys(e),null;var n=Ks(e);if(0!==n){if(t=e.callbackNode,0!=(48&xs))throw Error(a(327));if(hc(),e===ws&&n===Ss||ec(e,n),null!==_s){var r=xs;xs|=16;for(var i=nc();;)try{ac();break}catch(c){tc(e,c)}if(Qi(),xs=r,gs.current=i,1===Ts)throw t=Ps,ec(e,n),Mc(e,n),Ys(e),t;if(null===_s)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ts,ws=null,r){case vs:case 1:throw Error(a(345));case 2:Ic(e,2<n?2:n);break;case bs:if(Mc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=uc(i)),1073741823===Cs&&10<(i=Ns+500-Bi())){if(Ms){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,ec(e,n);break}}if(0!==(o=Ks(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=yn(lc.bind(null,e),i);break}lc(e);break;case As:if(Mc(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=uc(i)),Ms&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,ec(e,n);break}if(0!==(i=Ks(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Es?r=10*(1073741821-Es)-Bi():1073741823===Cs?r=0:(r=10*(1073741821-Cs)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ms(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=yn(lc.bind(null,e),r);break}lc(e);break;case 5:if(1073741823!==Cs&&null!==ks){o=Cs;var s=ks;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Mc(e,n),e.timeoutHandle=yn(lc.bind(null,e),r);break}}lc(e);break;default:throw Error(a(329))}if(Ys(e),e.callbackNode===t)return Zs.bind(null,e)}}return null}function Qs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&xs))throw Error(a(327));if(hc(),e===ws&&t===Ss||ec(e,t),null!==_s){var n=xs;xs|=16;for(var r=nc();;)try{oc();break}catch(i){tc(e,i)}if(Qi(),xs=n,gs.current=r,1===Ts)throw n=Ps,ec(e,t),Mc(e,t),Ys(e),n;if(null!==_s)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ws=null,lc(e),Ys(e)}return null}function Js(e,t){var n=xs;xs|=1;try{return e(t)}finally{0===(xs=n)&&Wi()}}function $s(e,t){var n=xs;xs&=-2,xs|=8;try{return e(t)}finally{0===(xs=n)&&Wi()}}function ec(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,vn(n)),null!==_s)for(n=_s.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&fi();break;case 3:Mo(),ai(li),ai(ui);break;case 5:Io(r);break;case 4:Mo();break;case 13:case 19:ai(Do);break;case 10:Ji(r)}n=n.return}ws=e,_s=Sc(e.current,null),Ss=t,Ts=vs,Ps=null,Es=Cs=1073741823,ks=null,Os=0,Ms=!1}function tc(e,t){for(;;){try{if(Qi(),Bo.current=fa,Wo)for(var n=Uo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Lo=0,Vo=zo=Uo=null,Wo=!1,null===_s||null===_s.return)return Ts=1,Ps=t,_s=null;e:{var i=e,o=_s.return,a=_s,s=t;if(t=Ss,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!=(1&Do.current),p=o;do{var d;if(d=13===p.tag){var h=p.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var f=p.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!l)}}if(d){var m=p.updateQueue;if(null===m){var g=new Set;g.add(c),p.updateQueue=g}else m.add(c);if(0==(2&p.mode)){if(p.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=oo(1073741823,null);y.tag=2,ao(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var v=i.pingCache;if(null===v?(v=i.pingCache=new ps,s=new Set,v.set(c,s)):void 0===(s=v.get(c))&&(s=new Set,v.set(c,s)),!s.has(a)){s.add(a);var b=yc.bind(null,i,c,a);c.then(b,b)}p.effectTag|=4096,p.expirationTime=t;break e}p=p.return}while(null!==p);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==Ts&&(Ts=2),s=Za(s,a),p=o;do{switch(p.tag){case 3:c=s,p.effectTag|=4096,p.expirationTime=t,so(p,ds(p,c,t));break e;case 1:c=s;var A=p.stateNode;if(0==(64&p.effectTag)&&("function"==typeof p.type.getDerivedStateFromError||null!==A&&"function"==typeof A.componentDidCatch&&(null===js||!js.has(A)))){p.effectTag|=4096,p.expirationTime=t,so(p,hs(p,c,t));break e}}p=p.return}while(null!==p)}_s=cc(_s)}catch(x){t=x;continue}break}}function nc(){var e=gs.current;return gs.current=fa,null===e?fa:e}function rc(e,t){e<Cs&&2<e&&(Cs=e),null!==t&&e<Es&&2<e&&(Es=e,ks=t)}function ic(e){e>Os&&(Os=e)}function oc(){for(;null!==_s;)_s=sc(_s)}function ac(){for(;null!==_s&&!Mi();)_s=sc(_s)}function sc(e){var t=fs(e.alternate,e,Ss);return e.memoizedProps=e.pendingProps,null===t&&(t=cc(e)),ys.current=null,t}function cc(e){_s=e;do{var t=_s.alternate;if(e=_s.return,0==(2048&_s.effectTag)){if(t=Ka(t,_s,Ss),1===Ss||1!==_s.childExpirationTime){for(var n=0,r=_s.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}_s.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=_s.firstEffect),null!==_s.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=_s.firstEffect),e.lastEffect=_s.lastEffect),1<_s.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=_s:e.firstEffect=_s,e.lastEffect=_s))}else{if(null!==(t=Ya(_s)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=_s.sibling))return t;_s=e}while(null!==_s);return Ts===vs&&(Ts=5),null}function uc(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function lc(e){var t=Fi();return Ui(99,pc.bind(null,e,t)),null}function pc(e,t){do{hc()}while(null!==Fs);if(0!=(48&xs))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=uc(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ws&&(_s=ws=null,Ss=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=xs;xs|=32,ys.current=null,hn=Ht;var s=pn();if(dn(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else{var u=(c=(c=s.ownerDocument)&&c.defaultView||window).getSelection&&c.getSelection();if(u&&0!==u.rangeCount){c=u.anchorNode;var l=u.anchorOffset,p=u.focusNode;u=u.focusOffset;var d=0,h=-1,f=-1,m=0,g=0,y=s,v=null;e:for(;;){for(var b;y!==c||0!==l&&3!==y.nodeType||(h=d+l),y!==p||0!==u&&3!==y.nodeType||(f=d+u),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===s)break e;if(v===c&&++m===l&&(h=d),v===p&&++g===u&&(f=d),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}c=-1===h||-1===f?null:{start:h,end:f}}else c=null}c=c||{start:0,end:0}}else c=null;fn={activeElementDetached:null,focusedElem:s,selectionRange:c},Ht=!1,Is=i;do{try{dc()}catch(P){if(null===Is)throw Error(a(330));gc(Is,P),Is=Is.nextEffect}}while(null!==Is);Is=i;do{try{for(s=e,c=t;null!==Is;){var A=Is.effectTag;if(16&A&&Fe(Is.stateNode,""),128&A){var x=Is.alternate;if(null!==x){var w=x.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&A){case 2:ss(Is),Is.effectTag&=-3;break;case 6:ss(Is),Is.effectTag&=-3,us(Is.alternate,Is);break;case 1024:Is.effectTag&=-1025;break;case 1028:Is.effectTag&=-1025,us(Is.alternate,Is);break;case 4:us(Is.alternate,Is);break;case 8:cs(s,l=Is,c),os(l)}Is=Is.nextEffect}}catch(P){if(null===Is)throw Error(a(330));gc(Is,P),Is=Is.nextEffect}}while(null!==Is);if(w=fn,x=pn(),c=w.selectionRange,x!==(A=w.focusedElem)&&A&&A.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(A.ownerDocument.documentElement,A)){null!==c&&dn(A)&&(x=c.start,void 0===(w=c.end)&&(w=x),"selectionStart"in A?(A.selectionStart=x,A.selectionEnd=Math.min(w,A.value.length)):(w=(x=A.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),l=A.textContent.length,s=Math.min(c.start,l),c=void 0===c.end?s:Math.min(c.end,l),!w.extend&&s>c&&(l=c,c=s,s=l),l=ln(A,s),p=ln(A,c),l&&p&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==p.node||w.focusOffset!==p.offset)&&((x=x.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),s>c?(w.addRange(x),w.extend(p.node,p.offset)):(x.setEnd(p.node,p.offset),w.addRange(x))))),x=[];for(w=A;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof A.focus&&A.focus(),A=0;A<x.length;A++)(w=x[A]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ht=!!hn,fn=hn=null,e.current=n,Is=i;do{try{for(A=e;null!==Is;){var _=Is.effectTag;if(36&_&&rs(A,Is.alternate,Is),128&_){x=void 0;var S=Is.ref;if(null!==S){var T=Is.stateNode;switch(Is.tag){case 5:x=T;break;default:x=T}"function"==typeof S?S(x):S.current=x}}Is=Is.nextEffect}}catch(P){if(null===Is)throw Error(a(330));gc(Is,P),Is=Is.nextEffect}}while(null!==Is);Is=null,Ni(),xs=o}else e.current=n;if(Bs)Bs=!1,Fs=e,Ls=t;else for(Is=i;null!==Is;)t=Is.nextEffect,Is.nextEffect=null,Is=t;if(0===(t=e.firstPendingTime)&&(js=null),1073741823===t?e===Vs?zs++:(zs=0,Vs=e):zs=0,"function"==typeof bc&&bc(n.stateNode,r),Ys(e),Ds)throw Ds=!1,e=Rs,Rs=null,e;return 0!=(8&xs)||Wi(),null}function dc(){for(;null!==Is;){var e=Is.effectTag;0!=(256&e)&&es(Is.alternate,Is),0==(512&e)||Bs||(Bs=!0,zi(97,(function(){return hc(),null}))),Is=Is.nextEffect}}function hc(){if(90!==Ls){var e=97<Ls?97:Ls;return Ls=90,Ui(e,fc)}}function fc(){if(null===Fs)return!1;var e=Fs;if(Fs=null,0!=(48&xs))throw Error(a(331));var t=xs;for(xs|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ts(5,n),ns(5,n)}}catch(r){if(null===e)throw Error(a(330));gc(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return xs=t,Wi(),!0}function mc(e,t,n){ao(e,t=ds(e,t=Za(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Ys(e)}function gc(e,t){if(3===e.tag)mc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){mc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===js||!js.has(r))){ao(n,e=hs(n,e=Za(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Ys(n);break}}n=n.return}}function yc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ws===e&&Ss===n?Ts===As||Ts===bs&&1073741823===Cs&&Bi()-Ns<500?ec(e,Ss):Ms=!0:Oc(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Ys(e)))}function vc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(t=Gs(t=Hs(),e,null)),null!==(e=Xs(e,t))&&Ys(e)}fs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||li.current)Ea=!0;else{if(r<n){switch(Ea=!1,t.tag){case 3:Ba(t),Pa();break;case 5:if(No(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:hi(t.type)&&yi(t);break;case 4:Oo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,si(Xi,(i=t.type._context)._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Va(e,t,n):(si(Do,1&Do.current),null!==(t=qa(e,t,n))?t.sibling:null);si(Do,1&Do.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Ga(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),si(Do,Do.current),!r)return null}return qa(e,t,n)}Ea=!1}}else Ea=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=di(t,ui.current),eo(t,n),i=qo(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,hi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!=i.state?i.state:null,ro(t);var s=r.getDerivedStateFromProps;"function"==typeof s&&ho(t,r,s,e),i.updater=fo,t.stateNode=i,i._reactInternalFiber=t,vo(t,r,e,n),t=ja(null,t,r,!0,o,n)}else t.tag=0,ka(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(t.type=i=i._result,o=t.tag=function(e){if("function"==typeof e)return _c(e)?1:0;if(null!=e){if((e=e.$$typeof)===ce)return 11;if(e===pe)return 14}return 2}(i),e=qi(i,e),o){case 0:t=Da(null,t,i,e,n);break e;case 1:t=Ra(null,t,i,e,n);break e;case 11:t=Oa(null,t,i,e,n);break e;case 14:t=Ma(null,t,i,qi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.pendingProps,Da(e,t,r=t.type,i=t.elementType===r?i:qi(r,i),n);case 1:return i=t.pendingProps,Ra(e,t,r=t.type,i=t.elementType===r?i:qi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,io(e,t),co(t,r,null,n),(r=t.memoizedState.element)===i)Pa(),t=qa(e,t,n);else{if((i=t.stateNode.hydrate)&&(ba=bn(t.stateNode.containerInfo.firstChild),va=t,i=Aa=!0),i)for(n=So(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else ka(e,t,r,n),Pa();t=t.child}return t;case 5:return No(t),null===e&&_a(t),o=null!==e?e.memoizedProps:null,s=(i=t.pendingProps).children,gn(r=t.type,i)?s=null:null!==o&&gn(r,o)&&(t.effectTag|=16),Ia(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ka(e,t,s,n),t=t.child),t;case 6:return null===e&&_a(t),null;case 13:return Va(e,t,n);case 4:return Oo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):ka(e,t,r,n),t.child;case 11:return i=t.pendingProps,Oa(e,t,r=t.type,i=t.elementType===r?i:qi(r,i),n);case 7:return ka(e,t,t.pendingProps,n),t.child;case 8:case 12:return ka(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,s=t.memoizedProps,o=(i=t.pendingProps).value;var c=t.type._context;if(si(Xi,c._currentValue),c._currentValue=o,null!==s)if(0==(o=Rr(c=s.value,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,o):1073741823))){if(s.children===i.children&&!li.current){t=qa(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===c.tag&&((l=oo(n,null)).tag=2,ao(c,l)),c.expirationTime<n&&(c.expirationTime=n),null!==(l=c.alternate)&&l.expirationTime<n&&(l.expirationTime=n),$i(c.return,n),u.expirationTime<n&&(u.expirationTime=n);break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}ka(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,eo(t,n),r=r(i=to(i,o.unstable_observedBits)),t.effectTag|=1,ka(e,t,r,n),t.child;case 14:return o=qi(i=t.type,t.pendingProps),Ma(e,t,i,o=qi(i.type,o),r,n);case 15:return Na(e,t,t.type,t.pendingProps,r,n);case 17:return i=t.pendingProps,i=t.elementType===(r=t.type)?i:qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,hi(r)?(e=!0,yi(t)):e=!1,eo(t,n),go(t,r,i),vo(t,r,i,n),ja(null,t,r,!0,e,n);case 19:return Ga(e,t,n)}throw Error(a(156,t.tag))};var bc=null,Ac=null;function xc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function wc(e,t,n,r){return new xc(e,t,n,r)}function _c(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Sc(e,t){var n=e.alternate;return null===n?((n=wc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.dependencies=null===(t=e.dependencies)?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tc(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)_c(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Pc(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=wc(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ue:return(e=wc(13,n,t,i)).type=ue,e.elementType=ue,e.expirationTime=o,e;case le:return(e=wc(19,n,t,i)).elementType=le,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ce:s=11;break e;case pe:s=14;break e;case de:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=wc(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Pc(e,t,n,r){return(e=wc(7,e,r,t)).expirationTime=n,e}function Cc(e,t,n){return(e=wc(6,e,null,t)).expirationTime=n,e}function Ec(e,t,n){return(t=wc(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kc(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Oc(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Mc(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Nc(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ic(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Dc(e,t,n,r){var i=t.current,o=Hs(),s=lo.suspense;o=Gs(o,i,s);e:if(n){t:{if(Qe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(hi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(a(171))}if(1===n.tag){var u=n.type;if(hi(u)){n=gi(n,u,c);break e}}n=c}else n=ci;return null===t.context?t.context=n:t.pendingContext=n,(t=oo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ao(i,t),qs(i,o),o}function Rc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function jc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bc(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}function Fc(e,t,n){var r=new kc(e,t,n=null!=n&&!0===n.hydrate),i=wc(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,ro(i),e[Sn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);St.forEach((function(e){dt(e,t,n)})),Tt.forEach((function(e){dt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Lc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Uc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Rc(a);s.call(e)}}Dc(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Fc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=Rc(a);c.call(e)}}$s((function(){Dc(t,a,e,i)}))}return Rc(a)}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Lc(t))throw Error(a(200));return zc(e,t,null,n)}Fc.prototype.render=function(e){Dc(e,this._internalRoot,null,null)},Fc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Dc(null,e,null,(function(){t[Sn]=null}))},ht=function(e){if(13===e.tag){var t=Gi(Hs(),150,100);qs(e,t),Bc(e,t)}},ft=function(e){13===e.tag&&(qs(e,3),Bc(e,3))},mt=function(e){if(13===e.tag){var t=Hs();qs(e,t=Gs(t,e,null)),Bc(e,t)}},E=function(e,t,n){switch(t){case"input":if(Te(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=En(r);if(!i)throw Error(a(90));xe(r),Te(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&ke(e,!!n.multiple,t,!1)}},D=Js,R=function(e,t,n,r,i){var o=xs;xs|=4;try{return Ui(98,e.bind(null,t,n,r,i))}finally{0===(xs=o)&&Wi()}},j=function(){0==(49&xs)&&(function(){if(null!==Us){var e=Us;Us=null,e.forEach((function(e,t){Ic(t,e),Ys(t)})),Wi()}}(),hc())},B=function(e,t){var n=xs;xs|=2;try{return e(t)}finally{0===(xs=n)&&Wi()}};var Wc,Hc,Gc={Events:[Pn,Cn,En,P,_,Rn,function(e){nt(e,Dn)},N,I,Yt,ot,hc,{current:!1}]};Hc=(Wc={findFiberByHostInstance:Tn,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);bc=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(r){}},Ac=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}}(i({},Wc,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=et(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Hc?Hc(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gc,t.createPortal=Vc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return null===(e=et(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&xs))throw Error(a(187));var n=xs;xs|=1;try{return Ui(99,e.bind(null,t))}finally{xs=n,Wi()}},t.hydrate=function(e,t,n){if(!Lc(t))throw Error(a(200));return Uc(null,e,t,!0,n)},t.render=function(e,t,n){if(!Lc(t))throw Error(a(200));return Uc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Lc(e))throw Error(a(40));return!!e._reactRootContainer&&($s((function(){Uc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sn]=null}))})),!0)},t.unstable_batchedUpdates=Js,t.unstable_createPortal=function(e,t){return Vc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Lc(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Uc(e,t,n,!1,r)},t.version="16.14.0"},yqws:function(e,t){e.exports=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},i=1&r.flags[2],o=2&r.flags[2],a=8&r.flags[2],s=16&r.flags[2],c=32&r.flags[2],u=65536&r.flags[0],l=131072&r.flags[0];return t=8,i&&(t+=4,r.baseDataOffset=n.getUint32(12),t+=4),o&&(r.sampleDescriptionIndex=n.getUint32(t),t+=4),a&&(r.defaultSampleDuration=n.getUint32(t),t+=4),s&&(r.defaultSampleSize=n.getUint32(t),t+=4),c&&(r.defaultSampleFlags=n.getUint32(t)),u&&(r.durationIsEmpty=!0),!i&&l&&(r.baseDataOffsetIsMoof=!0),r}},zvmt:function(e,t,n){var r,i,o=n("lsHq"),a=n("mxIc").isArray;function s(e,t,n){return(!n&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function c(e,t,n){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,i,r));var o,a,c,u,l=[];for(o in e)e.hasOwnProperty(o)&&null!=e[o]&&(u=t.noQuotesForNativeAttributes&&"string"!=typeof e[o]?"":'"',a=(a=""+e[o]).replace(/"/g,"&quot;"),c="attributeNameFn"in t?t.attributeNameFn(o,a,i,r):o,l.push(t.spaces&&t.indentAttributes?s(t,n+1,!1):" "),l.push(c+"="+u+("attributeValueFn"in t?t.attributeValueFn(a,o,i,r):a)+u));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&l.push(s(t,n,!1)),l.join("")}function u(e,t,n){return r=e,i="xml",t.ignoreDeclaration?"":"<?xml"+c(e[t.attributesKey],t,n)+"?>"}function l(e,t,n){if(t.ignoreInstruction)return"";var o;for(o in e)if(e.hasOwnProperty(o))break;var a="instructionNameFn"in t?t.instructionNameFn(o,e[o],i,r):o;if("object"==typeof e[o])return r=e,i=a,"<?"+a+c(e[o][t.attributesKey],t,n)+"?>";var s=e[o]?e[o]:"";return"instructionFn"in t&&(s=t.instructionFn(s,o,i,r)),"<?"+a+(s?" "+s:"")+"?>"}function p(e,t){return t.ignoreComment?"":"\x3c!--"+("commentFn"in t?t.commentFn(e,i,r):e)+"--\x3e"}function d(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,i,r):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,i,r):e)+">"}function f(e,t){return t.ignoreText?"":(e=(e=(e=""+e).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,i,r):e)}function m(e,t,n){var r;for(r in e)if(e.hasOwnProperty(r))switch(r){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||n)return!0;break;case t.cdataKey:if(t.indentCdata||n)return!0;break;case t.instructionKey:if(t.indentInstruction||n)return!0;break;case t.doctypeKey:case t.commentKey:default:return!0}return!1}function g(e,t,n,o,a){r=e,i=t;var u="elementNameFn"in n?n.elementNameFn(t,e):t;if(null==e||""===e)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(t,e)||n.fullTagEmptyElement?"<"+u+"></"+u+">":"<"+u+"/>";var l=[];if(t){if(l.push("<"+u),"object"!=typeof e)return l.push(">"+f(e,n)+"</"+u+">"),l.join("");e[n.attributesKey]&&l.push(c(e[n.attributesKey],n,o));var p=m(e,n,!0)||e[n.attributesKey]&&"preserve"===e[n.attributesKey]["xml:space"];if(p||(p="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(t,e):n.fullTagEmptyElement),!p)return l.push("/>"),l.join("");l.push(">")}return l.push(y(e,n,o+1,!1)),r=e,i=t,t&&l.push((a?s(n,o,!1):"")+"</"+u+">"),l.join("")}function y(e,t,n,r){var i,o,c,y=[];for(o in e)if(e.hasOwnProperty(o))for(c=a(e[o])?e[o]:[e[o]],i=0;i<c.length;++i){switch(o){case t.declarationKey:y.push(u(c[i],t,n));break;case t.instructionKey:y.push((t.indentInstruction?s(t,n,r):"")+l(c[i],t,n));break;case t.attributesKey:case t.parentKey:break;case t.textKey:y.push((t.indentText?s(t,n,r):"")+f(c[i],t));break;case t.cdataKey:y.push((t.indentCdata?s(t,n,r):"")+d(c[i],t));break;case t.doctypeKey:y.push(s(t,n,r)+h(c[i],t));break;case t.commentKey:y.push(s(t,n,r)+p(c[i],t));break;default:y.push(s(t,n,r)+g(c[i],o,t,n,m(c[i],t)))}r=r&&!y.length}return y.join("")}e.exports=function(e,t){t=function(e){var t=o.copyOptions(e);return o.ensureFlagExists("ignoreDeclaration",t),o.ensureFlagExists("ignoreInstruction",t),o.ensureFlagExists("ignoreAttributes",t),o.ensureFlagExists("ignoreText",t),o.ensureFlagExists("ignoreComment",t),o.ensureFlagExists("ignoreCdata",t),o.ensureFlagExists("ignoreDoctype",t),o.ensureFlagExists("compact",t),o.ensureFlagExists("indentText",t),o.ensureFlagExists("indentCdata",t),o.ensureFlagExists("indentAttributes",t),o.ensureFlagExists("indentInstruction",t),o.ensureFlagExists("fullTagEmptyElement",t),o.ensureFlagExists("noQuotesForNativeAttributes",t),o.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),o.ensureKeyExists("declaration",t),o.ensureKeyExists("instruction",t),o.ensureKeyExists("attributes",t),o.ensureKeyExists("text",t),o.ensureKeyExists("comment",t),o.ensureKeyExists("cdata",t),o.ensureKeyExists("doctype",t),o.ensureKeyExists("type",t),o.ensureKeyExists("name",t),o.ensureKeyExists("elements",t),o.checkFnExists("doctype",t),o.checkFnExists("instruction",t),o.checkFnExists("cdata",t),o.checkFnExists("comment",t),o.checkFnExists("text",t),o.checkFnExists("instructionName",t),o.checkFnExists("elementName",t),o.checkFnExists("attributeName",t),o.checkFnExists("attributeValue",t),o.checkFnExists("attributes",t),o.checkFnExists("fullTagEmptyElement",t),t}(t);var n=[];return r=e,i="_root_",t.compact?n.push(y(e,t,0,!0)):(e[t.declarationKey]&&n.push(u(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&n.push(function e(t,n,o,a){return t.reduce((function(t,u){var m=s(n,o,a&&!t);switch(u.type){case"element":return t+m+function(t,n,o){r=t,i=t.name;var a=[],s="elementNameFn"in n?n.elementNameFn(t.name,t):t.name;a.push("<"+s),t[n.attributesKey]&&a.push(c(t[n.attributesKey],n,o));var u=t[n.elementsKey]&&t[n.elementsKey].length||t[n.attributesKey]&&"preserve"===t[n.attributesKey]["xml:space"];return u||(u="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(t.name,t):n.fullTagEmptyElement),u?(a.push(">"),t[n.elementsKey]&&t[n.elementsKey].length&&(a.push(e(t[n.elementsKey],n,o+1)),r=t,i=t.name),a.push(n.spaces&&function(e,t){var n;if(e.elements&&e.elements.length)for(n=0;n<e.elements.length;++n)switch(e.elements[n][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":default:return!0}return!1}(t,n)?"\n"+Array(o+1).join(n.spaces):""),a.push("</"+s+">")):a.push("/>"),a.join("")}(u,n,o);case"comment":return t+m+p(u[n.commentKey],n);case"doctype":return t+m+h(u[n.doctypeKey],n);case"cdata":return t+(n.indentCdata?m:"")+d(u[n.cdataKey],n);case"text":return t+(n.indentText?m:"")+f(u[n.textKey],n);case"instruction":var g={};return g[u[n.nameKey]]=u[n.attributesKey]?u:u[n.instructionKey],t+(n.indentInstruction?m:"")+l(g,n,o)}}),"")}(e[t.elementsKey],t,0,!n.length))),n.join("")}},zyNV:function(e,t){e.exports=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}}}}]);